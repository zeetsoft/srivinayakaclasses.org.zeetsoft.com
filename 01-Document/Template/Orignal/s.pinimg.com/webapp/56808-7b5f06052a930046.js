"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["56808"],{814369:function(e,t,s){var a=s(20256),o=s(86295),l=s(233519),n=s(475498),i=s(19585),r=s(87853),c=s(382718);t.Z=function(e){var t=e.text,s=e.page,d=e.tooltipText,_=e.accessibilityLabel,u=e.elementId,p=e.dangerouslySetSmallMarginTop,m=e.dangerouslySetSmallMarginBottom,h=(0,l.ZP)((0,l.QK)(s)),g=(0,r.dI)().showToast,y=(0,i.ZP)();return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:m||p?{__style:{marginTop:p,marginBottom:m,marginLeft:2}}:void 0,children:(0,c.jsx)(a.hU,{accessibilityLabel:_,icon:"copy-to-clipboard",iconColor:"gray",onClick:function(){navigator.clipboard.writeText(t),h({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"copy-to-clip-board-icon",element:"BUSINESS_ACCESS_BUTTON",elementId:u}),g(function(e){var t=e.hideToast;return(0,c.jsx)(n.Z,{duration:o.QE,onHide:t,text:y._('Copied!', '[m10n].bizAccess.copyToClipBoardIcon.toast', 'message in toast after text copied'),type:"success"})})},size:"xs",tooltip:{text:d,accessibilityLabel:_}})})}},707152:function(e,t,s){s.d(t,{O:function(){return a},i:function(){return o}});var a=Object.freeze({AD_ACCOUNT_ID:"AD_ACCOUNT_ID",BUSINESS_ID:"BUSINESS_ID",HIERARCHY_ID:"HIERARCHY_ID",TAG_ID:"TAG_ID",ASSET_GROUP_ID:"ASSET_GROUP_ID",AUDIENCE_ID:"AUDIENCE_ID",EMAIL:"EMAIL",OWNER_EMAIL:"OWNER_EMAIL",ADMIN_EMAIL:"ADMIN_EMAIL",CATALOG_ID:"CATALOG_ID"}),o=function(e,t){switch(e){case a.AD_ACCOUNT_ID:return{elementId:"copy-ad-account-id",accessibilityLabel:t._('Copy ad account ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.adAccount.a11y', 'a11y for icon button to copy ad account id'),tooltipText:t._('Copy ad account ID', '[m10n].bizAccess.copyToClipBoardIcon.adAccount', 'tooltip text for icon button to copy ad account id')};case a.BUSINESS_ID:return{elementId:"copy-business-id",accessibilityLabel:t._('Copy business ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.businessId.a11y', 'a11y for icon button to copy business id'),tooltipText:t._('Copy business ID', '[m10n].bizAccess.copyToClipBoardIcon.businessId', 'tooltip text for icon button to copy business id')};case a.HIERARCHY_ID:return{elementId:"copy-hierarchy-id",accessibilityLabel:t._('Copy hierarchy ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId.a11y', 'a11y for icon button to copy hierarchy id'),tooltipText:t._('Copy hierarchy ID', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId', 'tooltip text for icon button to copy hiearchy id')};case a.TAG_ID:return{elementId:"copy-tag-id",accessibilityLabel:t._('Copy tag ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.tag.a11y', 'a11y for icon button to copy tag id'),tooltipText:t._('Copy tag ID', '[m10n].bizAccess.copyToClipBoardIcon.tag', 'tooltip text for icon button to copy tag id')};case a.ASSET_GROUP_ID:return{elementId:"copy-asset-group-id",accessibilityLabel:t._('Copy asset group ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup.a11y', 'a11y for icon button to copy asset group id'),tooltipText:t._('Copy asset group ID', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup', 'tooltip text for icon button to copy asset group id')};case a.AUDIENCE_ID:return{elementId:"copy-audience-id",accessibilityLabel:t._('Copy ad audience ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.audience.a11y', 'a11y for icon button to copy audience id'),tooltipText:t._('Copy audience ID', '[m10n].bizAccess.copyToClipBoardIcon.audience', 'tooltip text for icon button to copy audience id')};case a.CATALOG_ID:return{elementId:"copy-catalog-id",accessibilityLabel:t._('Copy catalog ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.catalog.a11y', 'a11y for icon button to copy catalog id'),tooltipText:t._('Copy catalog ID', '[m10n].bizAccess.copyToClipBoardIcon.catalog', 'tooltip text for icon button to copy catalog id')};case a.EMAIL:return{elementId:"copy-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.email.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.email', 'tooltip text for icon button to copy email address')};case a.OWNER_EMAIL:return{elementId:"copy-owner-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner', 'tooltip text for icon button to copy email address')};case a.ADMIN_EMAIL:return{elementId:"copy-admin-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin', 'tooltip text for icon button to copy email address')};default:return{elementId:"",accessibilityLabel:"",tooltipText:""}}}},216849:function(e,t,s){var a=s(586659),o=s(581722),l=s(821342),n=s(122210),i=s(203975),r=s(464876);function c(e,t,s,a,o,l,n){try{var i=e[l](n),r=i.value}catch(e){return void s(e)}i.done?t(r):Promise.resolve(r).then(a,o)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}t.Z=function(e,t){var s,_=(0,o.v9)(i.ZP),u=(0,r.KJ)(),p=t||u,m=(e||_||[]).find(function(e){return e.id===p}),h=function(e){if(Array.isArray(e))return e}(s=(0,a.useState)(null))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,o,l,n,i=[],r=!0,c=!1;try{for(l=(s=s.call(e)).next;!(r=(a=l.call(s)).done)&&(i.push(a.value),2!==i.length);r=!0);}catch(e){c=!0,o=e}finally{try{if(!r&&null!=s.return&&(n=s.return(),Object(n)!==n))return}finally{if(c)throw o}}return i}}(s,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?d(e,2):void 0}}(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=h[0],y=h[1],b=(0,l.Z)(),A=b.isAuth?b.id:null;(0,a.useEffect)(function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p===A&&!g)){e.next=5;break}return e.next=3,(0,n.kY)({id:p});case 3:y(null==(t=e.sent)?void 0:t.data);case 5:case"end":return e.stop()}},e)}),function(){var t=this,s=arguments;return new Promise(function(a,o){var l=e.apply(t,s);function n(e){c(l,a,o,n,i,"next",e)}function i(e){c(l,a,o,n,i,"throw",e)}n(void 0)})})()},[p,A,g]);var f=(0,a.useMemo)(function(){return m?{isRmnBusinessV2:"rmn_or_brand_v2"in m&&"RMN"===m.rmn_or_brand_v2,isBrandBusinessV2:"rmn_or_brand_v2"in m&&"BRAND"===m.rmn_or_brand_v2}:{isRmnBusinessV2:(null==g?void 0:g.rmn_or_brand_v2)==="RMN",isBrandBusinessV2:(null==g?void 0:g.rmn_or_brand_v2)==="BRAND"}},[m,g]);return{isRmnBusinessV2:f.isRmnBusinessV2,isBrandBusinessV2:f.isBrandBusinessV2}}},40319:function(e,t,s){s.d(t,{Z:function(){return J}});var a=s(586659),o=s(581722),l=s(20256),n=s(86295),i=s(701831),r=s(233519),c=s(654937),d=s(744862),_=s(821342),u=s(19585),p=s(302148),m=s(761256),h=s(675973),g=s(15667),y=s(814369),b=s(707152),A=s(979658),f=s(216849),x=s(319839),S=s(952942),C=s(940410),P=s(464876),v=s(382718);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,o,l,n,i=[],r=!0,c=!1;try{if(l=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;r=!1}else for(;!(r=(a=l.call(s)).done)&&(i.push(a.value),i.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{if(!r&&null!=s.return&&(n=s.return(),Object(n)!==n))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?z(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function T(e){var t=e.catalog,s=(0,u.ZP)(),o=(0,P.HU)().setAssignCatalogModal,n=(0,a.useRef)(null),i=I((0,a.useState)(!1),2),r=i[0],c=i[1],d=(0,(0,h.Z)().checkExperiment)("web_m10n_system_user").anyEnabled;return(0,v.jsxs)(l.xu,{children:[(0,v.jsx)(l.zx,{ref:n,color:"red",iconEnd:"arrow-down",onClick:function(){c(!r)},selected:r,text:s._('Share access', '[m10n]businessAccess.catalogs.members.dropdown.label', 'members dropdown label')}),r&&(0,v.jsx)(l.Lt,{anchor:n.current,disableMobileUI:!0,id:"addPeopleMenu",onDismiss:function(){return c(!1)},children:(0,v.jsxs)(l.Lt.Section,{label:s._('Members', '[m10n]businessAccess.catalogs.members.dropdown.label', 'members dropdown label'),children:[(0,v.jsx)(l.Lt.Item,{onSelect:function(){o({restrictedAssignmentType:"EMPLOYEE",catalogFromProps:t})},option:{value:"addEmployees",label:s._('Employees', '[m10n]businessAccess.catalogs.employees.dropdown.label', 'employees dropdown label')}}),d&&(0,v.jsx)(l.Lt.Item,{onSelect:function(){o({restrictedAssignmentType:"SYSTEM_USER",catalogFromProps:t})},option:{value:"addSystemUsers",label:s._('System Users', '[m10n]businessAccess.catalogs.systemusers.dropdown.label', 'system users dropdown label')}})]})})]})}function j(e){var t,s=e.catalog,n=(0,u.ZP)(),i=(0,o.I0)(),r=(0,P.KJ)(),c=(0,a.useRef)(null),d=I((0,a.useState)(!1),2),_=d[0],p=d[1],m=(0,P.HU)().setAssignCatalogModal,g=(0,A.y)().openSheet,y=(0,o.v9)(C.BW),b=(0,o.v9)(C.ji),z=(0,o.v9)(C.Lp),T=r===s.owner.id,j="COLLABORATIVE"===s.resource_subtype,w=(null==(t=y[s.id])?void 0:t.rmn_or_brand)==="RMN",E=!!(b&&b.length>0),L=(0,x.Z)().inRmnFoundations,O=(0,f.Z)(),B=O.isRmnBusinessV2,D=O.isBrandBusinessV2,N=(0,h.Z)().checkExperiment,U=N("web_m10n_system_user").anyEnabled,R=N("business_access_rmn_catalog_sharing").anyEnabled,k=N("business_access_rmn_brand_agency_catalog_sharing").anyEnabled,Z=L&&R,M=D&&!T&&j&&w,H=Z&&T||L&&R&&k&&M,G=Z&&B&&T&&j,F=T||H,V=G&&E&&!z;return(0,v.jsxs)(l.xu,{children:[(0,v.jsx)(l.zx,{ref:c,color:"red",iconEnd:"arrow-down",onClick:function(){p(!_)},selected:_,text:n._('Share access', '[m10n]businessAccess.catalogs.members.dropdown.label', 'members dropdown label')}),_&&(0,v.jsxs)(l.Lt,{anchor:c.current,disableMobileUI:!0,id:"addPeopleMenu",onDismiss:function(){return p(!1)},children:[(0,v.jsx)(l.Lt.Section,{label:n._('Employees', '[m10n]businessAccess.catalogs.employees.dropdown.label', 'employees dropdown label'),children:(0,v.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-employees",onSelect:function(){m({restrictedAssignmentType:"EMPLOYEE",catalogFromProps:s})},option:{value:"addEmployees",label:n._('Assign employees', '[m10n]businessAccess.catalogs.employees.dropdown.label', 'employees dropdown label')}})}),F&&(0,v.jsxs)(l.Lt.Section,{label:n._('Partners', '[m10n]businessAccess.catalogs.partners.dropdown.section', 'partners dropdown section'),children:[H&&(0,v.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-agency-partners",onSelect:function(){m({restrictedAssignmentType:"PARTNER",catalogFromProps:s})},option:{value:"addAgencyPartners",label:n._('Assign agency partners', '[m10n]businessAccess.catalogs.agencyPartners.dropdown.label', 'partners dropdown label')}}),G&&(0,v.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-brand-partner",disabled:E||z,onSelect:function(){g("ASSIGN_ACCESS_FOR_CATALOG",{selectedCatalog:s,refreshData:function(){return i((0,S.ke)({businessId:r}))},type:"ASSIGN_ACCESS_FOR_CATALOG"})},option:{value:"addBrandPartner",label:n._('Assign brand partner', '[m10n]businessAccess.catalogs.brandPartner.dropdown.label', 'partners dropdown label')}}),V&&(0,v.jsx)(l.xu,{marginStart:3,children:(0,v.jsx)(l.xv,{color:"subtle",size:"200",children:n._('Already shared with a brand partner.', '[m10n]businessAccess.catalogs.brandPartner.subheader', 'brand partner assignment no allowed subheader')})}),!Z&&T&&(0,v.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-partners",onSelect:function(){m({restrictedAssignmentType:"PARTNER",catalogFromProps:s})},option:{value:"addPartners",label:n._('Assign partners', '[m10n]businessAccess.catalogs.partners.dropdown.label', 'partners dropdown label')}})]}),U&&(0,v.jsx)(l.Lt.Section,{label:n._('System Users', '[m10n]businessAccess.catalogs.systemusers.dropdown.section', 'systemusers dropdown section'),children:(0,v.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-system-users",onSelect:function(){m({restrictedAssignmentType:"SYSTEM_USER",catalogFromProps:s})},option:{value:"addSystemUsers",label:n._('Assign system users', '[m10n]businessAccess.catalogs.systemusers.dropdown.label', 'systemusers dropdown label')}})})]})]})}var w=s(178923),E=s(403713),L=s(989158),O=s(531709),B=s(853473),D=s(569331),N=s(648493),U=s(102378),R=s(16437),k=s(435739);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,o,l,n,i=[],r=!0,c=!1;try{if(l=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;r=!1}else for(;!(r=(a=l.call(s)).done)&&(i.push(a.value),i.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{if(!r&&null!=s.return&&(n=s.return(),Object(n)!==n))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?H(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function G(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function F(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?G(Object(s),!0).forEach(function(t){V(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function V(e,t,s){var a;return(a=function(e,t){if("object"!=Z(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=Z(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Z(a)?a:a+"")in e)?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function W(){var e=(0,u.ZP)();return(0,v.jsx)(l.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},height:"100%",rounding:4,width:"100%",children:(0,v.jsx)(l.kC,{alignItems:"center",direction:"column",gap:2,height:"100%",justifyContent:"center",children:(0,v.jsxs)(l.xu,{maxWidth:400,children:[(0,v.jsx)(l.xv,{align:"center",size:"300",children:e._('Assign access to this catalog by adding employees or partners', '[m10n].bizAccess.CatalogsNotEmpty.emptyState.title', 'Header saying that users can assign access by adding partners or employees')}),(0,v.jsx)(l.xv,{align:"center",color:"subtle",size:"200",children:e._('You can assign members Catalog admin or Catalog ad creator permission.', '[m10n].bizAccess.CatalogsNotEmpty.emptyState.description', 'Description explaining which permissions can be assigned to members')})]})})})}function Y(e){var t=e.selectedCatalogFromProps,s=e.isHierarchyDetailsUi,a=void 0!==s&&s,i=(0,(0,h.Z)().checkExperiment)("business_access_rmn_catalog_sharing").anyEnabled,m=(0,o.I0)(),A=(0,P.HU)().setRevokeCatalogAccessModal,f=(0,o.v9)(C.Rf),x=t||f,I=(0,_.Z)(),z=I.isAuth?I.id:"",T=(0,u.ZP)(),j=(0,P.KJ)(!!t),w=(0,r.ZP)("BUSINESS_ACCESS_CATALOGS"),E=(0,g.B)().locale,L=x.updated_time?(0,c.ZP)(E,new Date(x.updated_time),c.kH.LONG):"";if(!x||!x.owner)return null;var O=j!==x.owner.id,B={ACTIVE:T._('Active', '[m10n].bizAccess.CatalogsNotEmpty.activeStatus', 'text showing catalog is active'),INACTIVE:T._('Inactive', '[m10n].bizAccess.CatalogsNotEmpty.inactiveStatus', 'text showing catalog is inactive')};return x&&(0,v.jsxs)(l.xu,{direction:"row",display:"flex",justifyContent:"between",padding:4,children:[(0,v.jsxs)(l.kC,{alignItems:"center",gap:3,children:[(0,v.jsx)(d.qE,{accessibilityLabel:T._('catalog owner profile owner avatar image', '[m10n]businessAccess.catalogs.detail.avatar.a11y', 'accessiblity label for catalog owner avatar'),name:x.owner.name||"",size:"lg",src:x.owner.image_medium_url||""}),(0,v.jsxs)(l.kC,{direction:"column",gap:1,children:[(0,v.jsxs)(l.kC,{gap:1,children:[(0,v.jsx)(l.xv,{lineClamp:1,overflow:"breakAll",size:"400",weight:"bold",children:x.name}),O&&(0,v.jsx)(l.Ct,{text:T._('Shared with you', '[m10n]businessAccess.catalogs.detail.shared.badge', 'shared with you badge')})]}),(0,v.jsxs)(l.kC,{alignItems:"center",children:[(0,v.jsxs)(l.xv,{color:"subtle",size:"200",children:[T._('Catalog ID', '[m10n]businessAccess.catalogs.detail.id.label', 'catalog id label'),": ",x.id]}),(0,v.jsx)(y.Z,F({dangerouslySetSmallMarginBottom:.5,dangerouslySetSmallMarginTop:.5,page:n.Q6.CATALOGS,text:x.id},(0,b.i)(b.O.CATALOG_ID,T)))]}),(0,v.jsxs)(l.kC,{gap:1,children:[(0,v.jsxs)(l.kC,{gap:2,children:["ACTIVE"===x.status?(0,v.jsx)(l.qb,{type:"ok"}):(0,v.jsx)(l.JO,{accessibilityLabel:T._('catalog is inactive', '[m10n]businessAccess.catalog.detail.catalog.inactiveStatus.a11y', 'accessiblity label of icon that represents catalog is inactive'),color:"subtle",icon:"workflow-status-unstarted"}),(0,v.jsx)(l.xv,{color:"subtle",size:"200",children:"ACTIVE"===x.status?B.ACTIVE:B.INACTIVE})]}),a&&(0,v.jsx)(l.xv,{color:"subtle",size:"200",children:"•"}),a&&(0,v.jsx)(l.xv,{color:"subtle",size:"200",children:(0,p.nk)(T._('Last updated: {{lastUpdatedAt}}', '[m10n]businessAccess.catalog.detail.lastUpdated', 'last updated at time, lastUpdatedAt: time of last update'),{lastUpdatedAt:L})}),O&&(0,v.jsx)(l.xv,{color:"subtle",size:"200",children:"•"}),O&&(0,v.jsx)(l.xv,{color:"subtle",size:"200",children:(0,p.nk)(T._('Permissions granted: {{permissions}}', '[m10n]businessAccess.catalog.detail.permissions', 'text to show which permission have been granted, permissions: a list of permissions granted'),{permissions:x.permissions.map(function(e){return(0,k.e6)(T,!0)(e)})})})]})]})]}),(a||z===x.owner.id)&&(0,v.jsx)(l.xu,{direction:"column",display:"flex",justifyContent:"start",marginStart:4,children:(0,v.jsx)(l.ZP,{href:"/business/catalogs/".concat(x.id,"/product-groups/?subjectBusinessId=").concat(x.owner.id,"&actingBusinessId=").concat(j),iconEnd:"arrow-up-right",onClick:function(){w({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"visit-catalog-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"visit-catalog"})},text:a?T._('View catalog', '[m10n]businessAccess.catalog.detail.visit.catalog.button.hierarchy', 'Visit catalog manager button'):T._('Visit catalog manager', '[m10n]businessAccess.catalog.detail.visit.catalog.button', 'Visit catalog manager button')})}),i&&z!==x.owner.id&&(0,v.jsx)(l.xu,{direction:"column",display:"flex",justifyContent:"start",marginStart:4,children:(0,v.jsx)(l.zx,{onClick:function(){A({data:x,refreshData:function(){m((0,S.jk)({businessId:j,limit:n.xX}))},source:"BUSINESS_ACCESS_CATALOGS"}),w({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"catalog-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-catalog-access"})},text:T._('Remove access', '[m10n]businessAccess.catalog.detail.remove.access.button', 'Remove access button')})})]})}function q(e){var t,s=e.selectedCatalogFromProps,a=e.isHierarchyDetailsUi,n=(0,(0,h.Z)().checkExperiment)("business_access_rmn_catalog_sharing").anyEnabled,r=(0,o.v9)(C.Rf),d=s||r,_=(0,u.ZP)(),p=(0,g.B)().locale,m=d&&d.updated_time?(0,c.ZP)(p,new Date(d.updated_time),c.kH.LONG):_._('Pending', '[m10n]businessAccess.catalogs.detail.lastUpdatedAt.pending', 'catalog last updated at event label'),y=(null==d||null==(t=d.asset)?void 0:t.type)||d.type;return d&&d.owner&&(0,v.jsx)(l.xu,{padding:4,children:(0,v.jsxs)(l.kC,{children:[(0,v.jsxs)(l.xu,{marginEnd:2,width:"100%",children:[(0,v.jsx)(l.xv,{size:"200",weight:"bold",children:_._('Owner', '[m10n]businessAccess.catalogs.detail.owner.label', 'catalog owner name')}),(0,v.jsx)(l.xv,{lineClamp:1,overflow:"breakAll",size:"200",children:d.owner.full_name||d.owner.name})]}),(0,v.jsxs)(l.xu,{marginEnd:2,width:"100%",children:[(0,v.jsx)(l.xv,{size:"200",weight:"bold",children:_._('Type', '[m10n]businessAccess.catalogs.detail.type.label', 'catalog type')}),(0,v.jsx)(l.xv,{size:"200",children:n?(0,i.Ak)(_,d.type,d.resource_subtype):y.charAt(0)+y.substring(1).replaceAll("_"," ").toLowerCase()})]}),!(void 0!==a&&a)&&(0,v.jsxs)(l.xu,{width:"100%",children:[(0,v.jsx)(l.xv,{size:"200",weight:"bold",children:_._('Last updated at', '[m10n]businessAccess.catalogs.detail.lastUpdatedAt.label', 'catalog last updated at')}),(0,v.jsx)(l.xv,{size:"200",children:m})]})]})})}function J(e){var t,s=e.selectedCatalogFromProps,i=e.isHierarcyDetailsUi,r=void 0!==i&&i,c=M((0,a.useState)(0),2),d=c[0],_=c[1],p=(0,P.KJ)(!!s),g=(0,u.ZP)(),y=(0,o.I0)(),b=(0,o.v9)(C.Rf),A=s||b,f=(0,o.v9)(C.e_),x=(0,o.v9)(C.Hz),I=(0,o.v9)(C.ji),z=(0,o.v9)(C.fL),k=(0,o.v9)(C.Lp),Z=(0,o.v9)(C.ZF),H=M((0,a.useState)({permissionsUpdateToast:!1}),2),G=H[0],J=H[1],K=(0,h.Z)().checkExperiment,X=K("business_access_rmn_catalog_sharing").anyEnabled,Q=K("business_access_rmn_brand_agency_catalog_sharing").anyEnabled,$=A&&A.owner&&p!==A.owner.id,ee=[{href:"#",text:g._('Employees', '[m10n]businessAccess.catalogs.employees.tab.label', 'employees tab label')}];$||ee.push({href:"#",text:g._('Partners', '[m10n]businessAccess.catalogs.partners.tab.label', 'partners tab label')});var et=(x||[]).reduce(function(e,t){return F(F({},e),V({},t.id,t.permissions))},{}),es=(I||[]).reduce(function(e,t){return F(F({},e),V({},t.id,t.permissions))},{}),ea=[(0,N.Z)(g,{headerName:g._('Employee', '[m10].bizAccess.catalogsDetailsContent.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",showDescriptor:!0}),(0,D.Z)({businessCatalogAssignedPermissionsMap:$&&Z?V({},Z,A.permissions):void 0,catalogDetailPageId:Z,individualAssignedPermissionsMap:et,i18n:g,pageType:"CATALOGS",shouldShowToast:G,setShouldShowToast:J,updateCatalogPermission:function(e,t){Z&&y((0,R.Dh)({userId:e,permissions:t,adAccountId:Z,businessId:p,assignmentType:"PEOPLE"}))}}),(0,U.Z)("PEOPLE","CATALOG_PEOPLE","CATALOG")],eo=(0,a.useCallback)(function(e){var t=e||{},s=t.searchTerm,a=t.limit,o=t.page,l=F(F({searchTerm:s,businessId:p},a?{limit:a}:{}),o?{page:o}:{});y((0,S.ke)(l))},[y,p]),el=[(0,N.Z)(g,{headerName:g._('Partner Name', '[m10].bizAccess.catalogsDetailsContent.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",showDescriptor:!0}),(0,D.Z)({individualAssignedPermissionsMap:es,catalogDetailPageId:Z,i18n:g,pageType:"CATALOGS",shouldShowToast:G,setShouldShowToast:J,updateCatalogPermission:function(e,t){Z&&y((0,R.Dh)({userId:e,permissions:t,adAccountId:Z,businessId:p,assignmentType:"PARTNER"}))}}),(0,B.Z)(g,"PARTNER","REVOKE_CATALOG_PERMISSIONS",void 0,eo,"BUSINESS_ACCESS_CATALOGS")];(0,a.useEffect)(function(){var e,t;(null!=s&&s.id||null!=s&&null!=(e=s.asset)&&e.id)&&y((0,S.MI)(s.id||(null==(t=s.asset)?void 0:t.id)||""))},[null==s?void 0:s.id,y,null==s||null==(t=s.asset)?void 0:t.id]);var en=(0,a.useCallback)(function(e){var t=e.searchTerm,s=e.limit,a=e.page,o=F(F({searchTerm:t,businessId:p},s?{limit:s}:{}),a?{page:a}:{});y((0,S.VS)(o))},[y,p]);return((0,a.useEffect)(function(){Z&&(0===d?en({searchTerm:""}):eo({searchTerm:""}))},[Z,en,eo,d]),(0,m.Z)(A)&&!f)?(0,v.jsx)(w.q,{hideButtons:!0}):(0,v.jsxs)(l.kC,{direction:"column",height:"100%",width:"100%",children:[(0,v.jsx)(l.xu,{marginBottom:4,children:(0,v.jsx)(E.Z,{items:[(0,v.jsx)(Y,{isHierarchyDetailsUi:r,selectedCatalogFromProps:A},"catalogInfo"),(0,v.jsx)(q,{isHierarchyDetailsUi:r,selectedCatalogFromProps:A},"CatalogMetadata")]})}),(0,v.jsx)(l.kC.Item,{flex:"grow",children:(0,v.jsxs)(l.kC,{direction:"column",height:"100%",children:[(0,v.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:5,children:[(0,v.jsx)(l.mQ,{activeTabIndex:d,onChange:function(e){var t=e.activeTabIndex,s=e.event,a=e.dangerouslyDisableOnNavigation;s.preventDefault(),a(),_(t)},tabs:ee}),X&&Q?(0,v.jsx)(j,{catalog:A}):$?(0,v.jsx)(T,{catalog:A}):(0,v.jsx)(j,{catalog:A})]}),(0,v.jsx)(l.kC.Item,{flex:"grow",children:0===d?(0,v.jsx)(l.xu,{"data-test-id":"catalogs-employees",height:"100%",children:(0,v.jsx)(L.Z,{employees:null!=x?x:[],employeesColumnDefs:ea,employeesFetchData:en,employeesIsLoading:z,employeesTableConfiguration:{dataCurrentPageSelector:C.xv,dataPageSizeSelector:C.py,dataSearchTermSelector:C.Rs,dataTotalCountSelector:C.Ys},emptyState:(0,v.jsx)(W,{}),pageType:n.Q6.CATALOGS})}):(0,v.jsx)(l.xu,{"data-test-id":"catalogs-partners",height:"100%",children:(0,v.jsx)(O.Z,{emptyState:(0,v.jsx)(W,{}),pageType:n.Q6.CATALOGS,partners:null!=I?I:[],partnersColumnDefs:el,partnersFetchData:eo,partnersIsLoading:k,partnersTableConfiguration:{dataCurrentPageSelector:C.Ym,dataPageSizeSelector:C.TL,dataSearchTermSelector:C.T_,dataTotalCountSelector:C.nn}})})})]})})]})}},178923:function(e,t,s){s.d(t,{q:function(){return u}});var a=s(20256),o=s(233519),l=s(980787),n=s(19585),i=s(341742),r=s(304926),c=s(654974),d=s(464876),_=s(382718),u=function(e){var t=e.hideButtons,s=(0,n.ZP)(),l=(0,o.ZP)("BUSINESS_ACCESS_CATALOGS"),i=(0,d.KJ)(),c=(0,d.HU)().setRequestCatalogsGeneralModal,u={text:s._('Upload, organize and promote your products at scale', '[m10n]bizAccess.catalogs.tab.text', 'text of catalogs page'),subText:s._('Create a catalog to share access with your employees and partners, or request access to a partner\u2019s catalog', '[m10n]bizAccess.catalogs.tab.subText', 'subtext of catalogs page'),createCatalogButtonText:s._('Create catalog', '[m10n]bizAccess.createCatalog.button.text', 'text of button to redirect to catalogs page'),requestCatalogButtonText:s._('Request catalog access', '[m10n]bizAccess.requestCatalog.button.text', 'text to of button to request catalog access')};return(0,_.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:"100%",children:(0,_.jsxs)(a.xu,{"data-test-id":"catalogsPage",children:[(0,_.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",maxHeight:300,maxWidth:300,children:(0,_.jsx)(a.Ee,{alt:s._('Empty catalogs state', '[m10n]bizAccess.catalogs.emptyState.image', 'Alternate text for icon that shows a thread'),color:"#FFF",naturalHeight:1,naturalWidth:1,src:r})}),(0,_.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",width:500,children:[(0,_.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:u.text}),(0,_.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",width:420,children:(0,_.jsx)(a.xv,{align:"center",color:"subtle",size:"200",children:u.subText})}),!(void 0!==t&&t)&&(0,_.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:2,justifyContent:"center",children:[(0,_.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:function(){c({}),l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"catalogs-page-empty",element:"BUSINESS_ACCESS_BUTTON",elementId:"catalogs-page-empty-request-catalog"})},text:u.requestCatalogButtonText}),(0,_.jsx)(a.ZP,{color:"red",fullWidth:!0,href:"/business/catalogs/data-sources/?subjectBusinessId=".concat(i),iconEnd:"arrow-up-right",onClick:function(){l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"catalogs-page-empty",element:"BUSINESS_ACCESS_BUTTON",elementId:"catalogs-page-empty-create-catalog"})},text:u.createCatalogButtonText})]})]})]})})};t.Z=function(){var e=(0,n.ZP)(),t=(0,l.u)().logContextEvent;(0,i.Z)(function(){t({view_type:465,view_parameter:3985,event_type:13,component:14931,aux_data:{component_id:"catalogs-page-empty"}})});var s={title:e._('Catalogs', '[m10n]bizAccess.catalogds.tab.title', 'title of catalogs page')},a=e._('View, create and manage your catalogs, or access catalogs shared with you', '[m10n]businessAccess.catalogs.info.tooltip', 'catalogs page info tooltip'),o=e._('Catalogs info icon', '[[m10n]bizAccess.catalogs.info.icon', 'Accessibility label for catalogs info icon');return(0,_.jsx)(c.Z,{content:(0,_.jsx)(u,{}),pageProps:{title:s.title,infoTooltip:{iconLabel:o,toolTipLabel:a}}})}},966445:function(e,t,s){var a=s(20256),o=s(382718);t.Z=function(e){var t=e.title,s=e.subtitle,l=e.iconLabel,n=e.onClick,i=e.toolTipLabel,r=e.gap;return(0,o.jsxs)(a.xu,{marginBottom:2,children:[(0,o.jsxs)(a.kC,{alignItems:"center",gap:r||1,height:"100%",justifyContent:"start",width:"100%",children:[(0,o.jsx)(a.X6,{size:"600",children:t}),(0,o.jsx)(a.xu,{"data-test-id":"tooltip-button-trigger",children:(0,o.jsx)(a.hU,{accessibilityLabel:l,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:n,size:"xs",tooltip:{text:i,accessibilityLabel:i}})})]}),s&&(0,o.jsx)(a.xv,{size:"300",children:s})]})}},654974:function(e,t,s){s.d(t,{Z:function(){return i}});var a=s(20256),o=s(18468),l=s(966445),n=s(382718);function i(e){var t=e.pageProps,s=e.pageTitle,i=e.content,r=t||{},c=r.title,d=void 0===c?"":c,_=r.infoTooltip,u=r.onClick,p=_||{},m=p.iconLabel,h=p.toolTipLabel;return(0,n.jsxs)(a.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!s&&(0,n.jsx)(a.xu,{marginBottom:4,marginStart:2,children:(0,n.jsx)(a.X6,{size:"600",children:s})}),!!d&&(0,n.jsx)(a.xu,{marginBottom:4,marginStart:2,children:(0,n.jsx)(l.Z,{gap:0,iconLabel:void 0===m?"":m,onClick:u,title:d,toolTipLabel:void 0===h?"":h})}),(0,n.jsx)(a.kC,{minHeight:"calc(100vh - 169px)",width:"100%",children:(0,n.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},flex:"grow",minWidth:940,paddingX:2,paddingY:4,rounding:4,width:"grow",children:i})})]})}},621868:function(e,t,s){s.d(t,{Z:function(){return n}});var a=s(20256),o=s(18468),l=s(382718);function n(e){var t,s,n=e.pageProps,i=e.sidebarContent,r=e.mainContent,c=e.fitToWindow,d=e.style,_="calc(100vh - 169px)",u=n||{},p=u.title,m=u.infoTooltip;return(0,l.jsxs)(a.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!p&&(0,l.jsxs)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"start",marginBottom:4,marginStart:2,width:"100%",children:[(0,l.jsx)(a.kC.Item,{flex:m?void 0:"grow",children:(0,l.jsx)(a.X6,{size:"600",children:p})}),m&&(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(a.hU,{accessibilityLabel:m.accessibilityLabel,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:m.onClick,size:"xs",tooltip:m.text?{text:m.text,accessibilityLabel:m.text}:void 0})})]}),(0,l.jsxs)(a.kC,{height:c?_:void 0,minHeight:c?void 0:_,overflow:c?"hidden":"visible",width:"100%",children:[(0,l.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},height:c?"100%":void 0,marginEnd:2,minWidth:280,overflow:c?"hidden":"visible",paddingX:2,paddingY:4,rounding:4,width:280,children:i}),(0,l.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},display:null==d||null==(t=d.content)?void 0:t.display,flex:"grow",minWidth:660,paddingY:4,rounding:4,width:"grow",children:(0,l.jsxs)(a.xu,{display:null==d||null==(s=d.content)?void 0:s.display,flex:c?void 0:"grow",height:c?"100%":void 0,overflow:c?"auto":"visible",paddingX:4,children:[r,(0,l.jsx)(a.xu,{height:2})]})})]})]})}},989158:function(e,t,s){var a=s(20256),o=s(19585),l=s(868033),n=s(269855),i=s(248903),r=s(382718);function c(){var e=(0,o.ZP)();return(0,r.jsx)(i.Z,{description:e._('You can manage employee permissions to your assets and tools', '[m10n]EmployeesTable.emptyState.description', 'Description explaining what you can do on this page'),header:e._('Your employee list will appear here', '[m10n]EmployeesTable.emptyState.title', 'Header explaining where employees will go once added'),image:(0,r.jsx)(a.Ee,{alt:e._('Example of employees', '[m10n]EmployeesTable.emptyState.image', 'Alternate text for image that shows an example of employees'),color:"#FFF",naturalHeight:186,naturalWidth:305,src:l})})}t.Z=function(e){var t=e.pageType,s=e.employees,a=e.employeesIsLoading,l=e.employeesFetchData,i=e.employeesColumnDefs,d=e.employeesTableConfiguration,_=e.employeesOnRowClick,u=e.emptyState,p=(0,o.ZP)();return(0,r.jsx)(n.Z,{columnDefs:i,currentPageSelector:null==d?void 0:d.dataCurrentPageSelector,data:s,emptyState:u||(0,r.jsx)(c,{}),fetchData:null!=l?l:function(){},isLoading:a,onRowClick:_,pageSizeSelector:null==d?void 0:d.dataPageSizeSelector,pageType:t,searchPlaceholder:p._('Search employees', '[m10n]EmployeesTable.search.internal', 'Placeholder text to hint user to search for employees by name or email'),searchTermSelector:null==d?void 0:d.dataSearchTermSelector,totalCountSelector:null==d?void 0:d.dataTotalCountSelector})}},531709:function(e,t,s){var a=s(20256),o=s(19585),l=s(868033),n=s(269855),i=s(248903),r=s(382718);function c(){var e=(0,o.ZP)();return(0,r.jsx)(i.Z,{description:e._('Invite this partner to access your ad accounts and tools', '[m10n]PartnerTable.emptyState.emptyState.description', 'Header suggesting inviting businesses to access your ad accounts and tools'),header:e._('Your partners list will appear here', '[m10n]PartnerTable.emptyState.title', 'Header explaining where partners will go once added'),image:(0,r.jsx)(a.Ee,{alt:e._('Key and lock icon representing requesting access', '[m10n]PartnerTable.emptyState.emptyState.image', 'Alternate text for icon that shows a key and lock'),color:"#FFF",naturalHeight:186,naturalWidth:305,src:l})})}t.Z=function(e){var t=e.pageType,s=e.partners,a=e.partnersIsLoading,l=e.partnersFetchData,i=e.partnersColumnDefs,d=e.partnersTableConfiguration,_=e.partnersOnRowClick,u=e.emptyState,p=(0,o.ZP)();return(0,r.jsx)(n.Z,{columnDefs:i,currentPageSelector:null==d?void 0:d.dataCurrentPageSelector,data:s,emptyState:u||(0,r.jsx)(c,{}),fetchData:null!=l?l:function(){},isLoading:a,onRowClick:_,pageSizeSelector:null==d?void 0:d.dataPageSizeSelector,pageType:t,searchPlaceholder:p._('Search partners', '[m10n]PartnerTable.search', 'Placeholder text to hint user to search for employees by name, username, or business ID'),searchTermSelector:null==d?void 0:d.dataSearchTermSelector,totalCountSelector:null==d?void 0:d.dataTotalCountSelector})}},102378:function(e,t,s){var a=s(304632),o=s(948839),l=s(382718);t.Z=function(e,t,s,n){return{field:"remove_account_permissions",headerName:void 0,minWidth:o.I.columnWidths.sm,TableCellComponent:function(o){var i=o.data;return(0,l.jsx)(a.Z,{assignmentType:e,data:i,dataToRefresh:t,resourceType:s,targetingRmnBusinessId:n})},justifying:"center",onHoverOnly:!0}}},304926:function(e){e.exports="https://s.pinimg.com/webapp/empty-state-audience-sharing-ad-accounts-04ca0a81.png"},868033:function(e){e.exports="https://s.pinimg.com/webapp/empty-state-employees-2x-c07e3ea2.png"}}]);