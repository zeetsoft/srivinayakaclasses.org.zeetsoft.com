"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["5427"],{618916:function(e,t,n){n.r(t);var r,o,i,a,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},a],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};l.hash="0b5f077c08e31de36594b6918e128d12",t.default=l;var s=l.default||l;if("query"===s.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(s);else{let e=[s.params.name,s.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=s}},938742:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="6bb1a587f71f85424aa51845831862d4",t.default=r},297180:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="3caf9424c2af74d2b11a6ea682b57d1b",t.default=r},588032:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};r.hash="18c3db3fbed169f50cffd214f66ddd8e",t.default=r},430138:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};r.hash="f12c153dafdb70970e02775ea0db67c2",t.default=r},416054:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="76215b7b40cb02e76b77e58c8765d0d1",t.default=r},146550:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};r.hash="56f620fbd63abf8f7cb32f9a378198f8",t.default=r},731127:function(e,t,n){n.r(t);var r,o,i=(o=[r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"AdvisoryAction",abstractKey:null});i.hash="6ddea2ecd3dff2e1001c1e4d037cc858",t.default=i},437533:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};r.hash="5879c4710b107f258f42156bf3e47e37",t.default=r},811026:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};r.hash="4970946a36017d9ad0c751fd70cc512c",t.default=r},827222:function(e,t,n){n.r(t);var r,o,i,a=(o=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i=[r],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[r,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});a.hash="53d7eec34666980eda011429185b5b10",t.default=a},451508:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="d928a4e793c8e81567357b1faa71d2e3",t.default=r},810730:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};r.hash="1a4583782792fbfe92015cb2dbe50f70",t.default=r},973220:function(e,t,n){n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="bfa270bf437ef1e9195cafe07b0b3631",t.default=o},13697:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};r.hash="58c24e25a76e7a1c4533f3b07f490517",t.default=r},384592:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};r.hash="616d5be8fea6092b51f23b548a1a5dca",t.default=r},301056:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinPane_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};r.hash="4435ca5e135b834ea8a6425f68eb2f7a",t.default=r},684148:function(e,t){t.Z=2},538688:function(e,t,n){var r=n(586659);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=null,a=!1,l=0,s=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},c=function(){0===l&&window.addEventListener("scroll",s),l+=1},u=function(){(l-=1)||window.removeEventListener("scroll",s)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1],l=(0,r.useRef)(null);(0,r.useEffect)(function(){return c(),function(){l.current&&clearTimeout(l.current),u()}},[]);var s=function e(t){l.current&&clearTimeout(l.current),l.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:n,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}).current}}},822377:function(e,t,n){n.d(t,{Z:function(){return H}});var r,o,i,a,l=n(586659),s=n(980787),c=n(675973),u=n(15667),d=n(647709),f=n(341742),p=n(187440);n(492996);var y=n(20256),h=n(28427),b=n(521009),m=n(47426),v=n(532611),g=n(306274),_=n(382718);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=(void 0!==r||(r=n(731127)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==r.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function S(e){var t,n=e.auxData,r=e.actionKey,o=e.alignCenter,i=(0,h.Z)(O,r),a=(0,b.Z)(),s=(0,d.HG)(),c=i.title,u=i.description,f=i.button,p=null==f?void 0:f.text,j=null==c?void 0:c.text,x=null==u?void 0:u.text,S=null!=(t=null==f?void 0:f.link)?t:"",w=S.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),k=p&&S.startsWith("http"),C=(0,m.Z)({url:S}),I=k&&C?"nofollow":"none";return(null==n?void 0:n.advisory_type)===g.Uv?(0,_.jsx)(l.Fragment,{children:(0,_.jsxs)(y.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!j&&(0,_.jsx)(y.xv,{align:"start",weight:"bold",children:j}),!!x&&(0,_.jsx)(y.xv,{align:"start",children:x}),(0,_.jsx)(y.ZP,{color:"white",href:S,onClick:function(){(0,v.qA)({auxData:P(P({},n),{},{url:S}),isDesktop:s,logContextEvent:a})},rel:I,text:p||"Visit"})]})}):k?(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(y.xu,{marginBottom:1,children:(0,_.jsx)(y.xv,{align:o?"center":"start",weight:"bold",children:""!==p?p:"Visit"})}),(0,_.jsx)(y.xu,{marginBottom:1,children:(0,_.jsx)(y.rU,{href:S,onClick:function(){(0,v.qA)({logContextEvent:a,auxData:P(P({},n),{},{url:S}),isDesktop:s})},rel:I,children:(0,_.jsx)(y.xv,{align:o?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:w})})})]}):(0,_.jsxs)(l.Fragment,{children:[!!j&&(0,_.jsx)(y.xu,{marginBottom:1,children:(0,_.jsx)(y.xv,{align:o?"center":"start",weight:"bold",children:j})}),!!x&&(0,_.jsx)(y.xu,{marginBottom:1,children:(0,_.jsx)(y.xv,{align:o?"center":"start",children:x})})]})}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=(void 0!==o||(o=n(811026)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==o.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function T(e){for(var t=e.text,n=e.textTags,r=e.auxData,o=(0,b.Z)(),i=(0,d.HG)(),a=[],l=0,s=0;s<n.length;s+=1){var c=n[s];5===c.tagType&&c.link&&function(){var e=c.offset,n=c.length,s=c.link;if(null!=e&&null!=n&&null!=s){var u=t.substring(e,e+n),d=(0,_.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(y.rU,{display:"inlineBlock",href:s,onClick:function(){(0,v.qA)({logContextEvent:o,auxData:C(C({},r),{},{url:s}),isDesktop:i})},target:"blank",underline:"hover",children:u},u)});a.push((0,_.jsx)("span",{children:t.substring(l,e)})),a.push(d),l=e+n}}()}return(l>0&&a.push((0,_.jsx)("span",{children:t.substring(l)})),0===a.length)?[(0,_.jsx)("span",{children:t})]:a}function A(e){var t=e.auxData,n=e.textTagKey,r=e.text,o=(0,h.Z)(I,n);return(0,_.jsx)(T,{auxData:t,text:r,textTags:o})}var E=[4,14],R={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},B={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},D=(void 0!==i||(i=n(437533)).hash&&"5879c4710b107f258f42156bf3e47e37"!==i.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function z(e){var t=e.auxData,n=e.advisory,r=e.inModal,o=e.noticeKey,i=(0,h.Z)(D,o),a=i.title,l=i.description,s=i.actions,c=!!(null!=s&&s.length)&&((null==t?void 0:t.advisory_type)===g.Uv||!!n&&E.includes(n)),u=(null==s?void 0:s.length)===1,d=l&&l.text||"";return(0,_.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:r?B:R},padding:6,rounding:2,children:[!!a&&!r&&(0,_.jsx)(y.xu,{display:"flex",marginBottom:2,children:(0,_.jsx)(y.X6,{size:"600",children:a})}),!!d&&(null==l?void 0:l.textTags)!=null&&(0,_.jsx)(y.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,_.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,_.jsx)(y.xv,{align:r?"center":"start",overflow:"normal",children:(0,_.jsx)(A,{auxData:t,text:d,textTagKey:l.textTags})})})}),c&&(0,_.jsx)(y.xu,{direction:r?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:null==s?void 0:s.map(function(e){return(0,_.jsx)(y.xu,{column:r||u?12:6,paddingX:2,paddingY:1,children:(0,_.jsx)(S,{actionKey:e,alignCenter:r||u,auxData:t})},e.actionId)})})]})}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L=(void 0!==a||(a=n(827222)).hash&&"53d7eec34666980eda011429185b5b10"!==a.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function N(e){var t,n,r,o,i,a=e.auxData,l=e.noticeKey,s=(0,h.Z)(L,l),c=(0,b.Z)(),u=(0,d.HG)(),f={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,_.jsxs)(y.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,_.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,_.jsxs)(y.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,_.jsx)("span",{style:f,children:(null==(t=s.description)?void 0:t.textTags)&&(0,_.jsx)(A,{text:(null==(n=s.description)?void 0:n.text)||"",textTagKey:s.description.textTags})}),(0,_.jsx)(y.xu,{marginTop:6,children:(null!=(r=s.actions)?r:[]).map(function(e){var t,n,r,o,i=null==(t=e.button)?void 0:t.link;return i&&i.startsWith("tel")?(0,_.jsxs)(y.xu,{children:[(0,_.jsx)("span",{style:K({fontWeight:"600"},f),children:null==(n=e.title)?void 0:n.text}),(0,_.jsx)("span",{style:f,children:null==(r=e.description)?void 0:r.text})]}):(0,_.jsx)(y.rU,{href:i||"",onClick:function(){(0,v.qA)({logContextEvent:c,auxData:K(K({},a),{},{url:i||"",isLegoNotice:!0}),isDesktop:u})},children:(0,_.jsx)(y.xu,{display:"inlineBlock",children:(0,_.jsx)(y.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,_.jsx)(y.xv,{color:"inverse",weight:"bold",children:(null==(o=e.button)?void 0:o.text)||""})})})})})})]})}),!!s.footer&&(0,_.jsx)(y.xu,{paddingY:2,width:540,children:(0,_.jsx)(y.rU,{display:"inlineBlock",href:null!=(o=s.footer.link)?o:"",onClick:function(){var e,t;(0,v.qA)({logContextEvent:c,auxData:K(K({},a),{},{url:null!=(e=null==(t=s.footer)?void 0:t.link)?e:"",isLegoNotice:!0}),isDesktop:u})},target:"blank",underline:"hover",children:(0,_.jsx)(y.xv,{align:"center",color:"subtle",size:"100",children:(0,_.jsx)("div",{dangerouslySetInnerHTML:{__html:null!=(i=s.footer.text)?i:""}})})},s.footer.link)})]})}var M=n(603316);function H(e){var t,n,r,o,i,a,y,h,b,m,v,g=e.boardId,j=e.isOwnBoard,x=e.boardName,P=e.boardSectionId,O=e.notices,S=e.query,w=e.sensitivity,k=e.viewParameter,C=e.viewType,I=e.inModal;n=(t={advisoryDetails:null==w?void 0:w.advisory_details,boardId:g,boardSectionId:P,query:S,sensitivity:{advisory:null==w?void 0:w.advisory,severity:null==w?void 0:w.severity},viewParameter:k,viewType:C}).advisoryDetails,r=t.boardId,o=t.boardName,i=t.boardSectionId,a=t.query,y=t.sensitivity,h=t.viewParameter,b=t.viewType,m=(0,s.u)().logContextEvent,v=(0,d.HG)(),(0,f.Z)(function(){b&&(m({aux_data:{entered_query:a,advisory_details:n,advisory_level:null==y?void 0:y.advisory,severity_level:null==y?void 0:y.severity,advisory_type:null==y?void 0:y.advisory_type,resource_country:null==y?void 0:y.resource_country},component:13367,event_type:120,view_parameter:h,view_type:b}),(0,M.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:null==y?void 0:y.advisory,advisory_type:null==y?void 0:y.advisory_type,app:v?"DESKTOP_WEB":"MOBILE_WEB",resource_country:null==y?void 0:y.resource_country,placement:5===b?"board":"search"}})),r&&5===b&&m({aux_data:{board_name:o,board_id:r,board_section_id:null!=i?i:0},component:178,event_type:15549,view_parameter:h,view_type:b})});var T=(0,c.Z)().checkExperiment,A=(0,u.B)(),E={advisory_level:(null==w?void 0:w.advisory)||null,severity_level:(null==w?void 0:w.severity)||null,advisory_type:(null==w?void 0:w.advisory_type)||"",stage:A.stage,resource_country:(null==w?void 0:w.resource_country)||"",entered_query:S||""};if(T("ps_board_advisories_ui_refresh").anyEnabled){var R=j?4173:4174;return(0,_.jsx)(l.Fragment,{children:null==O?void 0:O.map(function(e){return(0,_.jsx)(p.Z,{boardId:g,boardName:x,boardSectionId:P,notice:e,objectType:P?164:5,sensitivity:w,viewParameter:P?R:k,viewType:P?164:5},e.id)})})}return(0,_.jsx)(l.Fragment,{children:null==O?void 0:O.map(function(e){return 2===e.style?(0,_.jsx)(N,{auxData:E,noticeKey:{type:"Legacy",data:e}},e.id):(0,_.jsx)(z,{advisory:null==w?void 0:w.advisory,inModal:I,noticeKey:{type:"Legacy",data:e}},e.id)})})}},306274:function(e,t,n){n.d(t,{IR:function(){return o},St:function(){return r},Uv:function(){return a},Uz:function(){return i}});var r={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return!!e&&e.severity===o.ABUSIVE}var a="THIRD_PARTY_TL"},810814:function(e,t,n){var r=n(586659),o=n(20256),i=n(19585),a=n(765533),l=n(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var m=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&d(i,e);var t,n,r=(t=p(),function(){var e,n=y(i);return e=t?Reflect.construct(n,arguments,y(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return h(f(e=r.call.apply(r,[this].concat(n))),"setInputRef",function(t){t&&(e._input=t)}),h(f(e),"handleKeyDown",function(t){var n=t.event,r=e.props,o=r.disabled,i=r.indexManager;if(!o)switch(n.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:n.preventDefault(),i.select();break;case a.Z.UP:n.preventDefault(),i.prev();break;case a.Z.DOWN:n.preventDefault(),i.next()}}),e}return n=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value;return(0,l.jsx)(o.xu,{"data-test-id":"picker-search-field-container",role:"presentation",width:"100%",children:(0,l.jsx)(o.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){return t(e.value)},onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:n})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);t.Z=function(e){var t=(0,i.ZP)();return(0,l.jsx)(m,u(u({},e),{},{i18n:t}))}},562247:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(586659),o=n(20256),i=n(19585),a=n(799608),l=n(928053),s=n(810814),c=n(341570),u=n(313760),d=n(508696),f=n(382718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var x=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&b(i,e);var t,n,r=(t=v(),function(){var e,n=g(i);return e=t?Reflect.construct(n,arguments,g(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return _(m(e=r.call.apply(r,[this].concat(n))),"state",{searchQuery:""}),_(m(e),"handleSelectItem",function(t){var n=e.props,r=n.onCreate,o=n.onSelected;!t&&r?r(e.state.searchQuery):t&&o(t),(r||t)&&e.setState({searchQuery:""})}),_(m(e),"handleSearchQueryInput",function(t){e.setState({searchQuery:t})}),_(m(e),"renderSectionHeader",function(e){return e.title?(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingX:3,paddingY:1,children:(0,f.jsx)(o.xv,{size:"200",children:e.title})})}):null}),_(m(e),"renderRow",function(t){var n=t.item,r=t.hovered,o=t.sectionProps,i=e.props,a=i.boardSavedTo,l=i.isSelectMode,s=i.disabledRowId,u=e.state.searchQuery,d=(void 0===o?{}:o).inSectionSelection,p=void 0!==d&&d,y=a&&a.board===n.id?a&&a.state:null,h="board_section"===n.type;return(0,f.jsx)(c.Z,{disabled:n.id===s&&p,isSection:h,isSelectMode:l,isWithinSectionPicker:p,item:n,saveState:y,searchQuery:u,selected:r})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.createButtonLabel,r=e.hasLowBoardCount,i=e.getSections,c=e.isLoaded,p=e.onCreate,y=e.pinId;if(!c)return(0,f.jsx)(o.xu,{paddingY:5,children:(0,f.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});var h=this.state.searchQuery,b=i(h);return this.indexManager=new a.Z(b.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!r&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,f.jsx)(s.Z,{disabled:!!t,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:h})})}),(0,f.jsx)(l.Z,{disabled:!!t,grow:!r&&!h,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:b}),p&&(0,f.jsx)(o.xu,{borderStyle:b.length>1?"shadow":"none",children:(0,f.jsx)(d.Z,{buttonLabel:n,hasHoverState:!0,name:h,onClick:function(){return p(h)}})}),r&&p&&y&&(0,f.jsx)(u.Z,{onBoardSelected:p,pinId:y})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function P(e){var t=(0,i.ZP)();return(0,f.jsx)(x,h(h({},e),{},{i18n:t}))}},443962:function(e,t,n){n.d(t,{j:function(){return a}});var r={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},o=function(e){if(!e)return"";for(var t="",n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},i=function(e,t){for(var n=t.split(" "),r=e.split(" "),i=0,a=0;a<r.length;a+=1)(o(r[a]).includes(n[i])||r[a].includes(n[i]))&&(i+=1);return i===n.length},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=t.toLowerCase();return e.filter(function(e){return i(e[n].toLowerCase(),r)})}},111879:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(586659),o=n(159527);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var f=function(e,t){var n=e.scrollTop,r=e.clientHeight,o=e.scrollHeight;return n+r+(t?t(r):2*r)>o},p=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");p.prototype=Object.create(e&&e.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),e&&a(p,e);var t,n,r=(t=s(),function(){var e,n=c(p);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function p(){var e;if(!(this instanceof p))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return u(l(e=r.call.apply(r,[this].concat(n))),"setContainerRef",function(t){e.containerRef=t}),u(l(e),"fetchMoreIfNecessary",(0,o.Z)(function(){var t=e.props,n=t.fetchMore,r=t.scrollBuffer;n&&e.containerRef&&f(e.containerRef,r)&&n()},200)),e}return n=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(p.prototype,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.PureComponent)},247354:function(e,t,n){var r=n(20256),o=n(411544),i=n(494904),a=n(382718),l=function(e){var t=e.collaborator_count,n=e.useLegoLayout,o=e.type;return n?(0,a.jsx)(r.xu,{marginEnd:2*!!t,children:(0,a.jsx)(i.Z,{type:o})}):(0,a.jsx)(i.Z,{type:o})};t.Z=function(e){var t,n=e.board,s=e.showCollaborativeIcon,c=e.showPrivateIcon,u=e.showProtectedIcon,d=e.showSectionsIcon,f=e.useLegoLayout,p=(null==n||null==(t=n.collaborating_users)?void 0:t.length)||0;return s||c||u||d?(0,a.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!f,children:[c&&(0,a.jsx)(l,{collaborator_count:p,type:"secret",useLegoLayout:f}),u&&(0,a.jsx)(l,{collaborator_count:p,type:"protected",useLegoLayout:f}),s&&(f?(0,a.jsx)(o.Z,{board:n,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(i.Z,{type:"group"})),d&&(0,a.jsx)(i.Z,{type:"sections"})]}):null}},288489:function(e,t,n){var r=n(20256),o=n(382718);t.Z=function(e){var t=e.image_url,n=e.naturalHeight,i=e.naturalWidth;return(0,o.jsx)(r.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,o.jsx)(r.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,o.jsx)(r.Ee,{alt:"",naturalHeight:n,naturalWidth:i,src:t})})})}},799608:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=a(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Z:function(){return u}});var l={row:0,section:0},s={row:-1,section:-1},c=function(){},u=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.index=i({},l),this.sections=e,this.updateCallback=c,this.selectItem=c}return e=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,n=e.section;return 0===t&&0===n}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,n=e.section,r=this.sections[n]||[];return this.sections.length===n+1&&r.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,n=e.section;t===s.row&&n===s.section?this.index=i({},l):this.sections[n].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,n=e.section;if(t===s.row&&n===s.section)this.index=i({},l);else if(t>0)this.index.row-=1;else{var r=this.index.section-1;this.index={section:r,row:this.sections[r].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,n=e.section;this.selectItem((this.sections[n]||[])[t])}},{key:"setInactive",value:function(){this.index=i({},s),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},928053:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(586659),o=n(20256),i=n(111879),a=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var y=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");y.prototype=Object.create(e&&e.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),e&&s(y,e);var t,n,r=(t=u(),function(){var e,n=d(y);return e=t?Reflect.construct(n,arguments,d(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function y(e){if(!(this instanceof y))throw TypeError("Cannot call a class as a function");f(c(t=r.call(this,e)),"setSelectedItemRef",function(e){t.selectedItemRef=e}),f(c(t),"handleIndexUpdate",function(e){var n=t.props.indexManager;t.setState({selectedIndex:n.getIndex(),selectionMovedByKeyboard:!!e})}),f(c(t),"handleSelectItem",function(e){return function(){var n=t.props,r=n.disabled,o=n.onSelectItem;r||o(e)}}),f(c(t),"handleMouseEnter",function(e){return function(){var n=t.props,r=n.disabled,o=n.indexManager;r||o.updateIndex(e)}}),f(c(t),"handleMouseLeave",function(){var e=t.props,n=e.disabled,r=e.indexManager;n||r.setInactive()}),f(c(t),"renderItems",function(e,n){var r=t.props.renderItem,i=t.state.selectedIndex||{},l=i.row,s=i.section,c=e.customProps,u=void 0===c?{}:c,d=e.items,f=e.renderItem,p=u.isDisabled,y=n===s,h=f||r;return h&&d.map(function(e,r){var i,s=null!=(i=null==p?void 0:p(e))&&i,c=y&&r===l;return(0,a.jsx)(o.xu,{ref:!s&&c?t.setSelectedItemRef:null,"data-test-id":"board-selection",children:s?h({item:e,hovered:c,sectionProps:u}):(0,a.jsx)(o.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter({section:n,row:r}),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:h({item:e,hovered:c,sectionProps:u})})},r)})}),f(c(t),"renderSections",function(){var e=t.props,n=e.renderSectionHeader;return e.sections.map(function(e,r){return(0,a.jsxs)(o.xu,{children:[n&&n(e,r),t.renderItems(e,r)]},r)})});var t,n=t.props.indexManager;return t.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(t.handleIndexUpdate),t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=this.selectedItemRef;if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),o=r.top,i=r.bottom,a=t.getBoundingClientRect(),l=a.top;i>=a.bottom?n.scrollIntoView(!1):o<=l&&n.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.grow,r=void 0!==n&&n,l=t.maxHeight,s=t.fetchMore;return(0,a.jsx)(i.Z,{fetchMore:s,children:function(t){var n=t.setRef,i=t.onScroll;return(0,a.jsx)(o.xu,{ref:function(t){e.containerRef=t,n(t)},flex:r?"grow":void 0,height:r?"100%":void 0,maxHeight:l,onScroll:i,overflow:"auto",children:e.renderSections()})}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}(y.prototype,n),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component)},422790:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(20256),o=n(382718),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(r.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:i,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l(e){var t=e.disabled,n=e.name,i=e.onClick,l=e.size,s=e.submitting,c=e.text;return(0,o.jsxs)(r.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[s&&(0,o.jsx)(a,{}),(0,o.jsx)(r.zx,{color:"red",disabled:t||s,name:n,onClick:i,size:l,text:c,type:"submit"})]})}},283034:function(e,t,n){n.d(t,{Z:function(){return z}});var r,o,i=n(586659);n(492996);var a=n(20256),l=n(28427),s=n(19585),c=n(302148),u=n(382718);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}var v=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],g=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},_=function(e){return Math.PI/180*e},j=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&f(o,e);var t,n,r=(t=y(),function(){var e,n=h(o);return e=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return b(p(e=r.call.apply(r,[this].concat(n))),"animationTimer",null),b(p(e),"canvasRemovalTimer",null),b(p(e),"containerRef",(0,i.createRef)()),b(p(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=e.containerRef.current.getBoundingClientRect(),n=t.height,r=t.width,o=2.5*n,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="".concat(0-(o-r)/2,"px"),i.style.top="".concat(0-(o-n)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(o,"px"),i.style.height="".concat(o,"px"),i.style.overflow="visible",i.width=o,i.height=o,i}),b(p(e),"explode",function(){var t=e.buildCanvas(),n=e.containerRef.current;if(t&&n){var r=t.getContext("2d");n.prepend(t);var o=Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(g(10,30)),color:v[Math.floor(Math.random()*v.length)],degree:Number(g(0,360).toFixed(1)),speed:Math.round(g(0,25)),friction:.9,opacity:Number(g(0,.5).toFixed(1)),yVel:0,gravity:.04}});r&&function e(t,n,r,o){window.requestAnimationFrame(function(){return e(t,n,r,o)}),n.clearRect(0,0,r,o),t.forEach(function(e){e.x+=e.speed*Math.cos(_(e.degree)),e.y+=e.speed*Math.sin(_(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(o,r,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){n.removeChild(t)},(e.props.delay||0)+800)}}),e}return n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,o=e.startAnimation;r&&o!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,u.jsx)(a.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.PureComponent);b(j,"defaultProps",{delay:0});var x=["pinKey","shuffleAssetKey"];function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}var E=(void 0!==r||(r=n(588032)).hash&&"18c3db3fbed169f50cffd214f66ddd8e"!==r.hash&&console.error("The definition of 'BoardCreateSuccess_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),R=(void 0!==o||(o=n(430138)).hash&&"f12c153dafdb70970e02775ea0db67c2"!==o.hash&&console.error("The definition of 'BoardCreateSuccess_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),B=function(e,t,n,r){var o,i,a,l,s,c={},u=null==(o=n.current)?void 0:o.getBoundingClientRect(),d=null==(i=t.current)?void 0:i.getBoundingClientRect(),f=null==(a=r.current)?void 0:a.getBoundingClientRect();if(d&&u&&f){c={left:u.left-d.left,top:u.top-d.top};var p={x:f.left-u.left,y:f.top-u.top},y={x:(f.width-u.width)/2,y:(f.height-u.height)/2};l="translate(".concat(p.x,"px, ").concat(p.y,"px)"),s="translate(".concat(y.x,"px, ").concat(y.y,"px)")}return{mask:{position:"absolute",left:c.left,top:c.top,width:e?null==f?void 0:f.width:null==u?void 0:u.width,height:e?null==f?void 0:f.height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?l:"none",transform:e?l:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==u?void 0:u.width,height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},D=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&w(o,e);var t,n,r=(t=C(),function(){var e,n=I(o);return e=t?Reflect.construct(n,arguments,I(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return T(k(e=r.call.apply(r,[this].concat(n))),"state",{isInitialized:!1}),T(k(e),"containerRef",(0,i.createRef)()),T(k(e),"pinDestinationRef",(0,i.createRef)()),e}return n=[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){var e=this.state.isInitialized,t=this.props.onDismiss;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}},{key:"render",value:function(){var e,t,n,r,o,l=this.props,s=l.pin,d=l.firstRepin,f=l.pinImageRef,p=l.selectedBoardName,y=l.shuffleAsset,h=null!=(e=null==y?void 0:y.cutoutImages)?e:null==s?void 0:s.imageSpec_236x,b=null!=(t=null==s?void 0:s.description)?t:"",m=null!=(n=null==h?void 0:h.height)?n:1,v=null!=(r=null==h?void 0:h.width)?r:1,g=null!=(o=null==h?void 0:h.url)?o:"",_=this.state.isInitialized,x=B(_,this.containerRef,f,this.pinDestinationRef),P=x.mask,O=x.imageContainer;return(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)(a.xu,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:P},maxHeight:335,overflow:"hidden",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:O},children:(0,u.jsx)(a.Ee,{alt:b,naturalHeight:m,naturalWidth:v,src:g})})}),(0,u.jsx)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!_,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}},left:!0,position:"absolute",right:!0,top:!0,children:(0,u.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:+!!_,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,u.jsx)(j,{delay:1250,startAnimation:_,children:(0,u.jsx)(a.zd,{height:180,rounding:2,width:270,children:(0,u.jsxs)(a.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,u.jsx)(a.xu,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,u.jsx)(a.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,u.jsx)(a.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!_,WebkitTransform:_?"translateY(0)":"translateY(20%)",transform:_?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"}},"data-test-id":"board-saved-heading",paddingX:2,children:(0,u.jsx)(a.X6,{align:"center",children:d?(0,c.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:null!=p?p:""}):(0,c.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:null!=p?p:""})})})]})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.PureComponent);function z(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,x),o=(0,s.ZP)(),i=(0,l.Z)(E,t),a=(0,l.Z)(R,n);return(0,u.jsx)(D,S(S({},r),{},{i18n:o,pin:i,shuffleAsset:a}))}T(D,"defaultProps",{firstRepin:!1})},411544:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(20256),o=n(821342),i=n(19585),a=n(302148),l=n(382718);function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t,n,r,o,i,a=null!=(t=null!=(n=null==e?void 0:e.imageMediumUrl)?n:null==e?void 0:e.image_medium_url)?t:"",l=null!=(r=null==e?void 0:e.avatar_color_index)?r:void 0;return{name:null!=(o=null!=(i=null==e?void 0:e.fullName)?i:null==e?void 0:e.full_name)?o:"",color:l,src:"https://s.pinimg.com/images/user/default_75.png"===a?void 0:a}}function d(e){var t,n,c,d,f,p=e.board,y=e.forceViewer,h=e.isCompact,b=e.ownerOnly,m=(0,i.ZP)(),v=(0,o.Z)(),g=b?[u(null==p?void 0:p.owner)]:(function(e,t,n){var r=null!=e?e:{},o=r.collaborated_by_me,i=r.collaborating_users,a=r.owner,l=null!=i?i:[],c=[a];if(o||n){var u=l.findIndex(function(e){return t.isAuth&&e.id===t.id});if(-1!==u){var d=l.splice(u,1)[0];c.push(d)}else c.push(t)}var f=s(l).sort(function(e,t){var n,r,o,i;return(null!=(n=e.full_name)?n:"")>(null!=(r=t.full_name)?r:"")?1:(null!=(o=t.full_name)?o:"")>(null!=(i=e.full_name)?i:"")?-1:0});return[].concat(c,s(f))})(p,v,y).map(u),_=g.slice(0,3).map(function(e){return e.name}),j="";switch(g.length){case 3:j=(0,a.Wc)("".concat(m._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(null!=(t=_[0])?t:""),second:"".concat(null!=(n=_[1])?n:""),last:"".concat(null!=(c=_[2])?c:"")});break;case 2:j=(0,a.Wc)("".concat(m._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(null!=(d=_[0])?d:""),second:"".concat(null!=(f=_[1])?f:"")});break;default:j=_.join(", ")}var x=g.length>3?(0,a.Wc)(", ".concat(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', g.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')),{userNames:j,leftCount:"".concat(g.length-3)}):(0,a.Wc)(", ".concat(m._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:j});return(0,l.jsx)(r.HE,{accessibilityLabel:x,collaborators:g,size:h?"xs":"sm"})}},889229:function(e,t,n){function r(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function o(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}n.d(t,{HG:function(){return o},OQ:function(){return i},hd:function(){return r}});var i=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}}},816676:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(575108),o=n(72918),i=n(74105),a=n(889229),l=n(189976),s=n(831786),c=n(696323);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e,t,n,f){var p=e.boardId,y=e.sourceBoardId,h=void 0===y?"":y,b=e.sourceSectionId,m=void 0===b?"":b,v=e.name,g=e.nameSource,_=e.pinImport,j=e.initialPinIds,x=0;"RECOMMENDATION"===g?x=1:"EDITED_RECOMMENDATION"===g&&(x=2);var P=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({board_id:p,initial_pins:_&&!_.all?_.pinIds:void 0===j?[]:j,name:v,name_source:x},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return r.Z.create("BoardSectionResource",P).callCreate({showError:!1}).then(function(r){var u=r.resource_response.data;f({event_type:7100,object_id_str:u.id}),e((0,a.hd)(p,u)),e((0,l.vX)({feedId:p,feedType:c.Z.BOARD_SECTIONS,itemIds:[u.id],itemType:"boardsection"})),e((0,i.Z)(p,"pin_count")),e((0,o.jB)("BoardSectionsRepinResource",{board_id:p,orbac_subject_id:n}));var d=_||{all:!1,pinIds:[]},y=d.all,b=d.pinIds;return y?new Promise(function(n,r){return e((0,s.Z)({inverseSelection:!0,selectedPinIds:b,source:{boardId:h||p,sectionId:m||null},target:{boardId:p,sectionId:u.id}},t)).then(function(){return n(u)}).catch(r)}):(b.length>0&&e((0,l.EX)({feedId:p,feedType:c.Z.BOARDFEED,itemIds:b,itemType:"pin"})),u)})}}},74105:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(536652);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return(0,r.U)("BoardResource",{options:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({board_id:e,field_set_key:t},n?{orbac_subject_id:n}:{})})}},831786:function(e,t,n){n.d(t,{S:function(){return p},Z:function(){return y}});var r=n(575108),o=n(74105),i=n(225013),a=n(189976),l=n(686231),s=n(696323),c=n(697063),u=function(e){return function(t){c.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},d=function(e){return(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId)};function f(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t((0,o.Z)(n.boardId,"pin_count")),t((0,o.Z)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,o.Z)(r.boardId,"pin_count")),n.sectionId&&t((0,i.Z)(n.sectionId)),r.sectionId&&t((0,i.Z)(r.sectionId))}function p(e){return function(t){var n=e.selectedPinIds,r=e.source,o=e.target;t((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),n.forEach(function(e){t((0,l.Vp)({pinId:e,boardId:o.boardId,sectionId:o.sectionId||void 0,title:o.name||""}))}),f(e,t)}}function y(e,t){return function(n){var o=e.selectedPinIds,i=e.target;return o.forEach(function(e){n((0,l.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),(function(e,t,n){var o=e.inverseSelection,i=e.selectedPinIds,l=e.source,c=e.target,f=e.orbacSubjectId;if(l.boardId===c.boardId&&(l.sectionId||null)===(c.sectionId||null))return Promise.reject();if(o){var p={board_id:l.boardId,new_board_id:c.boardId,old_section_id:l.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([t(d(l)),t(d(c))])}).catch(u(n))}var y=function(e,n){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};y(l,c);var h=function(){return y(c,l)};if(c.boardId===l.boardId)if(c.sectionId){var b={section_id:c.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionEditResource",b).callUpdate({showError:!1}).catch(function(e){h(),u(n)(e)})}else{var m={section_id:l.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionPinsResource",m).callDelete({showError:!1}).catch(function(e){h(),u(n)(e)})}var v={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditResource",v).callUpdate({showError:!1}).catch(function(e){h(),u(n)(e)})})(e,n,t).then(function(){return f(e,n)})}}},341570:function(e,t,n){n.d(t,{W:function(){return u}});var r=n(20256),o=n(918920),i=n(19585),a=n(247354),l=n(288489),s=n(494904),c=n(382718);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce(function(n,r){if(n.length>0&&e&&e.length){var o=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(t.substring(o,o+e.length),r)}return[r]},[]):t}t.Z=function(e){var t,n,d,f,p,y,h=(0,i.ZP)(),b=e.disabled,m=e.item,v=e.isSection,g=e.isSelectMode,_=e.isWithinSectionPicker,j=e.saveState,x=e.searchQuery,P=e.selected,O=v?null:m,S=v?m:null,w=S&&S.title||O&&O.name||"",k="",C=!1,I="",T=0;if(O){k=O.image_cover_url,C=O.is_collaborative,I=O.privacy;var A=O.section_count;T=void 0===A?0:A}var E=u(x,w),R=I===o.ZP.BoardPrivacy.SECRET,B=!b&&(P||!!j),D=!_&&"number"==typeof T&&T>0,z="number"==typeof T&&T>0?"boardWithSection":"boardWithoutSection",Z=g?h._('Select', 'Board select button label', 'Board select button label'):h._('Save', 'Pin save button label', 'Pin save button label');return(0,c.jsxs)(r.xu,{alignItems:"center",color:B?"secondary":"default","data-test-id":z,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[O&&(0,c.jsx)(r.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:k&&(0,c.jsx)(r.Ee,{alt:h._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:k})}),S&&!!(null!=(t=S.preview_pins)&&t.length)&&(0,c.jsx)(l.Z,{image_url:null!=(n=S.preview_pins[0].image_square_url)?n:"",naturalHeight:null!=(d=null==(f=S.preview_pins[0].image_square_size_pixels)?void 0:f.height)?d:1,naturalWidth:null!=(p=null==(y=S.preview_pins[0].image_square_size_pixels)?void 0:y.width)?p:1}),(0,c.jsxs)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,c.jsx)(r.xv,{color:b?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:E}),(D||!B)&&(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[R&&(0,c.jsx)(s.Z,{type:"secret"}),C&&(0,c.jsx)(a.Z,{board:O,showCollaborativeIcon:C,useLegoLayout:!0}),D&&(0,c.jsx)(s.Z,{type:"sections"})]}),!D&&B&&!j&&(0,c.jsx)(r.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,c.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:Z})}),!D&&B&&"loading"===j&&(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,c.jsx)(r.xH,{accessibilityLabel:h._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},494904:function(e,t,n){var r=n(20256),o=n(19585),i=n(382718);t.Z=function(e){var t=e.type,n=(0,o.ZP)(),a={group:{accessibilityLabel:n._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:n._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:n._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:n._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:n._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}}[t],l="sections"===t||"sectionsInline"===t;return(0,i.jsx)(r.xu,{marginStart:+!!l,children:(0,i.jsx)(r.xu,{marginStart:2*!!l,children:"sections"===t||"sectionsInline"===t?(0,i.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:"12"}):(0,i.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:16})})})}},313760:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(586659),o=n(20256),i=n(980787),a=n(19585),l=n(886981),s=n(382718);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var b=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&u(i,e);var t,n,r=(t=f(),function(){var e,n=p(i);return e=t?Reflect.construct(n,arguments,p(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return y(d(e=r.call.apply(r,[this].concat(n))),"state",{isHovering:!1}),y(d(e),"onHover",function(){e.setState({isHovering:!0})}),y(d(e),"offHover",function(){e.setState({isHovering:!1})}),e}return n=[{key:"render",value:function(){var e,t,n=this.props,r=n.name,i=n.selected,a=n.image;return n.inFlyoutExp?(0,s.jsxs)(o.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&a&&a.url?(0,s.jsx)(o.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!=(e=a.height)?e:1,naturalWidth:null!=(t=a.width)?t:1,src:a.url}):(0,s.jsx)(o.xu,{color:"secondary",height:40,width:40})})}),(0,s.jsx)(o.xu,{padding:2,children:(0,s.jsx)(o.X6,{size:"400",children:r})})]}):(0,s.jsxs)(o.xu,{alignItems:"center",color:i?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.JO,{accessibilityLabel:"",color:i?"default":"subtle",icon:"add"})}),(0,s.jsx)(o.xu,{marginStart:3,children:(0,s.jsx)(o.xv,{color:i?"default":"subtle",weight:"bold",children:r})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t,n,c=e.inFlyoutExp,u=e.inFirstBoardCreateGestaltExp,d=e.pinId,f=e.image,p=e.minHeight,y=e.onBoardSelected,h=(0,i.u)().logContextEvent,v=(0,a.ZP)(),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(-1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=g[0],j=g[1],x=(0,l.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(String(d),"/board_title_suggestions/"),pin_id:d}}),P=x.data,O=x.isLoaded,S=(n=void 0===P?[]:P,(0,r.useMemo)(function(){return n&&n.length?n.map(function(e){return e.title}):[]},[n])),w=function(e){y(S[e],!1),h({event_type:101,component:13025,element:23})},k=function(e){j(e)},C=function(){j(-1)},I=function(e,t){var n=_===t;return(0,s.jsx)("li",{children:(0,s.jsx)(o.iP,{onMouseEnter:function(){return k(t)},onMouseLeave:C,onTap:function(){return w(t)},children:(0,s.jsx)(b,{image:f,inFlyoutExp:c,name:e,selected:n})})},t)};return O?S&&S.length?c?(0,s.jsx)(o.xu,{children:(0,s.jsx)("ul",{children:S.map(I)})}):u?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,s.jsx)(o.xv,{children:v._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,s.jsx)("ul",{children:S.map(I)})]}):(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginTop:2,paddingX:5,children:(0,s.jsx)(o.xv,{children:v._('Suggested board names', ' - ', ' -- ')})}),(0,s.jsx)("ul",{children:S.map(I)})]}):null:(0,s.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,s.jsx)(o.xH,{accessibilityLabel:v._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},508696:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(20256),o=n(19585),i=n(538688),a=n(382718);function l(e){var t=(0,o.ZP)(),n=e.buttonLabel,l=e.hasHoverState,s=e.name,c=e.onClick,u=(0,i.Z)(),d=u.isHovering,f=u.hoverHandlers,p=s||n||t._('Create board', ' - ', ' -- ');return(0,a.jsx)(r.iP,{onMouseEnter:f.onMouseOver,onMouseLeave:f.onMouseLeave,onTap:c,children:(0,a.jsxs)(r.xu,{alignItems:"center",color:l&&d?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,a.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,a.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),s?(0,a.jsx)(r.xu,{margin:1,children:(0,a.jsxs)(r.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,a.jsxs)(r.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},7257:function(e,t,n){var r=n(586659),o=n(581722),i=n(20256),a=n(521009),l=n(821342),s=n(19585),c=n(765533),u=n(448505),d=n(7872),f=n(422790),p=n(816676),y=n(382718);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var O=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&v(o,e);var t,n,r=(t=_(),function(){var e,n=j(o);return e=t?Reflect.construct(n,arguments,j(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function o(e){var t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return x(g(t=r.call(this,e)),"onCreateSection",function(){var e=t.props,n=e.board,r=e.sourceBoard,o=e.sourceSection,i=e.dispatch,a=e.completeCreateSectionAction,l=e.pinImport,s=e.viewer,c=e.orbacActingAs,u=e.logContextEvent,f=(0,d.lJ)(s,c);return t.setState({isSaving:!0}),i((0,p.Z)({boardId:n.id,sourceBoardId:r&&r.id,sourceSectionId:o&&o.id,name:t.state.inputName.trim(),pinImport:l},t.props.i18n,f,u)).then(function(e){t.setState({isSaving:!1}),a(e)}).catch(function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})})}),x(g(t),"handleKeyDown",function(e){var n=e.event,r=t.state,o=r.createError,i=r.inputName;[c.Z.ENTER,c.Z.NUMPAD_ENTER].includes(n.which)&&!o&&i.trim()&&t.onCreateSection()}),x(g(t),"handleChangeName",function(e){var n=e.value;t.setState({createError:null,inputName:n})}),x(g(t),"handleInputRef",function(e){t.setState({inputRef:e})}),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return n=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.createError,o=n.inputRef;o&&(!t.inputRef||r)&&o.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,n=e.positionRelative,r=this.state,o=r.createError,a=r.inputName,l=r.isSaving,s=!!a.trim()&&!o;return(0,y.jsxs)(i.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:n?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[t&&(0,y.jsx)(i.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,y.jsx)(i.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,y.jsxs)(i.xu,{padding:4,children:[(0,y.jsx)(i.xu,{marginBottom:2,children:(0,y.jsx)(i.__,{htmlFor:"sectionEditName",children:(0,y.jsx)(i.xv,{color:o?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,y.jsx)(i.xu,{children:(0,y.jsx)(i.xu,{ref:this.handleInputRef,children:(0,y.jsx)(i.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:a})})})]}),(0,y.jsx)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,y.jsx)(i.xu,{padding:4,children:(0,y.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,y.jsx)(f.Z,{disabled:!s||l,onClick:this.onCreateSection,submitting:l,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);t.Z=function(e){var t=(0,o.I0)(),n=(0,s.ZP)(),r=(0,l.Z)(),i=(0,u.Z)();return(0,y.jsx)(O,m(m({},e),{},{dispatch:t,i18n:n,logContextEvent:(0,a.Z)(),orbacActingAs:i,viewer:r}))}},867215:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(586659),o=n(20256),i=n(686319),a=n(19585),l=n(709311),s=n(302148),c=n(765533),u=n(796765),d=n(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var j=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&h(a,e);var t,n,r=(t=m(),function(){var e,n=v(a);return e=t?Reflect.construct(n,arguments,v(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return g(b(e=r.call.apply(r,[this].concat(n))),"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),g(b(e),"onDismiss",function(){}),g(b(e),"mounted",!1),g(b(e),"addHashtag",function(t){e.props.addHashtag(t),e.setState({recommendations:[]})}),g(b(e),"handleKeyDown",function(t){t.keyCode===c.Z.UP?e.handlePrevHashtag(t):t.keyCode===c.Z.DOWN?e.handleNextHashtag(t):t.keyCode===c.Z.ESCAPE?e.handleClose(t):t.keyCode===c.Z.ENTER&&e.handleSubmit(t)}),g(b(e),"handlePrevHashtag",function(t){t.preventDefault(),e.state.selectedIndex>0&&e.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),g(b(e),"handleNextHashtag",function(t){t.preventDefault(),e.state.selectedIndex<e.state.recommendations.length-1&&e.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),g(b(e),"handleClose",function(t){t.preventDefault(),e.setState({recommendations:[]})}),g(b(e),"handleSubmit",function(t){t.preventDefault(),e.addHashtag(e.state.recommendations[e.state.selectedIndex].query)}),g(b(e),"callResource",function(t){(0,e.props.makeCancelablePromise)((0,i.Z)({url:"/v3/search/autocomplete/",data:{q:t,show_pin_count:!0}}),"typeahead").then(function(t){if(e.mounted){var n=t.resource_response.data;e.setState({recommendations:n.slice(0,5),resourceLoaded:!0})}}).catch(function(t){t.isCanceled||e.setState({resourceLoaded:!1})})}),e}return n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.recommendations,r=t.resourceLoaded,i=t.selectedIndex,a=this.props,c=a.anchor,u=a.idealDirection,f=n.filter(function(e){return e.query}),p="flyout_"+f.length;return r&&f.length>0?(0,d.jsx)(o.J2,{anchor:c,idealDirection:u||"down",onDismiss:this.onDismiss,size:"sm",children:(0,d.jsx)(o.xu,{width:"100%",zIndex:new o.Ry(3),children:f.length>0?f.map(function(t,n){return(0,d.jsx)(o.iP,{fullWidth:!1,onTap:function(){return e.addHashtag(t.query)},children:(0,d.jsxs)(o.xu,{alignItems:"center",color:n===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:t.query})}),(0,d.jsx)(o.xu,{flex:"none",children:(0,d.jsx)(o.xv,{inline:!0,size:"100",children:(0,s.nk)(e.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(t.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,d.jsx)(l.Z,{value:Number(t.pin_count)},"pinCount")})})})]})},t.query)}):null})},p):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function x(e){var t=(0,a.ZP)(),n=(0,u.Z)();return(0,d.jsx)(j,y(y({},e),{},{i18n:t,makeCancelablePromise:n}))}},305469:function(e,t,n){n.d(t,{Z:function(){return Z}});var r,o,i,a,l,s=n(586659);n(492996);var c=n(20256),u=n(980787),d=n(28427),f=n(963215),p=n(221020),y=n(801082),h=n(19585),b=n(302148),m=n(886981),v=n(382718),g=(void 0!==r||(r=n(297180)).hash&&"3caf9424c2af74d2b11a6ea682b57d1b"!==r.hash&&console.error("The definition of 'AlreadyPinnedCheck_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),_=(void 0!==o||(o=n(938742)).hash&&"6bb1a587f71f85424aa51845831862d4"!==o.hash&&console.error("The definition of 'AlreadyPinnedCheckQuery_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),j=(void 0!==i||(i=n(618916)).hash&&"0b5f077c08e31de36594b6918e128d12"!==i.hash&&console.error("The definition of 'AlreadyPinnedCheckQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function x(e){var t,n=e.pinKey,r=(0,h.ZP)(),o=(0,d.Z)(g,n),i="GraphQL"===(0,p.o)(n),a=(0,y.Z)({strategy:i?"GraphQL":"Legacy",query:j,variables:{pinId:o.entityId},options:{fetchPolicy:"network-only"},useGetLegacyResource:function(e){var t=e.pinId,n=(0,m.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(t,"/"),field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return{data:n.data,refresh:n.refresh}}}),l=(null==a||null==(t=a.v3GetPinQuery)?void 0:t.__typename)==="V3GetPin"?a.v3GetPinQuery.data:null,s=(0,d.Z)(_,l);return s&&s.pinnedToBoard&&"quick_creates"!==s.pinnedToBoard.layout?(0,v.jsxs)(c.xu,{children:[(0,v.jsx)(c.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,v.jsx)(c.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,b.nk)(r._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(s.pinnedToBoard||{}).name}).join(" ")})}),(0,v.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,v.jsx)(c.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var P=n(867215),O=["pinKey","shuffleAssetKey"];function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var B=(void 0!==a||(a=n(451508)).hash&&"d928a4e793c8e81567357b1faa71d2e3"!==a.hash&&console.error("The definition of 'PinPane_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),D=(void 0!==l||(l=n(810730)).hash&&"1a4583782792fbfe92015cb2dbe50f70"!==l.hash&&console.error("The definition of 'PinPane_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&C(o,e);var t,n,r=(t=T(),function(){var e,n=A(o);return e=t?Reflect.construct(n,arguments,A(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return I(e)}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return E(I(t=r.call.apply(r,[this].concat(i))),"state",{flyoutCursorIndex:-1,description:(null==(e=t.props.pin)?void 0:e.description)&&t.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),E(I(t),"updateDescription",function(e){t.props.updateDescription&&t.props.updateDescription(e)}),E(I(t),"handleHashtagAddition",function(e){var n=t.props.pin;t.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:null==n?void 0:n.entityId,aux_data:{hashtags:e}});var r=t.state.flyoutCursorIndex,o=Number(r+t.state.hashtagQuery.length),i=t.state.description.slice(0,r)+e+" "+t.state.description.slice(o);t.updateDescription(i),t.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),t}return n=[{key:"render",value:function(){var e,t,n,r,o=this.props,i=o.color,a=o.isFirstPin,l=o.pin,s=o.pinImageRef,u=o.shuffleAsset,d=this.state,p=d.editing,y=d.flyoutOpened,h=d.hashtagQuery,b=d.isHashtagFlyoutOpen,m=null!=(e=null==u?void 0:u.cutoutImages)?e:null==l?void 0:l.imageSpec_236x,g=(null==m?void 0:m.url)||(null==l?void 0:l.imageBase64)||(null==(t=this.props.urlPinInfo)?void 0:t.imageUrl),_=this.state.description||(null==(n=this.props.urlPinInfo)?void 0:n.description)||"",j=(null==l?void 0:l.link)||(null==(r=this.props.urlPinInfo)?void 0:r.link);return(0,v.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:y&&p?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:a?"50%":"",children:[(0,v.jsxs)(c.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(null==l?void 0:l.entityId)&&!u&&(0,v.jsx)(x,{pinKey:l}),(0,v.jsx)(c.xu,{paddingY:9*!!a,width:240,children:(0,v.jsx)(c.xu,{ref:s,maxHeight:y&&p?220:335,overflow:"hidden",rounding:4,children:g?(0,v.jsx)(c.Ee,{alt:_,naturalHeight:(null==m?void 0:m.height)||1,naturalWidth:(null==m?void 0:m.width)||1,src:g}):!!j&&(0,v.jsx)(f.Z,{color:i||"",description:_,url:j})})})]}),this.anchor&&b?(0,v.jsx)(P.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:h}):null]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);function Z(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,O),o=(0,u.u)().logContextEvent,i=(0,d.Z)(B,t),a=(0,d.Z)(D,n);return(0,v.jsx)(z,k(k({},r),{},{logContextEvent:o,pin:i,shuffleAsset:a}))}},66690:function(e,t,n){n.d(t,{K:function(){return X}});var r,o,i=n(586659),a=n(581722);n(492996);var l=n(963489),s=n(575108),c=n(980787),u=n(697063),d=n(937392),f=n(877956),p=n(475498),y=n(821342),h=n(28427),b=n(390843),m=n(19585),v=n(536652),g=n(87853),_=n(639983),j=n(598849),x=n(594135),P=n(620427),O=n(253861),S=n(548286),w=n(206459),k=n(401450),C=n(20256),I=n(302148),T=n(417245),A=n(382718),E=function(e,t,n){var r;return n?(0,T.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:null!=(r=n.title)?r:"",boardName:null!=t?t:""}):(0,A.jsx)(C.xv,{children:(0,I.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,A.jsx)(C.xv,{weight:"bold",children:t})})})},R=n(643067),B=["pinKey","shuffleAssetKey"];function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(L=function(){return!!e})()}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return(t=H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:t+""}var U=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,W=(void 0!==r||(r=n(973220)).hash&&"bfa270bf437ef1e9195cafe07b0b3631"!==r.hash&&console.error("The definition of 'PinSaveRequest_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),q=(void 0!==o||(o=n(13697)).hash&&"58c24e25a76e7a1c4533f3b07f490517"!==o.hash&&console.error("The definition of 'PinSaveRequest_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),Q=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&F(o,e);var t,n,r=(t=L(),function(){var e,n=N(o);return e=t?Reflect.construct(n,arguments,N(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==D(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return K(e)}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return M(K(t=r.call.apply(r,[this].concat(i))),"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:t.getModalTitle(t.props.showCreate,!!t.props.boardWithSection),pinDescription:t.props.pin&&t.props.pin.description||(null==(e=t.props.urlPinInfo)?void 0:e.description)||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),M(K(t),"unmounted",!1),M(K(t),"setModalTitle",function(e){return t.safeSetState({modalTitle:e})}),M(K(t),"updateDescription",function(e){t.safeSetState({pinDescription:e})}),M(K(t),"close",function(){var e=t.props.onClose;e&&e(),t.props.logContextEvent({event_type:2502,component:5,element:610})}),M(K(t),"safeSetState",function(e,n){t.unmounted?n&&n():t.setState(e,n)}),M(K(t),"getPinResource",function(e,n,r){var o,i,a,l,c=t.props,u=c.color,d=c.clientTrackingParams,f=c.pin,p=c.method,y=c.guid,h=c.additionalCreateFields,b=c.advertiser_id,m=c.urlPinInfo,v=c.shuffleAsset,g=null!=f&&f.entityId?"RepinResource":"PinResource",j=(null==f?void 0:f.imageUrl)||(null==m?void 0:m.imageUrl),x=(null==f?void 0:f.link)||(null==m?void 0:m.link),O=!(null!=f&&f.entityId)&&j?(0,_.Z)(j,x):(null==f||null==(o=f.imageSpec_orig)?void 0:o.url)||"",S=Z(Z(Z({},h),{},{board_id:n||"",color:u||"",clientTrackingParams:(0,P.Z)(d,null==f?void 0:f.trackingParams),description:t.state.pinDescription,guid:y||"",link:x,image_base64:null!=(i=null==f?void 0:f.imageBase64)?i:void 0,image_url:O,is_buyable_pin:!1,is_removable:null!=(a=null==f?void 0:f.promotedIsRemovable)?a:void 0,media_upload_id:null!=(l=null==f?void 0:f.mediaUploadId)?l:void 0,method:p||"",pin_id:(null==f?void 0:f.entityId)||"",section:r,title:(null==f?void 0:f.title)||""},b?{advertiser_id:b}:Object.freeze({})),v?{shuffle_asset:v.entityId}:{});if(!e){var w=t.state.sharing,k=w.facebook,C=w.twitter;S.share_facebook=k,S.share_twitter=C}return s.Z.create(g,S)}),M(K(t),"triggerPubSubs",function(e){t.props.onPinCreate&&t.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),M(K(t),"makeCancelablePromise",function(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)}),e.catch(function(e){return t?r({isCanceled:!0}):r(e)})}),cancel:function(){t=!0}}}),M(K(t),"handleLogToastClick",function(){t.props.logContextEvent({event_type:101,component:20,view_type:52})}),M(K(t),"showBoardSavedToast",function(e,n){var r=t.props,o=r.toastManagerContext,i=r.i18n;o.showToast(function(r){var o,a,l,s=r.hideToast;return(0,A.jsx)(p.Z,{duration:R.A,href:n?"".concat(null!=(o=e.url)?o:"").concat(null!=(a=n.slug)?a:""):e.url,imageUrl:null!=(l=e.image_cover_url)?l:"",onClick:t.handleLogToastClick,onHide:s,text:E(i,e.name,n)})})}),M(K(t),"dismissModal",function(){var e=t.state,n=e.resolve,r=e.newPin;n&&n(r)}),M(K(t),"handleBoardSaveSuccess",function(e,n,r,o){var i,a,l,s=t.props,c=(s.action,s.saveToBoard),u=s.dispatch,d=s.pin,p=s.setCompletionPromise,y=s.shouldShowToast,h=s.showRepinAnimation,b=s.viewerUserId,m=s.urlPinInfo;u((0,f.fO)());var g=e.resource_response.data,_=t.makeCancelablePromise(new Promise(function(e){t.triggerPubSubs(g);var i,a=t.state.pinDescription.match(U)||[];a.length>0&&t.props.logContextEvent({event_type:2,element:10273,object_id_str:null==(i=t.props.pin)?void 0:i.entityId,aux_data:{hashtags:JSON.stringify(a)}}),o?(y&&t.showBoardSavedToast(n,r),t.safeSetState({displaySuccessAnimation:!0,modalTitle:t.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:g,resolve:e})):e(g)}));!o&&null!=d&&d.entityId&&h(d.entityId),p(_),c(n),u((0,S.Br)({boardId:n.id,sectionId:r&&r.id,increment:1})),b&&(u((0,k.JS)({userId:b,increment:1})),u((0,f.fO)())),(r||!n.image_cover_url)&&(n.image_cover_url=(null==d?void 0:d.imageUrl)||(null==m?void 0:m.imageUrl)||(null==d||null==(i=d.imageSpec_236x)?void 0:i.url)||"",u((0,S.yT)(n))),r&&u((0,v.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:r.id}})),null!=d&&d.entityId&&u((0,w.Ur)({id:d.entityId,nodeId:d.__id,boardId:n.id,title:null!=(a=n.name)?a:"",url:null!=(l=n.url)?l:"",localPinId:g.id}))}),M(K(t),"handleSaveToBoard",function(e,n,r){var o=t.props,i=o.onToggleModal,a=o.shouldShowToast,l=o.mountAfterActionPlacement;a&&!r&&(t.close(),t.showBoardSavedToast(e,n));var s="secret"===(e.privacy||""),c={board:n?n.id:e.id,state:R.S.LOADING};t.safeSetState({boardSavedTo:c},function(){t.getPinResource(s,e.id,(n||{}).id).callCreate({showError:!1}).then(function(o){var a,s;l("Save",{pin_id:null==(a=t.props.pin)?void 0:a.entityId,is_promoted:null==(s=t.props.pin)?void 0:s.isPromoted}),t.safeSetState({boardSavedTo:Object.assign(c,{state:R.S.SUCCESS})},function(){return t.handleBoardSaveSuccess(o,e,n,r)}),i&&!r&&i(!1)}).catch(function(e){t.unmounted||t.safeSetState({boardSavedTo:null}),u.Z.showError(e.message_detail||e.message);var n=t.makeCancelablePromise(Promise.reject(e));t.props.setCompletionPromise(n),i&&i(!1)})})}),M(K(t),"handleNewBoardAnimationCompletion",function(){var e=t.props,n=e.pin,r=e.showRepinAnimation;null!=n&&n.entityId&&r(n.entityId)}),t}return n=[{key:"getModalTitle",value:function(e,t){if(e)if(t)return this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane');else return this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board');return t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.boardWithSection,r=t.showCreate,o=t.pin,i=t.urlPinInfo,a=t.description,l={};(o!==e.pin||i!==e.urlPinInfo||a!==e.description)&&(l.pinDescription=(null==o?void 0:o.description)||(null==i?void 0:i.description)||a||""),(r!==e.showCreate||n!==e.boardWithSection)&&(l.modalTitle=this.getModalTitle(r,!!n)),Object.keys(l).length>0&&this.safeSetState(l)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.close,t=this.dismissModal,n=this.handleNewBoardAnimationCompletion,r=this.handleSaveToBoard,o=this.setModalTitle,i=this.updateDescription,a=this.state,l=a.boardSavedTo,s=a.displaySuccessAnimation,c=a.modalTitle,u=a.newPin,d=this.props.color;return this.props.children({boardSavedTo:l,color:d,dismissModal:t,displaySuccessAnimation:s,handleAbort:e,handleNewBoardAnimationCompletion:n,handleSaveToBoard:r,modalTitle:c,newPin:u,setModalTitle:o,updateDescription:i})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.Component);function X(e){var t,n=e.pinKey,r=e.shuffleAssetKey,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,B),i=(0,x.W)().saveToBoard,s=(0,c.u)().logContextEvent,u=null==(t=(0,O.J)())?void 0:t.onPinCreate,f=(0,m.ZP)(),p=(0,l.TH)(),v=(0,y.Z)(),_=(0,g.dI)(),P=(0,a.I0)(),S=(0,j.Z)().updateHeaderState,w=(0,a.v9)(function(e){var t=e.advertiser;return v.isAuth&&t&&t.owner_user_id!==v.id?t.id:void 0}),k=(0,b.ou)().previous,C=(0,d.cO)(),I=(0,h.Z)(W,n),T=(0,h.Z)(q,r);return(0,A.jsx)(Q,Z(Z({},o),{},{advertiser_id:w,dispatch:P,i18n:f,location:p,logContextEvent:s,mountAfterActionPlacement:C,onPinCreate:u,pin:I,previousHistory:k,saveToBoard:i,showRepinAnimation:function(e){return S({type:"showRepinAnimation",payload:e})},shuffleAsset:T,toastManagerContext:_,viewerUserId:v.isAuth?v.id:void 0}))}},876338:function(e,t,n){n.d(t,{Z:function(){return e5}});var r,o,i,a,l=n(586659);n(492996);var s=n(20256),c=n(982166),u=n(821342),d=n(28427),f=n(19585),p=n(675973),y=n(822377),h=n(283034),b=n(581722),m=n(521009),v=n(15667),g=n(816676),_=n(382718);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.board,n=e.completeCreateSectionAction,r=e.height,o=e.onClose,i=e.pinImport,a=e.url,u=e.width,d=(0,f.ZP)(),p=(0,v.B)().isRTL,y=(0,m.Z)(),h=(0,b.I0)(),x=j((0,l.useState)(""),2),P=x[0],O=x[1],S=j((0,l.useState)(!1),2),w=S[0],k=S[1],C=j((0,l.useState)(null),2),I=C[0],T=C[1];return(0,_.jsx)(c.ZP,{accessibilityModalLabel:d._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),footer:(0,_.jsx)(s.kC,{children:(0,_.jsx)(s.xu,{marginStart:"auto",children:(0,_.jsx)(s.zx,{color:"red",dataTestId:"create-section-add-button",disabled:w||!P.trim()||!!I,fullWidth:!0,onClick:function(){t&&(k(!0),h((0,g.Z)({boardId:t.id,name:P.trim(),pinImport:i},d,void 0,y)).then(function(e){n(t,e,!1)}).catch(function(e){T(e.message_detail||e.message)}).finally(function(){k(!1)}))},size:"lg",text:d._('Add', 'sectionCreateModal.add.button', 'add a new section')})})}),heading:(0,_.jsx)(s.xu,{paddingY:8,children:(0,_.jsxs)(s.kC,{justifyContent:"center",children:[(0,_.jsx)(s.xu,{maxWidth:400,children:(0,_.jsx)(s.X6,{align:"center",size:"600",children:d._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,_.jsx)(s.xu,{left:p,padding:8,position:"absolute",right:!p,top:!0,children:(0,_.jsx)(s.hU,{accessibilityLabel:d._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]})}),onDismiss:o,size:"sm",children:(0,_.jsx)(s.xu,{padding:8,children:(0,_.jsxs)(s.kC,{children:[(0,_.jsx)(s.zd,{height:r,rounding:4,width:u,children:a&&(0,_.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:null!=r?r:1,naturalWidth:null!=u?u:1,src:a})}),(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{width:u?"calc(100% - ".concat(u,"px)"):"100%"}},marginStart:8,children:(0,_.jsx)(s.nv,{dataTestId:"create-section-name-input-field",errorMessage:I,id:"sectionEditName",label:d._('Name', 'section.create.label', 'label text for section input'),onChange:function(e){O(e.value),T(null)},placeholder:d._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),size:"lg",type:"text",value:P})})]})})})},O=n(980787),S=n(72918),w=n(886981),k=n(684148),C=n(647709);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=void 0;function R(e,t,n,r){return A(A(A(A({},e?{pin_id:e}:Object.freeze({})),t?{username:t}:Object.freeze({})),n?{advertiser_id:n,filter:"protected"}:Object.freeze({})),{},{field_set_key:"board_picker",limit:E,shortlist_suggestions:2,isDesktop:r})}var B=n(562247),D=n(443962),z=["pinKey"];function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(M=function(){return!!e})()}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:t+""}var q=(void 0!==r||(r=n(416054)).hash&&"76215b7b40cb02e76b77e58c8765d0d1"!==r.hash&&console.error("The definition of 'BoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),Q=function(e){var t=[],n=[];return e.forEach(function(e){var r;null!=(r=e.name)&&r.match(/^\d/)?n.push(e):t.push(e)}),[].concat(t,n)},X=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&L(o,e);var t,n,r=(t=M(),function(){var e,n=H(o);return e=t?Reflect.construct(n,arguments,H(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==Z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return N(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return U(N(e=r.call.apply(r,[this].concat(n))),"getSections",function(t){var n=e.props.boardResource.data;if(!n)return[];var r=n.all_boards,o=n.boards_shortlist,i=Q(r);return i.length<=3?[{items:i}]:t.length>=k.Z?[{items:(0,D.j)(i,t)}]:[o.length?{items:o,title:e.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:i,title:e.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardResource,n=t.data,r=t.error,o=t.isLoaded,i=e.boardSavedTo,a=e.isSelectMode,l=e.onBoardCreate,s=e.onBoardSelected,c=e.pin,u=o&&!!n&&n.all_boards.length<=3;return(0,_.jsx)(B.Z,{boardSavedTo:i,getSections:this.getSections,hasLoadError:!!r,hasLowBoardCount:u,isLoaded:o,isSelectMode:a,onCreate:l,onSelected:s,pinId:null==c?void 0:c.entityId})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function G(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,z),r=(0,f.ZP)(),o=(0,u.Z)(),i=(0,C.HG)(),a=(0,d.Z)(q,t),l=(0,b.v9)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.id}),s=(0,b.v9)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.owner_user_id}),c=(0,w.Z)({name:"BoardPickerBoardsResource",options:R(null==a?void 0:a.entityId,s,l,i)});return(0,_.jsx)(X,K(K({},n),{},{boardResource:c,i18n:r,pin:a}))}function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){er(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(et=function(){return!!e})()}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t,n){return(t=eo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}var ei=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&$(o,e);var t,n,r=(t=et(),function(){var e,n=en(o);return e=t?Reflect.construct(n,arguments,en(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return er(ee(e=r.call.apply(r,[this].concat(n))),"getSections",function(t){var n=e.props,r=n.board,o=n.i18n,i=n.sectionsResource.data,a=o._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),l=o._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return t.length>=k.Z?[{items:(0,D.j)([r],t),customProps:{inSectionSelection:!0}},{items:(0,D.j)(null!=i?i:[],t,"title")}]:[{items:[r],customProps:{inSectionSelection:!0},title:a},{items:null!=i?i:[],title:l}]}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.sectionsResource,n=t.error,r=t.isLoaded,o=e.boardSavedTo,i=e.isSelectMode,a=e.onSectionCreate,l=e.onSectionSelected,s=e.pinId;return(0,_.jsx)(B.Z,{boardSavedTo:o,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),getSections:this.getSections,hasLoadError:!!n,isLoaded:r,isSelectMode:i,onCreate:a,onSelected:l,pinId:s})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eo(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function ea(e){var t=(0,f.ZP)(),n=(0,w.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,_.jsx)(ei,J(J({},e),{},{i18n:t,sectionsResource:n}))}var el=n(918920),es=n(10972),ec=n(277454),eu=n(744862),ed=n(417245);function ef(e){var t=(0,f.ZP)(),n=e.body,r=e.img,o=e.onClick,i=e.selected,a=e.title,l=e.username,c=e.valid;return(0,_.jsx)(s.xu,{marginBottom:4,children:(0,_.jsx)(s.iP,{onTap:o,children:(0,_.jsxs)(s.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[r,(0,_.jsxs)(s.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,_.jsx)(s.xu,{marginBottom:1,children:(0,_.jsx)(s.xv,{lineClamp:1,weight:"bold",children:a})}),(0,_.jsx)(s.xv,{lineClamp:1,size:"100",children:l||n})]}),(0,_.jsx)(s.xu,{marginStart:2,children:l?i?(0,_.jsx)(s.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,_.jsx)(s.zx,{color:"gray",disabled:!!i||!c,size:"sm",text:i?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')})})]})})})}var ep=n(415602);function ey(e){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach(function(t){ej(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function em(e,t){return(em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ev(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eg=function(){return!!e})()}function e_(e){return(e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ej(e,t,n){return(t=ex(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ex(e){var t=function(e,t){if("object"!=ey(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ey(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ey(t)?t:t+""}function eP(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}var eO=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&em(o,e);var t,n,r=(t=eg(),function(){var e,n=e_(o);return e=t?Reflect.construct(n,arguments,e_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ey(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ev(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return ej(ev(e=r.call.apply(r,[this].concat(n))),"state",{selectedCollaborators:e.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),ej(ev(e),"isIdSelected",{}),ej(ev(e),"handleTextFieldChange",function(t){var n=t.value;e.setState({value:n})}),ej(ev(e),"handleCollaboratorClick",function(t){var n=t.id,r=t.type;e.isIdSelected[n]=!e.isIdSelected[n];var o=e.props,i=o.inviteUsers,a=o.inviteEmails,l=e.state.selectedCollaborators.concat([t]);e.props.onSelectedCollaboratorsChange({id:n,resource:"email"===r?a:i}),e.setState({selectedCollaborators:l})}),ej(ev(e),"handleTypeaheadSuggestionsChange",function(t){e.setState({typeaheadSuggestions:t})}),e}return n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.inviteUsers,r=t.inviteEmails;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(function(t){var o=t.id,i=t.type;return e.isIdSelected[o]=!e.isIdSelected[o],e.props.onSelectedCollaboratorsChange({id:o,resource:"email"===i?r:n}),null})}},{key:"render",value:function(){var e=this,t=this.state.value,n=this.props.shareSuggestionsResource.data||[],r=(""===t?this.state.selectedCollaborators.concat(n).filter(eP):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:t,valid:(0,ec.Z)(t)}).concat(n).filter(eP)).map(function(t){return function(e,t,n,r){if("user_share_suggestion"===e.type||"user"===e.type){var o=(0,_.jsx)(eu.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,_.jsx)(ef,{img:o,onClick:function(){return n(e)},selected:t,title:e.full_name,username:e.username})}if("email"===e.type){var i,a,l=e.id,c=e.valid,u=(0,_.jsx)(s.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,_.jsx)(s.JO,{accessibilityLabel:r._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),d=(0,ed.Z)(r._('Email {{ email }}', ' - ', ' -- '),{email:l});return t?(i=r._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),a=function(){}):(i=c?r._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):r._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),a=function(){return c?n(e):void 0}),(0,_.jsx)(ef,{body:i,img:u,onClick:a,selected:t,title:d,valid:c})}}(t,e.isIdSelected[t.id],e.handleCollaboratorClick,e.props.i18n)}).map(function(e,t){return(0,_.jsx)("li",{children:e},t)});return(0,_.jsxs)(s.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,_.jsx)(s.xu,{paddingX:3,paddingY:2,children:(0,_.jsx)(s.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,_.jsx)(s.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,_.jsx)(s.xu,{flex:"grow",children:(0,_.jsx)(es.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t,children:(0,_.jsx)(s.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:t})})})}),(0,_.jsx)(s.xu,{marginBottom:14,overflow:"auto",paddingX:3,children:(0,_.jsx)("ul",{children:r})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ex(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function eS(e){var t=(0,f.ZP)(),n=(0,w.Z)({name:"ShareSuggestionsResource",noCache:!0}),r=(0,ep.zC)(),o=(0,ep.DK)();return(0,_.jsx)(eO,eb(eb({},e),{},{i18n:t,inviteEmails:r,inviteUsers:o,shareSuggestionsResource:n}))}var ew=n(422790),ek=n(896960);function eC(e){var t=e.isOverlayPanelEnabled,n=e.onCancel,r=e.onCreate,o=e.onInvite,i=e.prefilledName,a=e.preselectedCollaborators,c=e.showTitle,u=(0,f.ZP)(),d=(0,v.B)().isRTL,p=(0,ek.Z)({onCreate:r,prefilledName:i}),y=p.handleCreate,h=p.handleChangeName,b=p.handleChangePrivacy,m=p.isAdAccountOwner,g=p.state,j=g.createBoardError,x=g.inputName,P=g.nameValidatorErrors,O=g.privacy,S=g.saving,w=0===P.length,k=O===el.ZP.BoardPrivacy.SECRET,C=(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(s.kC,{children:(0,_.jsx)(s.zx,{onClick:n,text:u._('Cancel', 'cancel board create', 'cancel board create')})}),(0,_.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"end",children:[!!j&&(0,_.jsx)(s.xu,{paddingX:2,children:(0,_.jsx)(s.xv,{align:"center",color:"error",size:"200",weight:"bold",children:j})}),(0,_.jsx)(ew.Z,{disabled:!x.trim()||!w||!!j||S,submitting:S,text:u._('Create', 'create a new board', 'create a new board')})]})]});return(0,_.jsx)(s.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,_.jsx)("form",{onSubmit:function(e){e.preventDefault(),y()},style:{height:"100%"},children:(0,_.jsxs)(s.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[c&&(0,_.jsx)(s.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,_.jsx)(s.X6,{size:"400",children:u._('Create board', ' - ', ' -- ')})}),(0,_.jsxs)(s.xu,{padding:3,children:[(0,_.jsx)(s.xu,{marginBottom:2,children:(0,_.jsx)(s.__,{htmlFor:"boardEditName",children:(0,_.jsx)(s.xv,{size:"100",children:u._('Name', ' - ', ' -- ')})})}),(0,_.jsx)(s.xu,{children:(0,_.jsx)(s.nv,{errorMessage:P.join(", "),id:"boardEditName",name:"boardName",onChange:function(e){return h(e.value)},placeholder:u._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:x})})]}),m&&(0,_.jsxs)(l.Fragment,{children:[(0,_.jsxs)(s.xu,{padding:3,children:[(0,_.jsx)(s.xu,{marginBottom:2,children:(0,_.jsx)(s.__,{htmlFor:"secret",children:(0,_.jsx)(s.xv,{size:"100",children:u._('Secret', 'secret board', 'secret board')})})}),(0,_.jsx)(s.xu,{children:(0,_.jsx)(s.rs,{id:"secret",onChange:b,switched:k})})]}),(0,_.jsx)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,_.jsx)(s.xu,{width:"100%",children:(0,_.jsx)(eS,{onSelectedCollaboratorsChange:o,preselectedCollaborators:a})})})]}),!m&&(0,_.jsx)(l.Fragment,{children:(0,_.jsxs)(s.xu,{padding:3,children:[(0,_.jsx)(s.xu,{marginBottom:2,children:(0,_.jsx)(s.__,{htmlFor:"protected",children:(0,_.jsx)(s.xv,{size:"100",children:u._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,_.jsx)(s.xu,{children:(0,_.jsx)(s.rs,{disabled:!0,id:"protected",onChange:function(){},switched:!0})})]})}),t?(0,_.jsx)(s.xu,{bottom:!0,color:"default","data-test-id":"create-board-footer-overlay",display:"flex",justifyContent:"between",left:d,position:"absolute",right:!d,width:672,children:C}):(0,_.jsx)(s.xu,{borderStyle:"shadow",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},"data-test-id":"create-board-footer-default",display:"flex",justifyContent:"between",left:d,paddingX:4,paddingY:2,position:"absolute",right:!d,width:720,children:C})]})})})}var eI=n(7257),eT=["pinKey"];function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(t){eF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eB(e,t){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eD(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ez=function(){return!!e})()}function eZ(e){return(eZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eF(e,t,n){return(t=eK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=function(e,t){if("object"!=eA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eA(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eA(t)?t:t+""}var eL=(void 0!==o||(o=n(146550)).hash&&"56f620fbd63abf8f7cb32f9a378198f8"!==o.hash&&console.error("The definition of 'BoardsPane_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),eN=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eB(o,e);var t,n,r=(t=ez(),function(){var e,n=eZ(o);return e=t?Reflect.construct(n,arguments,eZ(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eA(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eD(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return eF(eD(e=r.call.apply(r,[this].concat(n))),"state",{inviteQueue:{},newName:"",selectedSectionBoard:e.props.boardWithSection||null,showCreate:e.props.showCreate||!1}),eF(eD(e),"close",function(){var t=e.state,n=t.selectedSectionBoard,r=t.showCreate,o=e.props.onClose;r&&n?e.setState({showCreate:!1},e.manageModalTitle):n?e.setState({selectedSectionBoard:null},e.manageModalTitle):o()}),eF(eD(e),"sendInvites",function(t){var n=e.state.inviteQueue;Object.keys(n).forEach(function(e){var r;n[e].resource(null!=(r=t.id)?r:"",[e])})}),eF(eD(e),"handleInvite",function(t){var n=e.state.inviteQueue;if(n[t.id]){var r=eR({},n);delete r[t.id],e.setState({inviteQueue:r})}else{var o=eR(eR({},n),{},eF({},t.id,t));e.setState({inviteQueue:o})}}),eF(eD(e),"handleBoardCreate",function(t){var n=e.props.onBoardCreated;e.handleBoardSave(t,!0),n&&n(t)}),eF(eD(e),"handleBoardSave",function(t,n){var r=e.state.selectedSectionBoard,o=e.props,i=o.onBoardSave,a=o.invalidatePinBetterSaveResource,l=o.invalidateResource,s="board_section"===t.type;if(l(),a(),r&&("boardsection"===t.type||s))return i(r,t,n);var c=t.section_count,u=void 0===c?0:c;!r&&"number"==typeof u&&u>0?e.setState({selectedSectionBoard:t},e.manageModalTitle):(e.sendInvites(t),i(t,void 0,n))}),eF(eD(e),"handleCreate",function(t){return function(n){n=n||"",e.setState({newName:n,showCreate:!0},e.manageModalTitle),e.props.logContextEvent({event_type:101,component:t?13105:13025,element:t?10306:249})}}),eF(eD(e),"manageModalTitle",function(){var t=e.props.setModalTitle,n=e.state,r=n.selectedSectionBoard,o=n.showCreate;t&&t(o&&r?e.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):o&&!r?e.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):r&&!o?e.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):e.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.isOverlayPanelEnabled,r=e.isRepin,o=e.isSelectMode,i=e.pin,a=e.preselectedCollaborators,l=e.setModalTitle,c=e.suggestedBoardTitle,u=this.state,d=u.newName,f=u.selectedSectionBoard,p=u.showCreate,y=!!f,h=!l;return(0,_.jsxs)(s.xu,{display:"flex",position:"relative",width:"100%",children:[!p&&(0,_.jsx)(s.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:f?(0,_.jsx)(ea,{board:f,boardSavedTo:t,isSelectMode:o,onSectionCreate:this.handleCreate(y),onSectionSelected:this.handleBoardSave}):(0,_.jsx)(G,{boardSavedTo:t,isSelectMode:o,onBoardCreate:this.handleCreate(y),onBoardSelected:this.handleBoardSave,pinKey:i})}),p&&!f&&(0,_.jsx)(eC,{isOverlayPanelEnabled:n,onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:d||c,preselectedCollaborators:a,showTitle:h}),p&&f&&(0,_.jsx)(eI.Z,{board:f,completeCreateSectionAction:this.handleBoardSave,initialName:d,isRepin:r,onClearModal:this.close,showTitle:h})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eK(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function eM(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eT),r=(0,O.u)().logContextEvent,o=(0,f.ZP)(),i=(0,d.Z)(eL,t),a=(0,b.I0)();return(0,_.jsx)(eN,eR(eR({},n),{},{i18n:o,invalidatePinBetterSaveResource:function(){a((0,S.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:function(){a((0,S.jB)("BoardPickerBoardsResource",R(null==i?void 0:i.entityId)))},logContextEvent:r,pin:i}))}var eH=n(305469),eU=n(77836),eW=["pinKey","shuffleAssetKey"];function eq(e){return(eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eQ(Object(n),!0).forEach(function(t){e$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eG(e,t){return(eG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eY(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eV=function(){return!!e})()}function eJ(e){return(eJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e$(e,t,n){return(t=e0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e0(e){var t=function(e,t){if("object"!=eq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eq(t)?t:t+""}var e1=(void 0!==i||(i=n(384592)).hash&&"616d5be8fea6092b51f23b548a1a5dca"!==i.hash&&console.error("The definition of 'PinToBoard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),e2=(void 0!==a||(a=n(301056)).hash&&"4435ca5e135b834ea8a6425f68eb2f7a"!==a.hash&&console.error("The definition of 'PinToBoard_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),e8=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eG(o,e);var t,n,r=(t=eV(),function(){var e,n=eJ(o);return e=t?Reflect.construct(n,arguments,eJ(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eq(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eY(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e$(eY(e=r.call.apply(r,[this].concat(n))),"pinImageRef",(0,l.createRef)()),e$(eY(e),"handleSavePinToBoard",function(t,n,r){(0,e.props.handleSaveToBoard)(t,n,r)}),e$(eY(e),"close",function(){(0,e.props.handleAbort)()}),e$(eY(e),"dismissModal",function(){var t=e.props.dismissModal;t&&t()}),e}return n=[{key:"render",value:function(){var e,t,n,r,o,i,a,u=this,d=this.props,f=d.boardSavedTo,b=d.boardWithSection,m=d.color,v=d.displaySuccessAnimation,g=d.handleNewBoardAnimationCompletion,j=d.isInModal,x=d.newPin,O=d.pin,S=d.preselectedCollaborators,w=d.onBoardCreated,k=d.sensitiveContentNotice,C=d.setModalTitle,I=d.showCreate,T=d.shouldRenderContent,A=d.suggestedBoardTitle,E=d.updateDescription,R=d.urlPinInfo,B=d.shuffleAsset,D=(null==R?void 0:R.description)||(null==R?void 0:R.link)||(null==R?void 0:R.imageUrl);if(!O&&!D||!T)return null;if(I&&b)return(0,_.jsx)(P,{board:b,completeCreateSectionAction:this.handleSavePinToBoard,height:null!=(e=null==O||null==(t=O.imageSpec_236x)?void 0:t.height)?e:0,onClose:this.close,url:null!=(n=null!=(r=null==O||null==(o=O.imageSpec_236x)?void 0:o.url)?r:null==R?void 0:R.imageUrl)?n:"",width:null!=(i=null==O||null==(a=O.imageSpec_236x)?void 0:a.width)?i:0});var z=null;x&&x.board&&(z=x.board.name);var Z=k&&k.title||this.props.modalTitle,F=(0,p.Z)().checkExperiment,K=j&&F("web_board_create_overlay_panel").anyEnabled,L=k?(0,_.jsx)(y.Z,{inModal:!0,notices:[k]}):(0,_.jsx)(s.kC,{alignItems:"stretch",dataTestId:"pin-to-board-content",height:K?"100%":"calc(90vh - 97px)",justifyContent:"center",maxHeight:K?void 0:"703px",width:"100%",children:(0,_.jsxs)(l.Fragment,{children:[(0,_.jsxs)(s.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,_.jsx)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,_.jsx)(s.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,_.jsx)(eH.Z,{color:m,pinImageRef:this.pinImageRef,pinKey:O,shuffleAssetKey:B,updateDescription:E,urlPinInfo:R})})}),(0,_.jsx)(s.kC,{alignItems:"stretch",width:"60%",children:(0,_.jsx)(eM,{boardSavedTo:f,boardWithSection:b,isOverlayPanelEnabled:K,isRepin:!0,onBoardCreated:w,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:O,preselectedCollaborators:S,setModalTitle:j?C:void 0,showCreate:I,suggestedBoardTitle:A})})]}),v&&(0,_.jsx)(h.Z,{onDismiss:function(){g(),u.dismissModal()},pinImageRef:this.pinImageRef,pinKey:O,selectedBoardName:z,shuffleAssetKey:B})]})});if(!j)return L;var N=Z||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal');return K?(0,_.jsx)(s.mh,{zIndex:new s.H3([eU.BO]),children:(0,_.jsx)(s.To,{accessibilityLabel:N,heading:Z||void 0,onDismiss:this.close,size:"md",children:L})}):(0,_.jsx)(c.ZP,{accessibilityModalLabel:N,heading:Z,onDismiss:this.close,size:"md",children:L})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e0(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent);e$(e8,"defaultProps",{pwtAuxData:{}});var e5=function(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eW),o=(0,f.ZP)(),i=(0,u.Z)(),a=(0,d.Z)(e1,t),l=(0,d.Z)(e2,n);return(0,_.jsx)(e8,eX(eX({},r),{},{i18n:o,pin:a,shuffleAsset:l,viewer:i}))}},643067:function(e,t,n){n.d(t,{A:function(){return r},S:function(){return o}});var r=4e3,o={LOADING:"loading",SUCCESS:"success"}},896960:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(586659),o=n(581722),i=n(918920),a=n(657043),l=n(821342),s=n(19585),c=n(302148),u=n(72918),d=n(640924),f=n(33618),p=n(890774);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n=e.onCreate,y=e.prefilledName,h=(0,s.ZP)(),v=(0,o.v9)(function(e){return e.advertiser}),g=(0,o.I0)(),_=(0,l.Z)(),j=!v||_.isAuth&&v.owner_user_id===_.id,x=v&&v.id,P=(0,p.Z)(),O=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({createBoardError:null,inputName:y||"",nameValidatorErrors:[],privacy:j?i.ZP.BoardPrivacy.PUBLIC:i.ZP.BoardPrivacy.PROTECTED,saving:!1}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=O[0],w=O[1],k=function(){var e=S.inputName,t=S.privacy;w(b(b({},S),{},{saving:!0,createBoardError:null})),P({boardCreateOptions:b(b({name:e,privacy:t},!j&&x?{advertiser_id:x}:Object.freeze({})),{},{aux_data:{source:"board_picker"}})}).then(function(e){w(b(b({},S),{},{saving:!1})),n(e)}).catch(function(e){var t=h._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else{var n=(0,a.Z)(e,"message");if(n){var r=(0,a.Z)(e,"message_detail");t=r?"".concat(n," ").concat(r):n}}w(b(b({},S),{},{saving:!1,createBoardError:t}))}),g((0,u.jB)("BoardsResource",(0,f.Z)(_.isAuth?_.username:"",t===i.ZP.BoardPrivacy.SECRET)))};return{handleChangeName:function(e,t){w(b(b({},S),{},{inputName:e,nameValidatorErrors:(0,d.FU)([(0,d.aH)({message:h._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,d.Gy)({max:i.ZP.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,c.nk)(h._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:i.ZP.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null})),t&&k()},handleChangePrivacy:function(){w(b(b({},S),{},{privacy:S.privacy===i.ZP.BoardPrivacy.SECRET?i.ZP.BoardPrivacy.PUBLIC:i.ZP.BoardPrivacy.SECRET}))},handleCreate:k,isAdAccountOwner:j,state:S}}}}]);