"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["55176"],{530070:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};n.hash="b5b71fb4390c1d3835e468a25f687669",t.default=n},205529:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};n.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7",t.default=n},522678:function(e,t,r){r.d(t,{Zt:function(){return eu},iK:function(){return es},ZP:function(){return ep}});var n=r(586659),o=r(581722),i=r(963489),a=r(20256),l=r(469167),u=r(467925),d=r(93966),s=r(19585),c=r(355363),f=r(15667),p=r(900675),h=r(886981),m=r(62937),g=r(647709),v=r(222401);function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=new Map,x=function(e){var t=w.get(e);if(t)return t;var r=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:"BREAK_IN_".concat(e)});return w.set(e,r),r},S=function(e){var t=e.breakIn.index,r=e.items;return r.length<t?r:[].concat(y(r.slice(0,t)),[x(t)],y(r.slice(t)))},I=r(559143),_=r(751961),P=r(348268),j=r(357823),T=r(130858),O=r(469817),F=r(79293),C=r(845421),k=r(258644),A=r(975740),L=r(223700),B=r(92529),E=r(676049),R=r(648200),N=r(923377),D=r(78762),M=r(382718);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var H=["feedItems","pagination"],Z=["isAtEnd","isFetching","fetchMore","refresh"],K=["resource"],W=["resourceConfig"],U=["resourceRef","fetchMore","refresh"],G=["resourceConfig","resourceRef","fetchMore","refresh"];function Y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($=function(){return!!e})()}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,r){return(t=et(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=z(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:t+""}function er(e,t){if(e){if("string"==typeof e)return en(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eo=(0,D.Z)(function(){return r.e("65300").then(r.bind(r,348583))},void 0,function(e){return 348583},"app-www-businessNux-BizNuxHomefeedLoader",function(e){return ["65300"]}),ei=(0,D.Z)(function(){return r.e("68443").then(r.bind(r,222719))},void 0,function(e){return 222719},"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",function(e){return ["68443"]}),ea=function(){var e,t=(function(e){if(Array.isArray(e))return e}(e=(0,O.HW)().plpImageRenderData)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),1!==l.length);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,1)||er(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return t?t.pin_id:null},el=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&J(i,e);var t,r,o=(t=$(),function(){var e,r=X(i);return e=t?Reflect.construct(r,arguments,X(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Q(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return ee(Q(e=o.call.apply(o,[this].concat(r))),"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:e.props.authHomefeedComponentDidUpdate?{pinId:ea(),feedItem:null}:null}),ee(Q(e),"backOnlineAutoFetchResource",function(){e.props.pagination.loadNext()}),ee(Q(e),"handlePullToRefresh",function(){e.props.pagination.refetch(),e.setState({refreshing:!0})}),ee(Q(e),"gridContainerRef",(0,n.createRef)()),ee(Q(e),"renderFeedPin",function(t,r){var n=e.props,o=n.feedItemProps,i=n.location,a=n.performanceOptimization,l=n.showSeoMetadata,u=n.surface,d=n.trafficSource,s=o||{},c=s.auxData,f=s.componentType,p=s.feedback,h=s.imageOnly,m=s.impressionData,g=s.objectIdStr,v=s.oneTapSave,y=s.onFeedItemClick,b=s.onPinLinkClick,w=s.shouldAllowProductPriceIndicator,x=s.showSeoMetadata,S=s.viewData,I=s.viewParameter,_=s.viewType,P=(i.search||"").includes("force_seo"),j=!!(null!=a&&a.lazyLoadBelowFoldIndex)&&r>a.lazyLoadBelowFoldIndex,T=!!(null!=a&&a.priorityFetchAboveFoldIndex)&&r<=a.priorityFetchAboveFoldIndex;return(0,M.jsx)(C.Z,{auxData:c,componentType:f||0,duploFeedItemProps:{onPinClick:y,onPinLinkClick:b,showSeoMetadata:l||P||x},duploLazyLoadImage:j,duploOneTapSave:v,duploPriorityFetchImage:T,duploQueryRef:null,duploShouldAllowProductPriceIndicator:w,feedback:p,imageOnlyOption:h?"image-only":"default",impressionData:m,isUnauthBoardUpsellWithOverlay:e.props.isUnauthBoardUpsellWithOverlay,objectIdStr:g,pinId:t.id,seoDrawerPinType:e.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:e.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:e.props.shouldShowSeoDrawerOption,slotIndex:r,surface:u,trackingParams:t.trackingParams,trafficSource:d,unauthBoardUpsellsEnabled:e.props.unauthBoardUpsellsEnabled,viewData:S,viewParameter:I,viewType:_||1})}),ee(Q(e),"getBoardId",function(){var t,r=null==(t=e.props.feedKey)?void 0:t.split(":");return r&&r.length>1&&"boardfeed"===r[0]?r[1]:null}),ee(Q(e),"hideMoreIdeas",function(){var t,r=e.props,n=r.getReduxBoard,o=r.surface,i=r.trafficSource,a=e.getBoardId(),l="board"===i&&"BaseBoardPinGrid"===o&&a?n(a):null;return(null==l||null==(t=l.featured_board_metadata)?void 0:t.more_ideas)===!1}),e}return r=[{key:"componentDidMount",value:function(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,I.IA)(this.props.feedKey,this)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,I.do)(this.props.feedKey)}},{key:"componentDidUpdate",value:function(e){var t=this.state,r=t.refreshing,n=t.unauthLandingPinStateForAuthHomefeed,o=this.props,i=o.feedItems,a=o.authHomefeedComponentDidUpdate,l=r&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(l&&this.setState({refreshing:!1}),a&&n){var u=a({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:l,unauthLandingPinStateForAuthHomefeed:n});u&&this.setState({unauthLandingPinStateForAuthHomefeed:u})}}},{key:"render",value:function(){var e=this,t=this.props,r=t.deviceType,o=t.emptyState,i=t.experimentalColumnWidth,u=t.experimentalGutter,s=t.feedItemProps,f=t.feedItems,p=t.feedItemsAdjustment,h=t.feedKey,g=t.feedStoryId,y=t.getColumnSpanConfig,b=t.gridConfig,w=t.i18n,x=t.pageSize,S=t.pagination,I=t.pullToRefresh,O=t.renderFeedItem,C=t.serverRender,k=t.showBizNuxHomefeedLoader,A=t.trafficSource,L=t.visuallyCompleteProfilerOptions,D=t.isLoadingStateEnabled,z=t.initialLoadingStatePinCount,H=t.isLoadingAccessibilityLabel,Z=t.isLoadedAccessibilityLabel,K=this.state.unauthLandingPinStateForAuthHomefeed,W=null!=K&&K.feedItem&&f.length?[K.feedItem].concat(function(e){if(Array.isArray(e))return en(e)}(f)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(f)||er(f)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):f,U=s||{},G=U.viewParameter,Y=U.viewType,q=(b||{}).gridMeasurementKey,J=h+(q?"|".concat(q):""),Q="user_search"===A,$=Q?window.innerWidth-16:void 0,X=W.some(function(e){return"board"===e.type}),ee=V({columnWidth:(0,P.SY)({deviceType:r,customMWebColumnWidth:$,experimentalColumnWidth:X?236:i}),renderItem:function(t){var r=t.data,n=t.itemIdx;if(O){var o=O(r,n);if("FALLBACK_TO_DEFAULT"!==o)return o}switch(r.type){case"pin":return(0,M.jsx)(_.Z,{children:e.renderFeedPin(r,n)});case"user":return(0,M.jsx)(N.Z,{truncateName:!0,userId:r.id,userSearchRepStyle:Q,viewParameter:G,viewType:Y});case"board":var i=e.props.getReduxBoard(r.id);return(0,M.jsx)(v.default,{boardKey:i?{type:"Legacy",data:i}:null,type:"grid",viewParameter:G,viewType:Y});case"topic":return(0,M.jsx)(E.Z,{id:r.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:G,viewType:Y});case"story":if("number"==typeof G)return(0,M.jsx)(B.Z,{slotIndex:n,storyId:r.id,viewParameter:G,viewType:Y||1});return null;case"FEED_BREAK_IN":return p&&"breakIn"===p.type&&p.value.content;default:return null}},gutterWidth:(0,P.s)({experimentalGutter:u,trafficSource:A,deviceType:r}),loadItems:S.loadNext,minCols:Q?1:2},b),et=!k&&S.isLoadingNext&&0===W.length&&!this.state.refreshing&&!D,ea=x&&25>parseInt(x,10),el=(null==p?void 0:p.type)==="fullWidthBreakIn"?[{type:"feed",id:"".concat(J,"_feed_0"),item:W.slice(0,p.value.index)},{type:"fullWidthBreakIn",id:"".concat(J,"_break_in_0"),item:p.value.content},{type:"feed",id:"".concat(J,"_feed_1"),item:W.slice(p.value.index)}]:[{type:"feed",id:J,item:W}],eu="desktop"===r&&"flashlight"===A,ed=eu?0:d.qG;return(0,M.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,M.jsx)(j.Z,{auxData:(null==s?void 0:s.auxData)||null,enabled:!!I,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:(null==s?void 0:s.viewParameter)||null}),(0,M.jsxs)(a.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:ed,marginStart:ed,opacity:this.state.refreshing?.5:1,children:[(0,M.jsxs)(c.Z,{includeBackgroundImages:null==L?void 0:L.includeBackgroundImages,includeVideos:null==L?void 0:L.includeVideos,isAtEndOfFeed:!S.hasNext,isPlaceholderGrid:D&&S.isLoadingNext&&!W.length,itemCount:W.length,pinData:null==L?void 0:L.pins,children:[W.length||D&&S.isLoadingNext?(0,M.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,P.kk)({isDesktop:"desktop"===r}),children:(0,M.jsx)(m.Z.Consumer,{children:function(e){return(0,M.jsx)(n.Fragment,{children:(0,M.jsx)(R.Z,{children:el.map(function(t){return"feed"===t.type?(0,M.jsx)(l.default,V({cacheKey:J,getColumnSpanConfig:y,id:C?h:void 0,initialLoadingStatePinCount:z,isFetching:S.isLoadingNext,isLoadedAccessibilityLabel:null!=Z?Z:"",isLoadingAccessibilityLabel:null!=H?H:"",isLoadingStateEnabled:!!D,items:t.item,scrollContainerRef:e,serverRender:C},ee),t.id):"fullWidthBreakIn"===t.type?(0,M.jsx)(a.xu,{children:t.item},t.id):null})})})}})}):S.isLoadingNext?(0,M.jsx)(T.Z,{}):null!=o?o:null,S.isLoadingNext&&"board"===A&&ea&&!D&&(0,M.jsx)(a.xH,{accessibilityLabel:w._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),et&&(0,M.jsx)(a.xu,{column:12,paddingY:2,children:(0,M.jsx)(F.Z,{partialViewportWidth:eu})}),k&&(0,M.jsx)(eo,{gridContainerRef:this.gridContainerRef,homefeedLoading:S.isLoadingNext}),g&&!this.hideMoreIdeas()&&(0,M.jsx)(a.xu,{marginBottom:6,children:(0,M.jsx)(ei,{storyId:g})})]})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,et(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function eu(e){var t=e.feedItems,r=e.pagination,n=Y(e,H),a=n.feedItemsAdjustment,l=(0,i.TH)(),d=(0,g.ZP)(),c=(0,s.ZP)(),p=(0,f.B)(),h=p.isAuthenticated,m=p.isBot,v=(0,o.v9)(function(e){return e.session}).isBizNuxHomefeedLoadShown,y=t;(null==a?void 0:a.type)==="breakIn"&&(y=S({items:t,breakIn:a.value}));var b=(0,u.Z)(),w=b.experimentalColumnWidth,x=b.experimentalGutter,I=(0,A.gC)();return(0,M.jsx)(el,V(V({},n),{},{deviceType:d,experimentalColumnWidth:w,experimentalGutter:x,feedItems:y,getReduxBoard:I,i18n:c,isAuthenticated:h,location:l,pagination:r,showBizNuxHomefeedLoader:!!v,showSeoMetadata:m||!h}))}function ed(e){var t=e.isAtEnd,r=e.isFetching,n=e.fetchMore,i=e.refresh,a=Y(e,Z),l=(0,o.v9)(function(e){var t;return null!=(t=e.feeds[a.feedKey])?t:[]}),u=(0,o.v9)(function(e){return e.desktopStories}),d=(0,L.Z)(l,u),s=d.featuredBoardStoryId,c=d.feedStoryId,f=(0,o.v9)(function(e){return e.session.firstHomeFeedRequestAfterNux}),p=(0,o.I0)();return(0,M.jsx)(eu,V(V({},a),{},{featuredBoardStoryId:s,feedItems:l,feedStoryId:c,pagination:{hasNext:!t,isLoadingNext:r,loadNext:function(){return n()},refetch:function(){f?p((0,k.H5)(!1)):i()}}}))}function es(e){var t=e.resource,r=t.isAtEnd,n=t.isFetching,o=t.fetchMore,i=t.refresh,a=Y(e,K);return(0,M.jsx)(ed,V(V({},a),{},{fetchMore:o,isAtEnd:r,isFetching:n,refresh:i}))}function ec(e){var t=e.resourceConfig,r=Y(e,W),n=(0,h.Z)(t);return(0,M.jsx)(es,V(V({},r),{},{resource:n}))}function ef(e){var t=e.resourceRef,r=e.fetchMore,n=e.refresh,o=Y(e,U),i=(0,p.Z)(t).isAtEnd;return(0,M.jsx)(ed,V(V({},o),{},{fetchMore:r,isAtEnd:i,isFetching:!1,refresh:n}))}function ep(e){var t=e.resourceConfig,r=e.resourceRef,n=e.fetchMore,o=e.refresh,i=Y(e,G);return r?(0,M.jsx)(ef,V(V({},i),{},{fetchMore:null!=n?n:function(){},refresh:null!=o?o:function(){},resourceRef:r})):(0,M.jsx)(ec,V(V({},i),{},{resourceConfig:t}))}},559143:function(e,t,r){r.d(t,{IA:function(){return i},cV:function(){return o},do:function(){return a}});var n={},o=function(e){n[e]&&n[e].handlePullToRefresh()},i=function(e,t){n[e]=t},a=function(e){delete n[e]}},751961:function(e,t,r){var n=r(366859),o=r(382718);t.Z=function(e){var t=e.children;return(0,o.jsx)(n.Z,{onTouch:function(e){if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){var t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:t})}},469817:function(e,t,r){r.d(t,{Es:function(){return h},HW:function(){return p},er:function(){return g},rQ:function(){return m}});var n=r(111330),o=r(753143),i=r(603316);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,r){var n;return(n=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){return e>=Date.now()-72e5},c=function(e,t){var r=[];if(e){var n,o=u(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;(!t||i.is_shared)&&s(i.ts)&&r.push(i)}}catch(e){o.e(e)}finally{o.f()}}return r},f=function(e){var t={};if(e){var r,n=u(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.is_shared&&s(o.ts)&&o.pin_id&&(t[o.pin_id]={inviteCode:o.pin_invite_code})}}catch(e){n.e(e)}finally{n.f()}}return t},p=function(){var e,t,r=null!=(e=(0,o.M0)().getItem(n.uc))?e:[],i=c(r,!1),a=c(r,!0),l=i.map(function(e){return e.first_pin_image_signature}),u=a.map(function(e){return e.first_pin_image_signature}),d=f(r);return{extraPlpImages:l,plpImageRenderData:i,extraBlpImages:c(null!=(t=(0,o.M0)().getItem(n.hI))?t:[],!0).map(function(e){return e.first_pin_image_signature}),extraSharedImages:u,sharedPinData:d}},h=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(e[r].id!==t[r].id)return!1;return!0},m=function(e,t){return e.map(function(e){var r;return l(r={},1,e),l(r,2,(t[e]||[]).map(function(e){var t;return l(t={},1,e),l(t,2,"pin"),t})),r})},g=function(e,t,r,n){var o={};return e.forEach(function(e){var a,l=e.id,u=null!=(a=e.pins.length)?a:0;o[l]=u,(0,i.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",u,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:r,age:n,use_case_display_name:e.display_name}}),(0,i.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",u,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:r,age:n,use_case_display_name:e.display_name}})}),o}},629749:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(20256),o=r(667835),i=r(382718);function a(e){var t,r,a=e.color,l=e.image,u=e.isSelected,d=e.title,s=(0,o.vs)();return(0,i.jsxs)(n.xu,{alignItems:"center","aria-selected":u,dangerouslySetInlineStyle:{__style:{backgroundColor:s?u?"#fff":"#767676":u?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,i.jsx)(n.zd,{height:48,rounding:"circle",width:48,children:l.url&&(0,i.jsx)(n.Ee,{alt:"",color:a,fit:"cover",naturalHeight:null!=(t=l.height)?t:1,naturalWidth:null!=(r=l.width)?r:1,src:l.url})}),(0,i.jsx)(n.xu,{marginEnd:3,marginStart:2,children:(0,i.jsx)(n.xv,{color:u?"inverse":s?"light":"dark",weight:"bold",children:d})})]})}},431015:function(e,t,r){r.d(t,{ZN:function(){return u},fv:function(){return d},hr:function(){return l},lD:function(){return s}});var n=r(575108);function o(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function l(e){o(a,n,i,l,u,"next",e)}function u(e){o(a,n,i,l,u,"throw",e)}l(void 0)})}}function a(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}var l=function(e,t){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t}}},u=function(e,t,r){var n;return n=i(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o(l(e,!0)),n.prev=1,n.next=4,a(e,r).callCreate();case 4:t({event_type:601,object_id_str:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),o(l(e,!1));case 10:case"end":return n.stop()}},n,null,[[1,7]])})),function(e){return n.apply(this,arguments)}},d=function(e,t,r){var n;return n=i(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o(l(e,!1)),n.prev=1,n.next=4,a(e,r).callDelete();case 4:t({event_type:602,object_id_str:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),o(l(e,!0));case 10:case"end":return n.stop()}},n,null,[[1,7]])})),function(e){return n.apply(this,arguments)}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(r){return n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(function(){Object.keys(e).forEach(function(t){var n=e[t];r(l(t,n))})})}}},223700:function(e,t){var r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0};t.Z=function(e,t){return e?e.reduce(function(e,r,n){var o,i,a=e.boardShopModuleId,l=e.boardShopModuleIndex,u=e.featuredBoardStoryId,d=e.feed,s=e.feedStoryId,c=e.footerStoryId,f="story"===r.type&&(null==(o=t[r.id])?void 0:o.story_type),p="board_ideas_feed"===f,h="board_ideas_preview_detailed"===f,m=!1;return"board_shop_tool_module"===f&&(m=!!(null!=(i=t[r.id].custom_properties)&&i.is_full_width)),{feed:d.concat(h||p||m?[]:[r]),featuredBoardStoryId:"featured_boards"===f?r.id:u,feedStoryId:p?r.id:s,footerStoryId:h?r.id:c,boardShopModuleId:m?r.id:a,boardShopModuleIndex:m?n:l}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r}},676049:function(e,t,r){r.d(t,{Z:function(){return k}});var n,o,i=r(581722),a=r(492996),l=r(20256),u=r(521009),d=r(15667),s=r(38817),c=r(431015),f=r(19585),p=r(906553),h=r(629749),m=r(382718);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=["topicRef"],y=["topic","topicBlob","topicInfoForContextualExp"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var S=function(e){var t=e.backgroundColor,r=e.decreaseNamePadding,n=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=e.locale,u=e.nameTextSize,d=e.renderAsPill,s=e.showFollowerCount,c=e.topicName,g=e.followerCount,v=e.image,y=(0,f.ZP)(),b=(0,p.Z)(),w=(0,m.jsx)(l.JO,{accessibilityLabel:y._('Selected', ' - ', ' -- '),color:"light",icon:o?"check":"check-circle",size:o?12:24});return d?(0,m.jsx)(h.Z,{color:t||"#767676",image:v,isSelected:null!=i&&i,title:c}):(0,m.jsxs)(l.xu,{"aria-selected":i,position:"relative",children:[(0,m.jsx)(l.zd,{rounding:o||n?4:2,children:(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,m.jsx)(l.xu,{bottom:!0,left:!0,padding:o&&i?1:0,position:"absolute",right:!0,rounding:o&&i?4:0,top:!0,children:v.url&&(0,m.jsx)(l.Ee,{alt:c,color:t||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:v.url})}),(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:o&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:o?4:void 0,top:!0}),o&&i&&(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,m.jsx)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(l.xv,{align:"center",color:"light",size:u,weight:"bold",children:c})}):(0,m.jsxs)(l.xu,{bottom:!0,left:!0,padding:r?1:2,position:"absolute",right:!0,children:[(0,m.jsx)(l.xv,{color:"light",size:u,weight:"bold",children:c}),s&&g>=0&&(0,m.jsx)(l.xu,{paddingY:1,children:(0,m.jsxs)(l.xv,{color:"inverse",size:"100",children:[(0,m.jsx)(l.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:b(a,g,{shortform:!0,shortform_maximum_fraction_digits:1})}),y._('followers', ' - ', ' -- ')]})})]}),i&&(0,m.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:o?(0,m.jsx)(l.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:w}):w})]})},I=(void 0!==n||(n=r(530070)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==n.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),_=function(e){var t,r,n,o,i,l,u=e.topicRef,d=x(e,v),s=(0,a.useFragment)(I,u),c=s.images?{url:null!=(t=s.images.url)?t:"",width:null!=(r=s.images.width)?r:0,height:null!=(n=s.images.height)?n:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,m.jsx)(S,w({backgroundColor:null!=(o=s.background_color)?o:"",followerCount:null!=(i=s.follower_count)?i:0,image:c,topicName:null!=(l=s.name)?l:""},d))},P=function(e){var t,r,n,o,i=e.topic,a=e.topicBlob,l=e.topicInfoForContextualExp,u=x(e,y),d=l||i||a,s=(null==d||null==(t=d.images)?void 0:t["236x"])||(null==d||null==(r=d.images)?void 0:r["400x"])||(null==d||null==(n=d.images)?void 0:n["474x"])||(null==d||null==(o=d.images)?void 0:o.orig)||{height:1,url:"",width:1},c=d&&"follower_count"in d&&void 0!==d.follower_count?d.follower_count:-1;return(0,m.jsx)(S,w({backgroundColor:(null==d?void 0:d.background_color)||"",followerCount:c,image:s,topicName:(null==d?void 0:d.name)||""},u))},j=["decreaseNamePadding","isHomefeedTuner","isLego","isSelected","nameTextSize","onTouch","padding","renderAsPill","showFollowButton","showFollowerCount","shouldClickthrough","viewParameter","viewType"],T=function(e){var t=e.decreaseNamePadding,r=void 0!==t&&t,n=e.isHomefeedTuner,o=e.isLego,a=e.isSelected,f=void 0!==a&&a,p=e.nameTextSize,h=void 0===p?"lg":p,g=e.onTouch,v=e.padding,y=e.renderAsPill,b=e.showFollowButton,w=e.showFollowerCount,x=void 0!==w&&w,S=e.shouldClickthrough,I=e.topic,j=e.viewParameter,T=e.viewType,O=(0,i.I0)(),F=(0,u.Z)(),C=(0,d.B)().locale,k=(0,m.jsxs)(l.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==I.type?(0,m.jsx)(P,{decreaseNamePadding:r,isHomefeedTuner:n,isLego:o,isSelected:f,locale:C,nameTextSize:h,renderAsPill:y,showFollowerCount:x,topic:I.topic,topicBlob:I.topicBlob,topicInfoForContextualExp:I.topicInfoForContextualExp}):(0,m.jsx)(_,{decreaseNamePadding:r,isHomefeedTuner:n,isLego:o,isSelected:f,locale:C,nameTextSize:h,renderAsPill:y,showFollowerCount:x,topicRef:I.topicRef}),!!I&&void 0!==b&&b&&(0,m.jsx)(l.xu,{paddingY:2,children:(0,m.jsx)(s.Z,{followEventType:601,id:I.id,inline:n,invertColors:n,isFollowed:I.is_followed,onFollow:function(e){return O((0,c.ZN)(e,F))},onUnfollow:function(e){return O((0,c.fv)(e,F))},pinKey:null,size:"md",textType:n?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:j||void 0,viewType:T||void 0})})]}),A="/";return I&&(A="/topics/".concat(I.id)),void 0!==S&&S&&I.slug?(0,m.jsx)(l.Tg,{href:A,onTap:function(e){var t=e.event;null==g||g(t)},rounding:2,tapStyle:"compress",children:(0,m.jsx)(l.xu,{padding:void 0===v?2:v,children:k})}):k},O=(void 0!==o||(o=r(205529)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==o.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),F=function(e){var t,r,n=e.topicRef,o=e.decreaseNamePadding,i=e.isHomefeedTuner,l=e.isLego,u=e.isSelected,d=e.nameTextSize,s=e.onTouch,c=e.padding,f=e.renderAsPill,p=e.showFollowButton,h=e.showFollowerCount,g=e.shouldClickthrough,v=e.viewParameter,y=e.viewType,b=(0,a.useFragment)(O,n);return(0,m.jsx)(T,{decreaseNamePadding:void 0!==o&&o,isHomefeedTuner:i,isLego:l,isSelected:void 0!==u&&u,nameTextSize:void 0===d?"lg":d,onTouch:s,padding:void 0===c?2:c,renderAsPill:f,shouldClickthrough:void 0!==g&&g,showFollowButton:void 0!==p&&p,showFollowerCount:void 0!==h&&h,topic:{id:null!=(t=b.entityId)?t:"",type:"graphql",is_followed:null!=(r=b.is_followed)&&r,topicRef:b},viewParameter:v,viewType:y})},C=function(e){var t=e.id,r=e.topic,n=e.topicBlob,o=e.topicInfoForContextualExp,a=e.decreaseNamePadding,l=e.isHomefeedTuner,u=e.isLego,d=e.isSelected,s=e.nameTextSize,c=e.onTouch,f=e.padding,p=e.renderAsPill,h=e.showFollowButton,g=e.showFollowerCount,v=e.shouldClickthrough,y=e.viewParameter,b=e.viewType,w=(0,i.v9)(function(e){return e.topics[t]}),x=null!=r?r:w;return(0,m.jsx)(T,{decreaseNamePadding:void 0!==a&&a,isHomefeedTuner:l,isLego:u,isSelected:void 0!==d&&d,nameTextSize:void 0===s?"lg":s,onTouch:c,padding:void 0===f?2:f,renderAsPill:p,shouldClickthrough:void 0!==v&&v,showFollowButton:void 0!==h&&h,showFollowerCount:void 0!==g&&g,topic:{id:t,is_followed:!!(null!=x&&x.is_followed),topic:x,topicBlob:n,topicInfoForContextualExp:o,type:"resource"},viewParameter:y,viewType:b})},k=function(e){var t=e.decreaseNamePadding,r=void 0!==t&&t,n=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=void 0!==i&&i,l=e.nameTextSize,u=void 0===l?"lg":l,d=e.onTouch,s=e.padding,c=void 0===s?2:s,f=e.renderAsPill,p=e.showFollowButton,h=void 0!==p&&p,g=e.showFollowerCount,v=void 0!==g&&g,y=e.shouldClickthrough,b=void 0!==y&&y,w=e.viewParameter,x=e.viewType,S=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,j);return S.topicRef?(0,m.jsx)(F,{decreaseNamePadding:r,isHomefeedTuner:n,isLego:o,isSelected:a,nameTextSize:u,onTouch:d,padding:c,renderAsPill:f,shouldClickthrough:b,showFollowButton:h,showFollowerCount:v,topicRef:S.topicRef,viewParameter:w,viewType:x}):(0,m.jsx)(C,{decreaseNamePadding:r,id:S.id,isHomefeedTuner:n,isLego:o,isSelected:a,nameTextSize:u,onTouch:d,padding:c,renderAsPill:f,shouldClickthrough:b,showFollowButton:h,showFollowerCount:v,topic:S.topic,topicBlob:S.topicBlob,topicInfoForContextualExp:S.topicInfoForContextualExp,viewParameter:w,viewType:x})}}}]);