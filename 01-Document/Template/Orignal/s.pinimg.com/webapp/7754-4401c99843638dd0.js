"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["7754"],{138:function(e,t,n){n.d(t,{Z:function(){return o}});function o(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},865540:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(821342),r=n(675973),i=n(647709),a=n(448505),l=n(7872);function s(e){var t=(0,i.HG)(),n=(0,r.Z)().checkExperiment,s=(0,a.Z)(),c=(0,o.Z)(),u=(0,l.lJ)(c,s),d=!t||n("web_sce_organic_pinbuilder_dep").anyEnabled;return!u&&(e&&n("sce_lightswitch_organic"),!t||!!d)}},316658:function(e,t,n){n.d(t,{H$:function(){return w},MY:function(){return A},ZP:function(){return S}});var o=n(586659),r=n(20256),i=n(19585),a=n(302148),l=n(675973),s=n(45291),c=n(382718);function u(e){var t=e.shouldBlock,n=e.updateShouldBlock,o=e.user,u=(0,i.ZP)(),d=o.fullName,_=o.username,f=d?"".concat(d," (").concat(_,")"):_,p=(0,(0,l.Z)().checkExperiment)("ps_blocking_profile_visibility").anyEnabled;return(0,c.jsxs)(r.xu,{paddingY:3,children:[(0,c.jsx)(r.xv,{size:"100",children:(0,a.nk)(u._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:f})}),(0,c.jsxs)(r.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,c.jsx)(r.xu,{marginEnd:2,children:(0,c.jsx)(r.XZ,{checked:t,id:"blockUser",onChange:n})}),(0,c.jsx)(r.xu,{children:p?(0,c.jsx)(r.xv,{size:"300",children:(0,c.jsx)(s.Z,{})}):(0,c.jsx)(r.xv,{size:"300",children:(0,a.nk)(u._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,c.jsx)(r.xv,{inline:!0,size:"300",weight:"bold",children:(0,c.jsx)(r.rU,{display:"inlineBlock",href:"/".concat(_),onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:f},"blockUserLink")})})})})]})]})}var d={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function _(e){var t=e.objectToReport,n=e.selectedReason,o=e.shouldBlockUser,i=e.renderVideoReasonDetailPage,a=e.updateShouldBlockUser,l=n.detail_page_removal_examples,s=n.detail_page_removal_example_header,_=n.detail_page_non_removal_examples,f=n.detail_page_non_removal_example_header,p=n.detail_page_additional_text;return(0,c.jsxs)(r.xu,{paddingX:8,children:[(0,c.jsxs)(r.xu,{paddingY:3,children:[(0,c.jsx)(r.xv,{size:"100",children:s}),l.length>0&&(0,c.jsx)(r.xu,{paddingY:2,children:(0,c.jsx)("ul",{children:l.map(function(e,t){return(0,c.jsx)("li",{style:d,children:(0,c.jsx)(r.xv,{size:"300",children:e})},"removals-".concat(t))})})})]}),_.length>0&&(0,c.jsxs)(r.xu,{paddingY:3,children:[(0,c.jsx)(r.xv,{size:"100",children:f}),(0,c.jsx)(r.xu,{paddingY:2,children:(0,c.jsx)("ul",{children:_.map(function(e,t){return(0,c.jsx)("li",{style:d,children:(0,c.jsx)(r.xv,{size:"300",children:e})},"removals-".concat(t))})})})]}),p&&(0,c.jsx)(r.xu,{paddingY:3,children:(0,c.jsx)(r.xv,{size:"300",children:p})}),i&&i(),"conversation"===t.type&&a&&t.userToBlock&&(0,c.jsx)(u,{shouldBlock:!!o,updateShouldBlock:a,user:{username:t.userToBlock.username,fullName:t.userToBlock.fullName}})]})}var f=n(980787);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=p(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){var t=e.isSelectionStep,n=e.hasTimestampErrors,o=e.selectedReason,a=e.handleSubmitReport,l=e.onDismiss,s=e.step,u=e.shouldBlockUser,d=e.objectToReport,_=e.setStep,p=(0,i.ZP)(),h=(0,f.u)().logContextEvent,y=function(e){var t=e.component,n=e.element,o=e.event;d&&h({event_type:o,component:t,element:n,object_id_str:d.id,view_parameter:d.viewParameter||void 0,view_type:d.viewType||void 0})},m=function(e){d.type===w.PIN&&y({event:59,element:e.element_type}),e.open_web_url&&window.open(e.open_web_url,"_blank"),l()},g=function(e){return function(){e!==A&&y(b({event:101,component:13179},o?{element:o.element_type}:{})),_(e)}},v=t&&!(null!=o&&o.key)||!t&&n,x=!(!1===s&&o&&"secondary_reasons"in o&&null!=o&&o.secondary_reasons&&o.secondary_reasons.length>0),j=t?p._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):p._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),P=t?g(!1):function(){o&&a(b(b({reasonKey:o.key},{selectedReason:o}),{shouldBlockUser:u}))};null!=o&&o.open_web_url&&(P=function(){return m(o)});var S=t?p._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):p._('Back', 'ReportModal.backButton', 'Back button'),k=t?l:g(!0);return(0,c.jsxs)(r.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,c.jsx)(r.xu,{paddingX:1,children:(0,c.jsx)(r.xu,{"data-test-id":"report-pin-back-button",children:(0,c.jsx)(r.zx,{onClick:k,size:"lg",text:S})})}),x&&(0,c.jsx)(r.xu,{paddingX:1,children:(0,c.jsx)(r.xu,{"data-test-id":"report-pin-submit-button",children:(0,c.jsx)(r.zx,{color:"red",disabled:null!=v&&v,onClick:P,size:"lg",text:j})})})]})}var m=n(948042);function g(e){var t=e.handleSelectedReason,n=e.reason,o=e.reportingReasons,a=(0,i.ZP)();return(0,c.jsx)(r.xu,{paddingX:4,paddingY:2,children:(0,c.jsx)(r.FX,{id:"select-reporting-reason",legend:a._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:o.map(function(e){return(0,c.jsx)(r.xu,{direction:"row",display:"flex",paddingX:4,children:(0,c.jsx)(r.xu,{"data-test-id":"report-pin-reason-".concat(e.key),children:(0,c.jsx)(r.FX.RadioButton,{checked:e.key===n,helperText:e.secondary_text||"",id:e.key,label:e.primary_text||"",name:"reportPinOptions",onChange:function(){return t(e)},value:e.key})})},"Option-".concat(e.key))})})})}var v=n(982166),x=n(636921);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var A=!0,w={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function S(e){var t=e.onDismiss,n=e.handleSubmitReport,a=e.hasTimestampErrors,l=e.objectToReport,s=e.renderVideoReasonDetailPage,u=e.reportingReasons,d=e.showSuccessReportMessage,f=(0,i.ZP)(),p=j((0,o.useState)(null),2),h=p[0],b=p[1],P=j((0,o.useState)(!1),2),S=P[0],k=P[1],z=j((0,o.useState)(A),2),C=z[0],B=z[1],O=(0,x.Z)(),R=function(e){b(e)},I=function(){if(C!==A&&null!=h&&h.detail_page_header_text)return h.detail_page_header_text;switch(l.type){case w.PIN:return f._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case w.USER:return f._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case w.CONVERSATION:return f._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case w.BOARD:return f._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return u?(0,c.jsx)(v.ZP,{accessibilityModalLabel:I(),footer:u&&(0,c.jsx)(y,{handleSubmitReport:n,hasTimestampErrors:a,isSelectionStep:C===A,objectToReport:l,onDismiss:t,selectedReason:h,setStep:B,shouldBlockUser:S,step:C}),heading:I(),onDismiss:t,children:(0,c.jsxs)(r.xu,{"data-test-id":"report-modal",children:[C===A&&(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(g,{handleSelectedReason:R,reason:null==h?void 0:h.key,reportingReasons:u}),d&&(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(r.xu,{borderStyle:"sm",marginBottom:4,marginEnd:8,marginStart:8,marginTop:4}),(0,c.jsx)(r.xu,{marginEnd:4,marginStart:4,children:(0,c.jsx)(r.he,{message:f._('Blocked. To manage your block list, see social permissions in settings.', 'pinReporting.successBlockMessage', 'Success block message after block and report action'),type:"success"})})]})]}),C!==A&&h&&"secondary_reasons"in h&&null!=h&&h.secondary_reasons&&h.secondary_reasons.length>0?(0,c.jsx)(m.Z,{onChange:R,secondaryReasons:h.secondary_reasons}):C!==A&&h&&(0,c.jsx)(_,{objectToReport:l,renderVideoReasonDetailPage:s,selectedReason:h,shouldBlockUser:S,updateShouldBlockUser:function(){l.userToBlock&&(S||O(),k(!S))}})]})}):(0,c.jsx)(r.xH,{accessibilityLabel:f._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},948042:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(20256),r=n(19585),i=n(382718);function a(e){var t=e.onChange,n=e.secondaryReasons,a=(0,r.ZP)();return(0,i.jsx)(o.xu,{children:n.map(function(e){return(0,i.jsx)(o.iP,{onTap:function(){return e.open_web_url?window.open(e.open_web_url,"_blank"):t(e)},children:(0,i.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,i.jsx)(o.xu,{paddingX:8,children:(0,i.jsx)(o.xv,{children:e.primary_text})}),(0,i.jsx)(o.xu,{"data-test-id":"secondary-reason-container",paddingX:8,children:e.open_web_url?(0,i.jsx)(o.JO,{accessibilityLabel:a._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",dataTestId:"secondary-reason-outside-link-icon",icon:"arrow-up-right"}):(0,i.jsx)(o.JO,{accessibilityLabel:a._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",dataTestId:"secondary-reason-icon",icon:"arrow-forward"})})]})},e.key)})})}},95763:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(475498),r=n(19585),i=n(87853),a=n(382718);function l(){var e=(0,r.ZP)(),t=(0,i.dI)().showToast;return{showErrorToast:function(){t(function(t){var n=t.hideToast;return(0,a.jsx)(o.Z,{onHide:n,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')})})},showSuccessToast:function(){t(function(t){var n=t.hideToast;return(0,a.jsx)(o.Z,{onHide:n,text:e._('Thanks. For updates, see your reports and violations center.', 'userReporting.handleSubmitReport.toast', 'This string appears on a banner that is displayed for a few seconds after the user submits a report, such as for content that violates Pinterest\u2019s policies. This banner confirms receipt and lets the user know where they can find updates. \u201Creports and violations center\u201D is the name of a feature within settings. It is a common noun. The tone of this is neutral and calm.')})})}}}},900675:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(586659),r=n(581722),i=n(849233),a=n(707079);function l(e){var t=e.name,n=e.optionsKey,l=t===i.fY,s=(0,a.MA)(),c=null==s?void 0:s.get(t,n);if(c)throw c;var u=function(e){var o;return null==(o=e[t])?void 0:o[n]},d=(0,r.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.nextBookmark}),_=(0,r.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.data}),f=(0,r.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.auxData}),p=(0,r.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.error}),h=(0,o.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return h.current;var b={auxData:f,data:_,error:p,isAtEnd:d===i.qx,nextBookmark:d};return(b.auxData!==h.current.auxData||b.data!==h.current.data||b.error!==h.current.error||b.isAtEnd!==h.current.isAtEnd||b.nextBookmark!==h.current.nextBookmark)&&(h.current=b),h.current}},444185:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(849233),r=n(943257);function i(e){var t=null!=e?e:{name:o.fY,options:null},n=t.enabledRouteRefresh,i=t.headers,a=t.name,l=t.noCache,s=t.options,c=t.schema,u=!e,d=(0,r.Z)({enabledRouteRefresh:n,headers:i,name:a,noCache:l,options:s,schema:c},u,!1),_=d.fetchResource,f=d.ref,p=d.fetchMore,h=d.isFetching,b=d.isLoaded,y=d.isRefreshing,m=d.refresh;return u||_(),{ref:f,fetchMore:p,isFetching:h,isLoaded:b,isRefreshing:y,refresh:m}}},45291:function(e,t,n){n.d(t,{Z:function(){return d}});var o=n(20256),r=n(980787),i=n(19585),a=n(302148),l=n(694955),s=n(647709),c=n(382718),u=l.K_Y+"?source=block_dialogue";function d(){var e=(0,i.ZP)(),t=(0,s.HG)(),n=(0,r.u)().logContextEvent,l=function(){n({event_type:t?101:102,component:13})};return(0,a.XB)({text:e._('You won\u2019t be able to see, follow or contact each other, or save each other\u2019s Pins. People aren\u2019t notified when you block them. <strong id="1">Learn more</strong>', 'blockingUsers.description', 'description of blocking users'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,c.jsx)(o.rU,{display:"inlineBlock",href:u,onClick:l,target:"blank",children:t})}}})}},636921:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(20256),r=n(475498),i=n(19585),a=n(87853),l=n(382718);function s(){var e=(0,a.dI)().showToast,t=(0,i.ZP)();return function(){e(function(e){var n=e.hideToast;return(0,l.jsx)(r.Z,{duration:5e3,onHide:n,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,l.jsx)(o.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}})})}}},199593:function(e,t,n){n.d(t,{k:function(){return r}});var o=(0,n(729434).Z)("Conversations"),r=o.Provider;t.Z=o.get},984126:function(e,t,n){var o=n(20256),r=n(19585),i=n(382718);t.Z=function(e){var t=e.isInModal,n=(0,r.ZP)();return(0,i.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),children:(0,i.jsx)(o.xH,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},644024:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(20256),r=n(382718);function i(e){var t=e.accessibilityLabel,n=e.accessibilityControls,i=e.accessibilityExpanded,a=e.bgColor,l=e.icon,s=e.iconColor,c=e.onClick,u=e.selected,d=e.size,_=e.tooltip;return(0,r.jsx)(o.hU,{accessibilityControls:n,accessibilityExpanded:i,accessibilityLabel:t,bgColor:null!=a?a:"transparent",icon:l,iconColor:null!=s?s:"darkGray",onClick:c,selected:u,size:null!=d?d:"lg",tooltip:_?{text:_}:void 0})}},821115:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(586659),r=n(20256),i=n(644024),a=n(382718);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function s(e){var t,n=e.bgColor,s=e.children,c=e.label,u=e.icon,d=e.iconColor,_=e.id,f=e.size,p=e.tooltip,h=(0,o.useRef)(null),b=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(o=i.call(n)).done)&&(l.push(o.value),2!==l.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=b[0],m=b[1],g=function(){return m(!1)},v="actionBarMenuButton";return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(r.xu,{ref:h,"data-test-id":_,children:(0,a.jsx)(i.Z,{accessibilityControls:v,accessibilityExpanded:y,accessibilityLabel:c,bgColor:n,icon:u,iconColor:d,onClick:function(){return m(!y)},selected:y,size:f,tooltip:p})}),y&&(0,a.jsx)(r.Lt,{anchor:h.current,disableMobileUI:!0,id:v,idealDirection:"down",onDismiss:g,zIndex:new r.Ry(1e3),children:s({handleClose:g})})]})}},349417:function(e,t,n){n.d(t,{Fj:function(){return c},JI:function(){return u},aG:function(){return s}});var o=n(586659),r=n(382718);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var a=(0,o.createContext)(),l=(0,o.createContext)();function s(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(o=i.call(n)).done)&&(l.push(o.value),2!==l.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1];return(0,r.jsx)(a,{value:c,children:(0,r.jsx)(l,{value:u,children:n})})}function c(){var e=(0,o.useContext)(a);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function u(){var e=(0,o.useContext)(l);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},812577:function(e,t,n){n.d(t,{I:function(){return c}});var o=n(886981),r=n(947810),i=["children"];function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var s=function(e){var t=e.boardId,n=e.ownerUsername,i=e.ownerName,s=e.ownerImgSrc,c=(0,r.Z)(),u=(0,o.Z)({name:"BoardInvitesResource",options:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},c?{orbac_subject_id:c}:{})}),d=u.data,_=u.isLoaded,f=[{name:i,src:s,href:"/".concat(n,"/"),isDim:!1}];return _&&d&&d.length>0&&d.forEach(function(e){f.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),f};function c(e){return(0,e.children)(s(function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if(({}).hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i)))}t.Z=s},664973:function(e,t,n){n.d(t,{Z:function(){return v}});var o=n(586659),r=n(20256),i=n(980787),a=n(19585),l=n(340323),s=n(382718);function c(e){var t=e.anchor,n=e.hideAddSectionTooltip,o=(0,a.ZP)();return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(r.pl,{anchor:t,idealDirection:"down",message:o._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:n})})})}var u=n(865540),d=n(675973),_=n(913852);function f(e){var t=e.anchor,n=e.idealDirection,i=e.onAddOrEditDate,l=e.onAddSection,c=e.onClose,f=e.onCreateBoard,p=e.onCreateCollage,h=e.onCreatePin,b=e.onCreateStoryPin,y=e.surface,m=e.isWithinFixedContainer,g=e.id,v=(0,a.ZP)(),x=(0,u.Z)(!0),j=(0,d.Z)().checkExperiment,P=["profileBoards","profilePins"].includes(y),A=P&&j("web_curation_board_create_entry_points").anyEnabled,w=P&&j("web_partner_collage_creation").anyEnabled,S=(0,o.useMemo)(function(){return{pin:v._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:v._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:v._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),collage:v._('Collage', 'profileHeader.actionBar.collage', 'Option to create a collage'),section:v._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:v._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),new:v._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}},[v]),k=[!x&&(0,s.jsx)(r.Lt.Item,{dataTestId:"Create Pin",onSelect:function(){h(),c()},option:{label:S.pin,value:S.pin}},"actions-create-0"),b&&(0,s.jsx)(r.Lt.Item,{dataTestId:"Create Story Pin",onSelect:function(){b(),c()},option:{label:x?S.pin:S.rename,value:x?S.pin:S.rename}},"actions-create-1"),P&&f&&(0,s.jsx)(r.Lt.Item,{dataTestId:"Create board",onSelect:function(){f(),c()},option:{label:S.board,value:S.board}},"actions-create-2"),w&&p&&(0,s.jsx)(r.Lt.Item,{dataTestId:"Create Collage",onSelect:function(){p(),c()},option:{label:S.collage,value:S.collage}},"actions-create-3")].filter(Boolean);return(0,s.jsxs)(r.Lt,{anchor:t,id:g||"board_actions",idealDirection:n||"down",isWithinFixedContainer:m,onDismiss:c,zIndex:_.PJ,children:[A?k:(0,s.jsx)(r.Lt.Section,{label:v._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:k}),"board"===y&&(0,s.jsx)(r.Lt.Section,{label:v._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[l&&(0,s.jsx)(r.Lt.Item,{dataTestId:"addSection",onSelect:function(){l(),c()},option:{label:S.section,value:S.section}},"actions-add-1"),!!i&&(0,s.jsx)(r.Lt.Item,{onSelect:function(){i(),c()},option:{label:S.date,value:S.date}},"actions-add-2")].filter(Boolean)})]})}var p=n(937392),h=n(349417);function b(e){var t=e.anchor,n=(0,h.JI)();return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(p.Qp,{anchor:t,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:function(){n(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function y(e){var t=e.anchor;return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(p.Qp,{anchor:t,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var m=n(125675);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function v(e){var t,n,l,u=e.children,d=e.idealDirection,_=e.onAddOrEditDate,p=e.onAddSection,h=e.onCreateBoard,v=e.onCreateCollage,x=e.onCreatePin,j=e.onCreateStoryPin,P=e.onOpen,A=void 0===P?function(){}:P,w=e.surface,S=e.isWithinFixedContainer,k=(0,a.ZP)(),z=null!=(n=(0,m.K)())?n:{},C=z.showCreateSectionTooltip,B=z.setShowCreateSectionTooltip,O=(0,i.u)().logContextEvent,R=function(){return B(!1)},I=(0,o.useRef)(null),T=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(o=i.call(n)).done)&&(l.push(o.value),2!==l.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=T[0],Z=T[1],D=function(){A(),C&&R(),Z(!0),O({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},L=function(){return Z(!1)},M=function(){E?L():D()},F={board:k._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:k._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:k._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:k._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},U="board_actions",N=u&&u({active:E,openFlyout:M,accessibilityControls:U,accessibilityLabel:F[w],accessibilityExpanded:E})||(0,s.jsx)(r.hU,{accessibilityControls:U,accessibilityLabel:F[w],icon:"add",iconColor:"gray",onClick:"section"===w?x:M,size:"lg"});return!E&&"board"===w&&(C?l="addSectionTooltip":_&&(l="planningActionsExperience")),E||"profileBoards"!==w||(l="createBoardTooltip"),(0,s.jsxs)(r.xu,{"data-test-id":"boardActionsButton",children:[(0,s.jsx)(r.xu,{ref:I,children:N}),E&&(0,s.jsx)(f,{anchor:I.current,id:U,idealDirection:d,isWithinFixedContainer:!!S,onAddOrEditDate:_,onAddSection:p,onClose:L,onCreateBoard:h,onCreateCollage:v,onCreatePin:x,onCreateStoryPin:j,surface:w}),"addSectionTooltip"===l&&(0,s.jsx)(c,{anchor:I.current,hideAddSectionTooltip:R}),"planningActionsExperience"===l&&(0,s.jsx)(y,{anchor:I.current}),"createBoardTooltip"===l&&(0,s.jsx)(b,{anchor:I.current})]})}},125675:function(e,t,n){n.d(t,{K:function(){return c},M:function(){return u}});var o=n(586659),r=n(729434),i=n(382718);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var l=(0,r.Z)("CreateSectionTooltip"),s=l.Provider,c=l.getMaybe;function u(e){var t,n=e.children,r=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(o=i.call(n)).done)&&(l.push(o.value),2!==l.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=r[0],c=r[1],u=(0,o.useMemo)(function(){return{showCreateSectionTooltip:l,setShowCreateSectionTooltip:c}},[l]);return(0,i.jsx)(s,{value:u,children:n})}}}]);