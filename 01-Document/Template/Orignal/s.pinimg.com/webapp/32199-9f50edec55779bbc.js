"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["32199"],{138:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},390843:function(e,t,r){r.d(t,{aX:function(){return g},nK:function(){return P},ou:function(){return m}});var n=r(586659),o=r(650533),i=r(963489),u=r(729434),c=r(382718);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=(0,u.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),y=b.Provider,m=b.get,h=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function v(e,t){var r,n={action:t.type,location:t.location,match:t.match};if(t.location===(null==(r=e.current)?void 0:r.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&h(e.forward[0].location)===h(n.location))return p(p({},e),{},{forward:e.forward.slice(1),current:p(p({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(l(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return p(p({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(l(e.forward)):e.forward,current:p(p({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return p(p({},e),{},{forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[].concat(l(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return p(p({},e),{},{current:n});default:return e}}function g(){var e=m(),t=e.current,r=e.previous;return(0,n.useMemo)(function(){return t?r.concat(t):r},[t,r])}function P(e){var t,r=e.children,u=(0,o.k6)(),a=(0,i.TH)(),l=(0,o.$B)(),f={forward:[],current:{action:u.action,location:a,match:l},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(v,f))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{for(i=(r=r.call(e)).next;!(a=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,2)||s(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],b=d[1],m=(0,n.useRef)(a),h=(0,n.useRef)(l);return(m.current!==a||h.current!==l)&&(b({type:u.action,location:a,match:l}),m.current=a,h.current=l),(0,c.jsx)(y,{value:p,children:r})}},5080:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){var o;return(o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{N3:function(){return u},Ql:function(){return c},S$:function(){return l},a$:function(){return a},kx:function(){return f},mS:function(){return s}});var i,u=4,c=.35,a=.5,l="170x",s="136x136",f=(o(i={},1,14114),o(i,3,14074),o(i,4,14268),i)},140725:function(e,t,r){r.d(t,{Q:function(){return f},Z:function(){return d}});var n=r(586659),o=r(521009),i=r(346955),u=r(991384),c=r(15667);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){var r=(0,i.A$)().setViewContextData,a=(0,c.B)().requestIdentifier,l=(0,o.Z)(),f=(0,i.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,u.Z)(f,e.view_data):f,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),l(s(s({},e),{},{event_type:13,request_identifier:a}))}},[t])}function d(e){var t=e.children;return f(e.log),t||null}},521009:function(e,t,r){var n=r(980787);t.Z=function(){return(0,n.u)().logContextEvent}},115247:function(e,t,r){var n=r(586659);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}t.Z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&i(d,e);var t,r,f=(t=c(),function(){var e,r=a(d);return e=t?Reflect.construct(r,arguments,a(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function d(){var e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return l(u(e=f.call.apply(f,[this].concat(r))),"ref",(0,n.createRef)()),l(u(e),"observer",null),l(u(e),"handleVisibilityChanged",function(t,r){e.props.onVisibilityChange(t,r)}),e}return r=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}(d.prototype,r),Object.defineProperty(d,"prototype",{writable:!1}),d}(n.Component)},123998:function(e,t,r){var n=r(586659),o=r(20256),i=r(390843),u=r(115247),c=r(15667),a=r(734215),l=r(998212),s=r(732888),f=r(738140),d=r(169053),p=r(382718);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}var j=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&h(c,e);var t,r,i=(t=g(),function(){var e,r=P(c);return e=t?Reflect.construct(r,arguments,P(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function c(e){var t;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return _(v(t=i.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),_(v(t),"getContext",function(){var e=t.props,r=e.clientTrackingParams,n=e.component,o=e.element,i=e.objectId,u=e.timeSpentContext,c=e.view,a=e.viewParameter;return{view:c||(null==u?void 0:u.view),viewParameter:a||(null==u?void 0:u.viewParameter),component:n||(null==u?void 0:u.component),element:o,objectId:i||(null==u?void 0:u.objectId),clientTrackingParams:r||(null==u?void 0:u.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),_(v(t),"getLoggerContext",function(){var e=m({},t.getContext());return delete e.getParentUuid,e}),_(v(t),"getParentId",function(){var e,r=t.props,n=r.timeSpentContext,o=r.shouldUseGrandparentId;if(void 0!==o&&o&&n&&n.getGrandparentUuid){var i=n.getGrandparentUuid();if(i)return i}return null==n||null==(e=n.getParentUuid)?void 0:e.call(n)}),_(v(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),_(v(t),"getTimedPair",function(){return t.state.timedPair}),_(v(t),"setTimedPair",function(e,r){t.setState({timedPair:e},function(){r&&r()})}),_(v(t),"isRegistered",!1),_(v(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(v(t)),t.isRegistered=!0}),_(v(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(v(t)),t.isRegistered=!1)}),_(v(t),"handleVisibilityChange",function(e){var r=e[0].intersectionRatio,n=e[0].intersectionRect,o=n.bottom,i=n.left,u=n.right,c=n.top;r>0?t.registerComponent():0===r&&(0===o&&0===i&&0===u&&0===c?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new s.Z(t.getLoggerContext())},t}return r=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,a.Z)(e.auxData,this.props.auxData)&&(0,a.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.intersectionObserverBoxHeight;return(0,p.jsx)(f.$,{value:this.getContext(),children:(0,p.jsx)(u.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:function(e){return(0,p.jsx)(o.xu,{ref:e,height:null!=r?r:"100%",children:n.Children.only(t)})}})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}(c.prototype,r),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function w(e){var t,r=(0,i.ou)(),o=(0,f.a)(),u=(0,l.Z)(),a=(0,d.EQ)(),s=(0,c.B)().requestIdentifier,b=m({app_instance_id:(void 0===s?"":s).slice(0,8)},null!=(t=e.auxData)?t:{});return(0,n.useEffect)(function(){null==u||u.setHistoryStackContext(r)},[r,u]),(0,n.useEffect)(function(){null==u||u.setPins(null!=a?a:{})},[a,u]),u?(0,p.jsx)(j,m(m({},e),{},{auxData:b,timeSpentContext:o,timeSpentManager:u,children:e.children})):e.children}w.displayName="DeprecatedTimeSpent",t.Z=w},738140:function(e,t,r){r.d(t,{$:function(){return o},a:function(){return i}});var n=(0,r(729434).Z)("timeSpentContext"),o=n.Provider,i=n.getMaybe},732888:function(e,t,r){r.d(t,{h:function(){return a}});var n,o=r(672410),i=r(573313);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor((window.performance.timeOrigin+window.performance.now())*1e6)}:function(){return 1e6*Date.now()};Object.defineProperty(n=function e(t){var r=this;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");c(this,"start",function(){return r.startTime=a(),r.startTime}),c(this,"end",function(){return r.endTime=a(),r.duration=r.startTime?r.endTime-r.startTime:null,r.duration});try{this.uuid=(0,o.Z)()}catch(e){this.uuid=(0,i.Z)()}t&&Object.assign(this,t)},"prototype",{writable:!1}),t.Z=n},998212:function(e,t,r){r.d(t,{$:function(){return o}});var n=(0,r(729434).Z)("TimeSpentManagerContext"),o=n.Provider;t.Z=n.getMaybe},821651:function(e,t,r){r.d(t,{r:function(){return x},W:function(){return E}});var n=r(586659),o=r(729434),i=r(821342),u=r(886981),c=r(295317),a=r(121836),l=r(238589),s=r(974705);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function e(t){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("object"!==p(t[n])||null===t[n]||Array.isArray(t[n])?r[(0,s.Z)(n)]=t[n]:r[(0,s.Z)(n)]=e(t[n]));return r},y=function(e,t){var r=[];for(var n in e)n!==t&&r.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:n},b(e[n])));var o,i=r.sort(function(e,t){var r=e.user.businessName,n=t.user.businessName;return r.localeCompare(n)}),u=new Map,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,void 0):void 0}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}(i);try{for(c.s();!(o=c.n()).done;){var a=o.value;u.set(a.id,a)}}catch(e){c.e(e)}finally{c.f()}return u};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=function(e,t){switch(t.type){case"LOAD_PROFILES":return g(g({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return g(g({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return g(g({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return g(g({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return g(g({},e),{},{disableProfileChanger:t.payload});default:return e}},O=function(e){var t=e.dispatch,r=e.isEnabled,o=e.state,i=o.orbacVisibility,u=o.disableProfileChanger,c=o.headerVisible;return{changeProfile:(0,n.useCallback)(function(e){r&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[r,t]),toggleORBACVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[r,t,i]),toggleDisableProfileChanger:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!u})},[r,t,u]),toggleHeaderVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!c})},[r,t,c])}},j=function(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(_,P))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{for(i=(r=r.call(e)).next;!(a=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],u=O({dispatch:i,isEnabled:e,state:o}),c=o.activeProfile,s=o.orbacVisibility;return(0,n.useEffect)(function(){var e=(0,l.Nl)().getItem(a.Zo)||!1;e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(function(){var e=(0,l.Nl)().getItem(a.ig)||!1;e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(function(){(0,l.Nl)().setItem(a.ig,s)},[s]),(0,n.useEffect)(function(){(0,l.Nl)().setItem(a.Zo,c)},[c]),{state:o,actions:u,receiveProfiles:(0,n.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:y(e,t)})},[i])}},w=r(382718),S=(0,o.Z)("RoleBasedAccessControlContext"),A=S.Provider,E=S.getMaybe,x=function(e){var t=e.children,r=(0,i.Z)(),o=!!(r.isAuth&&r.isPartner),a=j(o),l=a.state,s=a.actions,f=a.receiveProfiles,d=l.activeProfile,p=l.headerVisible,b=l.profiles,y=(0,n.useMemo)(function(){return b?Array.from(b.values()):[]},[b]),m=(0,c.Z)(y),h=!!r.isAuth&&y.length>0&&m,v=r.isAuth?r.id:"",g=r.isAuth?r.username:"",P=s.changeProfile,_=s.toggleORBACVisibility,O=s.toggleDisableProfileChanger,S=s.toggleHeaderVisibility;(0,n.useEffect)(function(){if(o){if("string"==typeof m)return void P(m);d||P(v)}},[m,v,o,P,d]),(0,n.useEffect)(function(){o&&(h&&!p&&S(!0),!h&&p&&S(!1))},[S,h,o,p,b]);var E=(0,u.Z)(o?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,x=null==E?void 0:E.profiles,C=(0,n.useMemo)(function(){return r&&r.isAuth&&d===r.id?{id:r.id,permissions:["OWNER"],user:{username:g,businessName:r.fullName,imgUrl:r.imageSmallUrl}}:d&&b?b.get(d):void 0},[d,b,r,g]);(0,n.useEffect)(function(){x&&f(x,v)},[f,x,v]);var T=(0,n.useMemo)(function(){return{profiles:y,headerVisible:p,activeProfile:C,changeProfile:P,toggleORBACVisibility:_,toggleDisableProfileChanger:O,toggleHeaderVisibility:S}},[y,p,C,P,_,O,S]);return(0,w.jsx)(A,{value:T,children:t})}},448505:function(e,t,r){var n=r(586659),o=r(675973),i=r(821651),u=r(295317),c=Object.freeze({});t.Z=function(){var e=(0,o.Z)().checkExperiment,t=(0,i.W)(),r=(t||{}).activeProfile,a=(0,u.Z)((null==t?void 0:t.profiles)||[]),l=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return(0,n.useMemo)(function(){return l&&!a?c:r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:c},[l,a,r])}},295317:function(e,t,r){var n=r(650533),o=r(963489),i=r(821342),u=r(506662),c=r(169053);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.Z=function(e){var t,r,l,s,f=(0,o.TH)(),d=(0,i.Z)(),p=(0,c.S6)(),b=(0,n.$B)("/:username"),y=null==b||null==(t=b.params)?void 0:t.username,m=(0,n.$B)("/pin/:id"),h=!!(null!=m&&null!=(r=m.params)&&r.id)&&(null==(l=p(m.params.id))||null==(s=l.pinner)?void 0:s.id);if((0,u.ej)(f))return!1;if((0,u.RU)(f)||(0,u.mY)(f))return!0;var v=[].concat(a(e),a(d.isAuth?[{user:{username:d.username},id:d.id}]:[])).find(function(e){if(!e)return!1;var t=e.user,r=e.id;return(!!t&&"username"in t&&!!t.username&&!!y||!!h&&!!r)&&(t.username===y||h===r)});return!!v&&v.id}},7872:function(e,t,r){r.d(t,{D3:function(){return f},DX:function(){return l},Fk:function(){return n},KY:function(){return d},Ms:function(){return o},N1:function(){return p},_P:function(){return a},gJ:function(){return i},lJ:function(){return c},nl:function(){return u},q6:function(){return s}});var n=function(e,t){var r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},o=function(e,t){var r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},i=function(e,t){var r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},u=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},c=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,r){var n;return r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:null==(n=e.advertiser)?void 0:n.merchant_id},l=function(e,t,r){return r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},s=function(e,t,r){return!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t)},f=function(e,t,r){return!!(s(e,t,r)||e&&e.isAuth&&t===e.id)},d=function(e,t,r){return f(e,t&&t.owner&&t.owner.id||"",r)};function p(e,t,r){return f(e,t?t.id:"",r)}},169053:function(e,t,r){r.d(t,{EQ:function(){return l},JC:function(){return a},S6:function(){return s},_S:function(){return f}});var n=r(581722),o=r(729434),i=r(382718),u=(0,o.Z)("Pins"),c=u.Provider,a=u.get,l=u.getMaybe;function s(){var e=a();return function(t){return e[t]}}function f(e){var t=e.children,r=(0,n.v9)(function(e){return e.pins},n.wU);return(0,i.jsx)(c,{value:r,children:t})}},598786:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(586659),o=r(20256),i=r(980787),u=r(982166),c=r(19585),a=r(382718);function l(e){var t=e.onDelete,r=e.onHide,l=(0,i.u)().logContextEvent,s=(0,c.ZP)(),f=function(){l({event_type:7595}),r()};return(0,a.jsx)(u.ZP,{accessibilityModalLabel:s._('Delete this Pin', 'Accessibility label for modal to delete this scheduled pin', 'Accessibility label for modal to delete this scheduled pin'),footer:(0,a.jsx)(n.Fragment,{children:(0,a.jsx)(o.xu,{marginTop:12,children:(0,a.jsxs)(o.kC,{alignItems:"end",direction:"row",gap:2,justifyContent:"center",children:[(0,a.jsx)(o.zx,{color:"gray",fullWidth:!0,onClick:f,text:s._('Cancel', 'Button label for cancelling the action to delete scheduled Pin', 'Button label for cancelling the action to delete scheduled Pin')}),(0,a.jsx)(o.xu,{"data-test-id":"delete-pin-button",children:(0,a.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:function(){l({event_type:101,component:13312,element:10981}),t()},text:s._('Delete', 'Button label for confirming the action of deleting scheduled Pin', 'Button label for confirming the action of deleting scheduled Pin')})})]})})}),heading:s._('Delete this Pin', 'scheduledPinDelete.modal.header', 'Heading for modal to delete this scheduled pin'),onDismiss:f,size:"sm",children:(0,a.jsx)(o.xu,{marginBottom:12,padding:4,children:(0,a.jsx)(o.xv,{align:"center",children:s._('Once you\'ve deleted it, you can\'t get it back.', 'scheduledPinDelete.modal.description', 'Text to confirm whether user wants to delete the scheduled pin')})})})}},112687:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(586659),o=r(20256),i=r(980787),u=r(166379),c=r(982166),a=r(19585),l=r(302148),s=r(15667),f=r(382718);function d(e){var t=e.scheduledTimestamp,r=e.onHide,d=e.onPublish,p=(0,i.u)().logContextEvent,b=(0,a.ZP)(),y=(0,s.B)(),m=new Date(1e3*t),h=function(){p({event_type:7595}),r()};return(0,f.jsx)(c.ZP,{accessibilityModalLabel:b._('Publish this Pin now', 'Accessibility label for modal to publish this scheduled pin right now', 'Accessibility label for modal to publish this scheduled pin right now'),footer:(0,f.jsx)(n.Fragment,{children:(0,f.jsx)(o.xu,{marginTop:12,children:(0,f.jsxs)(o.kC,{alignItems:"end",direction:"row",gap:2,justifyContent:"center",children:[(0,f.jsx)(o.zx,{color:"gray",fullWidth:!0,onClick:h,text:b._('Cancel', 'Button label for cancelling the action to publish scheduled Pin right now', 'Button label for cancelling the action to publish scheduled Pin right now')}),(0,f.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:function(){p({event_type:101,component:13313,element:10980}),d()},text:b._('Publish', 'Button label for confirming the action of publishing scheduled Pin right now', 'Button label for confirming the action of publishing scheduled Pin right now')})]})})}),heading:b._('Publish this Pin?', 'publishPinNow.modal.header', 'Heading for modal to publish this scheduled pin right now'),onDismiss:h,size:"sm",children:(0,f.jsx)(o.xu,{marginBottom:12,padding:4,children:(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(o.xv,{align:"center",children:b._('By publishing this Pin, you cancel the scheduled publish date of', 'publishPinNow.modal.description', 'Followed by the time string meaning the time when pin is scheduled publish. date:date for the scheduled pin. time:time for the scheduled pin')}),(0,f.jsx)(o.xv,{align:"center",children:(0,l.nk)(b._('{{ date }} at {{ time }}.', 'publishPinNow.modal.descriptionDateAndTime', 'Time and Date when pin is scheduled to be published. date:date for the scheduled pin. time:time for the scheduled pin'),{date:(0,f.jsx)(u.Z,{dateFormatType:u.k.SHORT_MONTH_DAY,useUTC:!1,value:m},"scheduledPinDate"),time:m.toLocaleTimeString([y.locale],{hour:"2-digit",minute:"2-digit"})})})]})})})}},573313:function(e,t,r){var n,o,i=r(23185),u=r(122426),c=0,a=0;t.Z=function(e,t,r){var l=t&&r||0,s=t||Array(16),f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=e.random||(e.rng||i.Z)();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=(p[6]<<8|p[7])&16383)}var b=void 0!==e.msecs?e.msecs:Date.now(),y=void 0!==e.nsecs?e.nsecs:a+1,m=b-c+(y-a)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||b>c)&&void 0===e.nsecs&&(y=0),y>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");c=b,a=y,o=d;var h=((0xfffffff&(b+=122192928e5))*1e4+y)%0x100000000;s[l++]=h>>>24&255,s[l++]=h>>>16&255,s[l++]=h>>>8&255,s[l++]=255&h;var v=b/0x100000000*1e4&0xfffffff;s[l++]=v>>>8&255,s[l++]=255&v,s[l++]=v>>>24&15|16,s[l++]=v>>>16&255,s[l++]=d>>>8|128,s[l++]=255&d;for(var g=0;g<6;++g)s[l+g]=f[g];return t||(0,u.Z)(s)}}}]);