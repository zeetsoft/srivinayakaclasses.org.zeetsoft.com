"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["25446"],{263148:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MoreIdeasPreviewStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'}],type:"Pin",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="acfbd2e78cfd4a2a1966a92cf1a7b634",t.default=n},730647:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(598579),o=new Set([92]),i=new Set([154]);function a(e){var t=[];return e.forEach(function(e){if("story"===e.type?o.has(e.container_type)||i.has(e.container_type)||n.v8.has(e.story_type)||n.AW.has(e.story_type):1){var r=t[t.length-1];Array.isArray(r)?r.push(e):t.push([e])}else t.push(e)}),t}},761578:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(586659);function o(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function i(){return window.innerWidth}function a(){return window.innerHeight}function c(){return null}function l(){var e=(0,n.useSyncExternalStore)(o,a,c),t=(0,n.useSyncExternalStore)(o,i,c);return null!==e&&null!==t?{height:e,width:t}:null}},978417:function(e,t,r){r.d(t,{AS:function(){return s},Ps:function(){return i},Q6:function(){return f},le:function(){return p},qe:function(){return u},yU:function(){return d}});var n=r(503246),o=r(734215),i=function(e,t){return e.length===t.length&&e.every(function(e,r){return(0,o.Z)(e,t[r])})},a=function(e,t){return e.length===t.length&&e.every(function(e,r){return e===t[r]})},c=function(e){return e};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return function(n){var o=[];return function(){for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];var l=o.find(function(e){return t(e.args,r(a))});if(l)return l.result;var s=n.apply(void 0,a);return o.push({args:r(a),result:s}),e&&o.length>e&&o.shift(),s}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,n=[];return{memoize:function(o){return function(){for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];var l=r(a),s=n.find(function(e){return t(e.args,l)});if(s)return s.result;var u=o.apply(void 0,a);return n.push({args:l,result:u}),e&&n.length>e&&n.shift(),u}},clearCache:function(){n=[]}}}t.ZP=l();var u=l(1),d=l(void 0,a,function(e){return[JSON.stringify(e)]}),f=l(0,i),p=l(0,function(e,t){return e.length===t.length&&e.every(function(e,r){return(0,n.ZP)(e,t[r])})})},390957:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(512712),o=r(403135);function i(e){var t=e.bubbleId,r=e.pinId,i=e.query,a=e.referringSource,c=e.storyCategory,l=e.storyId,s=e.title,u=[0,24,21,26].includes(c),d=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:l,top_pin_ids:r}),f=u&&s?(0,n.x)({title:s,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return u?f:"/search/pins/".concat(d?"?"+d:"")}},138758:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(97517),o=/\{\s*(\w+)\s*\}/g;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){var n;return(n=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t,r=e.args,i=e.format,a=(r||[]).reduce(function(e,t,r){return c(c({},e),{},l({},r,t.text))},{});return t=i||"",(0,n.Z)(o,t,a)}},538688:function(e,t,r){var n=r(586659);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=null,a=!1,c=0,l=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},s=function(){0===c&&window.addEventListener("scroll",l),c+=1},u=function(){(c-=1)||window.removeEventListener("scroll",l)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],i=t[1],c=(0,n.useRef)(null);(0,n.useEffect)(function(){return s(),function(){c.current&&clearTimeout(c.current),u()}},[]);var l=function e(t){c.current&&clearTimeout(c.current),c.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:r,hoverHandlers:(0,n.useRef)({onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)}}).current}}},642483:function(e,t,r){r.d(t,{a:function(){return g},B:function(){return h}});var n=r(586659),o=r(729434),i=r(686319);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){var n;return(n=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={boardMap:{}};function d(e,t){if(e=e||u,"BLOCKING_ACTIONS_UPDATED"===t.type){var r=t.payload,n=r.boardId,o=r.blockingActions,i=null,a=null,c={};return o.forEach(function(e){var t=e.section_id,r=e.progress,n={id:e.id,createdAt:e.created_timestamp,progress:r};t?"-1"===t?i=n:c[t]=n:a=n}),l(l({},e),{},{boardMap:l(l({},e.boardMap),{},s({},n,{wholeBoard:i,unorganized:a,sectionMap:c}))})}return e}var f=r(382718);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var b=(0,o.Z)("BlockingAction"),v=b.Provider,h=b.getMaybe;function m(){var e;return e=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/boards/".concat(t,"/"),data:{fields:["board.id","board.blocking_actions"]}});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e,t){var n=r&&r.resource_response&&r.resource_response.data&&r.resource_response.data.blocking_actions;if(!n)return void t(Error("No blocking actions found in the response"));e(n)}));case 4:case"end":return e.stop()}},e)}),(m=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,c,"next",e)}function c(e){y(i,n,o,a,c,"throw",e)}a(void 0)})}).apply(this,arguments)}function g(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(d,u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1],c=(0,n.useCallback)(function(e){return(function(e){return m.apply(this,arguments)})(e).then(function(t){return a({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t})},[]),l=(0,n.useMemo)(function(){return{blockingActions:i,fetchBlockingActions:c}},[i,c]);return(0,f.jsx)(v,{value:l,children:r})}},31290:function(e,t,r){r.d(t,{Z:function(){return S}});var n=r(87853),o=r(642483),i=r(586659),a=r(20256),c=r(109425),l=r(19585),s=r(647709),u=r(382718);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}var _=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&y(o,e);var t,r,n=(t=v(),function(){var e,r=h(o);return e=t?Reflect.construct(r,arguments,h(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return m(b(e=n.call.apply(n,[this].concat(r))),"state",{hiding:!1,visible:!1}),m(b(e),"handleHide",function(){e.setState({hiding:!0}),e.timeout=window.setTimeout(e.props.onHide,c.Vg)}),m(b(e),"handleMouseEnter",function(){window.clearTimeout(e.timeout)}),m(b(e),"handleMouseLeave",function(){e.timeout=window.setTimeout(e.handleHide,e.props.duration||2e3)}),e}return r=[{key:"componentDidMount",value:function(){var e=this;this.firstLine&&(window.setTimeout(function(){e.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}},{key:"firstLine",get:function(){var e=this.props,t=e.actionType,r=e.actionStatus,n=e.location.isSection,o="completed"===r;switch(t){case"create_section":return o?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(n)return o?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return o?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(n)return o?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return o?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(n)return o?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return o?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}},{key:"render",value:function(){var e=this.props,t=e.actionStatus,r=e.deviceType,n=e.location,o=this.state,i=o.visible,l=o.hiding,s=this.firstLine,d=(0,c.ZP)({deviceType:r,hiding:l,visible:i}),f=d.marginTop,p=d.opacity,y=d.position,b=d.pointerEvents,v=d.transform,h=d.transition,m=d.visibility;if(!s)return null;var g="inProgress"===t?"".concat(n.name,"..."):n.name;return(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:v,transition:h,visibility:m,pointerEvents:b}},marginTop:f,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:p,position:y,children:(0,u.jsx)(a.FN,{text:"".concat(s,": ").concat(g),type:"completed"===t?"default":"progress"})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.Component);function j(e){var t=(0,s.ZP)(),r=(0,l.ZP)();return(0,u.jsx)(_,p(p({},e),{},{deviceType:t,i18n:r}))}var x=["merge","move_pins","create_section"],w=0,O={},P=function(e,t,r,n){return function(o){var i,a,c=o.hideToast;return(0,u.jsx)(j,{actionStatus:e,actionType:t,duration:2e3,location:{name:n?null!=(i=n.title)?i:"":null!=(a=r.name)?a:"",isSection:!!n},onHide:c})}};function S(){var e,t=(0,n.dI)().showToast,r=(null!=(e=(0,o.B)())?e:{fetchBlockingActions:function(e){return new Promise(function(e){return e([])})}}).fetchBlockingActions;return{showBlockingActionToast:function(e){var n,o,i,a,c,l,s=e.actionType,u=e.board,d=e.section;t(P("inProgress",s,u,d)),o=(n={check:function(){return r(u.id).then(function(e){var t,r,n,o,i;return r=(t={blockingActions:e,actionType:s,boardId:u.id,sectionId:d&&d.id}).blockingActions,n=t.actionType,o=t.boardId,i=t.sectionId,!r.find(function(e){return function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)===n&&!(x.includes(e.action_type)&&e.is_origin)&&e.board_id===o&&(i?i===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress})})},checkDelay:2e3,checkInterval:5e3,onComplete:function(){return t(P("completed",s,u,d))}}).check,i=n.checkDelay,a=n.checkInterval,c=n.onComplete,l="timeout".concat(w),w+=1,O[l]=setTimeout(function e(){var t=Date.now();o().then(function(r){var n=Date.now()-t;r?(c(),delete O[l]):O[l]=setTimeout(e,Math.max(1e3,a-n))}).catch(function(){delete O[l]})},i)}}}},801619:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Df:function(){return i},W$:function(){return o},f4:function(){return a}});var o=function(e,t){var r,o="object"===n(null==t?void 0:t.owner)?null==(r=t.owner)?void 0:r.id:null==t?void 0:t.owner;return e.isAuth&&o===e.id},i=function(e,t){return!!(e.isAuth&&t.collaborated_by_me)},a=function(e,t){return o(e,t)?3069:3070}},357823:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(20256),o=r(980787),i=r(19585),a=r(586659);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=r(382718);function u(e){var t,r,l,u,d,f,p,y,b,v,h,m,g,_,j=e.auxData,x=e.enabled,w=e.onPull,O=e.refreshing,P=e.viewParameter,S=(0,i.ZP)(),E=(0,o.u)().logContextEvent,A=4079===P,I=(r=(t={enabled:x,onSelect:function(e){var t=e.pullDistance,r=e.resetState;t>=120&&(E({view_type:1,event_type:158,view_parameter:A?4079:92,aux_data:A?j:{}}),w()),r()},refreshing:O}).enabled,l=t.onSelect,u=t.refreshing,d=(0,a.useRef)(null),p=(f=c((0,a.useState)(0),2))[0],y=f[1],v=(b=c((0,a.useState)(!1),2))[0],h=b[1],g=(m=u?0:p/250)>0,_=function(){h(!1),y(0)},(0,a.useEffect)(function(){if(r){var e=function(e){window.scrollY<=0&&!u&&(d.current=e.touches[0].clientY)},t=function(e){if(d.current){var t=(e.touches[0].clientY-d.current)*.5;t>0&&(y(t),e.preventDefault())}},n=function(){d.current&&(h(!0),l({pullDistance:p,position:m,resetState:_}),d.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",n),function(){window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",n)}}},[r,l,p,u,m]),{pullDistance:p,hasStartPulling:g,position:m,startYRefCurrent:d.current,PULL_MENU_DISTANCE:250,isExecuted:v}),D=I.position,T=I.startYRefCurrent,C=I.pullDistance,Z=Math.min(D,1),M=S._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,s.jsx)(n.xu,{children:x&&(0,s.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:Z,transition:null===T?"all .3s ease-out":void 0}},display:"flex",height:120*D,justifyContent:"center",children:(0,s.jsx)(n.JO,{accessibilityLabel:M,icon:T&&C<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},130858:function(e,t,r){var n=r(20256),o=r(647709),i=r(382718);t.Z=function(){var e=(0,o.HG)();return(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},425140:function(e,t,r){r.d(t,{G:function(){return g},Z:function(){return _}});var n=r(586659),o=r(20256),i=r(469167),a=r(467925),c=r(93966),l=r(355363),s=r(62937),u=r(647709),d=r(341742),f=r(348268),p=r(357823),y=r(130858),b=r(79293),v=r(648200),h=r(382718);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=25;function _(e){var t,r=e.align,g=e.customLayoutType,_=e.getColumnSpanConfig,j=e.getResponsiveModuleConfigForSecondItem,x=e.emptyState,w=e.feedItems,O=e.feedKey,P=e.maxColumns,S=e.minColumns,E=e.pagination,A=E.hasNext,I=E.isLoadingNext,D=E.loadNext,T=E.refetch,C=e.pullToRefresh,Z=e.renderFeedItem,M=e.serverRender,z=e.isLoadingStateEnabled,k=e.isLoadingAccessibilityLabel,B=e.isLoadedAccessibilityLabel,L=e.layout,R=e.forceShowLoadingState,F=(0,u.HG)(),H=(0,a.Z)(),N=H.experimentalColumnWidth,W=H.experimentalGutter,K=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),G=K[0],U=K[1],V=1===P?window.innerWidth:void 0,J="userSearch"===g?window.innerWidth-16:200,X=I&&0===w.length&&!G&&!z,q="desktopFlashlight"===g||"ideaPage"===g&&F?-2:c.qG,Y=null!=S?S:2;return"userSearch"===g&&(Y=1),(0,d.Z)(function(){return window.addEventListener("online",D),function(){return window.removeEventListener("online",D)}}),(0,h.jsxs)(o.xu,{"data-test-id":"MobileFeed",children:[(0,h.jsx)(p.Z,{enabled:!!C,onPull:function(){T(),U(!0)},refreshing:G}),(0,h.jsxs)(o.xu,{"data-test-id":"grid",marginEnd:q,marginStart:q,opacity:G?.5:1,children:[(0,h.jsx)(l.Z,{isAtEndOfFeed:!A,isPlaceholderGrid:z&&I&&!w.length,itemCount:w.length,children:w.length?(0,h.jsx)(o.xu,{"data-test-id":"feed",marginTop:(0,f.kk)({isDesktop:F}),children:(0,h.jsx)(s.Z.Consumer,{children:function(e){return(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(v.Z,{children:(0,h.jsx)(i.default,{_getResponsiveModuleConfigForSecondItem:j,align:r||("ideaPage"===g?"start":void 0),cacheKey:O,columnWidth:F?null!=N?N:c.yF:null!=V?V:J,getColumnSpanConfig:_,gutterWidth:F?null!=W?W:4*c.jC:void 0,id:M?O:void 0,isFetching:null!=R?R:I,isLoadedAccessibilityLabel:null!=B?B:"",isLoadingAccessibilityLabel:null!=k?k:"",isLoadingStateEnabled:null!=R?R:!!z,items:R?[]:w,layout:null!=L?L:void 0,loadItems:D,maxColumns:P,minCols:Y,optOutFluidGridExperiment:null!=P,renderItem:function(e){return Z(e.data,e.itemIdx)},scrollContainerRef:e,serverRender:M})})})}})}):I?(0,h.jsx)(y.Z,{}):null!=x?x:null}),X&&(0,h.jsx)(o.xu,{column:12,paddingY:2,children:(0,h.jsx)(b.Z,{partialViewportWidth:"desktopFlashlight"===g})})]})]})}},648200:function(e,t,r){var n=r(821342),o=r(647709),i=r(642859),a=r(382718);t.Z=function(e){var t=e.children,r=(0,o.HG)();return!(0,n.Z)().isAuth&&r?(0,a.jsx)(i.x,{children:t}):t}},396162:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(20256),o=r(744862),i=r(19585),a=r(351607),c=r(390957),l=r(902293),s=r(473728),u=r(661037),d=r(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){var t=e.bubble,r=e.contextLogData,y=e.disableTabIndex,b=e.height,v=e.isHovered,h=e.onClick,m=e.onMouseEnter,g=e.onMouseLeave,_=e.referringSource,j=e.searchBoxRenderStopwatch,x=e.slotIndex,w=e.storyId,O=e.viewParameter,P=e.viewType,S=e.width,E=(0,i.ZP)(),A=t.id,I=t.action,D=t.aux_fields,T=t.cover_images,C=t.dominant_colors,Z=t.identifier_icon_type,M=t.title,z=t.story_category,k=t.curator,B=T&&T[0]&&(T[0]["280x280"]||T[0]["236x"]),L=(0,s.Z)(M&&M.format||"",M&&M.args||{}),R=C&&C.length?C[0]:"gray",F=(null==I?void 0:I.url)||(0,c.Z)({storyCategory:z,query:L,referringSource:_,bubbleId:A,storyId:w,title:M.format,pinId:null==D?void 0:D.image_pin_id}),H=!!Z&&(0,l.Z)(Z);return(0,d.jsx)(a.Fw,{contextLogData:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({story_id:w},r),impressionAuxFields:{storyCategory:z,story_id:w},impressionType:"Article",loggingId:A,slotIndex:x,viewParameter:O,viewType:P,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsx)(n.xu,{ref:t,children:(0,d.jsxs)(u.Z,{backgroundColor:R,coverImage:B,disableTabIndex:y,height:b,id:A,isHovered:v,onClick:h,onMouseEnter:m,onMouseLeave:g,searchBoxRenderStopwatch:j,url:F,width:S,children:[k&&26!==z&&(0,d.jsx)(n.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,d.jsx)(o.qE,{name:k.full_name,outline:!0,size:"xs",src:k.image_small_url})}),H&&(0,d.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,d.jsx)(n.JO,{accessibilityLabel:E._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:H,size:12})}),(0,d.jsx)(n.xu,{alignItems:26===z?"end":"center","data-test-id":"discover-bubble",display:"flex",height:b,justifyContent:"center",padding:3,position:"absolute",top:!0,width:S||"100%",children:(0,d.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[b>200?(0,d.jsx)(n.X6,{align:"center",color:"light",size:"600",children:L}):(0,d.jsx)(n.xv,{align:"center",color:"light",weight:"bold",children:L}),k&&26===z&&(0,d.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,d.jsx)(n.xu,{marginEnd:2,children:(0,d.jsx)(o.qE,{name:k.full_name,outline:!0,size:"xs",src:k.image_small_url})}),(0,d.jsx)(n.xv,{color:"light",size:"100",children:k.full_name})]})]})})]})})}})}},725191:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(20256),o=r(980787),i=r(93966),a=r(351607),c=r(138758),l=r(902293),s=r(601686),u=r(396162),d=r(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=i.yF;function v(e){var t=e.contextLogData,r=e.bubbles,i=e.id,f=e.referringSource,p=e.slotIndex,v=e.storyType,h=e.title,m=e.titleIcon,g=e.viewType,_=e.viewParameter,j=(0,o.u)().logContextEvent,x=(0,s.x4)().closeupWithinMasonryEnabled,w=null==r?void 0:r.map(function(e){return e.type+":"+e.id}).join("|"),O=y(y({story_type:v},t),{},{content_ids:w}),P=!!m&&(0,l.Z)(m);return(0,d.jsx)(a.Fw,{componentType:200,contextLogData:O,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:p,viewParameter:_,viewType:g,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsxs)(n.xu,{ref:t,children:[h&&(0,d.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[P&&(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,d.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:P,size:14})}),(0,d.jsx)(n.X6,{accessibilityLevel:2,size:"300",children:(0,d.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,c.Z)(h)})})]}),(0,d.jsx)(n.xu,{role:"list",children:null==r?void 0:r.map(function(e,t){return(0,d.jsx)(n.xu,{flex:"none",paddingY:1,role:"listitem",children:(0,d.jsx)(u.Z,{bubble:e,contextLogData:O,height:103,onClick:function(e){j({event_type:101,object_id_str:e,view_type:g,view_parameter:_,component:200,aux_data:O})},referringSource:f,slotIndex:t,storyId:i,viewParameter:_,viewType:g,width:x?"100%":b})},"bubble-".concat(e.id))})})]})}})}},722305:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(686319),o=r(72918),i=r(889229),a=r(225013),c=r(189976),l=r(696323);function s(e,t,r){return function(s){return(0,n.Z)({url:"/v3/board/sections/".concat(t,"/merge/").concat(r,"/"),method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(function(n){return Promise.all([s((0,i.HG)(e,t)),s((0,o.jB)("BoardSectionsRepinResource",{board_id:e})),s((0,a.Z)(r)),s((0,c.N8)(l.Z.BOARD_SECTION_PINS,r))]).then(function(){return n})})}}},386895:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(581722),o=r(725191),i=r(907440),a=r(20256),c=r(980787),l=r(431870),s=r(341742),u=r(169053),d=r(244526),f=r(382718);function p(e){var t,r=e.storyId,o=(0,n.v9)(function(e){return e.desktopStories[r]}),i=(null==o?void 0:o.story_type)==="shop_tool_saved_products_module"?o:void 0,p=(0,c.u)().logContextEvent,y=(0,u.S6)(),b=(0,d.$)();return((0,s.Z)(function(){if(i){var e;p({event_type:13,component:15162,view_parameter:3069,view_type:5,aux_data:{board_id:null==(e=i.aux_fields)?void 0:e.board_id,board_session_id:b,module_id:i.id}})}}),i)?(i.objects=null==i||null==(t=i.objects)?void 0:t.map(function(e){return"pin"===e.type&&y(e.id||"")||e}),(0,f.jsx)(a.xu,{marginTop:0,children:(0,f.jsx)(l.default,{component:15162,story:i,storyKey:{type:"Legacy",data:i},styleOverrides:{justifyContent:"start"},surface:"BoardShoppingModule",view:5,viewParameter:3069})})):null}var y=r(187014),b=r(63327),v=1.25*b.J;function h(e){var t=e.story,r=t.action,n=r.text,o=r.url,i=t.custom_properties,c=i.image,l=i.image_alt;return(0,f.jsxs)(a.xu,{position:"relative",children:[(0,f.jsx)(a.zd,{height:v,rounding:4,width:b.J,children:(0,f.jsx)(a.Ee,{alt:l,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:c})}),(0,f.jsx)(a.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:b.J,children:(0,f.jsx)(a.ZP,{color:"white",fullWidth:!0,href:o,text:n})})]})}function m(e){var t=(0,n.v9)(function(t){return t.desktopStories[e.storyId]});if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,f.jsx)(o.default,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,f.jsx)(h,{story:t});case"add_pin":return(0,f.jsx)(i.Z,{});case"board_shop_tool_module":return e.inBoardOrganizationMode?null:(0,f.jsx)(y.Z,{storyId:e.storyId});case"shop_tool_saved_products_module":return(0,f.jsx)(p,{storyId:e.storyId});default:return null}}},770158:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(586659),o=r(20256),i=r(729082),a=r(821342),c=r(19585),l=r(886981),s=r(730647),u=r(647709),d=r(448505),f=r(7872),p=r(751961),y=r(845421),b=r(425140),v=r(382718);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){var t=(0,u.HG)(),r=(0,a.Z)(),g=(0,c.ZP)(),_=(0,d.Z)(),j=(0,f.lJ)(r,_),x=e.board,w=e.onLoadedAll,O=e.viewParameter,P=x.id,S=x.privacy,E=(0,l.Z)({name:"ApiResource",options:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({data:{fields:["pin.cacheable_id","pin.created_at","pin.description","pin.domain","pin.grid_title","pin.id","pin.is_downstream_promotion","pin.is_playable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.images[170x,136x136,236x,474x,736x,orig]","pin.link","pin.price_currency","pin.price_value","pin.repin_count","pin.title","pin.type"]},url:"/v3/board/".concat(P,"/expanded_sections/"),redux_normalize_feed:!0},(0,i.Z)(S)&&j?{orbac_subject_id:j}:{})}),A=E.data,I=E.isAtEnd,D=E.isFetching,T=E.isLoaded;if((0,n.useEffect)(function(){I&&w()},[I,w]),!T)return(0,v.jsx)(o.xH,{accessibilityLabel:g._('Board sections loading spinner', ' - ', ' -- '),show:!0});var C=(0,s.Z)(A||[]),Z={loadNext:function(){},hasNext:I,isLoadingNext:D,refetch:function(){}};return(0,v.jsx)(o.xu,{"data-test-id":"board-expanded-sections",id:"board-expanded-sections-wrapper",paddingX:t?2:1,width:"100%",children:C.map(function(e,r){if(Array.isArray(e)){var n,i,a;return(0,v.jsx)(b.Z,{feedItems:e,feedKey:"board-expanded-sections:".concat(P),pagination:Z,renderFeedItem:function(e,t){return(0,v.jsx)(p.Z,{children:(0,v.jsx)(y.Z,{duploQueryRef:null,pinId:e.id,slotIndex:t,viewParameter:O,viewType:1})})}},"board-expanded-sections-feed-".concat(r))}return"story"===e.type&&"board_expanded_section_title"===e.story_type?(0,v.jsxs)(o.xu,{marginBottom:t?4:2,marginTop:t?8:4,paddingX:t?3:1,children:[(0,v.jsx)(o.X6,{size:t?"600":"400",children:null!=(n=null==(i=e.title)?void 0:i.format)?n:""}),null!=(a=e.description)&&a.format?(0,v.jsx)(o.xu,{marginTop:2,children:(0,v.jsx)(o.xv,{size:t?"300":"100",children:e.description.format})}):null]},"board-expanded-sections-story-".concat(e.id)):null})})}},154237:function(e,t,r){r.d(t,{Z:function(){return e1}});var n=r(586659),o=r(20256),i=r(980787),a=r(679422),c=r(467925),l=r(821342),s=r(647709),u=r(493812),d=r(975740),f=r(19585),p=r(111330),y=r(753143),b=r(801619),v=r(382718);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var S=Object.freeze({}),E={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},A=function(e,t,r){if(e.isAuth){var n=y.ZP.getItem(p.iT)||S,o=n[e.id]||{},i=w(w({},n),{},O({},e.id,w(w({},o),{},O({},t.id,r))));y.ZP.setItem(p.iT,i)}},I=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&m(i,e);var t,r,n=(t=_(),function(){var e,r=j(i);return e=t?Reflect.construct(r,arguments,j(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return O(g(e=n.call.apply(n,[this].concat(r))),"handleChange",function(t){var r=t.event,n=t.value,o=e.props,i=o.onChange,a=o.viewer,c=o.board;r.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),A(a,c,n),i&&i(n),e.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,b.f4)(a,c),component:13475,element:E[n],aux_data:{board_id:c.id}})}),O(g(e),"logDropdownClick",function(){var t=e.props,r=t.board,n=t.viewer;e.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,b.f4)(n,r),component:13486,element:11567,aux_data:{board_id:r.id}})}),O(g(e),"handleKeyPress",function(t){var r=t.charCode;(void 0===r?0:r)===32&&(t.preventDefault(),e.logDropdownClick())}),e}return r=[{key:"render",value:function(){var e=this.props.currentView,t=[{value:"custom",label:this.props.i18n._('Custom', 'Option for users to filter their Pins in a custom order (as it currently is)', 'Option for users to filter their Pins in a custom order (as it currently is)')},{value:"most_reactions",label:this.props.i18n._('Most reactions', 'Option for users to filter their Pins by the most reactions', 'Option for users to filter their Pins by the most reactions')}];return(0,v.jsx)("div",{onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,role:"listbox",tabIndex:0,children:(0,v.jsx)(o.EI,{id:"gbFilterSelectlist",onChange:this.handleChange,size:"lg",value:e,children:t.map(function(e){return(0,v.jsx)(o.EI.Option,w({},e),e.label)})})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component),D=function(e){var t=(0,i.u)().logContextEvent,r=(0,f.ZP)();return(0,v.jsx)(I,w(w({},e),{},{i18n:r,logContextEvent:t}))},T=r(340323),C=r(886981);function Z(e){var t=e.selected,r=(0,f.ZP)();return(0,v.jsx)(o.JO,{accessibilityLabel:r._('Dense', 'Label for selecting the dense pin density view', 'Label for selecting the dense pin density view'),color:t?"default":"subtle",icon:"view-type-dense",size:24})}function M(e){var t=e.selected,r=(0,f.ZP)();return(0,v.jsx)(o.JO,{accessibilityLabel:r._('Regular', 'Label for selecting the regular pin density view', 'Label for selecting the regular pin density view'),color:t?"default":"subtle",icon:"view-type-default",size:24})}var z=r(21845),k=r(86357);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){K(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N=function(){return!!e})()}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,r){return(t=G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=B(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}var U=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&F(i,e);var t,r,n=(t=N(),function(){var e,r=W(i);return e=t?Reflect.construct(r,arguments,W(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==B(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return H(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return K(H(e=n.call.apply(n,[this].concat(r))),"handleItemChange",function(t){var r,n,o,i,a=t.activeIndex,c=e.props,l=c.viewType,s=c.component,u=c.pinView,d=c.logContextEvent,f=0===a?"regular":"dense";(0,z.Z)({boardDensity:f,component:s,viewType:l},d),(0,k.Z)({density:f,surface:u}),"board"===u?null==(r=(n=e.props).updateBoardPinDensity)||r.call(n,f):null==(o=(i=e.props).updateProfilePinDensity)||o.call(i,f)}),e}return r=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.metadata,r=e.pinView,n=e.updatedBoardPinDensity,o=e.updateBoardPinDensity,i=e.updateProfilePinDensity;if(t&&t.data&&""===n){var a=t.data,c=a.profile_pin_rep_view_type,l=a.board_pin_rep_view_type;"board"===r&&(c?null==o||o(c):null==o||o("regular")),"profile"===r&&(l?null==i||i(l):null==i||i("regular"))}}},{key:"render",value:function(){var e=this.props,t=e.metadata,r=e.updatedBoardPinDensity;return t&&t.data?(0,v.jsx)("div",{className:"OwnBoardSelector",children:(0,v.jsx)(o.sY,{items:[(0,v.jsx)(M,{selected:"regular"===r}),(0,v.jsx)(Z,{selected:"dense"===r})],onChange:this.handleItemChange,responsive:!0,selectedItemIndex:+("dense"===r)})}):null}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function V(e){var t,r=(0,u.WG)(),n=(0,i.u)().logContextEvent,o=(0,l.Z)(),a=(0,C.Z)({name:"UserMetadataResource",options:{user:{id:o.isAuth?o.username:""}},noCache:!0}),c=null!=(t="board"===e.pinView?null==r?void 0:r.boardPinDensity:null==r?void 0:r.profilePinDensity)?t:"";return(0,v.jsx)(U,R(R({},e),{},{logContextEvent:n,metadata:a,updateBoardPinDensity:null==r?void 0:r.setBoardPinDensity,updatedBoardPinDensity:c,updateProfilePinDensity:null==r?void 0:r.setProfilePinDensity}))}function J(e){var t=e.board,r=e.currentView,i=e.inBoardOrganizationMode,a=e.onContentViewChange,c=e.onOrganizeClick,s=e.pinCount,u=e.showSortOptions,d=(0,f.ZP)(),p=(0,l.Z)();return(0,v.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,v.jsx)(o.xu,{flex:"grow",paddingX:1,children:(0,v.jsx)(o.X6,{children:d._('Pins', 'Heading for Pins outside of board sections on board page', 'Heading for Pins outside of board sections on board page')})}),u&&s<=500&&(0,v.jsx)(o.xu,{paddingX:2,children:(0,v.jsx)(D,{board:t,currentView:r,onChange:a,viewer:p})}),s>=T.Ev&&(0,v.jsxs)(n.Fragment,{children:[s>=T.IK&&(0,v.jsx)(V,{component:13183,pinView:"board",viewType:5}),!i&&(0,v.jsx)(o.xu,{paddingX:2,children:(0,v.jsx)(o.zx,{fullWidth:!0,onClick:c,text:d._('Organize', 'The board organization button', 'The board organization button')})})]})]})}var X=r(581722),q=r(729082),Y=r(636208),$=r(448505),Q=r(7872),ee=r(686319),et=r(189976),er=r(696323);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=en(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=en(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==en(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ea=r(770158),ec=r(283383),el=r(721195),es=r(623873),eu=r(469167),ed=r(271910),ef=r(167916),ep=r(63151);function ey(e){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(t){ej(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eh(e,t){return(eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function em(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eg=function(){return!!e})()}function e_(e){return(e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ej(e,t,r){return(t=ex(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ex(e){var t=function(e,t){if("object"!=ey(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ey(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ey(t)?t:t+""}function ew(e){var t=e.allowReordering,r=e.board,n=e.canEdit,i=e.display,a=e.dragDrop,c=e.index,l=e.isDragging,s=e.oneTapMovePinsHandler,u=e.onShowEditSectionModal,d=e.organizeMode,f=e.section,p=a&&a.target;return(0,v.jsx)(o.xu,{height:"100%",children:(0,v.jsx)(ed.q,{children:function(e){var o=e.focused,a=e.hovered,y=e.onBlur,b=e.onFocus,h=e.onMouseEnter,m=e.onMouseLeave;return(0,v.jsx)(ef.Z,{allowReordering:t,board:r,boardSection:f,canEdit:n,display:i,focused:o,hovered:a,inOrganizationMode:d,isDragging:l,isMergeTarget:!!p&&"merge"===p.action&&c===p.index,onBlur:function(e){var t=e.currentTarget;setTimeout(function(){t.contains(document.activeElement)||y()},0)},oneTapMovePinsHandler:s,onFocus:b,onMouseEnter:h,onMouseLeave:m,onShowEditSectionModal:u})}})})}function eO(e){var t,r,n=e.allowReordering,i=e.board,a=e.canEdit,l=e.dragDrop,s=e.handleSectionDragBegin,d=e.handleSectionDragEnd,f=e.handleSectionDragHover,p=e.isDragging,y=e.isDragWithinBounds,b=e.oneTapMovePinsHandler,h=e.onShowEditSectionModal,m=e.organizeMode,g=e.sections,_=(0,c.Z)().experimentalGutter,j=null!=(t=null==(r=(0,u.WG)())?void 0:r.boardPinDensity)?t:"",x=(0,ep.EE)(j);return(0,v.jsx)(eu.default,{cacheKey:"board-boardsections:".concat(i.id),columnWidth:x,gutterWidth:_,items:g,layout:"flexible",minCols:2,renderItem:function(e){var t=e.data,r=e.itemIdx,c=(0,v.jsx)(ew,{allowReordering:n,board:i,canEdit:a,display:"responsive",dragDrop:l,index:r,isDragging:p,oneTapMovePinsHandler:b,onShowEditSectionModal:h,organizeMode:m,section:t});return(0,v.jsx)(o.xu,{height:"100%",children:n?(0,v.jsx)(ec.Z,{index:r,onDragBegin:s,onDragEnd:d,onDragHover:f,type:ec.y.Section,children:(0,v.jsx)("div",{style:{opacity:p&&!y?.5:1},children:c})}):(0,v.jsx)(o.xu,{height:"100%",children:c})},t.id)}})}var eP=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eh(i,e);var t,r,n=(t=eg(),function(){var e,r=e_(i);return e=t?Reflect.construct(r,arguments,e_(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==ey(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return em(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return ej(em(e=n.call.apply(n,[this].concat(r))),"state",{dragDrop:null,sectionIds:e.props.sections.map(function(e){var t;return null!=(t=e.id)?t:""})}),ej(em(e),"cancelHoverTimeout",function(){var t=em(e).dragHoverTimeout;t&&clearTimeout(t.timeoutId),e.dragHoverTimeout=null}),ej(em(e),"dragHoverTimeout",null),ej(em(e),"isDragging",function(){return!!e.state.dragDrop}),ej(em(e),"handleSectionDragBegin",function(t){e.setState({dragDrop:{previewIndex:t,sourceIndex:t,target:null}})}),ej(em(e),"handleSectionDragHover",function(t,r){var n,o,i,a,c,l=e.state.dragDrop,s=e.props.allowReordering;if(r&&l){var u=l.previewIndex,d=(i=(o=(n={hoverRelativePosition:r,centerEnabled:t!==u&&s}).hoverRelativePosition).positionRelativeToCenter.x,a=o.boundingBox.width,Math.abs(i)<(n.centerEnabled?.5*a:0)/2?"center":i<0?"left":"right"),f={itemIndex:t,regionWithinItem:d};if(!(e.dragHoverTimeout&&(c=e.dragHoverTimeout.hoverLocation,f.itemIndex===c.itemIndex&&f.regionWithinItem===c.regionWithinItem))){e.cancelHoverTimeout();var p="center"===d?"merge":"reorder",y={action:p,index:function(e){var t=e.hoverLocation,r=t.itemIndex,n=t.regionWithinItem,o=e.sourceIndex;if("center"===n||r===o)return r;var i="left"===n;return r<o===i?r:i?r-1:r+1}({hoverLocation:f,sourceIndex:u})};if(y.index===u){l.target&&l.target.index!==y.index&&e.setState({dragDrop:ev(ev({},l),{},{target:y})});return}e.dragHoverTimeout={hoverLocation:f,timeoutId:setTimeout(function(){e.dragHoverTimeout=null,"reorder"===p?e.setState(function(e){var t=e.dragDrop,r=e.sectionIds;return{dragDrop:ev(ev({},t),{},{target:y,previewIndex:y.index}),sectionIds:(0,Y.Z)(r,u,y.index)}}):e.setState(function(e){return{dragDrop:ev(ev({},e.dragDrop),{},{target:y})}})},"reorder"===p?200:20)}}}}),ej(em(e),"handleSectionDragEnd",function(t){var r=e.props,n=r.sections,o=r.onShowMergeSectionsConfirmationModal,i=r.onSectionReorder,a=e.state,c=a.dragDrop,l=a.sectionIds,s=c&&c.target;if(e.cancelHoverTimeout(),!t||!c||!s||s.index===c.sourceIndex)return void e.setState({dragDrop:null,sectionIds:n.map(function(e){var t;return null!=(t=e.id)?t:""})});var u=c.previewIndex,d=c.sourceIndex,f=s.action,p=s.index;if(e.setState({dragDrop:null}),"merge"===f){var y=function(e){var t=l[e];return t&&n.find(function(e){return e.id===t})},b=y(u),v=y(p);b&&v&&o(b,v)}else i(d,p)}),e}return r=[{key:"componentDidUpdate",value:function(e){var t=e.sections,r=this.props.sections,n=function(e){return e.map(function(e){return e.id}).join(",")};if(t.length!==r.length&&n(t)!==n(r)){this.cancelHoverTimeout();var o=r.map(function(e){var t;return null!=(t=e.id)?t:""});this.setState({dragDrop:null,sectionIds:o})}}},{key:"componentWillUnmount",value:function(){this.cancelHoverTimeout()}},{key:"render",value:function(){var e=this.props,t=e.allowReordering,r=e.connectDropTarget,n=e.isDragWithinBounds,i=e.sections,a=this.state.sectionIds,c=this.isDragging(),l=i.reduce(function(e,t){return t.id?ev(ev({},e),{},ej({},t.id,t)):e},{}),s=(0,v.jsx)(eO,{allowReordering:t,board:this.props.board,canEdit:this.props.canEdit,dragDrop:this.state.dragDrop,handleSectionDragBegin:this.handleSectionDragBegin,handleSectionDragEnd:this.handleSectionDragEnd,handleSectionDragHover:this.handleSectionDragHover,isDragging:c,isDragWithinBounds:null!=n&&n,oneTapMovePinsHandler:this.props.oneTapMovePinsHandler,onShowEditSectionModal:this.props.onShowEditSectionModal,organizeMode:this.props.organizeMode,sections:a.map(function(e){return l[e]}).filter(function(e){return!!e})});return(0,v.jsxs)(o.xu,{width:"100%",children:[t&&r?r((0,v.jsx)("div",{children:s})):s,c&&(0,v.jsx)(el.Z,{})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ex(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component),eS=(0,es.Z)(ec.y.Section)(eP);function eE(e){var t=(0,f.ZP)(),r=e.allowReordering,n=e.fetchMore,i=e.isAtEnd,a=e.isFetching;return(0,v.jsxs)(o.xu,{width:"100%",children:[(0,v.jsx)(o.gr,{fetchMore:n,isAtEnd:i,isFetching:a}),r?(0,v.jsx)(eS,ev({},e)):(0,v.jsx)(eP,ev({},e)),a&&!i&&(0,v.jsx)(o.xu,{paddingY:6,position:"relative",children:(0,v.jsx)(o.xH,{accessibilityLabel:t._('Loading sections', 'loading state for board sections', 'loading state for board sections'),show:!0})})]})}function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(t){ez(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eT(e,t){return(eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eC(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eZ=function(){return!!e})()}function eM(e){return(eM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ez(e,t,r){return(t=ek(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ek(e){var t=function(e,t){if("object"!=eA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eA(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eA(t)?t:t+""}var eB=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eT(i,e);var t,r,n=(t=eZ(),function(){var e,r=eM(i);return e=t?Reflect.construct(r,arguments,eM(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==eA(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eC(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return ez(eC(e=n.call.apply(n,[this].concat(r))),"handleSectionReorder",function(t,r){var n=e.props,o=n.board,i=n.dispatch,a=n.enableReordering,c=n.sections,l=n.viewParameter;if(a){var s=c[t].id,u=c[r].id,d=(0,Y.Z)(c,t,r).map(function(e){return e.id}),f=d.indexOf(s),p=function(e){return e>=0&&e<d.length},y=eD(eD({boardId:o.id,sourceSectionId:s,targetSectionId:u},p(f+1)?{sectionIdAfter:d[f+1]}:{}),p(f-1)?{sectionIdBefore:d[f-1]}:{}),b={object_id_str:s,view_type:5,view_parameter:l};i(function(e){var t=y.boardId,r=y.sectionIdBefore,n=y.sectionIdAfter,o=y.sourceSectionId,i=y.targetSectionId;e((0,et._f)({feedType:er.Z.BOARD_SECTIONS,feedId:t,itemType:"boardsection",sourceItemId:o,targetItemId:i}));var a=Object.freeze({});return r&&(a=ei(ei({},a),{},{section_before:r})),n&&(a=ei(ei({},a),{},{section_after:n})),(0,ee.Z)({url:"/v3/board/sections/".concat(o,"/reorder/"),method:"POST",data:a})}).then(function(){return e.props.logContextEvent(eD({event_type:7133},b))})}}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.sectionsInvalidated,r=e.onLoadedAll,n=e.sectionsResource,o=n.isFetching,i=n.refresh,a=n.isAtEnd;t&&!o&&i(),a&&r()}},{key:"componentDidUpdate",value:function(e){var t=e.sectionsInvalidated,r=e.sectionsResource,n=this.props,o=n.sectionsInvalidated,i=n.isFetching,a=n.refreshData,c=n.sectionsResource;!o||t||i||a(),!r.isAtEnd&&c.isAtEnd&&this.props.onLoadedAll()}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.enableReordering,n=e.i18n,i=e.inBoardOrganizationMode,a=e.oneTapMovePinsHandler,c=e.onShowEditSectionModal,l=e.onShowMergeSectionsConfirmationModal,s=e.sections,u=e.sectionsResource,d=e.viewer,f=e.orbacActingAs,p=t.access,y=t.owner,b=u.isLoaded,h=u.isFetching,m=u.fetchMore,g=u.isAtEnd;if(!b)return n._('Board sections loading spinner', 'BoardPage.BoardSections.loadingSpinner', 'Accessibility label for the spinner on board sections'),(0,v.jsx)(o.xH,{accessibilityLabel:n._('Board sections loading spinner', ' - ', ' -- '),show:!0});var _=(p||[]).includes("write")||(0,Q.D3)(d,(null==y?void 0:y.id)||"",f);return(0,v.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:(0,v.jsx)(eE,{allowReordering:r,board:t,canEdit:_,fetchMore:m,isAtEnd:g,isFetching:h,oneTapMovePinsHandler:a,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:c,onShowMergeSectionsConfirmationModal:l,organizeMode:i,sections:s})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ek(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function eL(e){var t,r=(0,i.u)().logContextEvent,n=(0,f.ZP)(),o=(0,l.Z)(),a=(0,$.Z)(),c=(0,Q.lJ)(o,a),s=e.board,u=s.id,d=s.privacy,p=(0,C.Z)({name:"BoardSectionsResource",options:eD({board_id:u,redux_normalize_feed:!0},(0,q.Z)(d)&&c?{orbac_subject_id:c}:{})}),y=(0,X.v9)(function(e){return e.feeds["".concat(er.Z.BOARD_SECTIONS,":").concat(u)]}),b=(0,X.v9)(function(e){return(y||[]).reduce(function(t,r){return"boardsection"===r.type&&e.boardsections[r.id]?t.concat([e.boardsections[r.id]]):t},[])}),h=null===y,m=(0,X.I0)(),g=o.isAuth&&(null==(t=s.owner)?void 0:t.id)===o.id||s.collaborated_by_me;return!(0,q.Z)(d)||c||g?(0,v.jsx)(eB,eD(eD({},e),{},{dispatch:m,i18n:n,logContextEvent:r,orbacActingAs:a,sections:b,sectionsInvalidated:h,sectionsResource:p,viewer:o})):null}function eR(e){var t=(0,l.Z)(),r=(0,$.Z)(),n=e.board,o=e.isBoardPreviewMode,i=n||{},a=i.access,c=i.featured_board_metadata,s=i.owner,u=(c||{}).has_expanded_sections,d=(a||[]).includes("write")||(0,Q.D3)(t,(null==s?void 0:s.id)||"",r);return u&&(!d||o)?(0,v.jsx)(ea.Z,eD({},e)):(0,v.jsx)(eL,eD({},e))}var eF=r(352228),eH=r(283550),eN=r(67810),eW=r(930382),eK=r(223700);function eG(e){return(eG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=eG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eG(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eG(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eJ(e){var t=(0,l.Z)(),r=(0,$.Z)(),n=(0,Q.lJ)(t,r),o=e.board,i=e.currentView,a=e.currentFilter,c=e.viewer,s=(0,C.Z)({name:"BoardFeedResource",options:(0,eN.q)(o,c,i,a,n),noCache:o.owner.username===c.username||o.collaborated_by_me}),u=(0,X.v9)(function(t){var r=t.feeds,n=t.desktopStories;return(0,eK.Z)(r["".concat(er.Z.BOARDFEED,":").concat(e.board.id)],n)});return(0,v.jsx)(eW.Z,eV(eV(eV({},e),u),{},{resource:s}))}eJ.displayName="BoardSectionlessPinGrid";var eX=r(227129),eq=r(187014),eY=r(185094),e$=r(222719),eQ=r(371714);function e0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e1(e){var t,r,f=e.actions,p=e.board,y=e.bulkEditSelectedPins,b=e.currentFilter,h=e.currentView,m=e.displayActionBar,g=e.enableReordering,_=e.inBoardOrganizationMode,j=e.inSectionOrganizationMode,x=e.inSelectAll,w=e.isBoardPreviewMode,O=e.isOwnBoard,P=e.isPinGridSorted,S=e.onBulkEditPinClick,E=e.onContentViewChange,A=e.oneTapMovePinsHandler,I=e.onShowEditSectionModal,D=e.onShowMergeSectionsConfirmationModal,C=e.refreshFilteredFeed,Z=e.viewParameter,M=(0,d.gC)()(p.id),z=(M?M.section_count:p.section_count)||0,k=null==(r=(0,u.WG)())?void 0:r.boardPinDensity,B=(0,i.u)().logContextEvent,L=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(0===z))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e0(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e0(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),R=L[0],F=L[1],H=(0,a.Z)(),N=(0,eX.Z)(p.url),W=(0,l.Z)(),K=(0,s.ZP)(),G=(0,c.Z)().experimentalGutter,U=p.is_collaborative,V=p.pin_count,X=(p.access||[]).includes("write"),q=O||p.collaborated_by_me,Y=!!("number"==typeof V&&V>=T.Oj&&U&&q);return(0,v.jsxs)(o.xu,{marginBottom:12,children:[(0,v.jsx)(eH.Z,{setMaxWidth:!1,children:(0,v.jsxs)(o.xu,{children:[z>0&&(!b||b===eF.c)&&(0,v.jsx)(eR,{board:p,enableReordering:g,inBoardOrganizationMode:!!_,isBoardPreviewMode:w,oneTapMovePinsHandler:A,onLoadedAll:function(){return F(!0)},onShowEditSectionModal:I,onShowMergeSectionsConfirmationModal:D,viewParameter:Z}),m&&R&&q&&z>0&&(0,v.jsx)(J,{board:p,currentView:h,inBoardOrganizationMode:_,onContentViewChange:E,onOrganizeClick:function(){if(H)return void H();var e=f.onBoardOrganizeClick;B({event_type:101,component:69,element:400,view_type:5}),e&&e(!0)},pinCount:null!=V?V:0,showSortOptions:Y})]})}),"desktop"===K&&R&&(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},"data-test-id":"board-feed",paddingX:0,position:"relative",children:(0,v.jsx)(eJ,{board:p,bulkEditSelectedPins:y,currentFilter:b,currentView:h,denseViewSelected:X&&"dense"===k,inBoardOrganizationMode:_,inSectionOrganizationMode:j,inSelectAll:x,isOwnBoard:O,isPinGridSorted:P,onBulkEditPinClick:S,refreshFilteredFeed:C,renderBoardShopModule:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:G?{paddingLeft:G,paddingRight:G}:{}},marginBottom:6,children:(0,v.jsx)(eq.Z,{isTopVariant:t,storyId:e})})},renderFeaturedBoardsStory:function(e){return(0,v.jsx)(o.xu,{marginBottom:6,children:(0,v.jsx)(eY.Z,{isOwnBoard:O,storyId:e})})},renderFooterStory:function(e){return _||p.archived_by_me_at||!q?null:(0,v.jsx)(o.xu,{marginBottom:6,children:(0,v.jsx)(eH.Z,{children:(0,v.jsx)(eQ.Z,{collection:p,storyId:e,url:N})})})},renderMoreIdeas:function(e){return q?null:(0,v.jsx)(o.xu,{marginBottom:6,children:(0,v.jsx)(e$.default,{storyId:e})})},viewer:W,viewParameter:Z})})]})}},64496:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(586659),o=r(581722),i=r(980787),a=r(679422),c=r(697063),l=r(19585),s=r(31290),u=r(722305);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t,r=e.board,f=(0,i.u)().logContextEvent,p=(0,l.ZP)(),y=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=y[0],v=y[1],h=(0,o.I0)(),m=(0,s.Z)().showBlockingActionToast,g=(0,a.Z)();return{handleShowMergeSectionsConfirmationModal:function(e,t){if(g)return void g();v({source:e,target:t})},mergeConfirmationModalProps:b,onConfirm:function(){if(g)return void g();if(b){var e,t,n=b.source,o=b.target;v(null),f({event_type:7173,object_id_str:n.id,aux_data:{merge_flow:"dnd"}}),h((0,u.Z)(r.id,null!=(e=n.id)?e:"",null!=(t=o.id)?t:"")).then(function(){m({actionType:"merge",board:r,section:o})}).catch(function(e){c.Z.showError(e.message||p._('Failed to merge sections', 'useSectionMergeAction.errorMessage', 'Error message when failed to merge sections'))})}}}}},67810:function(e,t,r){r.d(t,{q:function(){return a}});var n=r(352228);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r,a,c){var l,s,u=e.owner,d=(null==u?void 0:u.id)===t.id,f="react_grid_pin";return t.isPartner&&d&&(f="partner_react_grid_pin"),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:e.id,board_url:null!=(l=e.url)?l:"",currentFilter:a,field_set_key:f,filter_section_pins:!a||a===n.c,sort:"most_reactions"===r?"most_reactions":"default",layout:null!=(s=e.layout)?s:"",page_size:25,redux_normalize_feed:!0},c?{orbac_subject_id:c}:Object.freeze({}))}},283550:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(20256),o=r(382718);function i(e){var t=e.children,r=e.setMaxWidth;return(0,o.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:void 0===r||r?(0,o.jsx)(n.xu,{maxWidth:774,paddingX:2,width:"100%",children:t}):(0,o.jsx)(n.xu,{width:"100%",children:t})})}},227129:function(e,t,r){r.d(t,{Z:function(){return n}});function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"_tools/more-ideas/")}},187014:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(581722),o=r(20256),i=r(980787),a=r(431870),c=r(341742),l=r(169053),s=r(244526),u=r(382718);function d(e){var t,r=e.storyId,d=e.isTopVariant,f=(0,n.v9)(function(e){return e.desktopStories[r]}),p=(0,n.v9)(function(e){return e.boardsections}),y=(null==f?void 0:f.story_type)==="board_shop_tool_module"?f:void 0,b=(0,i.u)().logContextEvent,v=(0,l.S6)(),h=(0,s.$)(),m=Object.keys(p).length>0;return((0,c.Z)(function(){if(y){var e;b({event_type:13,component:15088,view_parameter:3069,view_type:5,aux_data:{board_id:null==(e=y.aux_fields)?void 0:e.board_id,board_session_id:h,module_id:y.id}})}}),y)?(y.objects=null==y||null==(t=y.objects)?void 0:t.map(function(e){return"pin"===e.type&&v(e.id||"")||e}),(0,u.jsx)(o.xu,{marginTop:m&&void 0!==d&&d?11:0,children:(0,u.jsx)(a.default,{component:15088,story:y,storyKey:{type:"Legacy",data:y},surface:"BoardShoppingModule",view:5,viewParameter:3069})})):null}},371714:function(e,t,r){r.d(t,{Z:function(){return g}});var n,o=r(581722);r(492996);var i=r(20256),a=r(980787),c=r(28427),l=r(19585),s=r(538688),u=r(337499),d=r(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=(void 0!==n||(n=r(263148)).hash&&"acfbd2e78cfd4a2a1966a92cf1a7b634"!==n.hash&&console.error("The definition of 'MoreIdeasPreviewStory_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function h(e){var t,r,n,o,a=e.pin;return(0,d.jsx)(i.zd,{rounding:4,width:138,children:(0,d.jsx)(u.Z,{height:207,pin:a&&"Pin"===a.__typename?{imageUrl:null!=(t=null==(r=a.imageSpec_474x)?void 0:r.url)?t:"",dominantColor:null!=(n=a.dominantColor)?n:"",description:null!=(o=a.description)?o:""}:null,width:138})})}function m(e){var t,r,n=e.collection,o=e.storyKey,u=e.url,f=(0,a.u)().logContextEvent,p=(0,l.ZP)(),y=(0,s.Z)(),m=y.isHovering,g=y.hoverHandlers,_=(0,c.Z)(v,o);if(!_)return null;var j=_.objects&&_.objects.filter(function(e){return"Pin"===e.__typename&&"pin"===e.type})||[];return(0,d.jsx)("div",{className:"moreIdeasOnBoard",children:(0,d.jsx)(i.Tg,{fullWidth:!1,href:"".concat(u,"?ideas_referrer=").concat(null!=(r=_.referringSource)?r:""),onMouseEnter:g.onMouseOver,onMouseLeave:g.onMouseLeave,onTap:function(){return f({event_type:101,element:10600,view_type:"boardsection"===n.type?164:5,object_id_str:n.id,view_parameter:3069})},rounding:4,children:(0,d.jsxs)(i.xu,{alignItems:"start",color:m?"secondary":"default",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[(0,d.jsx)(i.xu,{padding:2,children:(0,d.jsx)(i.X6,{lineClamp:1,size:"400",children:"boardsection"===n.type?p._('Find some ideas for this section:', 'Call-to-action text that upsells more ideas tab for an empty section', 'Call-to-action text that upsells more ideas tab for an empty section'):p._('Find some ideas for this board:', 'Call-to-action text that upsells more ideas tab for an empty board', 'Call-to-action text that upsells more ideas tab for an empty board')})}),(0,d.jsx)(i.xu,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:((function(e){if(Array.isArray(e))return b(e)})(t=[,,,,,].keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t=j[e],r=t&&"Pin"===t.__typename&&t.description?t.description.trim():"";return(0,d.jsx)(i.xu,{"data-test-id":r?"pin-with-alt-text":"pin-missing-alt-text",children:(0,d.jsx)(h,{pin:t})},"".concat(t&&"Pin"===t.__typename&&t.entityId?t.entityId:e))})})]})})})}function g(e){var t=(0,o.v9)(function(t){return t.desktopStories[e.storyId]}),r="board_ideas_preview_detailed"===t.story_type?t:void 0;return(0,d.jsx)(m,y(y({},e),{},{storyKey:void 0!==r?{type:"Legacy",data:r}:null}))}},337499:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(20256),o=r(19585),i=r(473728),a=r(382718);function c(e){var t=e.pinCount,r=e.height,c=e.size,l=(0,o.ZP)(),s=(0,i.Z)(l._('+{{ pinCount }}', '+N count overlay on pin selections', '+N count overlay on pin selections'),{pinCount:t});return(0,a.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",height:r,justifyContent:"center",children:"sm"===c?(0,a.jsx)(n.xv,{color:"light",size:"200",weight:"bold",children:s}):(0,a.jsx)(n.X6,{color:"light",size:"600",children:s})})}function l(e){var t=e.additionalPinCount,r=e.additionalPinCountSize,o=e.pin,i=e.width,l=e.height,s=e.rounded;return(0,a.jsx)(n.zd,{height:l,rounding:4*!!s,wash:!0,width:i,children:o&&(0,a.jsx)(n.Ee,{alt:o.description,color:o.dominantColor,fit:"cover",naturalHeight:l,naturalWidth:i,src:o.imageUrl,children:!!t&&(0,a.jsx)(c,{height:l,pinCount:t,size:void 0===r?"lg":r})})})}},647512:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(111330),o=r(753143),i=Object.freeze({});function a(e,t){var r=o.ZP.getItem(n.iT)||i;return(e.isAuth&&r[e.id]||{})[t.id]||null}}}]);