"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["12865"],{628710:function(e,t,r){r.d(t,{Z:function(){return o}});function o(e){return{name:e.full_name||"",src:e.image_medium_url||e.image_small_url||"",href:"/".concat(e.username,"/")}}},606480:function(e,t,r){r.d(t,{F:function(){return m},O:function(){return u}});var o=r(302148),n=function(e){return e._('{{ first }}', 'getTranslatedList.oneItem', 'Generic message that lists 1 item (ex: car). first: the first item')},i=function(e){return e._('{{ first }} and {{ second }}', 'getTranslatedList.twoItems', 'Generic message that lists 2 items (ex: car and dog). first: the first item, second: the second item')},a=function(e){return e._('{{ first }}, {{ second }} and {{ third }}', 'getTranslatedList.threeItems', 'Generic message that lists 3 items (ex: car, dog and chair). first: the first item, second: the second item, third: the third item')},s=function(e){return e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'getTranslatedList.fourItems', 'Generic message that lists 4 items (ex: car, dog, chair and sofa). first: the first item, second: the second item, third: the third item, fourth: the fourth item')},l=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'getTranslatedList.fiveItems', 'Generic message that lists 5 Items (ex: car, dog, chair, sofa and bench). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item')},c=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'getTranslatedList.sixItems', 'Generic message that lists 6 Items (ex: car, dog, chair, sofa, bench and flooring). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, sixth: the sixth item')},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,u={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(r-1)};if(6===r)switch(e.length){case 0:return[];case 1:return(0,o.nk)(n(t),u);case 2:return(0,o.nk)(i(t),u);case 3:return(0,o.nk)(a(t),u);case 4:return(0,o.nk)(s(t),u);case 5:return(0,o.nk)(l(t),u);case 6:return(0,o.nk)(c(t),u);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'getTranslatedList.moreThan6Items', 'Generic message that lists more than 6 Items (ex: car, dog, chair, sofa, bench and 2 others). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, remaining: the remaining items'),u)}switch(e.length){case 0:return[];case 1:return(0,o.nk)(n(t),u);case 2:return(0,o.nk)(i(t),u);case 3:return(0,o.nk)(a(t),u);case 4:return(0,o.nk)(s(t),u);case 5:return(0,o.nk)(l(t),u);case 6:return(0,o.nk)(c(t),u);case 7:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'getTranslatedList.sevenItems', 'Generic message that lists 7 Items (ex: car, dog, chair, sofa, bench, flooring and speakers). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, sixth: the sixth item, seventh: the seventh item'),u);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'getTranslatedList.moreThan7Items', 'Generic message that lists more than 7 Items (ex: car, dog, chair, sofa, bench, flooring and 2 others). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, sixth: the sixth item, remaining: the remaining items'),u)}},d=function(e){return e._('{{ first }}', 'getTranslatedList.onePerson', 'Generic message that lists 1 person (ex: Stevie). first: the first person')},h=function(e){return e._('{{ first }} and {{ second }}', 'getTranslatedList.twoPeople', 'Generic message that lists 2 people (ex: Stevie and Michael). first: the first person, second: the second person')},f=function(e){return e._('{{ first }}, {{ second }} and {{ third }}', 'getTranslatedList.threePeople', 'Generic message that lists 3 people (ex: Stevie, Michael and Alberto). first: the first person, second: the second person, third: the third person')},b=function(e){return e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'getTranslatedList.fourPeople', 'Generic message that lists 4 people (ex: Stevie, Michael, Alberto and Bob). first: the first person, second: the second person, third: the third person, fourth: the fourth person,')},p=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'getTranslatedList.fivePeople', 'Generic message that lists 5 people (ex: Stevie, Michael, Alberto, Bob and Juno). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person')},_=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'getTranslatedList.sixPeople', 'Generic message that lists 6 people (ex: Stevie, Michael, Alberto, Bob, Juno and Lionel). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, sixth: the sixth person')},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(r-1)};if(6===r)switch(e.length){case 0:return[];case 1:return(0,o.nk)(d(t),n);case 2:return(0,o.nk)(h(t),n);case 3:return(0,o.nk)(f(t),n);case 4:return(0,o.nk)(b(t),n);case 5:return(0,o.nk)(p(t),n);case 6:return(0,o.nk)(_(t),n);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'getTranslatedList.moreThan6People', 'Generic message that lists more than 6 people (ex: Stevie, Michael, Alberto, Bob, Juno and 2 others). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, remaining: the remaining items'),n)}switch(e.length){case 0:return[];case 1:return(0,o.nk)(d(t),n);case 2:return(0,o.nk)(h(t),n);case 3:return(0,o.nk)(f(t),n);case 4:return(0,o.nk)(b(t),n);case 5:return(0,o.nk)(p(t),n);case 6:return(0,o.nk)(_(t),n);case 7:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'getTranslatedList.sevenPeople', 'Generic message that lists 7 people (ex: Stevie, Michael, Alberto, Bob, Juno, Lionel and Tina). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, sixth: the sixth person, seventh: the seventh person'),n);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'getTranslatedList.moreThan7People', 'Generic message that lists more than 7 people (ex: Stevie, Michael, Alberto, Bob, Juno, Lionel and 2 others). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, sixth: the sixth person, remaining: the remaining items'),n)}}},32250:function(e,t,r){r.d(t,{Z:function(){return s}});var o,n,i=r(378888);function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e){var t=e.boardId,r=e.username,s=e.slug;return t?(0,i.tV)(o||(o=a(["/v3/boards/","/"])),t):r&&s?(0,i.tV)(n||(n=a(["/v3/boards/","/","/"])),r,s):null}},535877:function(e,t,r){r.r(t),r.d(t,{BoardCollabFlyout:function(){return B},default:function(){return I}});var o=r(586659),n=r(963489),i=r(20256),a=r(821342),s=r(19585),l=r(647709),c=r(981701),u=r(886981),d=r(32250),h=r(519689),f=r(689636),b=r(382718);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function _(e){var t,r=e.board,n=e.scrollInfo,a=(0,s.ZP)(),l=(0,u.Z)({name:"ApiResource",options:{url:null==(t=(0,d.Z)({boardId:r.id}))?void 0:t.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!l.isLoaded)return(0,b.jsx)(i.xH,{accessibilityLabel:a._('Loading', 'Loading spinner when rendering users', 'Loading spinner when rendering users'),show:!0});var c,_=r.owner,m=l.data,y=l.isAtEnd,v=l.isFetching,g=l.fetchMore,x=[_].concat(function(e){if(Array.isArray(e))return p(e)}(c=m||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,void 0):void 0}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return(0,b.jsxs)(o.Fragment,{children:[n?(0,b.jsx)(f.Z,{fetchMore:g,isAtEnd:y,isFetching:v,scrollBuffer:3*n.container.clientHeight,scrollHeight:n.container.scrollHeight,scrollTop:n.top}):null,x.map(function(e){var t=e.full_name,r=e.id,o=e.image_medium_url,n=e.username;return(0,b.jsx)(h.Z,{imageUrl:null!=o?o:"",linkURL:"/".concat(n,"/"),name:null!=t?t:"",subtitle:n,title:null!=t?t:""},r)})]})}var m=r(59653),y=r(280203),v=r(77836);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=g(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}var B=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&P(n,e);var t,r,o=(t=C(),function(){var e,r=w(n);return e=t?Reflect.construct(r,arguments,w(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function n(){var e;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return S(A(e=o.call.apply(o,[this].concat(r))),"state",{contentRef:null,scrollContainer:null,scrollTop:null}),S(A(e),"handleBoardLeave",function(){var t=e.props,r=t.navigate,o=t.viewer;r(o.isAuth?"/".concat(o.username):"/",{replace:!0})}),S(A(e),"handleContentRef",function(t){!e.state.contentRef&&t&&(e.setState({contentRef:t}),t.focus())}),S(A(e),"handleScrollContainer",function(t){!e.state.scrollContainer&&t&&e.setState({scrollContainer:t})}),S(A(e),"handleScroll",function(){var t=e.state.scrollContainer;t&&e.setState({scrollTop:t.scrollTop})}),e}return r=[{key:"renderInvite",value:function(e,t,r){if(!e.invited_user)return null;var o={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:r,useGestaltModal:!0,isDim:!1};return(0,b.jsx)(c.Z,j({},o))}},{key:"render",value:function(){var e=this.props,t=e.anchor,r=e.board,o=e.onDismiss,n=e.viewer,a=this.state,s=a.scrollContainer,l=a.scrollTop,c=n.isAuth&&n.username===r.owner.username,u=s?{container:s,top:l||0}:null,d=(r.access||[]).includes("write");return(0,b.jsx)(y.k,{viewerIsOwner:c,children:(0,b.jsx)(i.mh,{children:(0,b.jsx)(i.xu,{position:"absolute",top:!0,zIndex:v.BO,children:(0,b.jsx)(i.J2,{anchor:t,idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,b.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:320,width:"100%",children:[(0,b.jsx)(i.Le,{top:0,children:(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:(0,b.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,b.jsx)(i.xv,{size:"300",weight:"bold",children:this.props.i18n._('Group members', 'boardCollabFlyout.header', 'Heading for the group members flyout')})})})}),(0,b.jsx)(i.xu,{overflow:"scrollY",children:(0,b.jsx)(i.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,b.jsx)(m.Z,{board:r,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,scrollInfo:u}):(0,b.jsx)(_,{board:r,scrollInfo:u})})})]})})})})})}}],function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,O(o.key),o)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(o.Component);function I(e){var t=(0,s.ZP)(),r=(0,a.Z)(),o=(0,n.s0)(),i=(0,l.HG)();return(0,b.jsx)(B,j(j({},e),{},{i18n:t,isDesktop:i,navigate:o,viewer:r}))}},111879:function(e,t,r){r.d(t,{Z:function(){return f}});var o=r(586659),n=r(159527);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=i(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var h=function(e,t){var r=e.scrollTop,o=e.clientHeight,n=e.scrollHeight;return r+o+(t?t(o):2*o)>n},f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var t,r,o=(t=l(),function(){var e,r=c(f);return e=t?Reflect.construct(r,arguments,c(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function f(){var e;if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return u(s(e=o.call.apply(o,[this].concat(r))),"setContainerRef",function(t){e.containerRef=t}),u(s(e),"fetchMoreIfNecessary",(0,n.Z)(function(){var t=e.props,r=t.fetchMore,o=t.scrollBuffer;r&&e.containerRef&&h(e.containerRef,o)&&r()},200)),e}return r=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}],function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,d(o.key),o)}}(f.prototype,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(o.PureComponent)},741331:function(e,t,r){t.Z=(0,r(586659).createContext)({inboxButton:null,setInboxButton:function(){},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:function(){},isUnblockToast:!1,setIsUnblockToast:function(){},setGroupBoardMessageButton:function(){}})},966269:function(e,t,r){r.d(t,{Z:function(){return i}});var o=r(586659),n=r(741331);function i(){var e=(0,o.useContext)(n.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},558926:function(e,t,r){r.d(t,{Z:function(){return Z}});var o=r(586659),n=r(20256),i=r(355940),a=r(900675),s=r(444185),l=r(947810),c=r(984126),u=r(650533),d=r(963489),h=r(980787),f=r(937392),b=r(821342),p=r(15667),_=r(378888),m=r(341742),y=r(199593),v=r(966269),g=r(975740),x=r(244526),j=r(382718);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,r){var o;return(o=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=P(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==P(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return S(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var O=function(e){switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}},B=function(e){var t,r=e.boardTool,i=e.boardId,a=e.boardSectionId,s=e.iconSize,l=e.index,c=e.toolSize,P=void 0===c?88:c,S=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],l=!0,c=!1;try{for(i=(r=r.call(e)).next;!(l=(o=i.call(r)).done)&&(s.push(o.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(t,2)||w(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),B=S[0],I=S[1],z=(0,x.$)(),T=r.icon,k=r.link,Z=r.text,M=r.tool,E=(0,u.UO)().section_slug,R=k.split("/").slice(0,3),L=k.split("/").slice(4),D=k.split("/")[3]!==E&&a&&E?[].concat(C(R),[E],C(L)).join("/"):k,H=(0,p.B)().isRTL,U=(0,h.u)().logContextEvent,N=(0,g.gC)()(i)||{},G=N.owner,F=N.pin_count,q=N.section_count,J=(0,b.Z)(),W=J.isAuth?J.id:"",Y=(null==G?void 0:G.id)===W?3069:3070,$=0===M,V=function(e){1===M&&U({event_type:e,view_type:a?164:5,view_parameter:Y,element:10600,aux_data:{board_id:i,board_pin_count:F,board_section_count:q,board_section_id:a,grid_index:l}}),$&&U({event_type:e,view_type:a?164:5,view_parameter:Y,component:14926,element:11990,aux_data:{board_id:i,board_session_id:z}})};(0,m.Z)(function(){V(120),$&&V(13)});var K=(0,o.useRef)(null),X=(0,v.Z)().setGroupBoardMessageButton,Q=(0,y.Z)(),ee=Q.conversations.showConversationsDropdown,et=Q.conversationOpen,er=Q.dropdownOpen,eo=Q.dropdownClose,en=(0,d.TH)(),ei=(0,_.mB)(en.search),ea=ei.conversation_id,es=ei.tab,el=4===M&&!!ea&&"inbox"===es;el&&X(K.current);var ec=O(M);return(0,j.jsxs)(o.Fragment,{children:[(0,j.jsx)(n.Tg,{ref:K,accessibilityLabel:Z,href:el?"":D,onBlur:function(){return I(!1)},onFocus:function(){return I(!0)},onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},onTap:function(){el&&(V(102),ee?eo():(er(),et(ea))),$&&V(101)},rounding:6,children:(0,j.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,j.jsx)(n.xu,{alignItems:"center",alignSelf:"center",color:B?"lightWash":"secondary",display:"flex",height:P,justifyContent:"center",rounding:6,width:P,children:(0,j.jsx)(n.JO,{accessibilityLabel:Z,color:"default",icon:"text-align-left"===T&&H?"text-align-right":T,size:void 0===s?30:s})}),(0,j.jsx)(n.xu,{paddingY:1,width:P,children:(0,j.jsx)(n.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:Z})})]})}),ec&&(0,j.jsxs)(o.Fragment,{children:[(0,j.jsx)(f.cs,{anchors:A({},ec,K.current),placementId:18,positionRelativeToAnchor:!1}),(0,j.jsx)(f.N,{anchors:A({},ec,K.current),idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=I(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e){var t=e.boardId,r=e.sectionId,o=e.iconSize,i=e.isBoardEmpty,s=e.toolSize,c=e.boardOrSectionToolsRef,u=(0,l.Z)(),d=(0,a.Z)(c).data;if(!d||!d.length)return null;var h=d.filter(function(e){var t=e.tool;return!u||2===t}).filter(function(e){var t=e.tool;return!i||2!==t});return h.length?(0,j.jsx)(n.xu,{"data-test-id":"board-tools",children:(0,j.jsx)(n.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:h.map(function(e,i){return(0,j.jsx)(n.xu,{"data-test-id":e.text,padding:1,children:(0,j.jsx)(B,{boardId:t,boardSectionId:r,boardTool:e,iconSize:o,index:i,toolSize:s})},e.id)})})}):null}function Z(e){var t=e.sectionId,r=e.boardId,n=(0,l.Z)(),a=!!t,u=(0,s.Z)({name:a?"SectionToolsFeedResource":"BoardToolsFeedResource",options:a?{sectionId:t,orbacSubjectId:n}:{boardId:r,orbacSubjectId:n}}).ref;return(0,j.jsx)(i.Z,{name:"BoardToolsContainer_ResourceError",children:(0,j.jsx)(o.Suspense,{fallback:(0,j.jsx)(c.Z,{}),children:(0,j.jsx)(k,T(T({},e),{},{boardOrSectionToolsRef:u}))})})}B.displayName="BoardTool"},600693:function(e,t,r){r.d(t,{Z:function(){return _}});var o=r(586659),n=r(20256),i=r(980787),a=r(937392),s=r(19585),l=r(25837),c=r(277168),u=r(896273),d=r(382718);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r){var o;return(o=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=h(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==h(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(o=i.call(r)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function _(e){var t,r,h,p,_,m,y,v,g,x,j,P,A,C,w,S,O,B,I,z,T,k=e.board,Z=e.onArchiveClick,M=e.onCreatePincode,E=e.onEditBoardClick,R=e.onEditSectionClick,L=e.onMergeClick,D=e.onShowAbout,H=e.onUnarchiveClick,U=e.showArchiveOnly,N=e.showCreatePinCodeOption,G=e.surface,F=e.excludeShareOption,q=e.size,J=e.bgColor,W=(0,s.ZP)(),Y=(0,o.useRef)(null),$=(0,i.u)().logContextEvent,V=b((0,o.useState)(!1),2),K=V[0],X=V[1],Q=b((0,o.useState)("boardOptions"),2),ee=Q[0],et=Q[1],er="automagical"===k.layout,eo=function(){X(!1),et("boardOptions")},en={description:k.description,id:k.id,imageUrl:k.image_cover_url,name:k.name,type:"board",url:k.url,ownerId:null==(T=k.owner)?void 0:T.id},ei=function(){X(function(e){return!e}),et("boardOptions")},ea=!!k.archived_by_me_at,es=["section"===G?(r=(t={handleClose:eo,onEditClick:R,setMenuType:et}).handleClose,h=t.onEditClick,p=t.setMenuType,{items:[{dataTestId:"edit-section-button",text:W._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:function(){h(),r()}},{text:W._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:function(){(0,c.Z)($),p("boardShare")}}],label:W._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout')}):(_={handleClose:eo,isArchived:ea,isAutomagical:er,onArchiveClick:Z,onCreatePincode:M,onEditClick:E,onMergeClick:L,onShowAbout:D,onUnarchiveClick:H,setMenuType:et,showCreatePinCodeOption:N,isAdOnlyPins:k.is_ads_only,excludeShareOption:F},m=void 0!==U&&U,y=_.handleClose,v=_.isArchived,g=_.isAutomagical,x=_.onArchiveClick,j=_.onCreatePincode,P=_.onEditClick,A=_.onMergeClick,C=_.onShowAbout,w=_.onUnarchiveClick,S=_.setMenuType,O=_.showCreatePinCodeOption,B=_.isAdOnlyPins,I=_.excludeShareOption,z=[],g?z.push({dataTestId:"aboutRecommendationsButton",text:W._('About boards made for you', 'BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption', 'Clickable text to open about boards made for you modal'),onClick:function(){null==C||C(),y()}}):(m||z.push({dataTestId:"editBoardButton",text:W._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:function(){P(),y()}}),I||z.push({dataTestId:"shareBoardButton",text:W._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:function(){(0,c.Z)($),S("boardShare")}}),B||v||z.push({dataTestId:"mergeBoardButton",text:W._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:function(){A(),y()}}),v?z.push({dataTestId:"unarchiveBoardButton",text:W._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:function(){w(),y()}}):z.push({dataTestId:"archiveBoardButton",text:W._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:function(){x(),y()}}),O&&!m&&z.push({dataTestId:"createPinCodeBoardButton",text:W._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:function(){j(),y()}})),{items:z,label:W._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout')})];return(0,d.jsxs)(n.xu,{position:"relative",zIndex:new n.Ry(l.fe-1),children:[(0,d.jsx)(n.xu,{ref:Y,"data-test-id":"more-board-options",children:(0,d.jsx)(n.hU,{accessibilityLabel:W._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:void 0===J?"lightGray":J,icon:"ellipsis",iconColor:"darkGray",onClick:ei,selected:K,size:void 0===q?"sm":q})}),(0,d.jsx)(a.cs,{anchors:f({},3001,Y.current),onCompleteByAnchor:f({},3001,ei),placementId:18}),(0,d.jsx)(a.N,{anchors:f({},3001,Y.current),idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),K&&("boardOptions"===ee?(0,d.jsx)(n.Lt,{anchor:Y.current,disableMobileUI:!0,id:"board_options",onDismiss:eo,children:es.map(function(e){var t=e.items,r=e.label;return(0,d.jsx)(n.Lt.Section,{label:r,children:t.map(function(e){var t=e.dataTestId,r=e.isSelected,o=e.onClick,i=e.text;return(0,d.jsx)(n.Lt.Item,{dataTestId:t,onSelect:o,option:{label:i,value:i},selected:r?{label:i,value:i}:null},i)})},r)})}):(0,d.jsx)(n.J2,{anchor:Y.current,onDismiss:eo,size:"flexible",children:(0,d.jsx)(u.Z,{component:13216,onCreatePincodeClick:M,onHide:eo,sendType:"board",sharedObject:en,viewType:5})}))]})}},419064:function(e,t,r){r.d(t,{Z:function(){return Y}});var o=r(20256),n=r(476785),i=r(250787),a=r(319227),s=r(586659),l=r(628710),c=r(19585),u=r(103345),d=r(963489),h=r(980787),f=r(355940),b=r(937392),p=r(821342),_=r(821806),m=r(448505),y=r(7872),v=r(161774),g=r(382718);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var P=(0,s.lazy)(function(){return Promise.resolve().then(r.bind(r,535877))});function A(e){var t,r,n,i,a,l,c=e.avatarSize,u=e.board,A=e.displayedCollaborators,C=e.isBoardPreviewMode,w=e.nonDisplayedCollaboratorCount,S=e.handleShowCollabAndPermissionsModal,O=e.showPersonAddIconForInvite,B=function(e){if(Array.isArray(e))return e}(r=(0,s.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],l=!0,c=!1;try{for(i=(r=r.call(e)).next;!(l=(o=i.call(r)).done)&&(s.push(o.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(r,2)||function(e,t){if(e){if("string"==typeof e)return j(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=B[0],z=B[1],T=(0,p.Z)(),k=(0,s.useRef)(null),Z=(0,s.useRef)(void 0),M=(0,d.s0)(),E=(0,m.Z)(),R=(0,h.u)().logContextEvent,L=(0,y.KY)(T,u,E),D=L&&!C,H=(D||u.collaborator_invites_enabled&&u.collaborated_by_me)&&!O,U=(n=function(){var e;return M(null!=(e=A[0].href)?e:"/")},A[0].is_ads_only_profile&&A[0].ads_only_profile_site&&(n=function(){R({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(A[0].ads_only_profile_site,"_blank")}),A.length>1&&(n=function(){return z(!I)}),D&&(L||u.collaborated_by_me)&&(n=S),n),N=[501003];D&&u.is_collaborative&&N.push(502335);var G=A.map(function(e){var t=e.name,r=e.src;return t&&r?{name:t,src:r.endsWith("/default_75.png")?"":r}:{name:t,src:r}});return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(v.Z,{ref:k,addButtonRef:Z,avatarSize:c,collaboratorCount:u.collaborator_count||0,displayedCollaborators:G,nonDisplayedCollaboratorCount:w,onClick:U,showAddButton:null!=H&&H}),(0,g.jsx)(b.cs,{anchors:(i={},a=3002,l=Z.current,(t=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=x(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),(a="symbol"==x(t)?t:t+"")in i)?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,i),placementId:18,positionRelativeToAnchor:!1}),(0,g.jsx)(b.Qp,{anchor:Z.current,customWrapper:function(e){var t=e.children;return(0,g.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(2),children:t})},experienceIds:N,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),I&&(0,g.jsx)(f.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,g.jsx)(_.Z,{children:(0,g.jsx)(P,{anchor:k.current,board:u,onDismiss:function(){z(!1),k.current&&k.current.focus()}})})})]})}var C=r(558926),w=r(889168),S=r(415245),O=r(606480),B=r(302148),I=r(535877);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function T(e){var t,r=e.board,n=e.collaborators,i=e.overflowNumber,a=(0,c.ZP)(),l=(0,s.useRef)(null),u=(0,h.u)().logContextEvent,d=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],l=!0,c=!1;try{for(i=(r=r.call(e)).next;!(l=(o=i.call(r)).done)&&(s.push(o.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return z(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],b=d[1],p=n.map(function(e,t){if(e.isDim)return null;var r=e.is_ads_only_profile&&e.ads_only_profile_site,n=(r?e.ads_only_profile_site:e.href)||"",i=e.href?e.href:e.name+t;return(0,g.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(o.rU,{display:"inlineBlock",href:n,onClick:function(){r&&u({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:r?"nofollow":"none",target:r?"blank":null,underline:"none",children:e.name})},i)}).filter(Boolean);return i&&p.push((0,g.jsx)(o.xu,{ref:l,display:"inlineBlock",children:(0,g.jsx)(o.iP,{onTap:function(){return b(!0)},children:(0,g.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,B.nk)(a.ngettext('{{ overflowNumber }} other', '{{ overflowNumber }} others', i, 'legoBoardPageHeader.collaboratorNames.others', 'number of additional collaborators not listed, overflowNumber:number of collaborators'),{overflowNumber:i})})})},"overflowText")),(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(o.xv,{inline:!0,children:(0,O.F)(p,a)}),f&&(0,g.jsx)(I.default,{anchor:l.current,board:r,onDismiss:function(){return b(!1)}})]})}var k=r(581722),Z=r(679422),M=r(87853),E=r(415602);function R(e){var t=(0,c.ZP)(),r=e.onClick,n=e.requested,i=e.size,a=e.useAlternateText;return(0,g.jsx)(o.zx,{fullWidth:!0,onClick:r,size:i||"md",text:(n?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,a)})}var L=r(475498);function D(e){var t=(0,c.ZP)(),r=e.boardImage,n=e.boardName,i=e.boardUrl,a=e.onHide,s=(0,g.jsx)(o.xv,{children:(0,B.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,g.jsx)(o.xv,{inline:!0,weight:"bold",children:n})})});return(0,g.jsx)(L.Z,{duration:3e3,href:i,imageUrl:r,onHide:a,text:s})}function H(e){var t=(0,c.ZP)(),r=e.boardImage,n=e.boardName,i=e.boardUrl,a=e.onHide,s=(0,g.jsx)(o.xv,{children:(0,B.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,g.jsx)(o.xv,{inline:!0,weight:"bold",children:n})})});return(0,g.jsx)(L.Z,{href:i,imageUrl:r,onHide:a,text:s})}function U(e){var t=e.boardId,r=e.boardImage,n=e.boardName,i=e.boardUrl,a=e.isRequestedByMe,s=e.showPulsar,l=e.size,c=e.variant,u=(0,h.u)().logContextEvent,d=(0,k.I0)(),f=(0,p.Z)(),b=(0,M.dI)(),_=f.isAuth&&f.id||"",m=(0,Z.Z)(),y=(0,E.tV)(),v=function(e){var o,s,l,c=e.event;c.preventDefault(),c.stopPropagation(),m?m():a?(d((0,E.GJ)(t,_)),b.showOneToast(function(e){var t=e.hideToast;return(0,g.jsx)(D,{boardImage:r,boardName:n,boardUrl:i,onHide:t})})):(d(y(t)),b.showOneToast(function(e){var t=e.hideToast;return(0,g.jsx)(H,{boardImage:r,boardName:n,boardUrl:i,onHide:t})})),s=(o={action:a?"request":"cancel",id:t,logContextEvent:u,url:i}).action,l=o.id,(0,o.logContextEvent)({event_type:101,component:1,element:"request"===s?7499:7547,object_id_str:l,view_type:4,aux_data:{current_page_url:o.url}})};return _?(0,g.jsxs)(o.xu,{display:"flex",position:"relative",children:[(0,g.jsx)(R,{onClick:v,requested:a,size:l,useAlternateText:"lego"===c}),s&&(0,g.jsx)(o.iP,{onTap:function(e){v(e)},children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,g.jsx)(o.o3,{paused:a})})})]}):null}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function G(e){var t,r=e.board,n=e.boardName,i=e.collaborators,a=e.isArchived,d=e.isBoardPreviewMode,h=e.isSecret,f=e.nonDisplayedCollaboratorCount,b=e.pinCount,p=e.sectionCount,_=e.description,m=e.showPinCount,y=e.showPulsar,v=e.showJoinButton,x=e.isOwnerOrCollaborator,j=e.handleShowCollabAndPermissionsModal,P=(0,c.ZP)(),O=r.automagical_board_metadata,B=r.featured_board_metadata,I=r.featured_in,z=r.id,k=r.image_cover_url,Z=r.layout,M=r.owner,E=void 0===M?{}:M,R=r.should_show_board_collaborators,L=r.url,D=r.viewer_collaborator_join_requested,H=B||{},G=H.curator,F=H.is_sponsored_content,q=(O||{}).upcoming_update_date_text,J=F?G:null,W=x&&!d,Y="automagical"===Z,$=[];G&&!W?$.push((0,l.Z)(G)):R&&i.length?$.push.apply($,function(e){if(Array.isArray(e))return N(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return N(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,void 0):void 0}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):E&&$.push((0,l.Z)(E));var V=null==B?void 0:B.board_tag;return(0,g.jsxs)(o.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,g.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(t=(B||{}).board_subtitle)?(0,g.jsx)(o.xu,{marginBottom:-1,children:(0,g.jsx)(o.xv,{weight:"bold",children:t})}):null,(0,g.jsx)(o.X6,{id:"board-name",size:"700",children:n}),(0,g.jsx)(S.Z,{fontSize:"200",isArchived:a,isAutomagical:Y,isFeaturedBoard:"featured_board"===Z&&!!(null!=I&&I.includes("FEATURED_BOARDS")),isSecret:h,pinCount:b,sectionCount:p,showEditorialBoardTag:"number"==typeof V&&V>=0,showPinCount:m,upcomingUpdateDateText:null!=q?q:""}),!!_&&(0,g.jsx)(u.Z,{description:_})]}),!Y&&(0,g.jsxs)(s.Fragment,{children:[W&&(0,g.jsx)(o.xu,{marginBottom:2,children:(0,g.jsx)(o.HE,{accessibilityLabel:$.length>1?P._('Board with collaborators. Keep inviting collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteMoreCollaborators.accessibilityLabel', 'The board has collaborators. User can add additional collaborators. Opens modal to invite collaborators.'):P._('Invite collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteCollaborators.accessibilityLabel', 'The board has no collaborators. User can add collaborators. Opens modal to invite collaborators.'),addCollaborators:!0,collaborators:$,onClick:j,role:"button",size:"sm"})}),W&&(0,g.jsx)(C.Z,{boardId:z,iconSize:24,isBoardEmpty:!b,toolSize:72}),!W&&J&&(0,g.jsx)(w.Z,{user:J}),!W&&!J&&(0,g.jsxs)(o.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,g.jsx)(A,{avatarSize:"sm",board:r,displayedCollaborators:$,handleShowCollabAndPermissionsModal:function(){},isBoardPreviewMode:d,nonDisplayedCollaboratorCount:f}),(0,g.jsxs)(o.xv,{children:[P._('by ', 'board.Headers.BoardHeader.BoardHeaderDetails.by', 'Text to tell the viewer who the board is owned and collaborated by'),(0,g.jsx)(T,{board:r,collaborators:$,overflowNumber:f})]})]})]}),v&&(0,g.jsx)(U,{boardId:z,boardImage:null!=k?k:"",boardName:n,boardUrl:L,isRequestedByMe:!!D,showPulsar:y,size:"lg",variant:"lego"})]})}var F=r(441178),q=r(932849),J=r(827644),W=r(679269);function Y(e){var t=e.board,r=e.boardName,s=e.collaborators,l=e.description,c=e.fullWidth,u=e.handleShowCollabAndPermissionsModal,d=e.isArchived,h=e.isBoardPreviewMode,f=e.isOwnerOrCollaborator,b=e.isSecret,p=e.nonDisplayedCollaboratorCount,_=e.onCreatePincode,m=e.overFlowActionsButton,y=e.pinCount,v=e.sectionCount,x=e.setBoardPreviewMode,j=e.showPinCount,P=e.showPulsar,A=e.showJoinButton,C=t.featured_board_metadata,w=t.layout,S=t.header,O=t.owner,B=(0,W.Z)(),I=B.isSmallerImage,z=B.isSmallScreen,T=(0,a.Z)(null==O?void 0:O.id),k="automagical"===w,Z=(null==S?void 0:S.large_image_url)||null,M=(null==C?void 0:C.has_expanded_sections)&&T&&x,E=function(){return(0,g.jsxs)(o.kC,{dataTestId:"board-actions-container",gap:2,children:[M&&!k&&(0,g.jsx)(q.Z,{isBoardPreviewMode:h,setBoardPreviewMode:x}),!b&&!k&&(0,g.jsx)(J.Z,{boardKey:{type:"Legacy",data:t},handleCreatePincode:_,iconColor:"darkGray",isShowShareIcon:!0}),m]})},R=function(){return(0,g.jsx)(G,{board:t,boardName:r,collaborators:s,description:l,handleShowCollabAndPermissionsModal:u,isArchived:d,isBoardPreviewMode:h,isOwnerOrCollaborator:f,isSecret:b,nonDisplayedCollaboratorCount:p,pinCount:y,sectionCount:v,showJoinButton:A,showPinCount:j,showPulsar:P})},L=function(){return Z?(0,g.jsx)(F.Z,{boardActions:E(),imageUrl:Z,imageWidth:I?W.w:void 0}):E()},D=(0,g.jsxs)(o.kC,{alignItems:z||!Z||f&&!h?"start":"center",dataTestId:"board-header-with-image",direction:z&&Z?"column":"row",gap:8*!!Z,justifyContent:"between",children:[(0,g.jsx)(o.xu,{children:z&&Z?L():R()}),(0,g.jsx)(o.xu,{maxWidth:z?550:void 0,children:z&&Z?R():L()})]});return void 0!==c&&c?(0,g.jsx)(o.xu,{paddingX:1,width:"100%",children:D}):(0,g.jsx)(n.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:i.Sk,children:D})}}}]);