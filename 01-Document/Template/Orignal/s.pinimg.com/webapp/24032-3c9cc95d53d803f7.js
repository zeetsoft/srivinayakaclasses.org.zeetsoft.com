"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["24032"],{667835:function(e,t,n){n.d(t,{F6:function(){return g},Hs:function(){return _},N$:function(){return v},OW:function(){return h},Ov:function(){return b},Yc:function(){return m},k7:function(){return d},t4:function(){return f},vs:function(){return p}});var r=n(586659),i=n(111330),o=n(15667),s=n(753143),a=n(941404),l=n(647709);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u="dark",d="rgba(17, 17, 17, 1)",h="rgba(17, 17, 17, 0)",v="rgb(43, 43, 43)",b="#767676",f="rgba(0,0,0, 0.8)",m=function(){return(0,s.M0)().getItem(i.wg)===u};function p(){var e,t=(0,l.ml)(),n=(0,o.B)(),i=n.theme,s=n.isAuthenticated,a=n.referrerFromCookie,d=t&&i===u,h=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(d))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(a.push(r.value),2!==a.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=h[0],b=h[1];return(0,r.useEffect)(function(){var e=d||s&&m();e&&(document.body.style.backgroundColor="#111111"),b(e)},[b,t,d,s,a]),v}var _=function(){(0,s.M0)().setItem(i.wg,u),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},g=function(){(0,s.M0)().removeItem(i.wg),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},809295:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Z3:function(){return m},ZP:function(){return _},LU:function(){return p}});var s,a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,l={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},c={},u={background:"#FF8A8A",transform:"scale(.98)"},d=(i(s={init:function(e){return{transform:"scale(".concat(c[e]?.8:.99,")"),transition:"transform .2s ease-in-out",background:"#8E8E8E"}}},l.enter,{background:"#A0DCC8",transform:"scale(.99)"}),i(s,l.exit,u),i(s,l.stopped,u),i(s,l.paused,u),i(s,l.resumed,{background:"#0FA573",transform:"scale(.99)"}),s),h=function(){var e;function t(e){var n,r=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");i(this,"lastIntersectionChange",null),i(this,"setMutationObserver",function(e){return r.mutationObserver=e,r}),i(this,"startMutationObserver",function(e){r.mutationObserver&&r.mutationObserver.observe(r.node,e)}),i(this,"stopMutationObserver",function(){r.mutationObserver&&r.mutationObserver.disconnect()}),i(this,"handleIntersectionVisibilityChange",function(e,t){r.lastIntersectionChange=e,[{type:1,isVisible:function(e){var t,n,r=null!=(t=null==(n=e.rootBounds)?void 0:n.bottom)?t:window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<r},isHidden:function(e){var t,n,r=null!=(t=null==(n=e.rootBounds)?void 0:n.bottom)?t:window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=r}},{type:50,isVisible:function(e){return e.intersectionRatio>=.5},isHidden:function(e){return e.intersectionRatio<.5}},{type:80,isVisible:function(e){return e.intersectionRatio>=.8},isHidden:function(e){return e.intersectionRatio<.8}},{type:2,isVisible:function(e){var t,n,r=null!=(t=null==(n=e.rootBounds)?void 0:n.bottom)?t:window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=r&&e.boundingClientRect.bottom>=143},isHidden:function(e){var t,n,r=null!=(t=null==(n=e.rootBounds)?void 0:n.bottom)?t:window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>r}}].forEach(function(n){var i=n.type,o=n.isVisible,s=n.isHidden;o(e)?r.lastLoggedVisibleEvent[i]||(r.addVisibleEvent(i,t),r.lastLoggedVisibleEvent[i]=!0):s(e)&&r.lastLoggedVisibleEvent[i]&&(r.addHiddenEvent(i,t),r.lastLoggedVisibleEvent[i]=!1)})}),i(this,"handleIntersectionChange",function(e){var t=e.intersectionRatio>0||e.isIntersecting,n=Date.now();r.handleIntersectionVisibilityChange(e,n),t&&!r.inViewport?(r.startTime=n,r.pinCellWidth=r.node.offsetWidth,r.pinCellHeight=r.node.offsetHeight,r._debug(l.enter,{startTime:n,node:r.node}),r.enterCallbacks.forEach(function(e){return e()})):!t&&r.inViewport&&(r._debug(l.exit,!0),r.exitCallbacks.forEach(function(e){return e(r.toJSON())})),r.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent=(i(n={},1,!1),i(n,50,!1),i(n,80,!1),i(n,2,!1),n)}return e=[{key:"addVisibleEvent",value:function(e,t){var n=this.visibleEvents.get(e)||[];n.push(1e6*t),this.visibleEvents.set(e,n)}},{key:"addHiddenEvent",value:function(e,t){var n=this.hiddenEvents.get(e)||[];n.push(1e6*t),this.hiddenEvents.set(e,n)}},{key:"hasVisibleEvent",value:function(e){return this.visibleEvents.has(e)}},{key:"hasHiddenEvent",value:function(e){return this.hiddenEvents.has(e)}},{key:"onEnterViewport",value:function(e){return this.enterCallbacks.push(e),this}},{key:"onExitViewport",value:function(e){return this.exitCallbacks.push(e),this}},{key:"setDebugId",value:function(e){return this.debugId=e,a&&Object.assign(this.node.style,d.init(e)),this}},{key:"pause",value:function(){var e=this;return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(l.paused,!0),this.exitCallbacks.forEach(function(t){return t(e.toJSON())})),this}},{key:"resume",value:function(){var e=this;if(this.inViewport){var t=Date.now();this._debug(l.resumed,{startTime:t}),this.startTime=t,this.addVisibleEvent(102,t),Object.keys(this.lastLoggedVisibleEvent).forEach(function(t){e.lastLoggedVisibleEvent[t]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,t)}return this}},{key:"stop",value:function(e){var t=this;return this.inViewport&&(this._debug(l.stopped,!0),this.exitCallbacks.forEach(function(n){return n(t.toJSON(e))})),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}},{key:"toDebugJSON",value:function(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:"".concat((Date.now()-this.startTime)/1e3," seconds"),pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}},{key:"_debug",value:function(e,t){if(a)switch(window.console.log("\uD83D\uDCCC ".concat(e," -- ").concat(this.debugId)),!0===t&&window.console.log(this.toDebugJSON()),"object"===r(t)&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case l.flushed:case l.paused:case l.exit:c[this.debugId]=!0}}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}var m=!0,p=!1,_=function(){var e;function t(){var e=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");b(this,"_delegateChange",function(t){t.forEach(function(t){var n=e.activeImpressions.get(t.target);n&&n.handleIntersectionChange(t)})}),b(this,"_handleMutations",function(t,n){var r=e.mutationObservers.get(n);r&&r.offsetHeight<1&&r&&e.stop(r,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}return e=[{key:"setExperimentStatus",value:function(e){this.inExperiment!==e&&(this.inExperiment=e)}},{key:"stop",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this.activeImpressions.get(e);i&&(i.stop(r),i.mutationObserver&&this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),null==(t=window.activeImpressions)||t.delete(e),null==(n=this.observer)||n.unobserve(e))}},{key:"start",value:function(e){var t,n,r=this,i=this.activeImpressions.get(e);return i||(i=new h(e),this.activeImpressions.set(e,i),null==(t=window.activeImpressions)||t.set(e,i),null==(n=this.observer)||n.observe(e),i.setMutationObserver(new window.MutationObserver(function(e,t){return r._handleMutations(e,t)})),i.mutationObserver&&this.mutationObservers.set(i.mutationObserver,e),i.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),i}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;this.paused||(Array.from(this.activeImpressions.values()).forEach(function(e){return e.pause()}),this.paused=!0,this.pausePriority===p&&(this.pausePriority=e))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;(e!==p||this.pausePriority!==m)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(function(e){return e.resume()}),this.paused=!1,this.pausePriority=p)}},{key:"addObstruction",value:function(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}},{key:"removeObstruction",value:function(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}},{key:"updateObstructions",value:function(){this._calculateRootMargins()}},{key:"_calculateRootMargins",value:function(){var e=this,t=Array.from(this.topObstructions).reduce(function(e,t){var n=t.getBoundingClientRect().bottom;return n>e?n:e},0),n=window.innerHeight-Array.from(this.bottomObstructions).reduce(function(e,t){var n=t.getBoundingClientRect().top;return n<e?n:e},window.innerHeight);if(t!==this.topHeight||n!==this.bottomHeight){var r,i={rootMargin:"".concat(-t,"px 0px ").concat(-n,"px"),threshold:[0,.5,.8,1]};null==(r=this.observer)||r.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(function(t){var n;return null==(n=e.observer)?void 0:n.observe(t.node)}),this.topHeight=t,this.bottomHeight=n}}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},816358:function(e,t,n){t.Z=new(n(809295)).ZP},444185:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(849233),i=n(943257);function o(e){var t=null!=e?e:{name:r.fY,options:null},n=t.enabledRouteRefresh,o=t.headers,s=t.name,a=t.noCache,l=t.options,c=t.schema,u=!e,d=(0,i.Z)({enabledRouteRefresh:n,headers:o,name:s,noCache:a,options:l,schema:c},u,!1),h=d.fetchResource,v=d.ref,b=d.fetchMore,f=d.isFetching,m=d.isLoaded,p=d.isRefreshing,_=d.refresh;return u||h(),{ref:v,fetchMore:b,isFetching:f,isLoaded:m,isRefreshing:p,refresh:_}}},16025:function(e,t){t.Z=function(e){return e?"string"==typeof e?e:e.pathname?e.pathname:"":""}},995732:function(e,t,n){n.d(t,{Z:function(){return V}});var r=n(586659),i=n(581722),o=n(963489),s=n(20256),a=n(521009),l=n(657043),c=n(686319),u=n(475498),d=n(19585),h=n(444185),v=n(886981),b=n(87853),f=n(16025),m=n(744862),p=n(821342),_=n(15667),g=n(748008),y=n(382718);function x(e){var t=e.username,n=e.senderName,r=e.createdAtDate,i=e.isInviteToGroupChat,o=e.avatarImg,a=e.handleBlock,l=e.handleUnblock,c=e.handlePreview,u=e.handleDecline,h=e.handleReport,v=e.declineInvite,b=e.blockedInvite,f=(0,d.ZP)(),x=(0,_.B)().locale,S=new Date(r),w=(0,g.Z)(S,x),I=(0,p.Z)(),j=I.isAuth?null==I?void 0:I.avatar_color_index:void 0,P=(0,y.jsx)(s.Tg,{href:"/".concat(t),children:(0,y.jsx)(m.qE,{accessibilityLabel:f._('User`s avatar', 'InviteSubSection.InviteSubSectionItem.usersAvatar', 'avatar image'),color:j,name:n,size:"md",src:o})}),A=b?(0,y.jsx)(s.zx,{accessibilityLabel:f._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request'),onClick:l,size:"lg",text:f._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request')}):(0,y.jsx)(s.zx,{accessibilityLabel:f._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request'),onClick:a,size:"lg",text:f._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request')}),k=(0,y.jsx)(s.zx,{accessibilityLabel:f._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request'),onClick:h,size:"lg",text:f._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request')}),C=(0,y.jsx)(s.zx,{accessibilityLabel:f._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request'),color:"transparent",onClick:u,size:"lg",text:f._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request')}),O=(0,y.jsx)(s.zx,{accessibilityLabel:f._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request'),color:void 0,onClick:c,size:"lg",text:f._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request')});return(0,y.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,marginTop:4,width:"100%",children:[(0,y.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,y.jsx)(s.xu,{marginEnd:4,children:P}),(0,y.jsxs)(s.kC,{direction:"column",flex:"grow",children:[(0,y.jsxs)(s.xu,{display:"flex",justifyContent:"between",marginBottom:1,children:[(0,y.jsx)(s.kC,{flex:"grow",children:(0,y.jsx)(s.rU,{display:"inlineBlock",href:"/".concat(t),tapStyle:"none",underline:"hover",children:(0,y.jsx)(s.xv,{lineClamp:1,children:n})})}),(0,y.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:4,children:(0,y.jsx)(s.xv,{align:"end",color:"subtle",size:"100",children:w})})]}),(0,y.jsx)(s.iP,{onTap:c,children:(0,y.jsx)(s.xu,{children:(0,y.jsx)(s.xv,{color:"subtle",inline:!0,lineClamp:1,children:i?f._('Added you to a group message', 'InviteSubSection.InvitePreviewSubSectionItem.groupMessageDescription', 'text for group message request description'):f._('Sent you a message', 'InviteSubSection.InvitePreviewSubSectionItem.messageDescription', 'text for message request description')})})})]})]}),(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:2,width:"100%",children:[(0,y.jsx)(s.xu,{width:64}),v?(0,y.jsxs)(s.kC,{gap:2,children:[A,k]}):(0,y.jsxs)(s.kC,{children:[O,C]})]})]})}var S=n(667835);function w(e){var t=e.boardName,n=e.createdAtDate,r=e.username,i=e.boardUrl,o=e.boardInviteSenderAvatarUrl,a=e.boardInviteSenderFullName,l=e.boardInviteCoverImageUrl,c=e.handleDecline,u=e.isInboxRequestsSectionView,h=(0,d.ZP)(),v=(0,_.B)().locale,b=new Date(n),f=(0,g.Z)(b,v),x=(0,p.Z)(),w=x.isAuth?null==x?void 0:x.avatar_color_index:void 0,I=(0,y.jsx)(s.Tg,{href:i,rounding:2,children:(0,y.jsxs)(s.zd,{height:48,rounding:2,width:48,children:[l?(0,y.jsx)(s.Ee,{alt:h._('board cover image', 'InviteSubSection.InviteSubSectionItem.boardCoverImage', 'cover image'),fit:"cover",naturalHeight:48,naturalWidth:48,src:l}):(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(0,S.Yc)()?"#4A4A4A":"#E9E9E9"}},display:"flex",height:48,width:48,children:[(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRight:(0,S.Yc)()?"1px solid black":"1px solid white"}},width:"50%"}),(0,y.jsxs)(s.kC,{direction:"column",width:"50%",children:[(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:(0,S.Yc)()?"1px solid black":"1px solid white"}},height:"50%"}),(0,y.jsx)(s.xu,{height:"50%"})]})]}),(0,y.jsx)(s.xu,{bottom:!0,height:20,position:"absolute",right:!0,width:20,children:(0,y.jsx)(m.qE,{accessibilityLabel:h._('board owner avatar', 'InviteSubSection.InviteSubSectionItem.boardInvites.userAvatar', 'avatar image of board owner that displays on board invites'),color:w,name:a,outline:!0,size:"fit",src:o})})]})});return(0,y.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,marginTop:4,width:"100%",children:[(0,y.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,y.jsx)(s.xu,{marginEnd:4,children:I}),(0,y.jsxs)(s.kC,{direction:"column",flex:"grow",children:[(0,y.jsxs)(s.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"between",marginBottom:1,width:"100%",children:[(0,y.jsx)(s.kC,{flex:"grow",justifyContent:"start",children:u?(0,y.jsx)(s.Tg,{href:i,children:(0,y.jsx)(s.xv,{children:h._('Board Invite', 'InviteSubSection.InviteSubSectionItem.boardInviteText', 'text to indicate a board invite')})}):(0,y.jsx)(s.rU,{display:"inlineBlock",href:"/".concat(r),underline:"hover",children:(0,y.jsx)(s.xv,{lineClamp:1,children:a})})}),(0,y.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:4,children:(0,y.jsx)(s.xv,{align:"end",color:"subtle",size:"100",children:f})})]}),(0,y.jsx)(s.Tg,{href:i,children:(0,y.jsx)(s.xv,{color:"subtle",lineClamp:1,children:t})})]})]}),(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:2,width:"100%",children:[(0,y.jsx)(s.xu,{width:64}),(0,y.jsx)(s.ZP,{accessibilityLabel:h._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request'),href:i,size:"lg",text:h._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request')}),(0,y.jsx)(s.zx,{accessibilityLabel:h._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request'),color:"transparent",onClick:c,size:"lg",text:h._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request')})]})]})}var I=n(881713),j=n(647540),P=n(428778),A=n(548286),k=n(415602),C=n(879398);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function B(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return q(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t=function(e){var t;return new Date(null!=(t=e.created_at)?t:0)};return B(e).sort(function(e,n){return t(e)>t(n)?-1:+(t(n)>t(e))})},D=function(e,t,n,r){var i=e||t?r._('Board invite declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a board invite'):r._('Message request declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a message request');n(function(e){var t=e.hideToast;return(0,y.jsx)(u.Z,{duration:3e3,onHide:t,text:i})})},H=function(e,t,n,r){t(function(e){var t=e.hideToast;return(0,y.jsx)(u.Z,{duration:5e3,onHide:t,primaryAction:{accessibilityLabel:r._('Undo blocking', 'InviteSubSection.InvitePreviewSubSection.declineToast.a11yUndo', 'Accessibility label for toast to undo comment highlight or comment highlight removal'),label:r._('Undo', 'InviteSubSection.InvitePreviewSubSection.declineToast.undo', 'Toast Undo button do undo a block'),size:"lg",onClick:n},text:r._('Message declined!', 'InviteSubSection.InvitePreviewSubSection.declineToast', 'Toast alerting user that they declined a message request')})})};function M(e){var t=e.numberOfRequestToShow,n=e.isInboxRequestsSectionView,h=e.boardInvitesList,v=e.contactRequestsList,m=e.contactRequestsResourceRefresh,p=(0,d.ZP)(),_=(0,i.I0)(),g=(0,o.s0)(),S=(0,b.dI)(),j=S.showToast,O=S.showOneToast,E=(0,i.v9)(function(e){return e.inbox}),z=(0,P.Z)(),R=(0,a.Z)(),q=[].concat(B(h||[]),B(v||[])),M=(0,r.useRef)(v);(0,r.useEffect)(function(){M.current=v},[v]),(0,r.useEffect)(function(){var e=E&&E.showToastForContactRequest;return e&&(H(e,O,function(){_((0,I.O)(e,!1,!1))},p),_((0,C.C)(null))),function(){var e=[];M.current&&(M.current.forEach(function(t){if(t&&t.hasDeclined){var n;e.push(null!=(n=t.id)?n:"")}}),e.length>0&&(0,c.Z)({url:"/v3/contact_requests/batch/decline/",method:"DELETE",data:{contact_request_ids:e}}).then(function(){_((0,I.A)(e))}).catch(function(){_((0,I.A)(e))}))}},[]);var V,L=function(){m&&m()},U=((0,k.RZ)(),function(e){var t,r,o,a,d,h,v,b,m,S,P,k,E,B,T,q,Z,M,V,U,N,F,W,J,Y,G,$,K,Q,X,ee,et,en,er,ei,eo,es,ea,el,ec,eu,ed,eh,ev,eb,ef,em,ep,e_,eg,ey,ex=e.inviteItem,eS=e.index,ew=(ee=regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null!=ex.board,e.prev=1,e.next=4,(0,c.Z)({url:"/v3/contact_requests/".concat(ex.id,"/accept/"),method:"POST"});case 4:if(!e.sent||(L&&L(),!(!t&&"contactrequest"===ex.type))){e.next=12;break}return e.next=10,z({user_ids:[null==(n=ex.sender)?void 0:n.id,null==(r=ex.recipient)?void 0:r.id]});case 10:(i=e.sent)&&g("/conversation/".concat(i.id));case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),Error((0,l.Z)(e.t0,"message"));case 17:case"end":return e.stop()}},e,null,[[1,14]])}),function(){(0,c.Z)({url:"/v3/contact_requests/".concat(ex.id,"/decline/"),method:"DELETE"}).then(function(){L&&L()})}),eI="contactrequest"===ex.type&&ex.conversation&&!ex.board?(et=!!ex.hasDeclined&&ex.hasDeclined,en=!!ex.hasBlocked&&ex.hasBlocked,er=function(){var e="contactrequest"===ex.type&&ex.conversation&&ex.conversation.id;e?g("/conversation/".concat(e)):(j(function(e){var t=e.hideToast;return(0,y.jsx)(u.Z,{duration:3e3,onHide:t,text:p._('Conversation not found', 'InviteSubSection.InviteSubSectionItem.conversationNotFoundToast', 'Toast alerting user that Conversation is not found')})}),g("/inbox"))},ei=function(){_((0,C.z)(ex.id,"block"))},eo=function(){_((0,C.z)(ex.id,"unblock"))},es=function(){_((0,C.z)(ex.id,"report")),g("/inbox")},ea=function(){var e;H(null!=(e=ex.id)?e:"",O,function(){_((0,I.O)(ex.id,!1,!1))},p)},el=(0,i.I0)(),ec=function(){el((0,I.O)(ex.id,!0,!1)),ea&&ea()},ef=null!==ex.board,em=null!=(eu=null==(ed=ex.sender)?void 0:ed.full_name)?eu:"",ep=ex.created_at,e_=ef?null==(eh=ex.board)?void 0:eh.image_cover_url:null==(ev=ex.sender)?void 0:ev.image_large_url,eg=(null==(eb=ex.sender)?void 0:eb.username)||"",ey=ex.conversation&&(ex.conversation.users||[]).length+(ex.conversation.emails||[]).length>2,(0,y.jsx)(s.xu,{"data-test-id":"invite-item",children:(0,y.jsx)(x,{avatarImg:null!=e_?e_:"",blockedInvite:en,createdAtDate:ep||"",declineInvite:et,handleBlock:ei,handleDecline:ec,handlePreview:er,handleReport:es,handleUnblock:eo,isInviteToGroupChat:ey,senderName:em,username:eg})})):(t=ex,r=function(){var e="collaboratorinvite"===ex.type,t=!e&&null!=ex.board;e?ex.board_data&&_((0,A.xR)(ex.board_data.id,ex.invited_user,R)):ew(),D(e,t,O,p)},o=n,"contactrequest"===t.type?(P=null!==t.board,k=t.created_at||"",P&&(m=(null==(S=t.board)?void 0:S.name)||""),E=null==(a=t.sender)?void 0:a.username,B=(null==(d=t.sender)?void 0:d.full_name)||"",T=(0,f.Z)((null==(h=t.board)?void 0:h.url)||""),q=(0,f.Z)((null==(v=t.sender)?void 0:v.image_large_url)||""),Z=(0,f.Z)((null==(b=t.board)?void 0:b.image_cover_url)||""),(0,y.jsx)(s.xu,{"data-test-id":"invite-item",children:(0,y.jsx)(w,{boardInviteCoverImageUrl:Z,boardInviteSenderAvatarUrl:q,boardInviteSenderFullName:B,boardName:m,boardUrl:T||"",createdAtDate:k||"",handleDecline:r,isInboxRequestsSectionView:o,username:E||""})})):"collaboratorinvite"!==t.type?null:(J=null==(M=t.board_data)?void 0:M.name,Y=t.created_at,G=null==(V=t.inviter_data)?void 0:V.username,$=(null==(U=t.inviter_data)?void 0:U.full_name)||"",K=(0,f.Z)(null==(N=t.board_data)?void 0:N.url),Q=(0,f.Z)(null==(F=t.inviter_data)?void 0:F.image_large_url),X=(0,f.Z)(null==(W=t.board_data)?void 0:W.image_cover_url),(0,y.jsx)(s.xu,{"data-test-id":"invite-item",children:(0,y.jsx)(w,{boardInviteCoverImageUrl:X,boardInviteSenderAvatarUrl:Q,boardInviteSenderFullName:$,boardName:J||"",boardUrl:K||"",createdAtDate:Y||"",handleDecline:r,isInboxRequestsSectionView:o,username:G||""})})));return(0,y.jsx)(s.xu,{children:eI},eS)}),N=(q=Z(q)).length,F=[],W=[],J=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(q);try{for(J.s();!(V=J.n()).done;){var Y=V.value;"contactrequest"===Y.type&&Y.conversation&&!Y.board?F.push(Y):W.push(Y)}}catch(e){J.e(e)}finally{J.f()}return!n&&N>0?(0,y.jsxs)(s.xu,{margin:4,children:[F.length>0&&(0,y.jsxs)(s.xu,{marginBottom:8,children:[(0,y.jsx)(s.xv,{inline:!0,size:"300",children:p._('Message requests', 'mWeb.Messaging.ContactRequests.MessagingRequests', 'Section header for message requests on all requests page')}),F.map(function(e,t){return(0,y.jsx)(U,{index:t,inviteItem:e},e.id)})]}),W.length>0&&(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(s.xv,{inline:!0,size:"300",children:p._('Board invites', 'mWeb.Messaging.ContactRequests.BoardInvites', 'Section header for board invites on all requests page')}),W.map(function(e,t){return(0,y.jsx)(U,{index:t,inviteItem:e},e.id)})]})]}):N>0?(0,y.jsx)(s.xu,{margin:4,children:q.slice(0,t||N).map(function(e,t){return(0,y.jsx)(U,{index:t,inviteItem:e},e.id)})}):null}function V(e){var t=(0,j.Z)(),n=(0,i.v9)(function(e){return e.contactRequests}),r=(0,v.Z)({name:"ContactRequestsResource",options:{current_user:!0}}).refresh;(0,h.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});var o=Object.values(n||{}).map(function(e){return e});return(0,y.jsx)(M,z(z({},e),{},{boardInvitesList:t,contactRequestsList:o,contactRequestsResourceRefresh:r}))}},748008:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(410156),i=n(739907),o=n(115886);function s(e,t){return Date.now()-Date.parse(e.toString())>r.F4?(0,i.Z)(e,t,{month:"short",day:"numeric"}):(0,o.Z)(e,t,{hour:"numeric",minute:"numeric"})}},647540:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(581722),i=n(260002),o=n(793698);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(){var e=(0,o.mN)();return(0,r.v9)(function(t){var n=Object.values((0,i.Z)(t)||{});return n?n.map(function(n){var r=t.invites[n],i=t.boards[r.board];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({inviter_data:e(r.invited_by_user),board_data:i},r)}):[]})}},428778:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(575108),i=n(657043),o=n(199593);function s(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function a(){var e,t,n=(0,o.Z)().conversationCreate;return e=regeneratorRuntime.mark(function e(t){var o,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.Z.create("ConversationsResource",t),e.prev=1,e.next=4,s.callCreate();case 4:(a=e.sent.resource_response.data)&&(n(a),o=a),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),Error((0,i.Z)(e.t0,"message"));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}},e,null,[[1,9]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},883379:function(e,t,n){var r=n(675973),i=n(15667),o=n(647709);t.Z=function(e){var t=e.skipExpActivation,n=(0,r.Z)().checkExperiment,s=(0,o.HG)(),a=(0,i.B)(),l=a.isBot;return!a.isAuthenticated&&!!s&&s&&!l&&n("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:void 0!==t&&t}).anyEnabled}},209257:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return e===t}t.createSelector=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var s=0,a=i.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return n(e)}).join(", ")+"]");return t}(i),c=e.apply(void 0,[function(){return s++,a.apply(void 0,arguments)}].concat(r)),u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=l.map(function(n){return n.apply(void 0,[e,t].concat(r))});return c.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(o))};return u.resultFunc=a,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,i=null;return function(){for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return null!==n&&n.length===o.length&&o.every(function(e,r){return t(e,n[r])})||(i=e.apply(void 0,o)),n=o,i}})}}]);