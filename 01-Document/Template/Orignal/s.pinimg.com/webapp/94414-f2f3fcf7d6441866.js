"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["94414"],{51581:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(963489),o=n(599472),i=n(647709);function a(){var e=(0,r.s0)(),t=(0,i.HG)();return function(n){t?(0,o.Z)(n,{disableOriginCheck:!0}):e(n)}}},17619:function(e,t){t.Z=function(e,t){var n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},673877:function(e,t,n){var r=n(382718);t.Z=function(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:n,viewBox:"0 0 512 512",width:n,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,r.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,r.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,r.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,r.jsx)("path",{d:"M20 20h472v472H20V20z"})]})}},482698:function(e,t,n){n.d(t,{Di:function(){return a},E2:function(){return u},Eh:function(){return p},Jl:function(){return r},R:function(){return o},aU:function(){return c},iu:function(){return s},j2:function(){return i},pN:function(){return l}});var r=1e4,o="permanent_account_closure",i="account_deletion_email_sent",a="account_deactivated",c="unlink_successful",s="lba_deprecation_personal_convert_account_message",u="lba_deprecation_business_convert_account_message",l="account_switch_to_settings",p="lba_deprecation_delete_account"},438534:function(e,t){t.Z=function(e){return JSON.parse(decodeURIComponent(atob((e.split(".")[1]||"").replace(/-/g,"+").replace(/_/g,"/")).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")))}},508632:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(38787),o=n(941404);function i(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return c.apply(this,arguments)}function c(){var e;return e=regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.Kw)();case 2:i=(n=e.sent)?{user_ids:Object.keys(n)}:{},(0,o.tj)("mweb_multiple_accounts_".concat(t),i);case 5:case"end":return e.stop()}},e)}),(c=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)})}).apply(this,arguments)}},258397:function(e,t,n){n.d(t,{kB:function(){return p},eN:function(){return l},_:function(){return f}});var r=n(694955),o=n(378888),i=n(909816),a=n(929853),c=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],s=function(e,t){var n=new URL(e,t);return c.some(function(e){return!!(0,a.LX)({path:e,end:!0},n.pathname)})},u=n(603316),l=function(e){return e&&(0,o.Qg)(e)&&r.lfe!==e?(0,o.Qc)(e).relative:"/"},p=function(e,t){var n=(0,o.Jx)(e);return s(n,t)||(0,i.Z)(n)===o.vx.TRUSTED_DIFFERENT_ORIGIN},f=function(e){var t=e.forceFullPageNavigation,n=e.navigate,r=e.next,i=e.noLocationReplace,a=e.origin,c=(0,o.Jx)(r);p(r,a)||!n||t?(t&&(0,u.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(c)):i?n(l(c)):n(l(c),{replace:!0})}},418631:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(586659),o=n(20256),i=n(438534),a=n(324845),c=n(240402),s=n(675973),u=n(15667),l=n(941404),p=n(572227),f=n(673877),d=n(19585),g=n(903760),_=n(779724),m=n(382718);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(){var e,t=(0,d.ZP)(),n=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],a=n[1];return(0,g.q)()?null:(0,m.jsxs)(o.xu,{position:"relative",children:[(0,m.jsx)(o.iP,{onTap:function(){return a(!0)},children:(0,m.jsxs)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,m.jsx)(o.xu,{height:24,marginTop:1,width:24,children:(0,m.jsx)(f.Z,{size:20})}),(0,m.jsx)(o.xu,{marginStart:2,children:(0,m.jsx)(o.xv,{weight:"bold",children:t._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),i&&(0,m.jsx)(_.Z,{onDismiss:function(){return a(!1)},type:"google"})]})}function b(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function y(e){var t=e.onGoogleConnectSuccess,n=e.onTouch,s=(0,u.B)().locale,f=(0,r.useRef)(null),d=(0,c.l)(),g=(0,r.useRef)(t),_=(0,p.Z)();return(0,r.useEffect)(function(){g.current=t},[t]),(0,r.useEffect)(function(){var e,t=function(e){var t=e.credential,n=e.select_by;(0,l.My)("unauth_mweb.gsi_button.select_by.".concat(n)),(0,l.NC)("press_google_connect_button");var r=(0,i.Z)(t);g.current({google_open_id_token:t,autologin:!1},{type:"google",google_open_id_token:t,first_name:r.given_name,last_name:r.family_name,image_url:r.picture})};return(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==d?void 0:d.ensureInit("button",t);case 2:(0,a.ru)({buttonRef:f,isDesktop:!1,locale:s,onTouch:n});case 3:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,c,"next",e)}function c(e){b(i,r,o,a,c,"throw",e)}a(void 0)})})(),function(){null==d||d.removeButtonCallback(t)}},[d,s]),(0,m.jsx)(o.xu,{position:"relative",children:(0,m.jsx)(o.iP,{onTap:function(){_({action:"click",item:"google-connect-button"}),(0,l.EX)({event:"start",provider:"google"})},children:(0,m.jsx)(o.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,m.jsx)(o.xu,{ref:f,width:"100%"})})})})}function w(e){var t=e.onGoogleConnectSuccess,n=e.onTouch;return(0,(0,s.Z)().checkExperiment)("mweb_google_disabled").anyEnabled?(0,m.jsx)(h,{}):(0,m.jsx)(y,{onGoogleConnectSuccess:t,onTouch:n})}},487937:function(e,t,n){var r=n(500908);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){return new Set([].concat(o(r.EU),o(r.rT),o(r.IO))).has(e)}},743865:function(e,t,n){n.d(t,{f:function(){return z},l:function(){return M}});var r=n(586659),o=n(581722),i=n(255581),a=n(575108),c=n(111330),s=n(521009),u=n(464332),l=n(930293),p=n(9139),f=n(855872),d=n(801406),g=n(981636),_=n(482698),m=n(829121),v=n(675973),h=n(154796),b=n(450978),y=n(15667),w=n(843466),x=n(753143),k=n(941404),P=n(79077),j=n(428267),E=n(508632),S=n(258397),O=n(547362),C=n(902391),A=n(831373),R=n(112114),T=n(603316);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var N=function(e){return{type:"AUTHENTICATE_USER",payload:{user:e}}},z=function(){var e,t,n=(0,s.Z)(),I=(0,v.Z)(),D=(0,o.I0)(),z=(0,y.B)(),M=z.country,H=z.countryFromHostName,G=z.countryFromIp,U=z.regionFromIp,L=z.userAgent,B=L.isTablet,K=L.isMobile,X=(0,h.Z)(),Y=(0,P.Z)();return(0,r.useCallback)((e=regeneratorRuntime.mark(function e(t,r){var o,s,v,h,y,P,F,z,L,q,V,J,W,Q,$,ee,et,en,er,eo,ei,ea,ec,es,eu,el,ep=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=ep.length>2&&void 0!==ep[2]?ep[2]:"/",s=ep.length>3&&void 0!==ep[3]?ep[3]:{isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},v=ep.length>4?ep[4]:void 0,X(),h=!B&&!K,y=s.isAutologin,P=s.isSwitchAccount,F=s.noLocationReplace,z=s.recaptchaV3Token,L=s.noImmediateRedirect,q=s.useAlternativeResourceCall,V=s.trigger,J=s.accountUnlinked,W=s.fingerprintData,(0,x.M0)().setItem(c.V6,(0,m.nY)(t)),Q=function(e){var t,r;n(Z(Z({},v),{},{event_type:e,aux_data:Z(Z({},v.aux_data),{},{upsell_reason:(null==(t=v.aux_data)?void 0:t.upsell_reason)||(y?"autologin":(0,x.M0)().getItem(c.bg)),upsell_view_count:null!=(r=(0,x.M0)().getItem(c.w0))?r:0})})),7536===e&&(0,x.M0)().setItem(c.w0,0)},$=Z(Z({get_user:!0},t),{},{app_type_from_client:h?5:6,recaptchaV3Token:z,fingerprintData:W,autologin:y}),(ee=(0,A.t_)())&&($=Z(Z({},$),{},{visited_pages_before_login:ee})),(et=(0,O.O)())&&($=Z(Z({},$),{},{referrer:et})),e.next=15,(0,d.Lq)({fingerprintData:W,source:f.E.LOGIN,logContextEvent:n});case 15:if(!e.sent){e.next=17;break}return e.abrupt("return",Promise.reject({isArkoseChallengeRequired:!0}));case 17:return $=(0,d.NW)($),en=a.Z.create("UserSessionResource",$).callCreate(),q&&t.username_or_email&&t.password&&((er=new FormData).append("username",t.username_or_email),er.append("password",t.password),z&&er.append("recaptchaV3Token",z),null!=W&&W.current&&(W.current.sardineSessionKey&&er.append("sardineSessionKey",W.current.sardineSessionKey),W.current.arkoseSessionToken&&er.append("arkoseSessionToken",W.current.arkoseSessionToken)),en=fetch("/resource/UserSessionResource/create/",{method:"POST",body:er,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,l._V)()||"","X-Requested-With":"XMLHttpRequest","X-Pinterest-PWS-Handler":(0,R.H)()||""}}).then(function(e){if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(function(e){return(0,k.dy)({event:"login_api_call_failure",provider:"email"}),Promise.reject(e)})),e.prev=20,y?(0,k.dy)({event:"login_api_call_start",provider:t.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_start",provider:(0,m.nY)(t)}),Q(7534),Y({action:y?"autologin":"login",event:"attempt",type:(0,m.lp)(t),trigger:V}),e.next=26,en;case 26:eo=e.sent,y?(0,k.dy)({event:"login_api_call_success",provider:t.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_success",provider:(0,m.nY)(t)}),D(N(eo.resource_response.data.user)),ei=eo.client_context,(ea=eo.resource_response.data.user.gatekeeper_experiments)?(ec=ea.active,es=ea.triggerable,ec&&es||(0,T.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!ec),triggerable:String(!!es)}}),I.updateExperiments(ec,es)):(0,T.nP)("webapp.authentication.updateExperimentsFailed"),ei&&ei.placed_experiences&&D((0,p.OD)(ei.placed_experiences)),(0,E.Z)("authentication.login_success"),m.ZP.storeLoginCredentialsToBrowser(t),Q(7536),Y({action:y?"autologin":"login",event:"success",type:(0,m.lp)(t),trigger:V}),(0,g.Z)(),u.zN(i.e7.name),u.zN(i.x3.name),(0,x.M0)().setItem(c.xs,1),"/"!==o&&(0,C.E)(!0),P?(0,w.Z)().then(function(){var e,t="/".concat((null==(e=eo.resource_response.data)?void 0:e.user.username)||"")+(J?"?message=".concat(_.aU):"");window.location.href=t}):y&&!h||L||(!t.google_open_id_token&&h&&I.checkExperiment("dweb_arr_modal_post_fb_login").anyEnabled&&(0,j.I9)(),(0,S._)({forceFullPageNavigation:h,navigate:r,next:o,noLocationReplace:F,origin:window.location.toString()})),"facebook"===(0,m.nY)(t)&&!h&&I.checkExperiment("mweb_arr_modal_post_fb_login").anyEnabled&&(0,j.I9)(),(0,b.ko)({country:M,countryFromHostName:H,countryFromIp:G,regionFromIp:U,deviceType:"Mobile",eventCategory:"Logins"}),e.next=59;break;case 47:if(e.prev=47,e.t0=e.catch(20),eu=e.t0,y?(0,k.dy)({event:"login_api_call_failure",provider:t.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_failure",provider:(0,m.nY)(t)}),!(1201===eu.api_error_code&&!y&&!h)){e.next=55;break}r&&r("/login/mfa/",{state:{creds:t,next:o,phoneNumber:null==eu||null==(el=eu.data)?void 0:el.phone_number_end}}),e.next=59;break;case 55:throw Q(7535),Y({action:y?"autologin":"login",event:"fail",type:(0,m.lp)(t),trigger:V}),P&&(0,E.Z)("authentication.login_error"),e.t0;case 59:case"end":return e.stop()}},e,null,[[20,47]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){F(i,r,o,a,c,"next",e)}function c(e){F(i,r,o,a,c,"throw",e)}a(void 0)})},function(e,n){return t.apply(this,arguments)}),[D,M,H,G,X,I,K,B,n,U,Y])},M=function(){var e=(0,v.Z)(),t=(0,o.I0)(),n=(0,h.Z)();return function(r){var o=r.client_context,i=r.resource_response.data;i&&(n(),t(N(i.user)));var a=i.user.gatekeeper_experiments;if(a){var c=a.active,s=a.triggerable;c&&s||(0,T.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!c),triggerable:String(!!s)}}),e.updateExperiments(c,s)}else(0,T.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");o&&t((0,p.OD)(o.placed_experiences))}}},386656:function(e,t,n){n.d(t,{m:function(){return F}});var r=n(581722),o=n(255581),i=n(575108),a=n(111330),c=n(296086),s=n(521009),u=n(464332),l=n(657043),p=n(9139),f=n(855872),d=n(801406),g=n(981636),_=n(638957),m=n(2420),v=n(947667),h=n(675973),b=n(154796),y=n(450978),w=n(15667),x=n(843466),k=n(753143),P=n(941404),j=n(79077),E=n(707353),S=n(508632),O=n(547362),C=n(487937),A=n(831373),R=n(603316);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(){var e=(0,h.Z)(),t=(0,r.I0)(),n=(0,w.B)(),T=n.country,D=n.countryFromHostName,F=n.countryFromIp,N=n.regionFromIp,z=n.isAuthenticated,M=(0,b.Z)(),H=(0,s.Z)(),G=(0,j.Z)(),U=(0,E.yp)().isRequirementEnabled;return function(n,r){var s=r.signupAttemptContextEvent,h=(0,v.yV)(n),b=(0,k.M0)(),w=function(e){var t;H(Z(Z({},s),{},{event_type:e,aux_data:Z(Z({},s.aux_data),{},{upsell_reason:(null==(t=s.aux_data)?void 0:t.upsell_reason)||b.getItem(a.bg)||null,upsell_view_count:b.getItem(a.w0)||0})})),7487===e&&b.setItem(a.w0,0)};w(7537),G({action:"signup",event:"attempt",type:h}),M();var j=0,E=(0,C.Z)(T),L=new Promise(function(e){E?setTimeout(function(){e(void 0)},3e3):e(void 0)});return new Promise(function(r,a){var s,b,k=(s=regeneratorRuntime.mark(function s(){var b,E,C,I,M,B;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(E=z,C=(0,A.t_)(),I=(0,O.O)(),M=Z(Z({},n),{},{user_behavior_data:JSON.stringify({}),visited_pages:C}),(B=(0,_.Z)({isComplianceFeatureRequired:U,viewType:10})).length>0&&(M=Z(Z({},M),{},{privacy_disclaimer_acknowledge:B})),I&&(M=Z(Z({},M),{},{referrer:I})),(0,R.nP)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:null!=(b=(0,v.Eh)(M,"CHECK_TYPE"))?b:"none",CHECK_EXISTS:(0,v.Eh)(M,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,v.Eh)(M,"DEPRECATED_CHECK_TRUTHY")}}),s.t0="email"===h,!s.t0){s.next=13;break}return s.next=12,(0,d.Lq)({fingerprintData:M.fingerprintData,source:f.E.SIGNUP,logContextEvent:H});case 12:s.t0=s.sent;case 13:if(!s.t0){s.next=15;break}return s.abrupt("return",a({isArkoseChallengeRequired:!0}));case 15:return M=(0,d.NW)(M),s.abrupt("return",i.Z.create("UserRegisterResource",Z(Z({},M),{},{get_user:!0})).callCreate().then(function(o){return L.then(function(){var i=o.client_context;t({type:"REGISTER_USER",payload:{user:o.resource_response.data.user}});var a=o.resource_response.data.user.gatekeeper_experiments;if(a){var s=a.active,u=a.triggerable;s&&u||(0,R.nP)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!s),triggerable:String(!!u)}}),e.updateExperiments(s,u)}else(0,R.nP)("webapp.registration.updateExperimentsFailed");i&&i.placed_experiences&&t((0,p.OD)(i.placed_experiences)),E&&(0,S.Z)("registration.signup_success");var l=n.email,f=n.username,d=n.password,_=l||f||null,m=d||null,v=navigator.credentials;if(v&&_&&m)try{var b=new window.PasswordCredential({id:_,password:m});(0,P.My)("unauth_mweb.navigatorCredentials.store.attempt"),v.store(b).then(function(){(0,P.My)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,P.My)("unauth_mweb.navigatorCredentials.store.error")}w(7487),G({action:"signup",event:"success",type:h}),(0,c.Z)(),(0,g.Z)(!0),E&&(0,x.Z)(),(0,y.ko)({country:T,countryFromHostName:D,countryFromIp:F,regionFromIp:N,deviceType:"Mobile",eventCategory:"NewUsers"}),r()})}).catch(function(e){var t=(0,l.Z)(e,"api_error_code");t===m.tz&&((0,P.My)("multi_step_set_age_restrict_cookie"),u.t8(o.It,"1",(0,u.kZ)(o.It))),j<3&&[m.dO,m.cZ].includes(null!=t?t:0)?(j+=1,k()):(w(7488),G({action:"signup",event:"fail",type:h}),E&&(0,S.Z)("registration.signup_error"),a(e))}));case 17:case"end":return s.stop()}},s)}),b=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=s.apply(e,t);function i(e){I(o,n,r,i,a,"next",e)}function a(e){I(o,n,r,i,a,"throw",e)}i(void 0)})},function(){return b.apply(this,arguments)});k()})}}},779724:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(20256),o=n(982166),i=n(19585),a=n(382718);function c(e){var t=e.type,n=e.onDismiss,c=(0,i.ZP)(),s="facebook"===t?c._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):c._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),u="facebook"===t?c._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):c._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,a.jsx)(o.ZP,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:n,type:"social_auth_disabled_modal",children:(0,a.jsxs)(r.xu,{padding:5,children:[(0,a.jsx)(r.xu,{marginBottom:3,children:(0,a.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:s})}),(0,a.jsx)(r.xu,{marginBottom:3,children:(0,a.jsx)(r.xv,{children:u})}),(0,a.jsx)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,a.jsx)(r.xu,{paddingY:1,children:(0,a.jsx)(r.zx,{accessibilityLabel:c._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),color:"red",onClick:n,size:"lg",text:c._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working')})})})]})})}}}]);