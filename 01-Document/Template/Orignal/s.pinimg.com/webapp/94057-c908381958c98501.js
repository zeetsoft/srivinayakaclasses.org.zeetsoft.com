"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["94057"],{731462:function(e,t,n){var r=n(586659),i=n(20256),o=n(947050),s=n(382718);t.Z=function(e){var t=e.animationData,n=(0,o.Z)({animationData:t,loop:!0,autoplay:!0}).animationContainerRef;return(0,r.useMemo)(function(){return(0,s.jsx)(i.xu,{ref:n,"data-testid":"lottie-header-icon",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"})},[n])||null}},777939:function(e,t,n){n.d(t,{Q2:function(){return l},Wy:function(){return u},Y0:function(){return s},_Z:function(){return a},fK:function(){return c}});var r=n(410156),i=n(686319),o=n(670622),s=function(e,t){return t.some(function(t){return e&1<<t})},l=function(e){var t=e.lastUpdatedAt,n=(0,o.Z)(),i=new Date(t);return new Date().getTime()-i.getTime()>r.F4&&i.setHours(0,0,0,0)," ".concat(n(i,!0))};function a(e,t){return(0,i.Z)({url:"/v3/news_hub/".concat(e,"/fatigue/").concat(t,"/"),method:"POST"})}function c(e,t){return(0,i.Z)({url:"/v3/news_hub/".concat(e,"/fatigue/").concat(t,"/"),method:"DELETE"})}function u(e,t){return(0,i.Z)({url:"/v3/news_hub/hide/batch/",method:"PUT",data:{news_ids:[e],should_hide:t}})}},61063:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){var n=new Date,r=new Date(e);return n.getTime()-r.getTime()>864e5&&r.setHours(0,0,0,0),t(r.toString(),!0)}},628708:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(586659),i=n(980787),o=n(821342),s=n(510928),l=n(776777),a=n(382718);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var g=(0,s.Z)()&&(0,s.Z)().debug_impression_log,v={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function _(e){var t=function(t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),t&&f(o,t);var n,r,i=(n=h(),function(){var e,t=y(o);return e=n?Reflect.construct(t,arguments,y(this).constructor):t.apply(this,arguments),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(p(e=i.call.apply(i,[this].concat(n))),"currentNs",function(){return 1e6*Date.now()}),b(p(e),"startTime",0),b(p(e),"debugPinImpressions",g&&"Pin"===e.props.impressionType&&e.props.viewer.isAuth&&e.props.viewer.isEmployee),b(p(e),"handleVisibilityChanged",function(t){var n=e.props,r=n.componentType,i=n.contextLogData,o=n.impressionAuxFields,s=n.impressionType,l=n.loggingId,a=n.slotIndex,c=n.viewParameter,u=n.viewType,f=n.viewData,p=n.logContextEvent;if(t)e.startTime=e.currentNs(),e.debugPinImpressions&&console.log(a+" started timer");else{var h,y=v[s],m=y.idType,g=e.currentNs(),_=d((b(h={endTime:g},m,l),b(h,"slotIndex",a),b(h,"time",e.startTime),b(h,"renderDuration",g-e.startTime),h),o);p({event_type:y.eventType,component:r,event_data:b({},y.impressionType,[_]),view_type:u,view_parameter:c,view_data:f,aux_data:d({},i)}),e.debugPinImpressions&&console.log(a+" logged for "+(g-e.startTime)/1e9+"s")}}),e}return r=[{key:"render",value:function(){return(0,a.jsx)(l.Z,d(d({onVisibilityChanged:this.handleVisibilityChanged},this.props),{},{children:(0,a.jsx)(e,d({},this.props))}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);return function(e){var n=(0,i.u)().logContextEvent,r=(0,o.Z)();return(0,a.jsx)(t,d(d({},e),{},{logContextEvent:n,viewer:r}))}}},2929:function(e,t,n){function r(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function o(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function s(e){return e===window?i():e.scrollTop}function l(){window&&window.scroll(0,0)}n.d(t,{MX:function(){return s},S$:function(){return i},Uy:function(){return r},aZ:function(){return o},vM:function(){return l}})},776777:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(20256),i=n(331854),o=n(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["onVisibilityChanged","children"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){var t=e.onVisibilityChanged,n=e.children,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,l),u=(0,i.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onVisibilityChanged:t},c));return(0,o.jsx)(r.xu,{ref:u,children:n})}},331854:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(586659),i=new Map,o=null,s=function(e){e.forEach(function(e){var t=i.get(e.target);t&&t(e)})},l=function(e){o.unobserve(e),i.delete(e)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(s,r),i.set(e,n),o.observe(e)};function c(e){var t=e.onVisibilityChanged,n=e.trackFullVisible,o=e.rootMargin,s=(0,r.useRef)(null),c=!1,u=function(e){(c=e.intersectionRatio>0||e.isIntersecting)&&t(!0)},d=function(){var e;s.current instanceof HTMLElement&&(e=s.current,i.has(e))&&c&&(t(!1),c=!1)},f=(0,r.useCallback)(function(e){s.current instanceof HTMLElement&&a(s.current,e,function(e){if(i.has(s.current)){var t=n?e.intersectionRatio>=1:e.intersectionRatio>=.5,r=n?0===e.intersectionRatio:!t;!c&&t?u(e):c&&r&&d()}})},[s.current]);return(0,r.useEffect)(function(){return f(o),function(){s.current instanceof HTMLElement&&(d(),l(s.current))}},[f]),s}},866370:function(e,t,n){n.d(t,{IR:function(){return a},J7:function(){return s},L3:function(){return c},Ri:function(){return d},ZR:function(){return u},rC:function(){return l},v9:function(){return o}});var r=n(20256),i=new r.Ry(999),o=new r.H3([i]),s=new r.H3([i]),l=new r.H3([i]),a=new r.Ry(20),c=new r.Ry(20),u="324px",d=function(e){return function(){e({event_type:101,view_type:412,element:13562})}};t.ZP={setSterlingBodyStyles:function(){var e="allWhitePage",t="slimWidth";if(document.documentElement&&(document.documentElement.className+=" ".concat(e)),document.body){document.body.classList.contains(e)||document.body.classList.add(e);var n=document.querySelector(".AppSterling");n&&(n.classList.contains(e)||n.classList.add(e),n.classList.contains(t)||n.classList.add(t))}},MODAL_Z_INDEX:9999,BULK_EDITOR_HISTORY_Z_INDEX:9998,SIDEBAR_Z_INDEX:500,BULK_HEADER_HEIGHT_OFFSET:145,BULK_HEADER_Z_INDEX:2,BILLING_HEADER_HEIGHT_OFFSET:145,ANALYTICS_HELP_BUTTON_ZINDEX:10,STERLING_HEADER_HEIGHT_OFFSET:100,MAX_SIDEBAR_HEIGHT:1500,CONTACT_SALES_BUTTON_ZINDEX:700,BUTTON_TOOLTIP_Z_INDEX:650,SHEET_Z_INDEX:999}},806413:function(e,t,n){n.r(t),n.d(t,{default:function(){return e8}});var r=n(586659),i=n(20256),o=n(980787),s=n(19585),l=n(765533),a=n(15667),c=n(536488);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t={padding:"23px 0"};return e?f(f({},t),{},{borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}):t}var h=n(963489),y=n(78730),b=n(10594),m=n(346955),g=n(910818),v=n(886981),_=n(968842),w=n(694955),j=n(123998),x=n(866370),O=n(628708),S=n(731462),P=n(667835),I=n(744862),E=n(509120),T=n(382718);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t,n,r,i,o,s){try{var l=e[o](s),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,i)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){N(o,r,i,s,l,"next",e)}function l(e){N(o,r,i,s,l,"throw",e)}s(void 0)})}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e){var t,n,o=e.i18n,s=e.headerIconImageUrl,l=e.headerIconObjects,a=void 0===l?[]:l,u=e.headerSmallOverlayIconUrl,d=e.headerSmallOverlayIconUrlDark,f=c.Vp,p=c.uy,h=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,l=[],a=!0,c=!1;try{for(o=(n=n.call(e)).next;!(a=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return D(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=h[0],b=h[1],m=s&&".json"===s.slice(-5).toLowerCase(),g=(n=L(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return n.apply(this,arguments)});(0,r.useEffect)(function(){var e;(e=L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m&&!y)){e.next=5;break}return e.next=3,g(s);case 3:b(e.sent);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[m,y,s]);var v=(0,r.useMemo)(function(){return y?(0,T.jsx)(S.Z,{animationData:y}):(0,T.jsx)(i.xH,{accessibilityLabel:"Loading",show:!0,size:"sm"})},[y]);if(s){var _=m?c.mD:p,w=m?c.vG:p;return(0,T.jsx)(i.xu,{height:_,width:w,children:(0,T.jsx)(i.zd,{height:_,rounding:m?2:"circle",width:w,children:m?(0,T.jsx)(i.xu,{"data-test-id":"lottie-icon",children:v}):(0,T.jsx)(i.xu,{"data-test-id":"header-icon-image",height:_,width:w,children:(0,T.jsx)(i.Ee,{alt:o._('Pinterest recommendation', 'label for notification with recommended content', 'label for notification with recommended content'),color:"#fff",fit:"cover",naturalHeight:p,naturalWidth:p,src:s})})})})}if(0===a.length||void 0===a[0])return null;var j=(0,P.Yc)()?d:u,x=j?(0,T.jsx)(i.xu,{bottom:!0,"data-test-id":"notification-item-icon-overlay",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,children:(0,T.jsx)(i.zd,{height:c.wl,rounding:c.I2,wash:!0,width:c.wl,children:(0,T.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:c.wl,naturalWidth:c.wl,src:j})})}):null,O=a[0].type;if(O===c.Ng.PIN){var A=a[0],C=A.images[c.di],R=c.mD,N=c.vG;return C&&C.url&&(0,T.jsxs)(i.xu,{height:R,position:"relative",width:N,children:[(0,T.jsx)(i.zd,{height:R,rounding:c.I2,wash:!0,children:(0,T.jsx)(i.kC,{alignItems:"stretch",justifyContent:"between",width:N,children:(0,T.jsx)(i.GH,{contentAspectRatio:C.width/C.height,height:R,width:N,children:(0,T.jsx)(i.Ee,{alt:A.description,naturalHeight:R,naturalWidth:N,src:C.url})})})}),x]})}if(O===c.Ng.BOARD){var k=a[0].image_cover_url;return(0,T.jsx)(i.xu,{height:p,width:p,children:(0,T.jsx)(i.zd,{height:p,rounding:c.I2,wash:!0,children:(0,T.jsx)(i.kC,{alignItems:"stretch",justifyContent:"between",width:p,children:(0,T.jsx)(i.GH,{contentAspectRatio:1,height:p,width:p,children:(0,T.jsx)(E.Z,{height:p,imgPos:{width:0,height:0,x:0,y:0},imgUrl:k,width:p})})})})})}if(O===c.Ng.SEARCH){var H=a[0],z=Array.isArray(H.images)&&H.images[0]?H.images[0]:"";return(0,T.jsx)(i.xu,{height:p,width:p,children:(0,T.jsx)(i.zd,{height:p,rounding:c.I2,wash:!0,children:(0,T.jsx)(i.kC,{alignItems:"stretch",justifyContent:"between",width:p,children:(0,T.jsx)(i.GH,{contentAspectRatio:1,height:p,width:p,children:(0,T.jsx)(E.Z,{height:p,imgPos:{width:0,height:0,x:0,y:0},imgUrl:z,width:p})})})})})}if(O===c.Ng.USER)if(a.length>1&&void 0!==a[1]){var U=a[0],Z=a[1];return(0,T.jsx)(i.xu,{height:p,width:p,children:(0,T.jsxs)(i.xu,{height:p,position:"relative",width:p,children:[(0,T.jsx)(i.xu,{display:"flex",height:f,left:!0,position:"absolute",top:!0,width:f,children:(0,T.jsx)(I.qE,{name:U.full_name,outline:!0,src:U.image_large_url})}),(0,T.jsx)(i.xu,{bottom:!0,display:"flex",height:f,position:"absolute",right:!0,width:f,children:(0,T.jsx)(I.qE,{name:Z.full_name,outline:!0,src:Z.image_large_url})})]})})}else{var M=a[0];return(0,T.jsx)(i.xu,{height:p,position:"relative",width:p,children:(0,T.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"between",width:p,children:[(0,T.jsx)(I.qE,{name:M.full_name,src:M.image_large_url}),x]})})}return null}function H(e){var t=(0,s.ZP)();return(0,T.jsx)(k,R(R({},e),{},{i18n:t}))}var z=n(61063),U=n(686319),Z=n(821342),M=n(670622),B=n(777939),F=n(669442),W=n(483180),G=n(554158),Y=n(163404),X=n(378888),V=n(475498),q=n(473728),J=n(87853),$=n(966279);function K(e,t,n,r,i,o,s){try{var l=e[o](s),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,i)}function Q(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){K(o,r,i,s,l,"next",e)}function l(e){K(o,r,i,s,l,"throw",e)}s(void 0)})}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,l=[],a=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var en={UNFOLLOWED_USER:"unfollowedUser",UNFOLLOWED_PIN:"unfollowedPin",FOLLOWED_USER:"followedUser",FOLLOWED_PIN:"followedPin",ACTION_FAILED:"actionFailed"};function er(e){var t,n,l,a,u,d,f,p,h,y,b,m,g=e.handleClick,v=e.handleEnterEllipsis,_=e.handleExitEllipsis,w=e.handleObjectSubscriptionById,j=e.isMouseOverEllipsis,x=e.newsId,O=e.newsType,S=e.subscribableObjects,P=e.subscribedToObjectIdMap,I=(0,o.u)().logContextEvent,E=(0,$.nJ)().updateNewsIdToHiddenNews,A=(0,s.ZP)(),C=(0,r.useRef)(null),R=S?S[0]:null,N=null!=(y=null==R?void 0:R.id)?y:0,L=null!=(b=null==R?void 0:R.type)?b:"",D=null!=(m=null==R?void 0:R.full_name)?m:"",k=(0,J.dI)(),H=k.showToast,z=k.showOneToast,Z=ee((0,r.useState)(!1),2),M=Z[0],F=Z[1],W=ee((0,r.useState)(!1),2),G=W[0],Y=W[1],X=ee((0,r.useState)(P[N]),2),K=X[0],et=X[1],er=!!R,ei="".concat(c.C,"_").concat(x),eo={unfollowedUser:(0,q.Z)(A._('You will no longer receive notifications about {{user_name}}.', 'unfollwedUser.toast', 'Unfollowed a user'),{user_name:D}),unfollowedPin:A._('You will no longer receive notifications about this Pin.', 'unfollwedPin.toast', 'Unfollowed a pim'),followedUser:(0,q.Z)(A._('You will now receive notifications about {{user_name}}.', 'followedUser.toast', 'Followed a user'),{user_name:D}),followedPin:A._('You will now receive notifications about this Pin.', 'follwedPin.toast', 'Followed a pim'),actionFailed:A._('Action could not be performed', 'notPerformed.toast', 'action could not be performed')},es={unfollowedUser:(0,q.Z)(A._('Turn off updates from {{ user_name }}', 'NewsListItem.UnfollowUser.Flyout', 'Turn off updates from a user, user_name: user_name of the followed user'),{user_name:D}),unfollowedPin:A._('Turn off updates from this Pin', 'NewsListItem.UnfollowPin.Flyout', 'Unfollow a pin'),followedUser:(0,q.Z)(A._('Turn on updates from {{ user_name }}', 'NewsListItem.UnfollowUser.Flyout', 'Turn on updates from a user, user_name: user_name of the followed user'),{user_name:D}),followedPin:A._('Turn on updates from this Pin', 'NewsListItem.FollowPin.Flyout', 'Follow a pin'),actionFailed:""};(0,r.useEffect)(function(){G&&g()},[G]),(0,r.useEffect)(function(){N&&et(P[N])},[P[N]]);var el=function(e){var t=A._('Action could not be performed', 'notPerformed.toast', 'action could not be performed');Object.values(en).includes(e)&&(t=eo[e]),H(function(e){var n=e.hideToast;return(0,T.jsx)(V.Z,{duration:c.QE,onHide:n,text:t})})},ea=function(e,t){var n=en.UNFOLLOWED_USER,r=en.UNFOLLOWED_PIN,i=en.FOLLOWED_USER,o=en.FOLLOWED_PIN,s=en.ACTION_FAILED,l=c.Ng.USER,a=c.Ng.PIN;return e&&t===l?n:e||t!==l?e&&t===a?r:e||t!==a?s:o:i},ec=(l=Q(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,U.Z)({url:"/v3/settings/notifications/objects/",method:"POST",data:{object_ids_to_unsubscribe:K?N:null,object_ids_to_resubscribe:K?null:N}});case 3:n=(t=e.sent.resource_response).error,r=t.data,n||w(N,r[N]),el(ea(!!K,L)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),el(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(){return l.apply(this,arguments)}),eu=(a=Q(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,B._Z)(x,t);case 3:e.sent.resource_response.error||eb(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),el(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return a.apply(this,arguments)}),ed=(u=Q(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,B.fK)(x,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),el(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(e){return u.apply(this,arguments)}),ef=(d=Q(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,U.Z)({url:"/v3/news_hub/hide/batch/",method:"PUT",data:{news_ids:[x],should_hide:t}});case 3:!e.sent.resource_response.error&&(E(x,t),t&&ep()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),el(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return d.apply(this,arguments)}),ep=function(){var e=A._('Update removed!', 'NewsListItem.UndoRemove.Toast.Text', 'text for restore hidden toast');z(function(t){var n=t.hideToast;return(0,T.jsx)(V.Z,{duration:c.QE,onHide:n,primaryAction:{accessibilityLabel:A._('Undo removal', 'NewsListItem.UndoRemove.Toast.a11yButton', 'restores the removed news'),label:A._('Undo', 'NewsListItem.UndoRemove.Toast.Button', 'restores the removed news'),onClick:function(){ef(!1),n()}},text:e})})},eh=function(e){I({event_type:101,element:14308,component:3,view_type:107,view_parameter:3081}),eu(e),_(),F(!1)},ey=function(e){I({event_type:101,element:14309,component:3,view_type:107,view_parameter:3081}),ed(e)},eb=function(e){var t=A._('Got it! We\'ll show you less about this interest', 'NewsListItem.UndoSeeLess.Toast.Text', 'text for see less undo toast');z(function(n){var r=n.hideToast;return(0,T.jsx)(V.Z,{duration:c.QE,onHide:r,primaryAction:{accessibilityLabel:A._('Undo see less', 'NewsListItem.UndoSeeLess.Toast.a11yButton', 'undoes the see less action'),label:A._('Undo', 'NewsListItem.UndoSeeLess.Toast.Button', 'undoes the see less action'),onClick:function(){ey(e),r()}},text:t})})};return(0,T.jsxs)(i.xu,{ref:C,onMouseEnter:v,onMouseLeave:_,children:[(0,T.jsx)(i.hU,{accessibilityControls:ei,accessibilityExpanded:M,accessibilityLabel:A._('Options to update subscription settings', 'Options to update subscription settings', 'Update subscription settings'),bgColor:"white",dataTestId:"ellipsis-icon",icon:"ellipsis",iconColor:"darkGray",onClick:function(){I({event_type:101,element:12208,component:3,view_type:107,view_parameter:3081,aux_data:{was_flyout_open:M,news_type:O}}),F(!M)},selected:j,size:"xs"}),M&&(f=A._('View notification settings', 'NewsListItem.ViewNotificationSettings.Flyout', 'View notification settings'),p=A._('Delete update', 'NewsListItem.RemoveNews.Item', 'Delete update'),h=L===c.Ng.INTEREST,(0,T.jsxs)(i.Lt,{anchor:C.current,disableMobileUI:!0,id:ei,idealDirection:"down",maxHeight:"30vh",onDismiss:function(){return F(!1)},zIndex:new i.Ry(1e3),children:[h?function(){var e=A._('See less about', 'NewsListItem.SeeLess.Item', 'See less updates about an interest'),t=S?S[0]:null,n=S?S[1]:null,o=null!=(l=null==t?void 0:t.id)?l:"",s=e+" "+(null!=(a=null==t?void 0:t.name)?a:"");if(!n)return(0,T.jsx)(i.Lt.Item,{onSelect:function(){return eh(o.toString())},option:{label:s,value:s}});var l,a,c,u,d=null!=(c=n.id)?c:"",f=e+" "+(null!=(u=n.name)?u:"");return(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)(i.Lt.Item,{onSelect:function(){return eh(o.toString())},option:{label:s,value:s}}),(0,T.jsx)(i.Lt.Item,{onSelect:function(){return eh(d.toString())},option:{label:f,value:f}})]})}():er&&(t=ea(!!K,L),n="",Object.values(en).includes(t)&&(n=es[t]),(0,T.jsx)(i.Lt.Item,{onSelect:function(){I({event_type:101,element:12209,component:3,view_type:107,view_parameter:3081,object_id_str:JSON.stringify(N),aux_data:{news_type:O,is_unsub_action:K}}),ec(),_(),F(!1)},option:{label:n,value:n}})),(0,T.jsx)(i.Lt.Item,{onSelect:function(){I({event_type:101,element:13135,component:3,view_type:107,view_parameter:3081}),ef(!0),_(),F(!1)},option:{label:p,value:p}}),(0,T.jsx)(i.Lt.Link,{href:"/settings/notifications",onClick:function(){I({event_type:101,element:12210,component:3,view_type:107,view_parameter:3081,aux_data:{news_type:O}}),Y(!0)},option:{label:f,value:f}})]}))]})}function ei(e){var t,n=e.board,r=n.name,o=n.image_cover_url,s=n.images,l=o?{url:o}:void 0,a=(t=o?new Set([o.substring(o.lastIndexOf("/")+1)]):new Set,(s?s[c.ZH]:[]).filter(function(e){var n,r,i=(null!=(n=e.url)?n:"").substring((null!=(r=e.url)?r:"").lastIndexOf("/")+1);return!t.has(i)&&(t.add(i),!0)}));if(void 0===l||a.length<c.kc)return null;var u=[a.slice(0,2),a.slice(2,4)];return(0,T.jsx)(i.xu,{height:c.wA,width:c.aE,children:(0,T.jsx)(i.zd,{height:c.wA,rounding:c.gs,wash:!0,children:(0,T.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"between",width:c.aE,children:[(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:c.GO}},height:c.AM,position:"relative",width:c.qZ,children:(0,T.jsx)(E.Z,{height:c.AM,imgPos:{width:0,height:0,x:0,y:0},imgUrl:l.url,width:c.qZ})}),u.map(function(e,t){return(0,T.jsx)(i.xu,{children:e.map(function(n,o){var s,l,a,d;return(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:t<u.length-1?c.GO:"",marginBottom:o<e.length-1?c.GO:""}},height:c.So,position:"relative",width:c.qb,children:(0,T.jsx)(i.GH,{contentAspectRatio:(null!=(s=n.width)?s:1)/(null!=(l=n.height)?l:1),height:c.So,width:c.qb,children:n.url&&(0,T.jsx)(i.Ee,{alt:null!=r?r:"",naturalHeight:null!=(a=n.height)?a:1,naturalWidth:null!=(d=n.width)?d:1,src:n.url})})},"col"+t+"row"+o)})},"col"+t)})]})})})}function eo(e){var t=e.interests;if(!t||!t.length)return null;var n=t.slice(0,c.c4),r=n.length/c.c4*c.aE;return(0,T.jsx)(i.xu,{height:c.wA,width:r,children:(0,T.jsx)(i.zd,{height:c.wA,rounding:c.gs,wash:!0,children:(0,T.jsx)(i.kC,{alignItems:"stretch",justifyContent:"between",width:r,children:n.map(function(e,t){var r=e.background_color,o=e.images["236x"],s=e.name;return o?(0,T.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:t<n.length-1?c.GO:""}},height:c.Rd,position:"relative",width:c.P,children:[(0,T.jsx)(i.GH,{contentAspectRatio:o.width&&o.height?o.width/o.height:1,height:c.Rd,width:c.P,children:o.url&&(0,T.jsx)(i.Ee,{alt:s,color:r,naturalHeight:1,naturalWidth:1,src:o.url})}),(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:c.uW},height:c.Rd,left:!0,position:"absolute",top:!0,width:c.P}),(0,T.jsx)(i.xu,{alignItems:"center",display:"flex",height:c.Rd,justifyContent:"center",padding:3,position:"absolute",top:!0,width:c.P,children:(0,T.jsx)(i.xv,{align:"center",color:"inverse",weight:"bold",children:s})})]},t):null})})})})}var es=function(e){var t=e.pins;if(0===t.length)return null;var n=t.slice(0,c.ie),r=n.length/c.ie*c.aE;return(0,T.jsx)(i.xu,{height:c.wA,width:r,children:(0,T.jsx)(i.zd,{height:c.wA,rounding:c.gs,wash:!0,children:(0,T.jsx)(i.kC,{alignItems:"stretch",justifyContent:"between",width:r,children:n.map(function(e,t){return(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:t<n.length-1?c.GO:""}},height:c.P3,overflow:"hidden",position:"relative",width:c.J0,children:(0,T.jsx)(i.GH,{contentAspectRatio:e.width&&e.height?e.width/e.height:1,height:c.P3,width:c.J0,children:e.url&&(0,T.jsx)(i.Ee,{alt:"MiniPinGridLego",naturalHeight:1,naturalWidth:1,src:e.url})})},t)})})})})};function el(e){var t=e.searches;if(!t||!t.length)return null;var n=t.filter(function(e){return void 0!==e}).slice(0,c.DX),r=[[],[]];n.map(function(e,t){return r[t%c.mM].push(e),e});var o=r[0].length/c.ci*c.wA,s=Math.min(t.length,c.mM)/c.mM*c.aE;return(0,T.jsx)(i.xu,{height:o,width:s,children:(0,T.jsx)(i.zd,{height:o,rounding:c.gs,children:(0,T.jsx)(i.kC,{alignItems:"stretch",justifyContent:"between",width:s,children:r.map(function(e,t){return(0,T.jsx)(i.xu,{children:e.map(function(n,o){var s=n.images,l=n.term;return(0,T.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:t<r.length-1?c.GO:"",marginBottom:o<e.length-1?c.GO:""}},height:c.cU,position:"relative",width:c.WC,children:[(0,T.jsx)(i.GH,{contentAspectRatio:2,height:c.cU,width:c.WC,children:(0,T.jsx)(i.Ee,{alt:l,naturalHeight:1,naturalWidth:1,src:(void 0===s?[]:s)[0]})}),(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:c.uW},height:c.cU,left:!0,position:"absolute",top:!0,width:c.WC}),(0,T.jsx)(i.xu,{alignItems:"center","data-test-id":"term-text",display:"flex",height:c.cU,justifyContent:"center",padding:3,position:"absolute",top:!0,width:c.WC,children:(0,T.jsx)(i.xv,{align:"center",color:"inverse",weight:"bold",children:l})})]},"col"+t+"row"+o)})},"col"+t)})})})})}var ea=n(64932),ec=n(30536),eu=n(197891),ed=n(771347),ef=n(694103);function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach(function(t){e_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eb(e,t){return(eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function em(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eg=function(){return!!e})()}function ev(e){return(ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e_(e,t,n){return(t=ew(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ew(e){var t=function(e,t){if("object"!=ep(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ep(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ep(t)?t:t+""}var ej=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eb(o,e);var t,n,r=(t=eg(),function(){var e,n=ev(o);return e=t?Reflect.construct(n,arguments,ev(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ep(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return em(e)}(this,e)});function o(e){var t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return e_(em(t=r.call(this,e)),"getHandleClickFun",function(e){return function(){var n=t.props,r=n.handleClick,i=n.id,o=n.type;(0,n.logContextEvent)({event_type:101,object_id_str:i,view_type:107,view_parameter:3081,aux_data:{news_type:o}}),t.handleNewsHubClickTrackLogging(i,e),r()}}),e_(em(t),"handleNewsHubClickTrackLogging",function(e,t){(0,U.Z)({url:"/v3/news_hub/click/",method:"POST",data:{news_id_str:e,link:t}})}),t.state={isMouseOverComponent:!1,isMouseOverEllipsis:!1},t}return n=[{key:"displayComponent",get:function(){var e=this.props,t=e.contentItems,n=e.contentText,r=e.displayMode,o=t.filter(function(e){return e.content_object}).map(function(e){return e.content_object});if((0,B.Y0)(r,[c.gb.MINI_PIN_GRID_2])){var s=o.map(function(e){return e.images[c.yc]});return(0,T.jsx)(es,{pins:s})}if((0,B.Y0)(r,[c.gb.MINI_BOARD_GRID,c.gb.MINI_BOARD_GRID_WITH_ICON]))return(0,T.jsx)(ei,{board:o[0]});if((0,B.Y0)(r,[c.gb.MINI_USER_GRID])){var l=o[0].recent_pin_images["200x"]||[];return(0,T.jsx)(es,{pins:l})}if((0,B.Y0)(r,[c.gb.ROW_WITH_COUNT_2])){var a=new Set,u=o.filter(function(e){var t=e.image_signature;return!(t&&a.has(t))&&(a.add(t),!0)}).map(function(e){return e.images[c.yc]});return(0,T.jsx)(es,{pins:u})}if((0,B.Y0)(r,[c.gb.MINI_INTEREST_GRID]))return(0,T.jsx)(eo,{interests:o});if((0,B.Y0)(r,[c.gb.MINI_SEARCH_GRID]))return(0,T.jsx)(el,{searches:o});if((0,B.Y0)(r,[c.gb.BASIC]))return null;else if((0,B.Y0)(r,[c.gb.TEXT]))return(0,T.jsx)(i.xu,{width:c.zM,children:(0,T.jsx)(i.xv,{children:n})})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.currentSite,o=n.handleClick,s=n.handleObjectSubscriptionById,l=n.headerText,a=n.headerIconImageUrl,u=n.headerIconObjects,d=n.headerSmallOverlayIconUrl,f=n.headerSmallOverlayIconUrlDark,p=n.id,h=n.isVerticalNavEnabled,y=n.isSideBarEnabled,b=n.sideBarWidth,m=n.isHighlightNotif,g=n.lastUpdatedAt,v=n.siteType,_=n.textMapping,w=n.titleText,j=n.subscribableObjects,x=n.subscribedToObjectIdMap,O=n.type,S=n.viewer,P=this.props.overrideClickUrl;P&&void 0!==(0,Y.Z)(P)&&(P=(0,F.Z)(P,{entrySource:"news_hub"}));var I=!!S.isAuth&&S.isLimitedLogin,E=P||"/news_hub/"+p,A=(0,G.Z)(E),C=A?E:(0,eu.Z)({currentSiteType:v,destinationSiteType:0,inputPath:E}),R=this.displayComponent,N=P?(0,X.sD)(P):null,L="DESKTOP"===r||A?C:W.C0.concat(C),D=N&&!A?P:L,k=m?c.yf:{},U=y?b-28:h?c.d1:c.V$;return(0,T.jsx)(i.Zf,{overflow:"visible",children:(0,T.jsxs)(i.xu,{alignItems:"center",borderStyle:"none",color:this.state.isMouseOverComponent&&!this.state.isMouseOverEllipsis?m?"transparent":"secondary":"transparent",dangerouslySetInlineStyle:{__style:ey({cursor:"pointer",borderColor:"#E9E9E9"},k)},"data-test-id":"news-hub-list-item",direction:"column",display:"flex",marginBottom:1,marginEnd:2,marginStart:2,onMouseEnter:function(){return t.setState({isMouseOverComponent:!0})},onMouseLeave:function(){return t.setState({isMouseOverComponent:!1})},padding:2,rounding:4,width:U,children:[(0,T.jsxs)(i.kC,{alignItems:"center",width:"100%",children:[(0,T.jsx)(i.Tg,{href:D,onTap:this.getHandleClickFun(D),target:N?"blank":null,children:(0,T.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(a||u)&&(0,T.jsx)(H,{headerIconImageUrl:a,headerIconObjects:u,headerSmallOverlayIconUrl:d,headerSmallOverlayIconUrlDark:f}),(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 8px"}},display:"flex",marginEnd:1===j.length?2:1,marginStart:2*(void 0===u),children:(0,T.jsxs)(i.X6,{accessibilityLevel:2,children:[w&&(0,T.jsx)(i.xu,{children:(0,T.jsx)(i.xv,{weight:"bold",children:w})}),(0,T.jsx)(i.xv,{inline:!0,children:(0,T.jsx)(ea.Z,{text:l,textMapping:_})})]})})]})}),(0,T.jsxs)(i.xu,{direction:"column",display:"flex",marginEnd:1,minHeight:c.pv,position:"relative",width:h?c.Z1:c.Cc,children:[(0,T.jsx)(i.xu,{marginBottom:1,marginEnd:1,overflow:"hidden",children:(0,T.jsx)(i.xv,{align:"end",color:"subtle",size:"100",children:null==(e=(0,z.Z)(new Date(g),this.props.getHumanizedTimeSince))?void 0:e.replace(/\u00A0|&nbsp;/g," ")})}),!I&&(0,T.jsx)(i.xu,{alignSelf:"end",children:(0,T.jsx)(er,{handleClick:o,handleEnterEllipsis:function(){return t.setState({isMouseOverEllipsis:!0})},handleExitEllipsis:function(){return t.setState({isMouseOverEllipsis:!1})},handleObjectSubscriptionById:s,isMouseOverEllipsis:this.state.isMouseOverEllipsis,newsId:p,newsType:O,subscribableObjects:j,subscribedToObjectIdMap:x})})]})]}),!!R&&(0,T.jsx)(i.Tg,{accessibilityLabel:"News Detail Page",href:D,onTap:this.getHandleClickFun(D),children:(0,T.jsx)(i.xu,{"aria-hidden":!0,marginTop:2,children:R})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ew(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);e_(ej,"defaultProps",{subscribableObjects:[]});var ex=(0,O.Z)(function(e){var t=(0,o.u)().logContextEvent,n=(0,M.Z)(),r=(0,s.ZP)(),i=(0,Z.Z)(),l=(0,ed.Z)(),a=(0,ef.Z)().sideBarWidth;return(0,T.jsx)(ej,ey(ey({},e),{},{currentSite:(0,ec.I)().currentSite,getHumanizedTimeSince:n,i18n:r,isSideBarEnabled:l,logContextEvent:t,sideBarWidth:a,viewer:i}))}),eO=n(355940);function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eP(e,t){return(eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eI=function(){return!!e})()}function eE(e){return(eE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eT=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eP(s,e);var t,n,o=(t=eI(),function(){var e,n=eE(s);return e=t?Reflect.construct(n,arguments,eE(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function s(){if(!(this instanceof s))throw TypeError("Cannot call a class as a function");return o.apply(this,arguments)}return n=[{key:"render",value:function(){return(0,T.jsx)(r.Fragment,{children:(0,T.jsx)(eO.Z,{name:"FirstStoryExperience",children:(0,T.jsx)(i.xu,{width:c.V$})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=eS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eS(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eS(t)?t:t+""}(r.key),r)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.PureComponent),eA=n(209026);function eC(e){var t=e.handleDismissPanel,n=(0,s.ZP)(),r=(0,h.TH)(),l=(0,o.u)().logContextEvent;return(0,T.jsx)(i.xu,{alignItems:"center",display:"flex",height:"calc(100% - ".concat(c.uZ,"px)"),justifyContent:"center",top:!0,width:c.hy,children:(0,T.jsx)(i.xu,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,T.jsx)(eA.Z,{containerSize:320,description:n._('Use updates to see activity on your Pins and boards and get tips on topics to explore. They\u2019ll be here soon.', 'notifications.sunglasses.illustrations.description', 'Message displayed under the illustration when no notifications'),illustrationSize:186,message:n._('Updates are on their way', 'notifications.sunglasses.illustrations.message', 'Description displayed under the illustration when no notifications'),name:"sunglasses",primaryAction:["/","/homefeed"].includes(r.pathname)?null:(0,T.jsx)(i.ZP,{href:"/",onClick:function(){l({event_type:101,view_type:107,view_parameter:3083,component:13583}),t()},text:n._('Browse home feed', 'notificatons.sunglasses.illustration', 'Button text for refreshing the page when no notifications')})})})})}var eR=n(382112),eN=n(780869);function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(t){eM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eH(e,t){return(eH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ez(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eU=function(){return!!e})()}function eZ(e){return(eZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t,n){return(t=eB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=function(e,t){if("object"!=eL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eL(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eL(t)?t:t+""}var eF=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eH(o,e);var t,n,r=(t=eU(),function(){var e,n=eZ(o);return e=t?Reflect.construct(n,arguments,eZ(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eL(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ez(e)}(this,e)});function o(e){var t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return eM(ez(t=r.call(this,e)),"handleItemClick",function(){t.props.handleItemClick()}),eM(ez(t),"handleObjectSubscriptionById",function(e,n){t.setState(function(t){return{subscribedToObjectIdMap:ek(ek({},t.subscribedToObjectIdMap),{},eM({},e,n))}})}),eM(ez(t),"renderItem",function(e,n,r,i,o){var s=ek({},t.state.subscribedToObjectIdMap);e.subscribable_objects&&e.subscribable_objects.forEach(function(e){void 0===s[e.id]&&(s[e.id]=e.subscribed_to_notifications)});var l={impressionAuxFields:{newsType:e.news_type},impressionType:"News",loggingId:e.id,slotIndex:n,viewParameter:3081,viewType:107},a=(0,T.jsx)(ex,ek({contentItemCount:e.content_item_count,contentItems:e.content_items,contentText:e.content_text,displayMode:e.encoded_display_mode,handleClick:t.handleItemClick,handleObjectSubscriptionById:t.handleObjectSubscriptionById,headerIconImageUrl:e.header_icon_image_url,headerIconObjects:e.header_icon_objects,headerSmallOverlayIconUrl:e.header_small_overlay_icon_image_url,headerSmallOverlayIconUrlDark:e.header_small_overlay_icon_image_url_dark,headerText:e.header_text,id:e.id,isHighlightNotif:o,isVerticalNavEnabled:t.props.isVerticalNavEnabled,lastUpdatedAt:e.last_updated_at,overrideClickUrl:e.override_click_url,requestContext:t.props.requestContext,shouldHighlight:null!==r&&i,subHeaderText:e.sub_header_text,subscribableObjects:e.subscribable_objects,subscribedToObjectIdMap:s,textMapping:e.text_mapping,titleText:e.title_text,type:e.news_type,unread:e.unread},l));return null!==r?(0,T.jsx)("li",{ref:r,children:a},n):(0,T.jsx)("li",{id:e.id,children:a},n)}),eM(ez(t),"renderTopStoryExperience",function(){return(0,T.jsx)(eT,{})}),eM(ez(t),"renderBottomSection",function(){return t.props.isIaNavUpdForEngagementExperiment&&(0,T.jsx)(i.xu,{bottom:!0,"data-test-id":"news-engagement-button",marginEnd:2,marginStart:3,paddingY:3,position:"absolute",width:340,children:(0,T.jsx)(g.ZP,{fullWidth:!0,href:t.props.engagementUrl,logEventProps:{},onClick:t.props.onClickEngagementButton,text:t.props.i18n._('View audience engagement', 'ads.notifications.center.goToEngagementButton', 'Accessible label for button to see your engagements')})},"btn-view-engagement-page")}),t.state={subscribedToObjectIdMap:{}},t}return n=[{key:"componentWillUnmount",value:function(){this.props.newsHubResource.refresh()}},{key:"componentDidMount",value:function(){this.logPanelImpression()}},{key:"logPanelImpression",value:function(){var e=this.props,t=e.logContextEvent,n=e.viewType,r=e.viewParameter;t({event_type:13,view_type:107,view_parameter:3081}),t({event_type:13,view_type:n,view_parameter:r})}},{key:"render",value:function(){var e=this;return(0,T.jsx)(j.Z,{view:107,viewParameter:3081,children:(0,T.jsx)(eR.Z,{handleScrollShadow:this.props.handleScrollShadow,highlightId:this.props.highlightScrollSidebar?this.props.utmNewsHubId:null,listResource:this.props.newsHubResource,renderBottomSection:this.renderBottomSection,renderEmptyState:function(){return(0,T.jsxs)(i.xu,{children:[(0,T.jsx)(eC,{handleDismissPanel:e.handleItemClick}),e.renderBottomSection()]})},renderItem:this.renderItem,renderSectionHeaders:!0,renderTopStoryExperience:this.renderTopStoryExperience,shouldHighlightListItem:this.props.highlightScrollSidebar,shouldScrollToItem:this.props.highlightScrollSidebar})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eB(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);function eW(e){var t=(0,o.u)().logContextEvent,n=(0,s.ZP)(),r=(0,a.B)(),i=(0,h.s0)(),l=(0,v.Z)({name:"NewsHubResource",options:{page_size:c.QX},noCache:!0}),u=(0,m.SU)(),d=u.viewType,f=u.viewParameter,p=(0,y.N)().is_sterling_on_steroids,g=(0,_.Z)(),j=(0,b.Z)(g),O=j.isAnalyticsSite,S=j.isSterlingSite,P=j.isTrendsSite,I=S||O||p||P?w.i$J:w.hzH,E=(0,eN.Z)(),A=(0,x.Ri)(t);return(0,T.jsx)(eF,ek(ek({},e),{},{engagementUrl:I,i18n:n,isIaNavUpdForEngagementExperiment:E,logContextEvent:t,navigate:i,newsHubResource:l,onClickEngagementButton:A,requestContext:r,viewParameter:f,viewType:d}))}eM(eF,"defaultProps",{handleItemClick:function(){},onClickEngagementButton:function(){}});var eG=function(e){var t=e.showShadow,n=e.selectedIndex,r=e.onChange,o=e.tabItems;return(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p(t)},"data-test-id":"news-hub-title",children:(0,T.jsx)(i.xu,{paddingX:3,width:"100%",children:(0,T.jsx)(i.sY,{items:o,onChange:function(e){r(e.activeIndex)},selectedItemIndex:n})})})},eY=n(230543),eX=n(244529),eV=n(74459),eq=n(77836),eJ=n(78762);function e$(e){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=e$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e$(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,l=[],a=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e1(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e1(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e3=(0,eJ.Z)(function(){return n.e("88010").then(n.bind(n,23997))},void 0,function(e){return 23997},"app-sterling-AdsNotificationsCenterDropdown-AdsNotificationsCenterPanel",function(e){return ["88010"]}),e2=(0,eJ.Z)(function(){return n.e("3967").then(n.bind(n,550597))},void 0,function(e){return 550597},"app-sterling-AdsNotificationsCenterDropdown-AdsNotificationsCenterTabHeader",function(e){return ["3967"]});function e8(e){var t,n=e.handleDismissPanel,u=e.highlightScrollSidebar,d=e.newsButton,f=e.show,h=e.utmNewsHubId,y=(0,o.u)().logContextEvent,b=(0,s.ZP)(),m=(0,r.useRef)(null),g=(0,a.B)(),v=(0,eV.Z)(),_=(0,eX.Z)().enabled,w=(0,ed.Z)(),j=(0,ef.Z)(),x=j.sideBarWidth,O=j.togglePanelState,S=null==(t=g.advertiser)?void 0:t.id,P=!!S,I=e0((0,r.useState)(+!!P),2),E=I[0],A=I[1],C=e0((0,r.useState)(!1),2),R=C[0],N=C[1],L=function(e){var t,r=e.target,i=m.current,o=i&&r instanceof Node&&!i.contains(r),s=d&&r instanceof Node&&d.contains(r),l=r instanceof HTMLElement&&(null==(t=r.offsetParent)?void 0:t.id)===c.C;!o||s||l||n()},D=(0,r.useMemo)(function(){var e,t;return[b._('Pins', 'New title for news hub dropdown on the right upper corner in home page', 'New title for news hub dropdown on the right upper corner in home page'),(0,T.jsx)(e2,{fallback:(0,T.jsx)(i.xv,{color:1===E?"default":"subtle",size:"200",weight:"bold",children:b._('Ads', '[m10n]newshubSidebar.header.tabLabel', 'New title for news hub dropdown on the right upper corner in home page')}),requestContextAdvertiserId:null!=(e=null==(t=g.advertiser)?void 0:t.id)?e:"",showing:1===E},"".concat(f.toString()).concat(E))]},[g,E,b,f]);(0,r.useEffect)(function(){return document.addEventListener("mousedown",L),function(){return document.removeEventListener("mousedown",L)}},[]);var k=f?"0px":"-25px",H=(0,r.useCallback)(function(e){e.keyCode===l.Z.ESCAPE&&n()},[]);(0,r.useEffect)(function(){return document.addEventListener("keydown",H,!1),function(){document.removeEventListener("keydown",H,!1)}},[]),(0,r.useEffect)(function(){1===E&&y({event_type:101,component:8,element:11840,view_type:412,view_parameter:3465,aux_data:{current_page_url:window.location.href,advertiser_id:S}})},[S,y,E]);var z=g.isRTL,U=v+eq.L7,Z={width:eq.GJ,maxWidth:eq.GJ+c.Ay,minWidth:c.hy,right:z?U:void 0,left:z?void 0:U,boxShadow:"rgba(0, 0, 0, 0.1) -3px 4px 14px 0px"},M={maxWidth:c.HJ,minWidth:c.hy,transition:"top 100ms linear",left:z?0:void 0,right:z?void 0:0,boxShadow:"rgba(0, 0, 0, 0.1) -3px 4px 14px 0px"},B={marginTop:0,width:x-.5};return(0,T.jsx)(eY.c,{children:function(e){var t,o;return w?(o=B,t="100vh"):_?(o=Z,t="calc(100vh - ".concat(2*eq.zz,"px)")):(o=M,t="calc(100vh - ".concat(e,"px - 8px)")),(0,T.jsx)(i.xu,{ref:m,bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:eQ({marginTop:_?eq.zz:e,overscrollBehavior:"none",top:k},o)},height:t,id:c.o9,marginBottom:w?void 0:2,marginEnd:w?void 0:2,position:"fixed",rounding:w?void 0:4,tabIndex:-1,children:(0,T.jsxs)(i.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[P?(0,T.jsx)(eG,{onChange:A,selectedIndex:E,showShadow:f&&R,tabItems:D}):(0,T.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:eQ(eQ({},p(f&&R)),_?{paddingBlock:"20px",paddingInline:"16px"}:{})},"data-test-id":"news-hub-title",direction:w?"row":void 0,display:w?"flex":void 0,justifyContent:w?"between":void 0,children:[(0,T.jsx)(i.X6,{accessibilityLevel:1,align:_?"start":"center",size:_?"400":"300",children:b._('Updates', 'New title for news hub dropdown on the right upper corner in home page', 'New title for news hub dropdown on the right upper corner in home page')}),w&&(0,T.jsx)(i.hU,{accessibilityLabel:b._('Close news hub', 'navBar.newsHub.header', 'Button to close the news hub'),icon:"cancel",onClick:function(){return O("news")},size:"sm"})]}),f?(0,T.jsx)(r.Fragment,{children:0===E?(0,T.jsx)(eW,{handleItemClick:n,handleScrollShadow:N,highlightScrollSidebar:u,isVerticalNavEnabled:_,locale:g.locale,utmNewsHubId:h}):(0,T.jsx)(e3,{onNotificationItemClick:n,requestContextAdvertiserId:S})}):(0,T.jsx)(eR.Z,{listResource:{auxData:{},data:[],fetchMore:function(){},isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,refresh:function(){}},renderEmptyState:function(){return(0,T.jsx)(i.xu,{})},renderItem:function(){return(0,T.jsx)(i.xu,{})}})]})})}})}},64932:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(20256),i=n(302148),o=n(382718);function s(e){var t=e.applyMarkup,n=void 0===t||t,s=e.applyLink,l=void 0!==s&&s,a=e.text,c=e.textMapping,u=void 0===c?{}:c,d={};return u&&Object.keys(u).forEach(function(e){var t=u[e];null!==t&&(t.t?d[e]=t.t.toString():d[e]="",n&&(t.b&&(d[e]=(0,o.jsx)(r.xv,{inline:!0,weight:"bold",children:d[e]},e)),t.r&&(d[e]=(0,o.jsx)(r.xv,{color:"error",inline:!0,children:d[e]},e)),t.l&&l&&(d[e]=(0,o.jsx)(r.rU,{display:"inlineBlock",href:t.l,underline:"hover",children:d[e]},e))))}),(0,o.jsx)(r.xu,{"data-test-id":"updates-link-text",children:(0,o.jsx)(r.xv,{inline:!0,children:a?(0,i.bF)(a,d):null})})}},382112:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(586659),i=n(20256),o=n(19585),s=n(777939),l=n(2929),a=n(159527),c=n(536488),u=n(966279),d=n(771347),f=n(382718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var x="down",O=!1,S=!0,P=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&m(d,e);var t,n,o,u=(t=v(),function(){var e,n=_(d);return e=t?Reflect.construct(n,arguments,_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function d(e){var t;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return w(g(t=u.call(this,e)),"handleMouseOver",function(){!t.props.listResource.isFetching&&t._container&&t.setState({highlight:!1})}),w(g(t),"handleScroll",(0,a.Z)(function(){if(!t.props.listResource.isFetching&&t._container){var e=t.props.handleScrollShadow;e&&e((0,l.MX)(t._container)>70);var n=t.props.scrollThreshold,r=(0,l.aZ)(t._container)-(0,l.MX)(t._container)-(0,l.Uy)(t._container);n&&r<n&&t.fetchMore()}},30)),w(g(t),"addEventListeners",function(e){var n=t.props.useWindow;n&&(e=window),t.removeEventListeners(),e&&(n||e.addEventListener("wheel",t.preventScroll),e.addEventListener("scroll",t.handleScroll),e.addEventListener("mouseover",t.handleMouseOver)),t._container=e}),w(g(t),"getRef",function(e){return e&&e.id===t.props.highlightId?t.onRefChange:null}),w(g(t),"preventScroll",function(e){if(t._container){var n=e.deltaY<0?"up":x,r=t._container.scrollHeight-t._container.scrollTop-t._container.clientHeight==0,i=0===t._container.scrollTop;(n===x&&r||"up"===n&&i)&&e.preventDefault()}}),w(g(t),"fetchForHighlight",function(){if(!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.props.listResource.data){var e=!1;t.props.listResource.data.forEach(function(n){(null==n?void 0:n.id)===t.props.highlightId&&(e=!0,t.setState({isHighlightedItemLoaded:!0}))}),e||t.fetchMore()}}),w(g(t),"onRefChange",function(e){t.setState({highlightedItemRef:e})}),w(g(t),"handleHighlightAndScrollToItem",function(){t.props.listResource&&t.props.listResource.data&&!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.fetchForHighlight(),t.state.highlightedItemRef&&!O&&(t.state.highlightedItemRef.scrollIntoView({behavior:"smooth",block:"center"}),O=!0)}),w(g(t),"fetchMoreIfHidden",function(e){var n;if((null==(n=t.props.listResource.auxData)?void 0:n.x_pinterest_sli_endpoint_name)==="v3_get_news_hub_feed"){var r=c.yS;!t.props.listResource.isFetching&&!t.props.listResource.isAtEnd&&e&&t.props.getShownNewsCount(e)<r&&t.props.listResource.fetchMore()}}),t.state={highlightedItemRef:null,highlight:null,isResourceExhausted:!1,isHighlightedItemLoaded:!1},t}return n=[{key:"componentWillUnmount",value:function(){this.removeEventListeners(),O&&(S=!1)}},{key:"removeEventListeners",value:function(){var e=this.props.useWindow,t=this._container;t&&(e||t.removeEventListener("wheel",this.preventScroll),t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("mouseover",this.handleScroll))}},{key:"fetchMore",value:function(){var e=this._container;this.props.listResource.isFetching||(this.props.listResource.isAtEnd&&e?(e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mouseover",this.handleMouseOver),this.setState({isResourceExhausted:!0})):this.props.listResource.fetchMore())}},{key:"render",value:function(){var e,t,n,o=this,l=this.props,a=l.isAdsTab,u=l.isSideBarEnabled,d=l.hiddenNews,p=l.renderEmptyState,h=l.renderItem,y=l.renderTopStoryExperience,b=l.renderBottomSection,m=l.renderSectionHeaders;this.props.shouldScrollToItem&&this.handleHighlightAndScrollToItem();var g=this.props.listResource.data;if(this.fetchMoreIfHidden(g),!this.props.listResource.isFetching&&g&&(0===this.props.getShownNewsCount(g)||0===g.length))return p();var v=null==g?void 0:g.filter(function(e){return e&&"type"in e&&(null==e?void 0:e.type)==="news"&&!d[e.id]}),_=null!=(e=null==v?void 0:v.findIndex(function(e){return e&&"unread"in e&&(null==e?void 0:e.unread)&&(0,s.Y0)(e.encoded_display_mode,[c.gb.HIGHLIGHT_NOTIFICATION])}))?e:-1,w=g&&-1!==_?g[_]:null,j=null!=(t=null==v?void 0:v.filter(function(e){return e&&"unread"in e&&!(null!=e&&e.unread)}))?t:[],x=null!=(n=null==v?void 0:v.filter(function(e,t){return e&&"unread"in e&&e.unread&&t!==_}))?n:[];return(0,f.jsxs)(i.xu,{ref:this.addEventListeners,dangerouslySetInlineStyle:{__style:{clear:"both",height:u?"100%":"calc(100% - 88px)",overflowY:"auto",overflowX:"hidden",wordBreak:"break-word"}},"data-test-id":"scrollable-container",children:[g&&y&&y(),a&&g?g.map(function(e,t){return(0,f.jsx)(r.Fragment,{children:h(e,t+1,o.getRef(e),o.state.highlight&&S)},t)}):null,!a&&(w||null!=x&&x.length)?(0,f.jsxs)(r.Fragment,{children:[m&&(0,f.jsx)(i.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,f.jsx)(i.X6,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('New', 'Title for news hub section containing unread news items', 'Unread news hub items')})}),(0,f.jsxs)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:[w?h(w,0,this.getRef(w),this.state.highlight&&S,!0):null,null==x?void 0:x.map(function(e,t){return h(e,t,o.getRef(e),o.state.highlight&&S)})]})]}):null,!a&&j&&j.length>0?(0,f.jsxs)(r.Fragment,{children:[m&&(0,f.jsx)(i.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,f.jsx)(i.X6,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('Seen', 'Title for news hub section containing read news items', 'Read news hub items')})}),(0,f.jsx)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:j.map(function(e,t){return h(e,t,o.getRef(e),o.state.highlight&&S)})})]}):null,this.props.listResource.isAtEnd?null:(0,f.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"5%"}},"data-test-id":"loadingItem",height:"20%",position:"relative",children:(0,f.jsx)(i.xH,{accessibilityLabel:this.props.i18n._('Loading items', ' - ', ' -- '),show:this.props.listResource.isFetching})}),b&&b()]})}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return t.highlight?{}:{highlight:e.shouldHighlightListItem}}}],n&&b(d.prototype,n),o&&b(d,o),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.Component);function I(e){var t=(0,o.ZP)(),n=(0,u.nJ)().getShownNewsCount,r=(0,u.mv)().hiddenNews,i=(0,d.Z)();return(0,f.jsx)(P,y(y({},e),{},{getShownNewsCount:n,hiddenNews:r,i18n:t,isSideBarEnabled:i}))}w(P,"defaultProps",{scrollThreshold:400,useWindow:!1,handleScrollShadow:function(){},highlightId:null,shouldScrollToItem:!1})},197891:function(e,t,n){n.d(t,{Z:function(){return a}});var r,i=n(483180);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){var r;return(r=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(s(r={},0,i.C0),s(r,3,i.vI),s(r,4,i.YD),r);function a(e){var t=e.currentSiteType,n=e.destinationSiteType,r=e.inputPath,i=Object.keys(l).includes(String(t))&&Object.keys(l).includes(String(n)),o="/"===r[0]?r:"/".concat(r);return i&&n!==t?"".concat(l[n]).concat(o):o}}}]);