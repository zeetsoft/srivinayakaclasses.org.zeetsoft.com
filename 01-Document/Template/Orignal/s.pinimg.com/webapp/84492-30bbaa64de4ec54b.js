"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["84492"],{872799:function(e,t,n){n.d(t,{Oz:function(){return o},mo:function(){return i},nt:function(){return s},v8:function(){return r}});var o={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},r="BUSINESS_PANEL",s="ASSET_PANEL",i=500},349427:function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{JD:function(){return a},al:function(){return l},f4:function(){return _},iV:function(){return d},tN:function(){return u}});var a={ALGERIA:"DZ",ARGENTINA:"AR",AUSTRALIA:"AU",AUSTRIA:"AT",BAHRAIN:"BH",BELGIUM:"BE",BRAZIL:"BR",BULGARIA:"BG",CANADA:"CA",CHILE:"CL",COLOMBIA:"CO",COSTA_RICA:"CR",CROATIA:"HR",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",ESTONIA:"EE",FINLAND:"FI",FRANCE:"FR",GERMANY:"DE",GREECE:"GR",GUATEMALA:"GT",HONG_KONG:"HK",HUNGARY:"HU",IRAQ:"IQ",IRELAND:"IE",INDIA:"IN",INDONESIA:"ID",ISRAEL:"IL",ITALY:"IT",JAPAN:"JP",KUWAIT:"KW",LATVIA:"LV",LITHUANIA:"LT",LUXEMBOURG:"LU",MALTA:"MT",MALAYSIA:"MY",MEXICO:"MX",MOROCCO:"MA",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NIGERIA:"NG",NORTH_MACEDONIA:"MK",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PERU:"PE",POLAND:"PL",PORTUGAL:"PT",QATAR:"QA",ROMANIA:"RO",SAUDI_ARABIA:"SA",SERBIA:"RS",SINGAPORE:"SG",SLOVAKIA:"SK",SLOVENIA:"SI",SOUTH_KOREA:"KR",SPAIN:"ES",SWEDEN:"SE",SWITZERLAND:"CH",TAIWAN:"TW",THAILAND:"TH",TURKEY:"TR",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",PHILIPPINES:"PH",VIETNAM:"VN",SOUTH_AFRICA:"ZA",UNKNOWN:"UNKNOWN"},l=function(e,t){return({AE:t._('United Arab Emirates', '[m10n]billing.BusinessInformation.country.AE', 'Country in business information form address'),AR:t._('Argentina', '[m10n]billing.BusinessInformation.country.AR', 'Country in business information form address'),AT:t._('Austria', '[m10n]billing.BusinessInformation.country.AT', 'Country in business information form address'),AU:t._('Australia', '[m10n]billing.BusinessInformation.country.AU', 'Country in business information form address'),BE:t._('Belgium', '[m10n]billing.BusinessInformation.country.BE', 'Country in business information form address'),BG:t._('Bulgaria', '[m10n]billing.BusinessInformation.country.BG', 'Country in business information form address'),BH:t._('Bahrain', '[m10n]billing.BusinessInformation.country.BH', 'Country in business information form address'),BR:t._('Brazil', '[m10n]billing.BusinessInformation.country.BR', 'Country in business information form address'),CA:t._('Canada', '[m10n]billing.BusinessInformation.country.CA', 'Country in business information form address'),CH:t._('Switzerland', '[m10n]billing.BusinessInformation.country.CH', 'Country in business information form address'),CL:t._('Chile', '[m10n]billing.BusinessInformation.country.CL', 'Country in business information form address'),CO:t._('Colombia', '[m10n]billing.BusinessInformation.country.CO', 'Country in business information form address'),CR:t._('Costa Rica', '[m10n]billing.BusinessInformation.country.CR', 'Country in business information form address'),CY:t._('Cyprus', '[m10n]billing.BusinessInformation.country.CY', 'Country in business information form address'),CZ:t._('Czechia', '[m10n]billing.BusinessInformation.country.CZ', 'Country in business information form address'),DE:t._('Germany', '[m10n]billing.BusinessInformation.country.DE', 'Country in business information form address'),DK:t._('Denmark', '[m10n]billing.BusinessInformation.country.DK', 'Country in business information form address'),DO:t._('Dominican Republic', '[m10n]billing.BusinessInformation.country.DO', 'Country in business information form address'),DZ:t._('Algeria', '[m10n]billing.BusinessInformation.country.DZ', 'Country in business information form address'),EC:t._('Ecuador', '[m10n]billing.BusinessInformation.country.EC', 'Country in business information form address'),EE:t._('Estonia', '[m10n]billing.BusinessInformation.country.EE', 'Country in business information form address'),EG:t._('Egypt', '[m10n]billing.BusinessInformation.country.EG', 'Country in business information form address'),ES:t._('Spain', '[m10n]billing.BusinessInformation.country.ES', 'Country in business information form address'),FI:t._('Finland', '[m10n]billing.BusinessInformation.country.FI', 'Country in business information form address'),FR:t._('France', '[m10n]billing.BusinessInformation.country.FR', 'Country in business information form address'),GB:t._('United Kingdom', '[m10n]billing.BusinessInformation.country.GB', 'Country in business information form address'),GR:t._('Greece', '[m10n]billing.BusinessInformation.country.GR', 'Country in business information form address'),GT:t._('Guatemala', '[m10n]billing.BusinessInformation.country.GT', 'Country in business information form address'),HK:t._('Hong Kong', '[m10n]billing.BusinessInformation.country.HK', 'Country in business information form address'),HR:t._('Croatia', '[m10n]billing.BusinessInformation.country.HR', 'Country in business information form address'),HU:t._('Hungary', '[m10n]billing.BusinessInformation.country.HU', 'Country in business information form address'),IE:t._('Ireland', '[m10n]billing.BusinessInformation.country.IE', 'Country in business information form address'),IN:t._('India', '[m10n]billing.BusinessInformation.country.IN', 'Country in business information form address'),ID:t._('Indonesia', '[m10n]billing.BusinessInformation.country.ID', 'Country in business information form address'),IL:t._('Israel', '[m10n]billing.BusinessInformation.country.IL', 'Country in business information form address'),IQ:t._('Iraq', '[m10n]billing.BusinessInformation.country.IQ', 'Country in business information form address'),IT:t._('Italy', '[m10n]billing.BusinessInformation.country.IT', 'Country in business information form address'),JP:t._('Japan', '[m10n]billing.BusinessInformation.country.JP', 'Country in business information form address'),KR:t._('South Korea', '[m10n]billing.BusinessInformation.country.KR', 'Country in business information form address'),KW:t._('Kuwait', '[m10n]billing.BusinessInformation.country.KW', 'Country in business information form address'),LT:t._('Lithuania', '[m10n]billing.BusinessInformation.country.LT', 'Country in business information form address'),LU:t._('Luxembourg', '[m10n]billing.BusinessInformation.country.LU', 'Country in business information form address'),LV:t._('Latvia', '[m10n]billing.BusinessInformation.country.LV', 'Country in business information form address'),MA:t._('Morocco', '[m10n]billing.BusinessInformation.country.MA', 'Country in business information form address'),MK:t._('North Macedonia', '[m10n]billing.BusinessInformation.country.MK', 'Country in business information form address'),MT:t._('Malta', '[m10n]billing.BusinessInformation.country.MT', 'Country in business information form address'),MX:t._('Mexico', '[m10n]billing.BusinessInformation.country.MX', 'Country in business information form address'),MY:t._('Malaysia', '[m10n]billing.BusinessInformation.country.MY', 'Country in business information form address'),NG:t._('Nigeria', '[m10n]billing.BusinessInformation.country.NG', 'Country in business information form address'),NL:t._('Netherlands', '[m10n]billing.BusinessInformation.country.NL', 'Country in business information form address'),NO:t._('Norway', '[m10n]billing.BusinessInformation.country.NO', 'Country in business information form address'),NZ:t._('New Zealand', '[m10n]billing.BusinessInformation.country.NZ', 'Country in business information form address'),OM:t._('OMAN', '[m10n]billing.BusinessInformation.country.OM', 'Country in business information form address'),PE:t._('Peru', '[m10n]billing.BusinessInformation.country.PE', 'Country in business information form address'),PH:t._('Philippines', '[m10n]billing.BusinessInformation.country.PH', 'Country in business information form address'),PK:t._('Pakistan', '[m10n]billing.BusinessInformation.country.PK', 'Country in business information form address'),PL:t._('Poland', '[m10n]billing.BusinessInformation.country.PL', 'Country in business information form address'),PT:t._('Portugal', '[m10n]billing.BusinessInformation.country.PT', 'Country in business information form address'),QA:t._('Qatar', '[m10n]billing.BusinessInformation.country.QA', 'Country in business information form address'),RO:t._('Romania', '[m10n]billing.BusinessInformation.country.RO', 'Country in business information form address'),RS:t._('Serbia', '[m10n]billing.BusinessInformation.country.RS', 'Country in business information form address'),SA:t._('Saudi Arabia', '[m10n]billing.BusinessInformation.country.SA', 'Country in business information form address'),SE:t._('Sweden', '[m10n]billing.BusinessInformation.country.SE', 'Country in business information form address'),SG:t._('Singapore', '[m10n]billing.BusinessInformation.country.SG', 'Country in business information form address'),SI:t._('Slovenia', '[m10n]billing.BusinessInformation.country.SI', 'Country in business information form address'),SK:t._('Slovakia', '[m10n]billing.BusinessInformation.country.SK', 'Country in business information form address'),TH:t._('Thailand', '[m10n]billing.BusinessInformation.country.TH', 'Country in business information form address'),TR:t._('Turkey', '[m10n]billing.BusinessInformation.country.TR', 'Country in business information form address'),TW:t._('Taiwan', '[m10n]billing.BusinessInformation.country.TW', 'Country in business information form address'),US:t._('United States', '[m10n]billing.BusinessInformation.country.US', 'Country in business information form address'),VN:t._('Vietnam', '[m10n]billing.BusinessInformation.country.VN', 'Country in business information form address'),ZA:t._('South Africa', '[m10n]billing.BusinessInformation.country.ZA', 'Country in business information form address'),UNKNOWN:t._('Unknown', '[m10n]billing.BusinessInformation.country.UNKNOWN', 'Country in business information form address')})[e]||e},c={IL:9,HK:18,KR:20,SG:21,TW:39,MY:40,VN:41,TH:42,PH:43,ID:44,DO:46,AE:47,TR:48,IN:49,GT:50,SA:51,NG:52,QA:53,PE:54,EG:55,IQ:56,BH:57,CR:58,DZ:59,EC:60,KW:61,MA:62,OM:63,PK:64,ZA:66,US:1,EE:67,LT:68,SI:69,LV:70,BG:71,RS:72,HR:73,MK:74},u=i(i({},c),{},{AR:36,AT:11,AU:5,BE:15,BR:34,CA:3,CH:17,CL:37,CO:38,CY:25,CZ:31,DE:10,DK:23,ES:13,FI:24,FR:7,GB:2,GR:32,HK:18,HU:30,IE:4,IN:49,ID:44,IL:9,IT:12,JP:19,KR:20,LU:26,MT:27,MX:35,MY:40,NL:14,NO:22,NZ:6,PH:43,PL:28,PT:16,RO:29,SE:8,SG:21,SK:33,TH:42,TW:39,US:1,VN:41,UNKNOWN:0}),d=Object.entries(u).reduce(function(e,t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,s,i,a=[],l=!0,c=!1;try{for(s=(n=n.call(e)).next;!(l=(o=s.call(n)).done)&&(a.push(o.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return r(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0];return e[n[1]]=o,e},{}),_=Object.values(c)},207140:function(e,t,n){var o=n(586659),r=n(872799),s=n(86295),i=n(686319),a=n(821342),l=n(675973),c=n(474376),u=n(358396),d=n(890935);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=_(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n,o,r,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var s=e.apply(t,n);function i(e){m(s,o,r,i,a,"next",e)}function a(e){m(s,o,r,i,a,"throw",e)}i(void 0)})}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,s,i,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=s.call(n)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}t.Z=function(){var e,t,n,_=(0,l.Z)().checkExperiment("ba_mfa_enabled").anyEnabled,h=(0,a.Z)(),m=g((0,o.useState)([]),2),y=m[0],b=m[1],v=g((0,o.useState)([]),2),P=v[0],A=v[1],x=g((0,o.useState)([]),2),w=x[0],z=x[1],j=(0,o.useCallback)((e=p(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=5;break}return n=(0,c.dF)({id:String(t)},s.cU,"PEOPLE"),e.next=4,Promise.all([n,(0,u.cR)(),(0,d.ZP)({businessId:String(t),useApiResource:!0})]).then(function(e){return e});case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",[null,null,null]);case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),[_]),S=h.isAuth?h.id:void 0;(0,o.useEffect)(function(){var e;(e=p(regeneratorRuntime.mark(function e(){var t,n,o,r,s,i,a,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="business_roles",e.next=3,j(S);case 3:r=(o=g(e.sent,3))[0],s=o[1],i=o[2],a=s||[],l=(null==r?void 0:r.data.data)||[],c=(null==i||null==(t=i.data)?void 0:t.business_roles)||[],b(a.filter(function(e){return(e.requires_mfa_for_roles||[]).some(function(t){return(e[n]||[]).includes(t)})})),c&&A(l.filter(function(e){return c.some(function(t){return(e[n]||[]).includes(t)})})),z(c);case 14:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[S,j]);var C=(0,o.useCallback)((t=p(regeneratorRuntime.mark(function e(t){var n,o,r,s,i,a,l,c,u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return o="business_roles",e.next=5,j(t);case 5:return s=(r=g(e.sent,3))[0],i=r[2],a=(null==s?void 0:s.data.data)||[],c=(l=(null==i||null==(n=i.data)?void 0:n.business_roles)||[]).length>0,u=[],d=[],c&&(d=(u=a.filter(function(e){return l.some(function(t){return(e[o]||[]).includes(t)})})).filter(function(e){return e.has_mfa_enabled})),_=null,l.length>0&&(_=l.length>1?"EVERYONE":"MANAGERS"),e.abrupt("return",{businessId:t,isEnforced:c,enforcementType:_,activeEmployees:c?d.length:null,pendingSetupEmployees:c?u.length-d.length:null});case 18:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[j]),E=(0,o.useCallback)((n=p(regeneratorRuntime.mark(function e(t){var n,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.prev=2,e.next=5,(0,i.Z)({url:"ads/v4/business_access/business_hierarchies/"});case 5:if(o=(null==(n=(e.sent.resource_response.data||[]).find(function(e){return e.id===t}))?void 0:n.children)||[],e.t0=o,!e.t0){e.next=15;break}return e.next=14,Promise.all(o.map(function(){var e=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.user.entity_type=r.Oz.USER_ACCOUNT,e.prev=1,e.t0=f,e.t1=f({},t),e.t2={},e.t3=f,e.t4={},e.next=9,C(t.user.id);case 9:return e.t5=e.sent,e.t6=(0,e.t3)(e.t4,e.t5),e.t7={mfa_summary:e.t6},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t7));case 15:return e.prev=15,e.t8=e.catch(1),e.abrupt("return",t);case 18:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t){return e.apply(this,arguments)}}()));case 14:e.t0=e.sent;case 15:return s=e.t0,e.abrupt("return",s||[]);case 19:return e.prev=19,e.t1=e.catch(2),e.abrupt("return",[]);case 22:case"end":return e.stop()}},e,null,[[2,19]])})),function(e){return n.apply(this,arguments)}),[C]);return{employersWhoRequireMfa:y,employeesRequiredToMfa:P,viewerId:String(h.isAuth?h.id:void 0),viewerRequiresMfaForRoles:w,getMFAEnforcementDetailsForBusinessById:C,getChildBusinessesWithMFAEnforcementDetailsForHierarchyById:E}}},166379:function(e,t,n){n.d(t,{k:function(){return o.kH}});var o=n(654937),r=n(15667);t.Z=function(e){var t=e.dateFormatType,n=e.useUTC,s=e.value,i=(0,r.B)();return(0,o.ZP)(i.locale,s,t,void 0===n||n)}},654937:function(e,t,n){n.d(t,{A5:function(){return s},ZP:function(){return i},kH:function(){return o}});var o={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},r=function(e){switch(e){case o.YEAR:return{year:"numeric"};case o.LONG:return{year:"numeric",month:"long",day:"numeric"};case o.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case o.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case o.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case o.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case o.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case o.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case o.MONTH_DAY:return{month:"long",day:"numeric"};case o.SHORT_MONTH:return{month:"short"};case o.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case o.DAY:return{day:"numeric"};case o.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case o.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case o.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case o.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case o.TIME:return{hour:"numeric",minute:"2-digit"};case o.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case o.HOUR:return{hour:"numeric"};case o.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case o.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function s(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function i(e,t,n){var o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=arguments.length>4?arguments[4]:void 0,a=r(n);return o?a.timeZone="UTC":i&&(a.timeZone=i),s()||(a.calendar="gregory"),new Intl.DateTimeFormat(e,a).format(t)}},415291:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(20256),r=n(982166),s=n(19585),i=n(382718);function a(e){var t=e.type,n=e.onDismiss,a=(0,s.ZP)(),l="facebook"===t?a._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):a._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),c="facebook"===t?a._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):a._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,i.jsx)(r.ZP,{accessibilityModalLabel:l,footer:(0,i.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(o.xu,{"data-test-id":"SocialAuthDisabledModal",paddingX:1,children:(0,i.jsx)(o.zx,{color:"red",onClick:n,size:"md",text:a._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working')})})}),heading:l,isOpen:!0,onDismiss:n,children:(0,i.jsx)(o.xu,{paddingX:5,children:(0,i.jsx)(o.xv,{align:"center",children:c})})})}},640452:function(e,t,n){var o=n(575108);t.Z=function(e){return o.Z.create("UserPasswordResource",e).callUpdate({showError:!1})}},890935:function(e,t,n){n.d(t,{H9:function(){return u},c_:function(){return d}});var o,r,s,i=n(686319);function a(e,t,n,o,r,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var s=e.apply(t,n);function i(e){a(s,o,r,i,l,"next",e)}function l(e){a(s,o,r,i,l,"throw",e)}i(void 0)})}}var c=new(n(717284)).ZP;o=l(regeneratorRuntime.mark(function e(t){var n,o,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.businessId,!t.useApiResource){e.next=8;break}return e.next=4,(0,i.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/mfa")});case 4:return o=e.sent,e.abrupt("return",o.resource_response);case 8:return r="/ads/v4/business_access/businesses/".concat(n,"/mfa"),e.next=11,c.get(r);case 11:return s=e.sent,e.abrupt("return",s);case 13:case"end":return e.stop()}},e)})),t.ZP=function(e){return o.apply(this,arguments)};var u=(r=l(regeneratorRuntime.mark(function e(t){var n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,o=t.businessRoles,e.next=3,(0,i.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/mfa"),method:"PUT",data:{business_roles:o}});case 3:return r=e.sent,e.abrupt("return",r.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),d=(s=l(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,o=t.memberId,e.next=3,(0,i.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/members/").concat(o,"/resend_mfa_email"),method:"POST"});case 3:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},947956:function(e,t,n){n.d(t,{$7:function(){return g},Ay:function(){return a},B1:function(){return b},CD:function(){return c},Dk:function(){return _},Fc:function(){return O},Kp:function(){return R},NG:function(){return w},QM:function(){return E},T0:function(){return d},TE:function(){return p},WF:function(){return A},Wm:function(){return v},Xm:function(){return z},_N:function(){return C},d7:function(){return i},dt:function(){return M},e_:function(){return S},i_:function(){return x},kY:function(){return m},nV:function(){return r},pC:function(){return l},ph:function(){return f},qg:function(){return j},sg:function(){return h},tZ:function(){return s},tw:function(){return T},uC:function(){return u},uc:function(){return P},xl:function(){return y},yG:function(){return k}});var o=n(349427),r="https://business.pinterest.com/en/pinterest-advertising-services-agreement",s="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",i="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",a="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",l="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",c="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",u="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",d="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",_="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",h="https://business.pinterest.com/pinterest-advertising-services-agreement/",f=[1,3],m=[7],p=[34],g=[35],y=[19],b=[36],v=[37],P=[38],A=8,x=9,w=11,z=15,j=16,S=17,C=18,E=19,k=20,M=22,T=23;function O(e,t){var n=x;return f.includes(e)&&!t?n=A:m.includes(e)?n=w:p.includes(e)?n=z:g.includes(e)?n=j:y.includes(e)?n=S:b.includes(e)?n=C:P.includes(e)?n=E:v.includes(e)?n=k:o.f4.includes(e)&&(n=M),n}function R(e){var t=_;return f.includes(e)?t=r:m.includes(e)?t=s:p.includes(e)?t=i:g.includes(e)?t=a:y.includes(e)?t=d:b.includes(e)?t=l:v.includes(e)?t=c:P.includes(e)&&(t=u),t}},513495:function(e,t,n){var o=n(20256),r=n(19585),s=n(886981),i=n(382718);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}t.Z=function(e){var t=e.label,n=e.id,c=e.onChange,u=e.value,d=e.usePhoneCodeAsValue,_=e.errorMessage,h=(0,r.ZP)(),f=((0,s.Z)({name:"ApiResource",options:{url:"/v3/countries/phone_codes/"}}).data||[]).map(function(e){return{label:"".concat(e.phone_code_label),value:d?e.phone_code:e.code}});return(0,i.jsx)(o.EI,{errorMessage:_,id:n,label:t,name:n,onChange:function(e){return c(e.value)},placeholder:h._('Choose', 'countryCodeList.selectList.countryCodePlaceholder', 'Placeholder text when country code is not selected.'),size:"lg",value:u,children:f.map(function(e){return(0,i.jsx)(o.EI.Option,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),e.label)})})}},695945:function(e,t,n){n.d(t,{Z:function(){return tj}});var o=n(586659),r=n(821342),s=n(444185),i=n(647709),a=n(984126),l=n(963489),c=n(20256),u=n(111330),d=n(980787),_=n(657043),h=n(686319),f=n(475498),m=n(19585),p=n(302148),g=n(588367),y=n(914061),b=n(2420),v=n(46641),P=n(261449),A=n(15667),x=n(900675),w=n(886981),z=n(936306),j=n(753143),S=n(694955),C=n(941404),E=n(87853),k=n(211934),M=n(382718);function T(e){var t=e.handleResendEmail,n=e.onHide,o=e.email,r=(0,m.ZP)(),s=r._('Confirm email', 'settings.mfa.ConfirmEmailModal.titleText', 'Title in a modal to inform the user to check their email account and check for a Pinterest email');return(0,M.jsx)(k.Z,{accessibilityModalLabel:s,description:(0,p.nk)(r._('To turn on two factor authentication you must first confirm your email address {{ email }} and password and then you will need to refresh this page.', 'settings.mfa.ConfirmEmailModal.titleText', 'Description in a modal to inform the user to check their email account and check for a Pinterest email email:User email that is being shown on the confirm email modal'),{email:(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:o},"user-email")}),heading:s,onDismiss:n,primaryBtnParams:{text:r._('Resend email', 'settings.mfa.ConfirmEmailModal.button.resendEmail', 'Button text to resend the instructions email'),color:"gray",onClick:t},secondaryBtnParams:{text:r._('Okay', 'settings.mfa.ConfirmEmailModal.button.okay', 'Done button label on the modal dialog'),color:"red",onClick:n},type:"unlink_account_modal"})}function O(e,t,n,o,r,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}var R=function(){var e;return e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Z)({url:"/v3/users/settings/mfa/eligibility/",method:"GET"});case 2:return t=e.sent.resource_response,e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(o,r){var s=e.apply(t,n);function i(e){O(s,o,r,i,a,"next",e)}function a(e){O(s,o,r,i,a,"throw",e)}i(void 0)})}},I=n(112864),D=n(793698),B=n(567635),L=n(533898),N=n(744862);function Z(e,t,n,o,r,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function H(e){var t,n=e.email,o=e.closeModal,r=(0,m.ZP)(),s=(0,i.ml)(),a=(0,E.dI)(),l=R(),u=r._('Check your email', 'MfaEmailVerificationModal.heading', 'Heading for the modal informing user that email verification is required'),d=(0,p.nk)(r._('A confirmation email has been sent to {{email}}. Head there for next steps. If you can\'t access this email address, you can update your email in your Pinterest settings.', 'MfaEmailVerificationModal.description', 'Modal description explaining how the user will receive an email to confirm their email before completing the 2 Factor Authentication signup. email: user email'),{email:n}),_=r._('An email has been sent.', 'MfaEmailVerificationModal.toastMessage', 'Toast Message for the modal informing user that an additional email has been sent');return(0,M.jsx)(N.u_,{accessibilityModalLabel:u,align:"start",footer:(0,M.jsx)(c.xu,{display:"flex",justifyContent:s?"center":"end",margin:6*!!s,children:(0,M.jsxs)(c.kC,{gap:2,children:[(0,M.jsx)(c.zx,{onClick:(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l(),a.showToast(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{onHide:t,text:_})});case 2:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(o,r){var s=t.apply(e,n);function i(e){Z(s,o,r,i,a,"next",e)}function a(e){Z(s,o,r,i,a,"throw",e)}i(void 0)})}),text:r._('Send again', 'MfaEmailVerificationModal.button.sendAgain', 'Send again button text for email verification modal')}),(0,M.jsx)(c.zx,{color:"red",onClick:o,text:r._('Done', 'MfaEmailVerificationModal.button.done', 'Done button text for email verification modal')})]})}),heading:u,isOpen:!0,mobileAccessibilityCloseIconLabel:r._('Close the two factor authentication email verification modal', 'MfaEmailVerificationModal.accessibilityCloseIconLabel', 'Accessibility close icon label for the Multi Factor Authentication Email Verification modal'),mobileHeadingSize:"500",mobileIsFullscreen:!1,onDismiss:o,children:(0,M.jsx)(c.xu,{paddingX:6,children:(0,M.jsx)(c.xv,{children:d})})})}function U(e,t,n,o,r,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,s,i,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=s.call(n)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function Y(e){var t,n,r,s,i,a=e.mfa,x=e.isGoogleConnected,w=(0,m.ZP)(),k=(0,E.dI)().showOneToast,O=(0,d.u)().logContextEvent,N=(0,l.s0)(),Z=null!=(r=(0,D.LO)())?r:Object.freeze({}),G=R(),Y=null==(s=Z.partner)?void 0:s.is_linked_business,W=Z.has_password,K=F((0,o.useState)(!1),2),V=K[0],X=K[1],q=F((0,o.useState)(!1),2),Q=q[0],J=q[1],$=F((0,o.useState)(!1),2),ee=$[0],et=$[1],en=F((0,o.useState)(!1),2),eo=en[0],er=en[1],es=w._('Sorry, something went wrong', 'settings.MFA.ConfirmPassword.toast.error', 'Toast message for error when trying to send the forget password email'),ei="JP"!==(0,A.B)().country,ea=F((0,o.useState)(x),2),el=ea[0],ec=ea[1],eu=(0,P.k)(),ed=(0,E.dI)().showToast;(0,o.useEffect)(function(){ec(x)},[x]),(0,o.useEffect)(function(){O({event_type:13,view_type:7,view_parameter:3708})},[O]);var e_=(t=regeneratorRuntime.mark(function e(){var t,n,o,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a&&a.can_enable_mfa,O({event_type:(n=a&&a.has_mfa_enabled)?107:106,view_type:7,view_parameter:3708,element:12917,component:14050}),e.next=5,G();case 5:if((o=e.sent).eligible){e.next=10;break}return(null==(r=o.reasons)?void 0:r.email_verification)==="unverified"&&et(!0),e.abrupt("return");case 10:t?N(n?"/settings/mfa/disable":"/settings/mfa/confirm-password"):(s=Z.has_password,O({event_type:13,view_type:7,view_parameter:3708,element:12918,component:14050,aux_data:{reason:Z.has_confirmed_email||s?s?"email_verification":"missing_password":"email_and_password"}}),s?N("/settings/mfa/confirm-email"):((0,j.M0)().setItem(u.ou,{hasPassword:!1}),N("/settings/edit/password")));case 11:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(o,r){var s=t.apply(e,n);function i(e){U(s,o,r,i,a,"next",e)}function a(e){U(s,o,r,i,a,"throw",e)}i(void 0)})},function(){return n.apply(this,arguments)}),eh=(0,o.useCallback)(function(e,t){O({element:(0,v.t)(e),event_type:101,view_type:7});var n=function(e){var t=e.network,n=e.action,o=e.status;return"auth.social_network_connection.".concat(t,".").concat(n,".").concat(o)};if(!t&&!W)return void er(!0);var o=t?"enabling":"disabling",r=function(t){return n({network:e,action:o,status:t})};(0,C.My)(r("attempt")),eu.handleConnect(e,t,{success:function(){(0,C.My)(r("success")),ec(t),ed(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{onHide:t,text:w._('Login option saved', 'profile.Settings.Edit.LoginOptions.SavedToast', 'Toast message shown when a login option is saved on settings page')})})},error:function(e){var t=r("error");e&&e.api_error_code===b.pH?(t+=".".concat(String(e.api_error_code)),ed(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{onHide:t,text:w._('That account\'s already in use. Try a different one.', 'profile.Settings.Edit.LoginOptions.Error.AccountAlreadyInUse', 'Error text that alerts users that the Google account they tried to connect to is already connected to another Pinterest account'),type:"error"})})):t+=".unknown_error_code",(0,C.My)(t)}},w)},[]);return(0,M.jsxs)(y.default,{hasFixedHeader:!0,children:[(0,M.jsx)(g.default,{zIndexForGestaltBug:2,children:(0,M.jsx)(I.default,{heading:w._('Security', 'profile.Settings.Edit.Security', 'Title of Security settings page'),legoSettingsEnabled:!0,previousUrl:"/settings/"})}),(0,M.jsx)(c.xu,{"data-test-id":"security-settings-content",paddingX:2,children:(0,M.jsx)(c.xu,{marginBottom:9,marginTop:2,children:(0,M.jsx)(c.xv,{color:"subtle",children:(0,p.nk)(w._('Include additional security like turning on two-factor authentication and checking your list of connected devices to keep your account, Pins and boards safe. {{ learnMore }}', 'settings.securityAndLogins.Explanation', 'Security and logins explanation'),{learnMore:(0,M.jsx)(c.xv,{color:"subtle",inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/protect-your-account",target:"blank",underline:"hover",children:w._('Learn more', 'settings.securityAndLogins.Explanation.LearnMoreLink', 'Text link for learning more about security and logins')})},"login")})})})}),(0,M.jsxs)(c.xu,{paddingX:2,children:[(0,M.jsx)(c.xu,{marginBottom:4,marginTop:2,children:(0,M.jsx)(L.Z,{description:(0,p.nk)(w._('This makes your account extra secure. Along with your password, you\'ll need to enter the secret code that we text your phone each time you log in. {{ learnMore }}', 'profile.Settings.Edit.2fa.Explanation', 'Two-factor authentication explanation learnMore:Learn more link about Two-factor authentication'),{learnMore:(0,M.jsx)(c.xv,{color:"subtle",inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/two-factor-authentication",target:"blank",underline:"hover",children:w._('Learn more', 'settings.securityAndLogins.Explanation.LearnMoreLink', 'Text link for learning more about Two-factor authentication')})},"login")}),heading:w._('Two-factor authentication', 'profile.Settings.Edit.2fa', 'Edit Two-factor authentication label on Edit Settings Page'),headingAccessibilityLevel:2,onChange:e_,switched:a.has_mfa_enabled||!1,switchId:"switch-2fa"})}),a.has_mfa_enabled?(0,M.jsx)(c.kC,{justifyContent:"center",children:(0,M.jsx)(c.xu,{marginBottom:8,children:(0,M.jsx)(c.zx,{onClick:function(){O({view_type:7,view_parameter:3708,element:12919,event_type:102,component:14050}),N("/settings/mfa/backup-code")},size:"lg",text:w._('Get backup code', 'profile.Settings.Edit.2fa.getBackupCode.button', 'Button to open the page to get the backup code')})})}):null]}),ei&&(0,M.jsx)(c.xu,{marginTop:3,paddingX:2,children:(0,M.jsx)(c.xu,{role:"list",children:(0,M.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginTop:6,paddingY:1,role:"listitem",children:[(0,M.jsx)(c.__,{htmlFor:"login_with_gplus",children:(0,M.jsx)(c.X6,{accessibilityLevel:2,size:"400",children:w._('Log in with Google', 'profile.Settings.Edit.LoginOptions.Google.Label', 'text to toggle connecting to Google')})}),(0,M.jsx)(c.rs,{id:"login_with_gplus",name:"login_with_gplus",onChange:function(){return eh("gplus",!el)},switched:el})]},1)})}),!ei&&!Y&&(0,M.jsx)(z.Z,{heading:w._('Login options', 'profile.Settings.Edit.LoginOptions', 'Edit Login options label on Edit Settings Page'),iconAccessibilityLabel:w._('Go to Edit LoginOptions', 'profile.Settings.Edit.LoginOptions.Icon', 'Edit LoginOptions Icon on Edit Settings Page'),onTap:function(){return N(S.ZCg)},primarySettingsMenu:!0}),V?(0,M.jsx)(T,{email:null!=(i=Z.email)?i:"",handleResendEmail:function(){var e,t=Z.has_password,n=Z.has_confirmed_email;t?n||(e={url:"/v3/users/confirmation_email/",method:"POST"}):e={url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:Z.username}},e?(0,h.Z)(e).then(function(){k(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{onHide:t,text:w._('Email sent!', 'settings.MFA.ConfirmPassword.toast.success', 'Toast message for success when trying to send the forget password email')})})},function(e){k(function(t){var n=t.hideToast;return(0,M.jsx)(f.Z,{onHide:n,text:(0,_.Z)(e,"message")||es,type:"error"})})}):k(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{onHide:t,text:es,type:"error"})})},onHide:function(){return X(!1)}}):null,Q||eo?(0,M.jsx)(B.Z,{isMfaFlow:Q,onDismiss:function(){J(!1),er(!1)}}):null,ee?(0,M.jsx)(H,{closeModal:function(){et(!1)},email:Z.email}):null]})}function W(e){var t,n=e.mfaRef,o=e.settingsDataRef,r=(0,x.Z)(n).data,s=(0,x.Z)(o).data,i=(0,w.Z)({name:"UserSettingsResource",noCache:!0}).data;return s&&r&&i?s.is_sso_user?(0,M.jsx)(l.Fg,{replace:!0,to:"/settings/"}):(0,M.jsx)(Y,{isGoogleConnected:null!=(t=i.connected_to_gplus)&&t,mfa:r}):(0,M.jsx)(a.Z,{})}var K=n(415291),V=n(697063),X=n(439068),q=n(675973),Q=n(436295),J=n(218830),$=n(784904);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){ea(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eo(e,t){return(eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function er(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(es=function(){return!!e})()}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ea(e,t,n){return(t=el(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function el(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=ee(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:t+""}var ec=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&eo(r,e);var t,n,o=(t=es(),function(){var e,n=ei(r);return e=t?Reflect.construct(n,arguments,ei(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ee(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return er(e)}(this,e)});function r(){var e;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return ea(er(e=o.call.apply(o,[this].concat(n))),"state",{networks:e.props.networks,forgotPasswordModal:!1,handlePasswordModalSuccess:null,passwordModalShown:!1,passwordChangeSuccessModalShown:!1,socialAuthDisabledModalShown:!1,socialAuthDisabledType:null}),ea(er(e),"handleChangePassword",function(t){e.setState({passwordModalShown:!0,handlePasswordModalSuccess:function(){t&&t(),e.props.isHighRisk&&e.props.experienceClient.completeExperience(11,500818)}})}),ea(er(e),"handleChange",function(t,n){return function(){n||e.props.hasPassword?("gplus"===t&&e.props.logContextEvent({event_type:101,view_type:7,element:208}),"facebook"===t&&e.props.logContextEvent({event_type:101,view_type:7,element:68}),"line"===t&&e.props.logContextEvent({event_type:101,view_type:7,element:12277}),e.handleConnect(t,n)):e.handleChangePassword(function(){e.handleConnect(t,n,!0)})}}),ea(er(e),"formatTrackSocialNetworkConnection",function(e){var t=e.network,n=e.action,o=e.status;return"auth.social_network_connection.".concat(t,".").concat(n,".").concat(o)}),ea(er(e),"handleConnect",function(t,n,o){var r=e.props,s=r.toastManagerContext,i=r.webFacebookDisabled,a=r.webGoogleDisabled;if("facebook"===t&&i)return void e.setState({socialAuthDisabledModalShown:!0,socialAuthDisabledType:"facebook"});if("gplus"===t&&a)return void e.setState({socialAuthDisabledModalShown:!0,socialAuthDisabledType:"google"});var l=e.state.networks,c=n?"enabling":"disabling",u=function(n){return e.formatTrackSocialNetworkConnection({network:t,action:c,status:n})};(0,C.My)(u("attempt")),e.props.socialManager.handleConnect(t,n,{success:function(){(0,C.My)(u("success"));var r,i=en({},l);switch(i[t]={connected:n},e.setState({networks:i}),t){case"facebook":r=e.props.i18n._('Facebook', 'settingsPage.SocialNetworks.LoginOptions.Facebook', 'Facebook');break;case"gplus":r=e.props.i18n._('Google', 'settingsPage.SocialNetworks.LoginOptions.Google', 'Google');break;case"line":r=e.props.i18n._('Line', 'settingsPage.SocialNetworks.LoginOptions.Line', 'Line');break;default:r=""}var a=!n&&o?(0,p.nk)(e.props.i18n._('Password created and account unlinked from {{ thirdPartyProvider }}.', 'settingsPage.SocialNetworks.LoginOption.Toast.UnlinkMessage', 'Toast message shown when user account was unlinked from the third-party provider. thirdPartyProvider: Google or Facebook'),{thirdPartyProvider:r}).join(""):e.props.i18n._('Login option saved', 'settingsPage.SocialNetworks.LoginOption.Toast.Message', 'Toast message shown when a login option is saved on settings page');s.showToast(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{duration:5e3,onHide:t,text:a})}),l.refresh()},error:function(t){var n=u("error");t&&t.api_error_code===b.pH?(n+=".".concat(String(t.api_error_code)),V.Z.showError(e.props.i18n._('That account\'s already in use. Try a different one.', 'Error text that alerts users that the Google account they tried to connect to is already connected to another Pinterest account', 'Error text that alerts users that the Google account they tried to connect to is already connected to another Pinterest account'))):n+=".unknown_error_code",(0,C.My)(n)}},e.props.i18n)}),ea(er(e),"handleForgotPassword",function(){return e.setState({passwordModalShown:!1,forgotPasswordModal:!0})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.hasPassword,o=t.username,r=t.webLineLoginOptionEnabled,s=this.state,i=s.forgotPasswordModal,a=s.handlePasswordModalSuccess,l=s.passwordModalShown,u=s.passwordChangeSuccessModalShown,d=s.networks,_=s.socialAuthDisabledType,h=s.socialAuthDisabledModalShown;return(0,M.jsxs)(c.xu,{"data-test-id":"socialNetworks",children:[l&&a&&o&&(0,M.jsx)($.Z,{hasPassword:n,modalType:"disconnect",onHide:function(){return e.setState({passwordModalShown:!1})},onPasswordForgotModal:this.handleForgotPassword,onSuccess:a,username:o}),i&&(0,M.jsx)(Q.Z,{onHide:function(){return e.setState({forgotPasswordModal:!1})},variant:"changePassword"}),u&&(0,M.jsx)(J.Z,{onHide:function(){return e.setState({passwordChangeSuccessModalShown:!1})}}),h&&_&&(0,M.jsx)(K.Z,{onDismiss:function(){return e.setState({socialAuthDisabledModalShown:!1,socialAuthDisabledType:null})},type:_}),(0,M.jsx)(c.xu,{paddingY:2,children:(0,M.jsx)(c.XZ,{checked:d.gplus.connected,id:"connectToGplus",label:this.props.i18n._('Use your Google account to log in', 'SocialNetworks.Checkbox.Google', 'text to toggle connecting to Google'),name:"connectToGplus",onChange:this.handleChange("gplus",!d.gplus.connected)})}),r&&(0,M.jsx)(c.xu,{paddingY:2,children:(0,M.jsx)(c.XZ,{checked:d.line.connected,id:"connectToLine",label:this.props.i18n._('Use your Line account to log in', 'SocialNetworks.Checkbox.Line', 'text to toggle connecting to Line'),name:"connectToLine",onChange:this.handleChange("line",!d.line.connected)})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,el(o.key),o)}}(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(o.Component);function eu(e){var t,n=(0,d.u)().logContextEvent,o=(0,m.ZP)(),r=(0,E.dI)(),s=(0,X.Z)(),i=(0,A.B)(),a=(0,q.Z)().checkExperiment,l=a("web_facebook_disabled").anyEnabled,c=a("web_google_disabled").anyEnabled,u="JP"===i.country,_=(0,w.Z)({name:"UserSettingsResource"}),h=(0,P.k)();return(0,M.jsx)(ec,en(en({},e),{},{experienceClient:s,i18n:o,logContextEvent:n,requestContext:i,socialManager:h,toastManagerContext:r,username:null==(t=_.data)?void 0:t.username,webFacebookDisabled:l,webGoogleDisabled:c,webLineLoginOptionEnabled:u}))}var ed=n(217251);function e_(e){var t=(0,m.ZP)();return(0,M.jsxs)(o.Fragment,{children:[(0,M.jsx)(c.xu,{marginTop:1,children:(0,M.jsx)(ed.Z,{accessibilityLevel:e.headerAccessibilityLevel||3,title:t._('Login options', 'LoginOptions.Header', 'header for login options')})}),(0,M.jsx)(c.xu,{marginBottom:4,marginTop:1,children:(0,M.jsx)(c.xv,{children:(0,p.nk)(t._('Use your social account to log in to Pinterest. {{ learnMore }}', 'LoginOptions.Text.Login', 'Text description explaining that users can connect/disconnect to the their social logins (third party providers), learnMore: Text link for learning more about login options'),{learnMore:(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/link-your-social-media?source=settings_page",target:"blank",underline:"hover",children:t._('Learn more', 'LoginOptions.Text.LearnMore', 'Text link for learning more about login options')})},"login")})})}),(0,M.jsx)(eu,{hasPassword:e.hasPassword,isHighRisk:e.isHighRisk,networks:e.networks})]})}var eh=n(140725),ef=n(598849),em=n(982166);function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(t){ex(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eb(e,t){return(eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ev(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eP=function(){return!!e})()}function eA(e){return(eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ex(e,t,n){return(t=ew(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ew(e){var t=function(e,t){if("object"!=ep(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=ep(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ep(t)?t:t+""}var ez=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&eb(r,e);var t,n,o=(t=eP(),function(){var e,n=eA(r);return e=t?Reflect.construct(n,arguments,eA(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ep(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ev(e)}(this,e)});function r(){var e;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return ex(ev(e=o.call.apply(o,[this].concat(n))),"state",{loading:!1}),ex(ev(e),"_isMounted",!1),ex(ev(e),"modalTextByAppId",{dropbox:e.props.i18n._('Are you sure you want to revoke Pinterest\u2019s access to this app?', 'Confirmation message to make sure the action of revoking Pinterest\'s connection to a given third party app', 'Confirmation message to make sure the action of revoking Pinterest\'s connection to a given third party app'),default:e.props.i18n._('Are you sure you want to revoke this app\u2019s access to Pinterest?', ' - ', ' -- ')}),ex(ev(e),"handleRevokeButtonClick",function(){var t=e.props,n=t.appID,o=t.onConfirm;e.setState({loading:!0}),("dropbox"===n?(0,h.Z)({url:"v3/connect/".concat(n,"/"),method:"DELETE"}):(0,h.Z)({url:"/v3/oauth/authorizations/".concat(String(n),"/"),method:"DELETE"})).then(function(){e._isMounted&&e.setState({loading:!1}),o(n)}).catch(function(){e._isMounted&&e.setState({loading:!1})})}),e}return n=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.appID,n=e.onHide,o=this.props.i18n._('Revoke access?', ' - ', ' -- ');return(0,M.jsx)(em.ZP,{accessibilityModalLabel:o,footer:(0,M.jsxs)(c.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,M.jsx)(c.xu,{paddingX:1,children:(0,M.jsx)(c.zx,{onClick:n,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,M.jsx)(c.xu,{paddingX:1,children:(0,M.jsx)(c.zx,{color:"red",onClick:this.handleRevokeButtonClick,text:this.props.i18n._('Revoke Access', ' - ', ' -- ')})})]}),heading:o,onDismiss:n,size:"md",children:(0,M.jsx)(c.xu,{padding:4,children:this.state.loading?(0,M.jsx)(c.xH,{accessibilityLabel:this.props.i18n._('Loading revoke confirm dialog', 'Accessibility label for revoke confirm dialog', 'Accessibility label for revoke confirm dialog'),show:!0}):(0,M.jsx)(c.xv,{children:this.modalTextByAppId[t||"default"]})})})}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ew(o.key),o)}}(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(o.Component);function ej(e){var t=(0,m.ZP)();return(0,M.jsx)(ez,ey(ey({},e),{},{i18n:t}))}var eS=n(166379),eC=n(417245);function eE(e){var t,n,r=e.app,s=e.onAppRevokeModalShow,i=(0,m.ZP)();i._('This application will be able to:', 'label to show the permissions this third party app have for this user\'s pinterest account', 'label to show the permissions this third party app have for this user\'s pinterest account'),i._('Approved:', 'label to show the time when the user approved a third party app', 'label to show the time when the user approved a third party app'),i._('Revoke Access', 'button to revoke access of a third party app to pinterest, or access of pinterest to a third party app', 'button to revoke access of a third party app to pinterest, or access of pinterest to a third party app'),i._('{{ app_name }} will have access to your Pinterest account,\nincluding the ability to perform reads and writes\n(such as see your profile and home feed and like Pins for you).', 'Description for the access this third party app has for the user\'s Pinterest account', 'Description for the access this third party app has for the user\'s Pinterest account');var a=r.created_at,l=r.scope_descriptions,u=null,d="";if(r.consumer){var _=r.consumer;t=_.id,n=_.name,_.company_name&&(u=(0,M.jsx)(c.xv,{inline:!0,children:(0,eC.Z)(i._('by {{ companyName }}', 'the company which owns this third party app', 'the company which owns this third party app'),{companyName:_.company_name})},_.id))}else{var h=r.app_id,f=r.name;d=r.description,t=h,n=f}var p=(0,M.jsxs)(o.Fragment,{children:[(0,M.jsx)(c.xu,{marginBottom:1,children:(0,M.jsx)(c.xv,{weight:"bold",children:"dropbox"===t?i._('Pinterest will be able to:', 'label to show the permissions Pinterest have for this third party app', 'label to show the permissions Pinterest have for this third party app'):i._('This application will be able to:', ' - ', ' -- ')})},"scopeDescriptionsHeader"),(0,M.jsx)(c.xu,{children:l.map(function(e,t){return(0,M.jsx)(c.xu,{children:(0,M.jsx)(c.xv,{children:e})},t)})})]});return(0,M.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",paddingY:4,children:[(0,M.jsx)(c.xu,{direction:"column",display:"flex",marginEnd:-1,marginStart:-1,mdDisplay:"flex",paddingY:2,role:"listitem",width:"100%",children:(0,M.jsxs)(c.xu,{paddingX:1,children:[(0,M.jsxs)(c.xu,{marginBottom:4,children:[(0,M.jsxs)(c.xu,{children:[n&&(0,M.jsx)(c.X6,{accessibilityLevel:2,size:"400",children:n}),u&&(0,M.jsxs)(c.xv,{inline:!0,children:[" ",u]})]}),(0,M.jsx)(c.xv,{children:d})]}),(0,M.jsx)(c.xu,{marginBottom:4,children:(0,M.jsx)(c.xv,{children:p})}),(0,M.jsxs)(c.xu,{direction:"column",display:"flex",marginBottom:4,children:[(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:i._('Approved:', ' - ', ' -- ')}),(0,M.jsx)(c.xv,{inline:!0,children:(0,M.jsx)(eS.Z,{dateFormatType:eS.k.LONG,value:new Date(1e3*a)})})]})]})}),(0,M.jsx)(c.xu,{flex:"none",marginBottom:3,paddingX:1,children:(0,M.jsx)(c.zx,{onClick:function(){return s(t)},size:"md",text:i._('Revoke Access', ' - ', ' -- ')})})]})}function ek(e){return(ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function eT(e,t){return(eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eO(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eR=function(){return!!e})()}function eI(e){return(eI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eD(e,t,n){return(t=eB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=function(e,t){if("object"!=ek(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=ek(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ek(t)?t:t+""}var eL=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eT(s,e);var t,n,r=(t=eR(),function(){var e,n=eI(s);return e=t?Reflect.construct(n,arguments,eI(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ek(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eO(e)}(this,e)});function s(){var e;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return eD(eO(e=r.call.apply(r,[this].concat(n))),"state",{appId:null,showRevokeConfirmationModal:!1,updateNeeded:!1}),eD(eO(e),"onAppRevokeModalShow",function(t){e.setState({showRevokeConfirmationModal:!0,appId:t})}),eD(eO(e),"handleAppRevokeModalConfirm",function(t){e.setState({showRevokeConfirmationModal:!1}),e.props.authResourceRefresh()}),e}return n=[{key:"componentDidUpdate",value:function(e,t){!t.updateNeeded&&this.state.updateNeeded&&this.props.authResourceRefresh()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.authResourceData,s=n.title,i=this.state,a=i.appId,l=i.showRevokeConfirmationModal,u=((function(e){if(Array.isArray(e))return eM(e)})(e=(r||{}).authorizations||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eM(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eM(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return t.created_at-e.created_at});return(0,M.jsxs)(c.xu,{children:[l&&a&&(0,M.jsx)(ej,{appID:a,onConfirm:this.handleAppRevokeModalConfirm,onHide:function(){return t.setState({showRevokeConfirmationModal:!1})}}),s&&(0,M.jsxs)(o.Fragment,{children:[(0,M.jsx)(c.xu,{marginTop:1,children:(0,M.jsx)(ed.Z,{accessibilityLevel:2,title:s})}),(0,M.jsx)(c.xu,{marginBottom:4,marginTop:1,children:(0,M.jsx)(c.xv,{children:(0,p.nk)(this.props.i18n._('Keep track of everywhere you\'ve logged in with your Pinterest profile and remove access from apps you\'re no longer using with Pinterest. {{ learnMore }}', 'settings.apps.description', 'label explaining the Apps section of the Security and logins settings page, learnMore: link to learn more'),{learnMore:(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/link-your-social-media?source=settings_page",target:"blank",underline:"hover",children:this.props.i18n._('Learn more', 'settings.apps.learnMore', 'Text link for learning more about Apps logins option')})},"login")})})})]}),!u.length&&(0,M.jsx)(c.xu,{marginTop:8,children:(0,M.jsx)(c.xv,{children:this.props.i18n._('You have not approved any apps', 'message to show on apps page when the user doesn\'t connect any app', 'message to show on apps page when the user doesn\'t connect any app')})}),(0,M.jsx)(c.xu,{marginTop:2,role:"list",children:u.map(function(e,n){return(0,M.jsxs)(o.Fragment,{children:[(0,M.jsx)(eE,{app:e,onAppRevokeModalShow:t.onAppRevokeModalShow}),n!==u.length-1&&(0,M.jsx)(c.iz,{})]},n)})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,eB(o.key),o)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(o.Component),eN=n(654937),eZ=n(473728),eH=function(e,t,n,o){var r,s=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if("hour_minute"===o)r={hour:"numeric",minute:"2-digit"};else throw Error('invalid timeFormatType "'+o+'"');s&&(r.timeZone="UTC"),(0,eN.A5)()||(r.calendar="gregory");var i=new Intl.DateTimeFormat(e,r);return(0,eZ.Z)("{{ date }}, {{ time }}",{date:(0,eN.ZP)(e,t,n,s),time:i.format(t)})};function eU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function eF(e){var t,n=e.onConfirm,r=e.onHide,s=e.sessionID,i=(0,m.ZP)(),a=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,s,i,a=[],l=!0,c=!1;try{for(s=(n=n.call(e)).next;!(l=(o=s.call(n)).done)&&(a.push(o.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eU(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],u=a[1],_=(0,o.useRef)(!1),f=(0,d.u)().logContextEvent;(0,o.useEffect)(function(){return _.current=!0,f({view_type:7,view_parameter:4051,event_type:13,element:14571}),function(){_.current=!1}});var p=function(){f({view_type:7,view_parameter:4051,event_type:102,element:73}),r()};return(0,M.jsxs)(em.ZP,{accessibilityModalLabel:i._('Revoking a session on Pinterest', 'RevokeSessionModal.A11yTitle', 'Label for whether a user wants to revoke a session that they started on Pinterest or not.'),heading:i._('Revoke session?', 'RevokeSessionModal.Title', 'Asking a user if they want to revoke a session that is currently live'),onDismiss:p,children:[(0,M.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:3,paddingY:5,children:(0,M.jsx)(c.xv,{children:i._('Are you sure you want to revoke this session?', 'RevokeSessionModal.Text', 'text that shows when user revokes a login session on the settings page')})}),(0,M.jsx)(c.xu,{marginBottom:4,paddingX:1,children:(0,M.jsx)(c.xH,{accessibilityLabel:i._('loading', 'loading spinner', 'loading spinner'),show:l})}),(0,M.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginBottom:3,paddingX:3,children:[(0,M.jsx)(c.xu,{paddingX:1,children:(0,M.jsx)(c.zx,{onClick:p,size:"md",text:i._('Cancel', 'RevokeSessionModal.CancelButton', 'text to undo revoking a login session')})}),(0,M.jsx)(c.xu,{paddingX:1,children:(0,M.jsx)(c.zx,{color:"red",onClick:function(){u(!0),_.current&&(f({view_type:7,view_parameter:4051,event_type:102,element:11290}),(0,h.Z)({url:"/v3/sessions/".concat(s||"","/"),method:"DELETE",data:{async:0}}).then(function(){u(!1),f({view_type:7,view_parameter:4050,event_type:15745}),n()}).catch(function(){u(!1),f({view_type:7,view_parameter:4050,event_type:15746})}))},size:"md",text:i._('Revoke session', 'RevokeSessionModal.RevokeButton', 'button for revoking a login session')})})]})]})}var eG=n(207140),eY=n(378888),eW=n(640924),eK=n(890935),eV=n(615918),eX=function(e){var t=e.code,n=t.used?(0,M.jsx)("del",{children:(0,M.jsx)(c.xv,{color:"subtle",size:"400",weight:"bold",children:t.code})}):(0,M.jsx)(c.xv,{size:"400",weight:"bold",children:t.code});return(0,M.jsx)(c.xu,{paddingY:1,children:n})},eq=function(e){var t,n,o,r=e.codes,s=e.onDismiss,i=e.onGenerateCodes,a=e.renderFooter,l=(0,m.ZP)(),u=r.length<=1;(0,eh.Q)({view_type:564,view_parameter:3732}),u?(t=l._('Backup code', 'BackupCodes.Title.Single', 'Title for backup multi-factor autentication code modal when there is only one'),n=l._('Get a new code', 'BackupCodes.Link.1', 'Request a new backup multi-factor autentication code'),o=l._('You can get a new code if you\'re worried this one has been stolen, or if you\'ve used it. Your backup code can get you back into your account if you aren\'t able to receive a security code by text. Make sure you keep them in a safe place.', 'BackupCodes.Text.1', 'Text description for Backup Code modal')):(t=l._('Backup codes', 'BackupCodes.Title.Plural', 'Title for backup multi-factor autentication code modal when there are multiple'),n=l._('Get new codes', 'BackupCodes.Link.2', 'Request new backup multi-factor autentication codes'),o=l._('You can get new codes if you\'re worried this set has been stolen, or if you\'ve used a lot of them. Your backup codes can get you back into your account if you aren\'t able to receive a security code by text. Make sure you keep them in a safe place.', 'BackupCodes.Text.2', 'Text description for Backup Codes modal'));var d=a({submit:{text:l._('Done', 'Button to complete multi-factor autentication set up', 'Button to complete multi-factor autentication set up'),disabled:!1,cancel:!0}});return(0,M.jsx)(eV.Z,{footer:d,onDismiss:s,text:o,title:t,children:(0,M.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingX:8,children:[r.map(function(e,t){return(0,M.jsx)(eX,{code:e},"code"+t)}),(0,M.jsx)(c.xu,{display:"flex",marginTop:6,paddingY:2,children:(0,M.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"#",onClick:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.preventDefault(),n(),null==i||i({event:t,dangerouslyDisableOnNavigation:n})},underline:"hover",children:n})})})]})})},eQ=function(e){var t=e.buttonLoading,n=e.onDismiss,o=e.onBack,r=e.errors,s=e.onChangeEmail,i=e.email,a=e.renderFooter,l=(0,m.ZP)(),u=a({submit:{disabled:!i||t},cancel:!0}),d=r?l._('Hmm...another try?', 'settings.MFA.EnterConfirmEmail.Title.error', 'Title for the enable 2fa flow page - Confirm your email step'):l._('Confirm your email', 'settings.MFA.EnterConfirmEmail.Title', 'Title for the enable 2fa flow page - Confirm your email step');return(0,M.jsx)(eV.Z,{footer:u,onBack:o,onDismiss:n,showBackButton:!0,stepHeading:l._('Two-factor authentication', 'settings.MFA.Enable.EnterConfirmEmail.header', 'Header for the disable 2fa flow page'),text:l._('In order to maintain access to your account please confirm your email', 'settings.mfa.EnterConfirmEmail.description', 'Text input for modal where user inputs the email for validation'),title:d,children:(0,M.jsx)(c.xu,{marginBottom:2,paddingX:8,children:(0,M.jsx)(c.nv,{errorMessage:r,id:"confirmEmail",label:l._('Email', 'settings.MFA.Enable.EnterConfirmEmail.input.label', 'Input label for the Email field on confirm email page at 2fa enable flow'),onChange:s,placeholder:l._('Enter your email', 'settings.MFA.Enable.EnterConfirmEmail.input.placeholder', 'Input placeholder for the Email field on confirm email page at 2fa enable flow'),size:"lg",type:"text",value:i})})})},eJ=n(513495),e$=function(e){var t=e.buttonLoading,n=e.countryCode,o=e.onChangeCountryCode,r=e.onChangePhoneNumber,s=e.onDismiss,i=e.onBack,a=e.phoneNumber,l=e.errors,u=e.renderFooter,d=(0,m.ZP)(),_=!!a,h=d._('Phone number', 'EnterPhone.title.phone-number', 'Title for modal where user inputs phone number'),f=u({submit:{disabled:!_||t},cancel:!0});return(0,eh.Q)({view_type:562,view_parameter:3730}),(0,M.jsx)(eV.Z,{footer:f,onBack:i,onDismiss:s,showBackButton:!0,stepHeading:d._('Step 2 of 3', 'EnterPhone.MfaModal.step', 'Step count for modal flow'),text:d._('This is where we\u2019ll text your login security codes', 'EnterPhone.text.phone-number', 'Text input for modal where user inputs phone number'),title:h,children:(0,M.jsxs)(c.xu,{paddingX:8,children:[(0,M.jsx)(c.xu,{children:(0,M.jsx)(eJ.Z,{id:"countryCode",label:d._('Country/Region Code', 'EnterPhone.CountryCodeList.label', 'Phone number country/region code'),onChange:o,value:n})}),(0,M.jsx)(c.xu,{marginTop:4,children:(0,M.jsx)(c.nv,{errorMessage:l[0],id:"phoneNumber",label:d._('Phone', 'EnterPhone.TextField.label', 'TextField label where user enters phone number'),onChange:r,size:"lg",type:"text",value:a})})]})})};function e0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var e1={error:{icon:"workflow-status-problem",iconColor:"error",color:"errorBase",backgroundColor:"errorWeak"},warning:{icon:"workflow-status-warning",iconColor:"warning",color:"warningBase",backgroundColor:"warningWeak"}},e2=function(e){var t=e.iconAccessibilityLabel,n=e.message,o=e.type;return(0,M.jsx)(c.xu,{color:e1[o].backgroundColor,direction:"column",display:"flex",padding:6,position:"relative",rounding:4,smDirection:"row",children:(0,M.jsx)(c.xu,{smDisplay:"flex",smMarginBottom:-3,smMarginTop:-3,width:"100%",wrap:!0,children:(0,M.jsxs)(c.xu,{alignItems:"start",direction:"column",display:"flex",justifyContent:"start",smDirection:"row",children:[(0,M.jsx)(c.xu,{direction:"column",display:"flex",justifyContent:"start",marginBottom:4,marginTop:0,smMarginBottom:"auto",smMarginTop:"auto",children:(0,M.jsx)(c.JO,{accessibilityLabel:t,color:e1[o].iconColor,icon:e1[o].icon,size:24})}),(0,M.jsx)(c.xu,{marginBottom:"auto",marginTop:"auto",maxWidth:648,paddingX:4,children:(0,M.jsx)(c.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:"auto",marginTop:"auto",smDisplay:"block",children:(0,M.jsx)(c.xv,{children:n})})})]})})})},e3=function(e){var t=e.onAck,n=e.hasAcknowledgedMfaEnforcementWarning,o=e.employersWhoRequireMfa,r=(0,m.ZP)(),s=r._('Two-factor authentication is required for you to access accounts and profiles associated with one or more of your clients', 'MfaEnforcementDisableMessage.EmployeeMessage.Callout', 'Callout text for MfaEnforcementDisableMessage.EmployeeMessage modal'),i=r._('Two-factor authentication is required for you to access accounts and profiles associated with one or more of your clients', 'MfaEnforcementDisableMessage.EmployeeMessage.Callout.a11y', 'Accessibility label for Callout text'),a=r._('You will lose access to assets associated with:', 'MfaEnforcementDisableMessage.EmployeeMessage.text', 'Text for MfaEnforcementDisableMessage.EmployeeMessage'),l=r._('Check this box to confirm', 'MfaEnforcementDisableMessage.EmployeeMessage.checkbox', 'Text for MfaEnforcementDisableMessage.EmployeeMessage checkbox');return(0,M.jsxs)(c.xu,{paddingX:8,paddingY:0,children:[(0,M.jsx)(e2,{iconAccessibilityLabel:i,message:s,type:"warning"}),(0,M.jsx)(c.xu,{marginTop:4,children:(0,M.jsx)(c.xv,{children:a})}),(0,M.jsx)(c.xu,{marginTop:4,children:(o||[]).map(function(e){var t,n,o;return(0,M.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,M.jsx)(c.xu,{children:(0,M.jsx)(N.qE,{name:(null==(t=e.user)?void 0:t.full_name)||"",size:"sm",src:null==(n=e.user)?void 0:n.image_medium_url})}),(0,M.jsx)(c.xu,{flex:"grow",marginStart:4,children:(0,M.jsx)(c.xv,{size:"400",weight:"bold",children:(null==(o=e.user)?void 0:o.full_name)||""})})]},e.id)})}),(0,M.jsx)(c.xu,{marginBottom:2,marginTop:7,children:(0,M.jsx)(c.XZ,{checked:n,id:"mfaEnforcement",label:l,onChange:function(){t(!n)}})})]})},e8=function(e){var t=e.onAck,n=e.hasAcknowledgedMfaEnforcementWarning,o=e.employeesRequiredToMfa,s="business_roles",i=o.filter(function(e){return e[s].includes("EMPLOYEE")}).length,a=o.filter(function(e){return e[s].includes("BIZ_ADMIN")}).length,l=(0,r.Z)(),u=l.isAuth?l.fullName:"",d=l.isAuth?l.imageLargeUrl:void 0,_=l.isAuth?null==l?void 0:l.avatar_color_index:void 0,h=(0,m.ZP)(),f=h._('Two-factor authentication prevents unauthorized users from accessing account assets and billing information', 'MfaEnforcementDisableMessage.EmployerMessage.Callout', 'Callout text for MfaEnforcementDisableMessage.EmployerMessage modal'),g=h._('Two-factor authentication prevents unauthorized users from accessing account assets and billing information', 'MfaEnforcementDisableMessage.EmployerMessage.Callout.a11y', 'Accessibility label for Callout text'),y=h._('If you disable two-factor authentication, the following people will no longer be required to use two-factor authentication:', 'MfaEnforcementDisableMessage.EmployerMessage.text', 'Text for MfaEnforcementDisableMessage.EmployerMessage'),b=h._('Check this box to confirm', 'MfaEnforcementDisableMessage.EmployerMessage.checkbox', 'Text for MfaEnforcementDisableMessage.EmployerMessage checkbox'),v=(0,p.nk)(h.ngettext('\u2022 {{managersCount}} Manager', '\u2022 {{managersCount}} Managers', a, 'MfaEnforcementDisableMessage.EmployerMessage.managersCount', 'shows how many managers will no longer be required to enable 2FA, managersCount: number of managers'),{managersCount:a}),P=(0,p.nk)(h.ngettext('\u2022 {{employeesCount}} Employee', '\u2022 {{employeesCount}} Employees', i, 'MfaEnforcementDisableMessage.EmployerMessage.employeesCount', 'shows how many employees will no longer be required to enable 2FA, employeesCount:employees count'),{employeesCount:i});return(0,M.jsxs)(c.xu,{paddingX:8,paddingY:0,children:[(0,M.jsx)(e2,{iconAccessibilityLabel:g,message:f,type:"error"}),(0,M.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:5,marginTop:5,children:[(0,M.jsx)(c.xu,{children:(0,M.jsx)(N.qE,{color:_,name:u,size:"sm",src:d})}),(0,M.jsx)(c.xu,{flex:"grow",marginStart:4,children:(0,M.jsx)(c.xv,{size:"400",weight:"bold",children:u})})]}),(0,M.jsx)(c.xu,{marginTop:4,children:(0,M.jsx)(c.xv,{children:y})}),(0,M.jsx)(c.xu,{marginTop:4,paddingX:4,children:(0,M.jsxs)(c.aV,{spacing:"condensed",type:"bare",children:[i>0&&(0,M.jsx)(c.aV.Item,{text:P.join("")}),a>0&&(0,M.jsx)(c.aV.Item,{text:v.join("")})]})}),(0,M.jsx)(c.xu,{marginBottom:2,marginTop:7,children:(0,M.jsx)(c.XZ,{checked:n,id:"mfaEnforcement",label:b,onChange:function(){t(!n)}})})]})},e4=function(e){var t,n=e.onDismiss,r=e.renderFooter,s=e.employeesRequiredToMfa,i=e.employersWhoRequireMfa,a=(0,m.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,s,i,a=[],l=!0,c=!1;try{for(s=(n=n.call(e)).next;!(l=(o=s.call(n)).done)&&(a.push(o.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e0(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e0(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1],d=(s||[]).length>0;(0,eh.Q)({view_type:599,view_parameter:d?3815:3816});var _=a._('Turn off two-factor authentication', 'MfaEnforcementDisableMessage.Title', 'Title for MfaEnforcementDisableMessage message modal'),h=r({submit:{text:a._('Turn off', 'MfaEnforcementDisableMessage.Submit', 'Button to complete mfa setup and return to business access'),disabled:!c},cancel:!0});return(0,M.jsx)(eV.Z,{footer:h,onDismiss:n,title:_,children:d?(0,M.jsx)(e8,{employeesRequiredToMfa:s,hasAcknowledgedMfaEnforcementWarning:c,onAck:function(e){return u(e)}}):(0,M.jsx)(e3,{employersWhoRequireMfa:i,hasAcknowledgedMfaEnforcementWarning:c,onAck:function(e){return u(e)}})})},e5=function(e){var t=e.onDismiss,n=e.renderFooter,o=(0,m.ZP)(),r=(0,(0,q.Z)().checkExperiment)("web_m10n_business_manager_business_settings").anyEnabled;(0,eh.Q)({view_type:591,view_parameter:3802});var s=o._('Success', 'MfaEnforcementMessage.Title', 'Title for MfaEnforcementMessage message modal'),i=r?o._('You may now require employees to confirm their identity before accessing ad accounts and profiles. Go to Business settings to manage these permissions', 'MfaEnforcementMessage.Text.settings', 'Text for MfaEnforcementMessage message modal'):o._('You may now require employees to confirm their identity before accessing ad accounts and profiles. Go to Business security to manage these permissions', 'MfaEnforcementMessage.Text', 'Text for MfaEnforcementMessage message modal'),a=n({submit:{text:o._('Manage permissions', 'MfaEnforcementMessage.Submit', 'Button to complete mfa setup and return to business access'),disabled:!1,cancel:!1}});return(0,M.jsx)(eV.Z,{footer:a,onDismiss:t,title:s,children:(0,M.jsx)(c.xu,{"data-test-id":"MfaModalText",marginBottom:1,paddingX:8,children:(0,M.jsx)(c.xv,{children:i})})})},e6=function(e){var t=e.buttonLoading,n=e.onChange,o=e.onDismiss,r=e.onForgotPassword,s=e.password,i=e.passwordErrors,a=e.renderFooter,l=(0,m.ZP)(),u=!!s,d=l._('Password', 'Password confirm modal title', 'Password confirm modal title'),_=a({submit:{text:l._('Turn off', ' - ', ' -- '),disabled:!u||t},cancel:!0});return(0,eh.Q)({view_type:563,view_parameter:3729}),(0,M.jsx)(eV.Z,{footer:_,onDismiss:o,text:l._('To turn off multi-factor authentication, you must first confirm your password', 'PasswordConfirmDisable.modal.text', 'Text description in modal instructing user to confirm password before disabling multi factor authentication is possible'),title:d,children:(0,M.jsxs)(c.xu,{paddingX:8,children:[(0,M.jsx)(c.nv,{errorMessage:i[0],id:"password",label:l._('Password', ' - ', ' -- '),onChange:n,size:"lg",type:"password",value:s}),(0,M.jsx)(c.xu,{paddingY:2,children:(0,M.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"#",onClick:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.preventDefault(),n(),null==r||r({event:t,dangerouslyDisableOnNavigation:n})},underline:"hover",children:l._('Forgot it?', 'Password.PasswordConfirmDisable.Link.Text', 'Asking the user if they forgot their password')})})})]})})},e7=function(e){var t=e.buttonLoading,n=e.onChange,o=e.onDismiss,r=e.onForgotPassword,s=e.password,i=e.passwordErrors,a=e.renderFooter,l=(0,m.ZP)(),u=!!s,d=l._('Password', 'Password confirm modal title', 'Password confirm modal title'),_=a({submit:{disabled:!u||t},cancel:!0});return(0,eh.Q)({view_type:562,view_parameter:3729}),(0,M.jsx)(eV.Z,{footer:_,onDismiss:o,stepHeading:l._('Step 1 of 3', 'PasswordConfirmEnable.MfaModal.step', 'Step count for modal flow'),text:l._('To turn on multi-factor authentication, you must first confirm your password', 'PasswordConfirmEnable.modal.text', 'Text description in modal instructing user to confirm password before multi factor authentication is possible'),title:d,children:(0,M.jsxs)(c.xu,{paddingX:8,children:[(0,M.jsx)(c.nv,{errorMessage:i[0],id:"password",label:l._('Password', 'PasswordConfirmEnable.TextField.Label', 'Password text label'),onChange:n,size:"lg",type:"password",value:s}),(0,M.jsx)(c.xu,{paddingY:2,children:(0,M.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"#",onClick:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.preventDefault(),n(),null==r||r({event:t,dangerouslyDisableOnNavigation:n})},underline:"hover",children:l._('Forgot it?', 'Password.PasswordConfirmEnable.Link.Text', 'Asking the user if they forgot their password')})})})]})})},e9=function(e){var t=e.buttonLoading,n=e.code,o=e.errors,r=e.onLinkBack,s=e.onIconButtonBack,i=e.onChangeCode,a=e.onDismiss,l=e.onResendCode,u=e.phoneNumber,d=e.renderFooter,_=(0,m.ZP)(),h=!!n,f=_._('Enter verification code', 'Modal title for verifying phone number for multi-factor authentication', 'Modal title for verifying phone number for multi-factor authentication');return(0,eh.Q)({view_type:562,view_parameter:3731}),(0,M.jsx)(eV.Z,{footer:d({submit:{text:_._('Verify', 'Submit verification code for adding phone number for multi-factor authentication', 'Submit verification code for adding phone number for multi-factor authentication'),disabled:!h||t},cancel:!0}),onBack:s,onDismiss:a,showBackButton:!0,stepHeading:_._('Step 3 of 3', 'VerifyPhone.MfaModal.step', 'Step count for modal flow'),text:(0,p.nk)(_._('Now enter the code we just texted to {{ phoneNumber }}. {{ changePhoneNumber }}', 'VerifyPhone.MfaModal.Text', 'Input label for verification code for new phone number, phoneNumber: user phone number, changePhoneNumber: link to change phone number'),{phoneNumber:u,changePhoneNumber:(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"#",onClick:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.preventDefault(),n(),null==r||r({event:t,dangerouslyDisableOnNavigation:n})},underline:"hover",children:_._('Change phone number', 'VerifyPhone.MfaModal.Text.Interpolation', 'Change to a different phone number for multi-factor authentication')})},"changePhoneNumber")}),title:f,children:(0,M.jsxs)(c.xu,{paddingX:8,children:[(0,M.jsx)(c.nv,{errorMessage:o[0],id:"code",label:_._('Verification code', 'VerifyPhone.label.verify-code', 'Label for textfield where user verifies code'),onChange:i,placeholder:_._('Verification code', 'VerifyPhone.TextField.VerifyPhone', 'Placeholder for textfield'),size:"lg",type:"text",value:n}),(0,M.jsx)(c.xu,{paddingY:2,children:(0,M.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"#",onClick:l,underline:"hover",children:_._('Resend the code', 'Resend the confirmation code for new multi-factor authentication phone number', 'Resend the confirmation code for new multi-factor authentication phone number')})})})]})})};function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){tl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function to(e,t,n,o,r,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function tr(e,t){return(tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ts(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ti=function(){return!!e})()}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tl(e,t,n){return(t=tc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tc(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=te(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}var tu=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&tr(i,e);var t,n,o,r,s=(t=ti(),function(){var e,n=ta(i);return e=t?Reflect.construct(n,arguments,ta(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==te(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ts(e)}(this,e)});function i(e){var t;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");return tl(ts(t=s.call(this,e)),"componentDidMount",function(){var e=t.props,n=e.mfa,o=e.backupCodesOnly;e.hasConfirmedEmail||t.setState({modalPage:5}),n.has_mfa_enabled&&t.setState({modalPage:-1}),o&&(t.setState({modalPage:3}),t.handleButtonLoading(!0),(0,h.Z)({url:"/v3/users/settings/mfa/backup/"}).then(function(e){t.handleResourceResponse(e)},function(){t.handleButtonLoading(!1)}))}),tl(ts(t),"handleCancel",function(e){var n=e.event;n&&n.preventDefault(),t.setState({modalPage:0}),t.props.onHide()}),tl(ts(t),"handleDismiss",function(){t.setState({modalPage:0}),t.props.onHide()}),tl(ts(t),"handleForgotPassword",function(e){var n=e.event,o=t.props.onPasswordForgotModal;n.preventDefault(),t.props.logContextEvent({view_type:t.props.mfa.has_mfa_enabled?563:562,view_parameter:3729,event_type:101,element:10881}),t.handleButtonLoading(!0),(0,h.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:t.props.username}}).then(function(){o&&o(),t.handleButtonLoading(!1)},function(){})}),tl(ts(t),"handleResendCode",function(e){e.event.preventDefault(),t.props.logContextEvent({view_type:562,view_parameter:3731,event_type:101,element:12920});var n=t.props.toastManagerContext;t.setState({code:void 0}),t.handleButtonLoading(!0),(0,h.Z)({url:"/v3/users/settings/mfa/resend/",method:"POST",data:{}}).then(function(e){t.handleButtonLoading(!1);var o=(e.resource_response.data||{}).message||t.props.i18n._('Code resent!', ' - ', ' -- ');n.showToast(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{onHide:t,text:o})})},function(){t.handleButtonLoading(!1)})}),tl(ts(t),"handleGenerateBackupCodes",function(e){e.event.preventDefault(),t.props.logContextEvent({view_type:564,view_parameter:3732,event_type:101,element:12933}),t.handleButtonLoading(!0),(0,h.Z)({url:"/v3/users/settings/mfa/backup/",method:"POST",data:{}}).then(function(e){t.handleResourceResponse(e)},function(){t.handleButtonLoading(!1)})}),tl(ts(t),"handleLinkBack",function(e){e.event.preventDefault(),t.setState(function(e){return{modalPage:e.modalPage-1,code:void 0}})}),tl(ts(t),"handleIconButtonBack",function(e){e.event.preventDefault(),t.setState(function(e){return{modalPage:e.modalPage-1,code:void 0}})}),tl(ts(t),"handleResourceResponse",function(e){t.handleButtonLoading(!1);var n,o=(null!=(n=e.resource_response)?n:{}).data;t.props.onMfaUpdated(o)}),tl(ts(t),"handleSubmitPasswordConfirm",function(){t.props.logContextEvent({view_type:562,view_parameter:3729,event_type:101,element:96}),t.handleButtonLoading(!0),(0,h.Z)({url:"v3/users/password/verify/",method:"POST",data:{password:t.state.password}}).then(function(){t.handleButtonLoading(!1),t.setState({modalPage:1})},function(e){t.handleButtonLoading(!1),t.setState({passwordErrors:[e.message]})})}),tl(ts(t),"handleSubmitEnterPhone",function(){var e=t.props.userEmail;t.props.logContextEvent({view_type:562,view_parameter:3730,event_type:101,element:96});var n={password:t.state.password,number:t.state.phoneNumber,country:t.state.countryCode,email_input:e};t.handleButtonLoading(!0),(0,h.Z)({url:"/v3/users/settings/mfa/",method:"POST",data:n}).then(function(e){t.handleResourceResponse(e),t.setState({modalPage:2})},function(e){t.handleButtonLoading(!1),t.setState({phoneNumberErrors:[e.message]})})}),tl(ts(t),"handleChangeCountryCode",function(e){t.props.logContextEvent({view_type:562,view_parameter:3730,event_type:101,element:12921}),t.setState({countryCode:e})}),tl(ts(t),"handleEmailSubmit",function(){var e=t.state.emailConfirmation,n=t.props,o=n.userEmail,r=n.i18n;if(t.props.logContextEvent({view_type:562,view_parameter:3806,event_type:102,element:96}),!e||!e.match(eW.CU)){t.props.logContextEvent({view_type:562,view_parameter:3806,event_type:13,element:13332}),t.setState({emailConfirmationErrors:r._('Not a valid email.', 'profile.Settings.Edit.Email.Error.Shouldnt.Match.Username', 'Error message while changing email, when email matches username')});return}if(e.toLowerCase()===o.toLowerCase())t.props.logContextEvent({view_type:562,view_parameter:3806,event_type:10247}),t.setState({modalPage:0});else{t.props.logContextEvent({view_type:562,view_parameter:3806,event_type:13,element:13332}),t.handleButtonLoading(!1);var s=(0,p.nk)(r._('{{ UpdateEmailLink }} in account settings.', 'settings.MFA.Enable.ConfirmEmail.errorMessage', 'Error message to be displayed if the user email wont match against the one typed. UpdateEmailLink: Update your email address - link to the Pinterest account management page'),{UpdateEmailLink:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"/settings/account-settings/",onClick:function(){t.props.logContextEvent({view_type:562,view_parameter:3806,element:13333,event_type:102})},target:"self",underline:"none",children:(0,M.jsx)("strong",{children:r._('Update your email address', 'settings.MFA.Enable.ConfirmEmail.errorMessage.link', 'Text for link to account management page')})},"updateEmailLink")});t.setState({emailConfirmationErrors:s})}}),tl(ts(t),"handleSubmitVerifyPhone",function(){var e=t.props.userEmail;t.props.logContextEvent({view_type:562,view_parameter:3731,event_type:101,element:96});var n={password:t.state.password,token:t.state.code,email_input:e};t.handleButtonLoading(!0),(0,h.Z)({url:"/v3/users/settings/mfa/verify/",method:"POST",data:n}).then(function(e){t.props.logContextEvent({view_type:562,view_parameter:3731,event_type:9990}),t.handleResourceResponse(e),t.setState({modalPage:3})},function(e){t.handleButtonLoading(!1),t.setState({codeErrors:[e.message]})})}),tl(ts(t),"handleSubmitDisableMfa",function(){var e=t.props,n=e.employersWhoRequireMfa,o=e.employeesRequiredToMfa,r=t.state.hasAcknowledgedMfaEnforcementWarning;!(n.length>0||o.length>0)||r?t.submitDisableMfa():t.setState({modalPage:6})}),tl(ts(t),"handleDoneBackupCode",function(){t.props.logContextEvent({view_type:564,view_parameter:3732,event_type:101,element:76}),t.setState({password:void 0}),t.props.redirectUrl?t.setState({modalPage:4}):t.props.onHide()}),tl(ts(t),"handleDoneMfaEnforcementMessage",function(){t.props.logContextEvent({view_type:591,view_parameter:3802,event_type:101,element:76}),t.props.onHide(),t.props.redirectUrl&&(window.location.href=t.props.redirectUrl)}),tl(ts(t),"handleDoneMfaEnforcementDisableMessage",function(){t.props.logContextEvent({view_type:591,view_parameter:3814,event_type:101,element:76}),t.setState({hasAcknowledgedMfaEnforcementWarning:!0}),t.submitDisableMfa()}),tl(ts(t),"handleSubmit",function(e){e.event.preventDefault();var n=t.state.modalPage;switch(t.setState({codeErrors:[],passwordErrors:[],phoneNumberErrors:[]}),n){case -1:t.handleSubmitDisableMfa();break;case 0:t.handleSubmitPasswordConfirm();break;case 1:t.handleSubmitEnterPhone();break;case 2:t.handleSubmitVerifyPhone();break;case 3:t.handleDoneBackupCode();break;case 4:t.handleDoneMfaEnforcementMessage();break;case 5:t.handleEmailSubmit();break;case 6:t.handleDoneMfaEnforcementDisableMessage();break;default:t.setState({modalPage:0})}}),tl(ts(t),"renderFooter",function(e){var n=e.submit||{},o=n.text||t.props.i18n._('Next', ' - ', ' -- '),r=n.disabled,s=e.cancel?(0,M.jsx)(c.xu,{paddingX:1,children:(0,M.jsx)(c.zx,{onClick:t.handleCancel,size:"lg",text:t.props.i18n._('Cancel', ' - ', ' -- ')})}):null;return(0,M.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[e.buttons,s,(0,M.jsx)(c.xu,{paddingX:1,children:(0,M.jsx)(c.zx,{color:"red",disabled:r,onClick:t.handleSubmit,size:"lg",text:o,type:"submit"})})]})}),t.state={buttonLoading:!1,modalPage:0,password:void 0,passwordErrors:[],countryCode:e.mfa.unverified_phone_country||e.country,phoneNumber:e.mfa.unverified_phone_number_without_country||"",phoneNumberErrors:[],code:void 0,codeErrors:[],emailConfirmation:void 0,emailConfirmationErrors:void 0,hasAcknowledgedMfaEnforcementWarning:!1},t}return r=[{key:"handleButtonLoading",value:function(e){this.setState({buttonLoading:e})}},{key:"submitDisableMfa",value:(n=regeneratorRuntime.mark(function e(){var t,n,o,r,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.logContextEvent({view_type:563,view_parameter:3729,event_type:101,element:96}),n=(t=this.props).viewerId,o=t.viewerRequiresMfaForRoles,r={password:this.state.password},this.handleButtonLoading(!0),!(o.length>0)){e.next=13;break}return e.prev=5,e.next=8,(0,eK.H9)({businessId:n,businessRoles:[]});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),this.props.logContextEvent({view_type:563,view_parameter:3785,event_type:8961});case 13:(0,h.Z)({url:"/v3/users/settings/mfa/disable/",method:"POST",data:r}).then(function(e){s.props.logContextEvent({view_type:563,view_parameter:3729,event_type:9991}),s.handleResourceResponse(e),s.setState({password:void 0}),s.props.onHide()},function(e){var t;s.handleButtonLoading(!1),s.setState({passwordErrors:[null!=(t=(0,_.Z)(e,"message_detail"))?t:""],modalPage:-1})});case 14:case"end":return e.stop()}},e,this,[[5,10]])}),o=function(){var e=this,t=arguments;return new Promise(function(o,r){var s=n.apply(e,t);function i(e){to(s,o,r,i,a,"next",e)}function a(e){to(s,o,r,i,a,"throw",e)}i(void 0)})},function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.mfa,o=t.employersWhoRequireMfa,r=t.employeesRequiredToMfa,s={buttonLoading:this.state.buttonLoading,onDismiss:this.handleDismiss,renderFooter:this.renderFooter};switch(this.state.modalPage){case -1:return(0,M.jsx)(e6,tn(tn({},s),{},{onChange:function(t){var n=t.value;return e.setState({password:n})},onForgotPassword:this.handleForgotPassword,password:this.state.password||"",passwordErrors:this.state.passwordErrors}));case 1:return(0,M.jsx)(e$,tn(tn({},s),{},{countryCode:this.state.countryCode,errors:this.state.phoneNumberErrors,onBack:this.handleIconButtonBack,onChangeCountryCode:this.handleChangeCountryCode,onChangePhoneNumber:function(t){var n=t.value;return e.setState({phoneNumber:n})},phoneNumber:this.state.phoneNumber}));case 2:return(0,M.jsx)(e9,tn(tn({},s),{},{code:this.state.code||"",errors:this.state.codeErrors,onChangeCode:function(t){var n=t.value;return e.setState({code:n})},onIconButtonBack:this.handleIconButtonBack,onLinkBack:this.handleLinkBack,onResendCode:this.handleResendCode,phoneNumber:this.state.phoneNumber}));case 3:return(0,M.jsx)(eq,tn(tn({},s),{},{codes:n.mfa_backup_codes||[],onGenerateCodes:this.handleGenerateBackupCodes}));case 4:return(0,M.jsx)(e5,tn({},s));case 5:return(0,M.jsx)(eQ,tn(tn({},s),{},{email:this.state.emailConfirmation||"",errors:this.state.emailConfirmationErrors,onBack:this.handleDismiss,onChangeEmail:function(t){var n=t.value;return e.setState({emailConfirmation:n})}}));case 6:return(0,M.jsx)(e4,tn(tn({},s),{},{employeesRequiredToMfa:r,employersWhoRequireMfa:o}));default:return(0,M.jsx)(e7,tn(tn({},s),{},{onChange:function(t){var n=t.value;return e.setState({password:n})},onForgotPassword:this.handleForgotPassword,password:this.state.password||"",passwordErrors:this.state.passwordErrors}))}}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,tc(o.key),o)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.Component);function td(e){var t=(0,m.ZP)(),n=(0,d.u)().logContextEvent,o=(0,eY.mB)((0,l.TH)().search).redirectUrl,r=(0,eG.Z)(),s=r.employeesRequiredToMfa,i=r.employersWhoRequireMfa,a=r.viewerId,c=r.viewerRequiresMfaForRoles;return(0,M.jsx)(tu,tn(tn({},e),{},{employeesRequiredToMfa:s,employersWhoRequireMfa:i,i18n:t,logContextEvent:n,redirectUrl:void 0===o?"":o,toastManagerContext:(0,E.dI)(),viewerId:a,viewerRequiresMfaForRoles:c}))}function t_(e){return(t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(t){tv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tm(e,t,n,o,r,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function tp(e,t){return(tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tg(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ty=function(){return!!e})()}function tb(e){return(tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tv(e,t,n){return(t=tP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tP(e){var t=function(e,t){if("object"!=t_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=t_(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t_(t)?t:t+""}var tA=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&tp(s,e);var t,n,r=(t=ty(),function(){var e,n=tb(s);return e=t?Reflect.construct(n,arguments,tb(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==t_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tg(e)}(this,e)});function s(){var e,t;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return tv(tg(e=r.call.apply(r,[this].concat(o))),"state",{activeModal:null,mfa:e.props.mfa,mfaBackupCodesOnly:!1,mfaEmailVerificationModalShown:!1,pendingRevokeSessionId:null,securityMfaModalShown:!1,sessionsShown:!1,showRevokeSessionModal:!1,createPasswordModalShown:!1}),tv(tg(e),"onToggleMfa",(t=regeneratorRuntime.mark(function t(){var n,o,r,s,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(n=e.props).getMfaEligibility,r=n.user.has_password,s=e.state.mfa.has_mfa_enabled,e.props.logContextEvent({view_type:7,view_parameter:3708,event_type:s?107:106,element:12917,component:14050}),t.next=5,o();case 5:(i=t.sent).eligible?r||s?e.setState({securityMfaModalShown:!0,mfaBackupCodesOnly:!1}):e.setState({createPasswordModalShown:!0}):(null==(a=i.reasons)?void 0:a.email_verification)==="unverified"&&e.setState({mfaEmailVerificationModalShown:!0});case 7:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(o,r){var s=t.apply(e,n);function i(e){tm(s,o,r,i,a,"next",e)}function a(e){tm(s,o,r,i,a,"throw",e)}i(void 0)})})),tv(tg(e),"onHideModal",function(){e.setState({securityMfaModalShown:!1})}),tv(tg(e),"onClickBackupCodes",function(){e.props.logContextEvent({view_type:7,view_parameter:3708,event_type:101,element:12919,component:14050}),e.setState({securityMfaModalShown:!0,mfaBackupCodesOnly:!0})}),tv(tg(e),"handleMfaUpdated",function(t){if(t){var n={can_enable_mfa:t.can_enable_mfa,has_mfa_enabled:t.has_mfa_enabled,mfa_backup_codes:t.mfa_backup_codes||[],phone_country:t.phone_country,phone_number:t.phone_number,phone_number_end:t.phone_number_end,unverified_phone_country:t.unverified_phone_country,unverified_phone_number:t.unverified_phone_number,unverified_phone_number_without_country:t.unverified_phone_number_without_country};e.setState({mfa:n})}}),tv(tg(e),"handleRevokeSession",function(t){return function(){e.props.logContextEvent({view_type:7,view_parameter:4050,event_type:102,element:14571}),e.setState({showRevokeSessionModal:!0,pendingRevokeSessionId:t})}}),tv(tg(e),"handleRevokeSessionConfirm",function(){e.setState({showRevokeSessionModal:!1,pendingRevokeSessionId:null}),e.props.userSessionStoreRefresh()}),tv(tg(e),"handleToggleSessionsVisible",function(){e.state.sessionsShown||e.props.logContextEvent({view_type:7,view_parameter:4050,event_type:13}),e.setState(function(e){return{sessionsShown:!e.sessionsShown}})}),tv(tg(e),"handleResendConfirmationEmail",function(){e.props.logContextEvent({view_type:562,view_parameter:3729,event_type:101,element:12920});var t=e.props,n=t.toastManagerContext,o=t.i18n;(0,h.Z)({url:"/v3/users/confirmation_email/",method:"POST"}),n.showOneToast(function(e){var t=e.hideToast;return(0,M.jsx)(f.Z,{duration:4e3,onHide:t,text:o._('Email sent!', 'settings.MFA.ConfirmPassword.toast.success', 'Toast message for success when trying to send the forget password email')})})}),e}return n=[{key:"renderModal",value:function(){var e=this,t=this.state.activeModal;return t&&["changePassword","setPassword","verifyEmailAddress"].includes(t)?(0,M.jsx)(Q.Z,{onHide:function(){return e.setState({activeModal:null})},resendEmail:this.handleResendConfirmationEmail,variant:t}):null}},{key:"renderSession",value:function(e){var t=this.props,n=t.user,o=t.userSessionStoreData;if(!o)return null;var r=o[e],s=r.device_name?(0,p.nk)(this.props.i18n._('{{ deviceName }} on {{ platformType }} {{ platformVersion }}', 'Security.deviceType.Text', 'Text to give details on deviceType, deviceName: name of device, platformType: type of platform, platformVersion: platform version'),{deviceName:r.device_name,platformType:r.platform_type,platformVersion:r.platform_version}):(0,p.nk)(this.props.i18n._('{{ platformType }} {{ platformVersion }}', 'Security.deviceType.TextLink', 'Text to give details on deviceType, platformType: type of platform, platformVersion: platform version'),{platformType:r.platform_type,platformVersion:r.platform_version}),i=r.location?(0,p.nk)(this.props.i18n._('{{ location }} (Approximate, based on IP = {{ ipAddress }})', 'Security.location.Text', 'Describes the location of an active Pinterest session, location: location of session, ipAddress: the IP address'),{location:r.location,ipAddress:r.ip_address}):r.ip_address,a=r.current?(0,M.jsx)(c.xu,{children:(0,M.jsx)(c.xv,{weight:"bold",children:this.props.i18n._('Current Session', 'Security.ConnectedDevices.RenderSession.Current', 'Marker to show the current session')})}):(0,M.jsx)(c.zx,{onClick:this.handleRevokeSession(r.id),text:this.props.i18n._('End Activity', 'Security.ConnectedDevices.RenderSession.EndSession', 'Button to end a session')});return(0,M.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",children:[(0,M.jsx)(c.xu,{"data-sess-id":r.id,direction:"column",display:"flex",marginTop:2,wrap:!0,children:(0,M.jsxs)(c.xu,{column:12,mdColumn:9,children:[(0,M.jsxs)(c.xv,{size:"200",weight:"bold",children:[this.props.i18n._('Last accessed', 'Security.ConnectedDevices.RenderSession.LastAccessed', 'Title to show when session was last accessed'),":"]}),(0,M.jsx)(c.xv,{size:"200",children:eH(n.locale,new Date(1e3*r.last_accessed_at),"long","hour_minute",!1)}),(0,M.jsxs)(c.xv,{size:"200",weight:"bold",children:[this.props.i18n._('Location', 'Security.ConnectedDevices.RenderSession.Location', 'Title to show when session location'),":"]}),(0,M.jsx)(c.xv,{size:"200",children:i}),(0,M.jsxs)(c.xv,{size:"200",weight:"bold",children:[this.props.i18n._('Device type', 'Security.ConnectedDevices.RenderSession.DeviceType', 'Title to show when session device'),":"]}),(0,M.jsx)(c.xv,{size:"200",children:s})]})}),(0,M.jsx)(c.xu,{column:12,mdColumn:3,children:a})]},r.id)}},{key:"renderAllSessions",value:function(){var e=this.props.userSessionStoreData,t=[];for(var n in e)t.push(this.renderSession(n));return(0,M.jsx)(c.xu,{paddingY:2,children:t})}},{key:"renderMfaFields",value:function(){var e=this.state.mfa.has_mfa_enabled;return(0,M.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,M.jsx)(ed.Z,{accessibilityLevel:2,isFirst:!0,title:this.props.i18n._('Two-factor authentication', 'Security.2FA.Header', 'Subheader for two factor authentication')}),(0,M.jsx)(c.xv,{children:(0,p.nk)(this.props.i18n._('This makes your account extra secure. Along with your password, you\'ll need to enter the secret code that we text to your phone each time you log in. {{ learnMore }}', 'Security.2FA.Text', 'Description two-factor authentication, learnMore: text to learn more'),{learnMore:(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/two-factor-authentication",target:"blank",underline:"hover",children:this.props.i18n._('Learn more', 'Security.2FA.TextLink', 'Text link for learning more about two-factor authentication')})},"learnMoreTwoFactor")})}),e&&(0,M.jsx)(c.xu,{marginTop:7,children:(0,M.jsx)(c.zx,{onClick:this.onClickBackupCodes,text:this.props.i18n._('Get backup code', 'Security.2FA.BackupCode', 'Button to click if you need a backup code')})}),(0,M.jsx)(c.xu,{direction:"row",display:"flex",justifyContent:"between",marginTop:7,children:(0,M.jsx)(c.XZ,{checked:e,id:"mfa_preference",label:this.props.i18n._('Require code at login', 'Security.2FA.RequireCode', 'Checkbox to require 2FA code at login'),name:"mfa_preference",onChange:this.onToggleMfa})})]})}},{key:"renderMfaLba",value:function(){var e=this.props,t=e.businessUserData,n=e.showAccountMenuFlyout,o=e.i18n,r=null!=t&&t.owners&&t.owners.length>0?t.owners[0]:{};return(0,M.jsxs)(c.xu,{children:[(0,M.jsx)(c.xu,{marginBottom:3,children:(0,M.jsx)(ed.Z,{isFirst:!0,title:o._('Two-factor authentication', 'settings.securityLogins.2fa.lba.title', 'Subheader for two factor authentication')})}),(0,M.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:[(0,M.jsx)(c.xu,{flex:"grow",marginEnd:6,children:(0,M.jsx)(c.xv,{children:(0,p.nk)(o._('This linked account is managed by {{ parentName }}. Switch to that account to manage security and login options.', 'settings.securityLogins.2fa.lba.description', 'Description explaining that the 2fa can be managed by the parent account, parentName:This is the parent account name that is used to display to the lba'),{parentName:r.full_name||r.username})})}),(0,M.jsx)(c.xu,{"data-test-id":"two-factor-auth-switch-account-button",flex:"none",children:(0,M.jsx)(c.zx,{fullWidth:!0,onClick:n,text:o._('Switch account', 'settings.securityLogins.2fa.lba.switchAccountButton', 'Text link for opening header menu flyout')})})]})]})}},{key:"renderMfa",value:function(){var e=this.props.user.partner;return e&&e.is_linked_business?this.renderMfaLba():this.renderMfaFields()}},{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.isHighRisk,s=t.networks,i=t.user,a=i.country,l=i.username,u=i.email,d=i.has_password,_=i.partner,h=i.is_sso_user,f=i.has_confirmed_email,m=t.userSessionStoreData,g=t.authResourceData,y=t.authResourceRefresh,b=this.state,v=b.mfaBackupCodesOnly,P=b.pendingRevokeSessionId,A=b.securityMfaModalShown,x=b.sessionsShown,w=b.showRevokeSessionModal,z=b.mfa,j=b.activeModal,S=b.createPasswordModalShown,C=b.mfaEmailVerificationModalShown;if(!m)return null;var E=x?this.renderAllSessions():null,k=_&&_.is_linked_business;return(0,M.jsxs)(o.Fragment,{children:[j&&this.renderModal(),(0,M.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[w&&(0,M.jsx)(eF,{onConfirm:this.handleRevokeSessionConfirm,onHide:this.handleRevokeSessionConfirm,sessionID:P}),C&&(0,M.jsx)(H,{closeModal:function(){e.setState({mfaEmailVerificationModalShown:!1})},email:u}),A&&(0,M.jsx)(td,{backupCodesOnly:v,country:a,hasConfirmedEmail:f,mfa:z,onHide:this.onHideModal,onMfaUpdated:this.handleMfaUpdated,onPasswordForgotModal:function(){return e.setState({activeModal:"changePassword",securityMfaModalShown:!1})},userEmail:u,username:l}),S?(0,M.jsx)($.Z,{hasPassword:d,modalType:"mfa",onHide:function(){return e.setState({createPasswordModalShown:!1})},onPasswordForgotModal:function(){return e.setState({activeModal:"changePassword",createPasswordModalShown:!1})},onSuccess:function(){return e.setState({securityMfaModalShown:!0,mfaBackupCodesOnly:!1})},username:l}):null,h?null:(0,M.jsxs)(o.Fragment,{children:[(0,M.jsx)(c.xu,{marginTop:1,children:(0,M.jsx)(c.xv,{size:"300",children:(0,p.nk)(n._('Include additional security like turning on two-factor authentication and checking your list of connected devices to keep your account, Pins and boards safe. {{ learnMore }}', 'securityAndLogins.description', 'Security and logins settings description, learnMore: link to learn more'),{learnMore:(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/protect-your-account",target:"blank",underline:"hover",children:n._('Learn more', 'securityAndLogins.description.LearnMoreLink', 'Text link for learning more about security and logins')})},"login")})})}),(0,M.jsx)(c.xu,{"data-test-id":"settings-security-mfa",children:this.renderMfa()})]}),h||k?null:(0,M.jsx)(e_,{hasPassword:d,headerAccessibilityLevel:2,isHighRisk:r,networks:s}),(0,M.jsx)(eL,{authResourceData:g,authResourceRefresh:y,i18n:n,title:n._('Apps logins', 'securityAndLogins.apps.title', 'Apps logins section title on Security and logins settings page')}),(0,M.jsxs)(o.Fragment,{children:[(0,M.jsx)(ed.Z,{accessibilityLevel:2,title:this.props.i18n._('Connected devices', 'securityAndLogins.connectedDevices.Header', 'Subheader for connected devices.')}),(0,M.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",marginBottom:6,children:[(0,M.jsx)(c.xu,{flex:"grow",marginEnd:6,children:(0,M.jsx)(c.xu,{maxWidth:300,paddingY:2,children:(0,M.jsx)(c.xv,{children:(0,p.nk)(n._('This is a list of devices that have logged into your account. Revoke access to any device you don\'t recognize. {{ learnMore }}', 'securityAndLogins.connectedDevices.description', 'Description for connected devices, learnMore: link to learn more'),{learnMore:(0,M.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,M.jsx)(c.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/see-recent-logins",target:"blank",underline:"hover",children:n._('Learn more', 'securityAndLogins.connectedDevices.learnMore', 'Text link for learning more about connected devices')})},"learnMoreConnected")})})})}),(0,M.jsx)(c.xu,{flex:"none",children:(0,M.jsx)(c.zx,{onClick:this.handleToggleSessionsVisible,size:"lg",text:x?n._('Hide sessions', 'securityAndLogins.connectedDevices.ButtonHide', 'Button to hide sessions'):n._('Show sessions', 'securityAndLogins.connectedDevices.ButtonShow', 'Button to show sessions')})})]})]}),E]})]})}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,tP(o.key),o)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(o.Component);function tx(e){var t=(0,m.ZP)(),n=(0,ef.Z)().updateHeaderState,o=(0,E.dI)(),r=(0,d.u)().logContextEvent,s=R(),i=(0,x.Z)(e.userSessionRef).data,a=(0,x.Z)(e.authResourceRef).data,l=(0,x.Z)(e.businessUserRef).data;return(0,eh.Q)({view_type:7,view_parameter:3708}),(0,M.jsx)(tA,tf(tf({},e),{},{authResourceData:a,authResourceRefresh:e.authResourceRefresh,businessUserData:l,getMfaEligibility:s,i18n:t,logContextEvent:r,showAccountMenuFlyout:function(){return n({type:"showAccountMenuFlyout"})},toastManagerContext:o,userSessionStoreData:i,userSessionStoreRefresh:e.userSessionStoreRefresh}))}var tw=n(869664);function tz(e){var t,n,o,r,s,i,a,l,u,d=e.authResourceRef,_=e.authResourceRefresh,h=e.businessUserRef,f=e.mfaRef,p=e.settingsDataRef,g=e.refreshSettingsData,y=e.userSessionRef,b=e.userSessionStoreRefresh,v=(0,m.ZP)(),P=(0,x.Z)(f).data,A=(0,x.Z)(p).data,w={facebook:{connected:null!=(t=null==A?void 0:A.connected_to_facebook)&&t},gplus:{connected:null!=(n=null==A?void 0:A.connected_to_gplus)&&n},google:{connected:null!=(o=null==A?void 0:A.connected_to_google)&&o},etsy:{connected:null!=(r=null==A?void 0:A.connected_to_etsy)&&r},instagram:{connected:null!=(s=null==A?void 0:A.connected_to_instagram)&&s,has_invalid_instagram_auth:null==A?void 0:A.has_invalid_instagram_auth,username:((null==A?void 0:A.instagram_data)||{}).username,url:((null==A?void 0:A.instagram_data)||{}).url},line:{connected:null!=(i=null==A?void 0:A.connected_to_line)&&i},youtube:{connected:null!=(a=null==A?void 0:A.connected_to_youtube)&&a},amazon:{connected:null!=(l=null==A?void 0:A.connected_to_amazon_handshake)&&l},target:{connected:null!=(u=null==A?void 0:A.connected_to_target_handshake)&&u},refresh:g};return A&&P?(0,M.jsx)(tw.default,{activeItem:"Security",viewParameter:3708,viewType:7,children:(0,M.jsx)(tx,{authResourceRef:d,authResourceRefresh:_,businessUserRef:h,isHighRisk:!!A.is_high_risk,mfa:P,networks:w,user:A,userSessionRef:y,userSessionStoreRefresh:b})}):(0,M.jsx)(c.xu,{marginTop:10,children:(0,M.jsx)(c.xH,{accessibilityLabel:v._('Security page', 'spinner for loading security page', 'loading security page spinner'),show:!0})})}function tj(){var e=(0,i.ZP)(),t=(0,r.Z)(),n=(0,s.Z)({name:"UserSettingsResource"}),l=n.ref,c=n.refresh,u=(0,s.Z)({name:"ApiResource",options:{url:"/v3/users/settings/mfa/backup/"}}).ref,d=(0,s.Z)("desktop"===e?{name:"ApiResource",options:{url:"/v3/sessions/"}}:null),_=d.ref,h=d.refresh,f=(0,s.Z)("desktop"===e?{name:"ApiResource",options:{url:"/v3/oauth/authorizations/",data:{fields:["authorization.consumer()","authorization.created_at","authorization.scope_descriptions"]}}}:null),m=f.ref,p=f.refresh,g=(0,s.Z)("desktop"===e&&t.isAuth&&t.isPartner?{name:"UserResource",options:{field_set_key:"linked_partner",user_id:t.id}}:null).ref;return"desktop"===e?(0,M.jsx)(o.Suspense,{fallback:(0,M.jsx)(a.Z,{}),children:(0,M.jsx)(tz,{authResourceRef:m,authResourceRefresh:p,businessUserRef:g,mfaRef:u,refreshSettingsData:c,settingsDataRef:l,userSessionRef:_,userSessionStoreRefresh:h})}):(0,M.jsx)(o.Suspense,{fallback:(0,M.jsx)(a.Z,{}),children:(0,M.jsx)(W,{mfaRef:u,settingsDataRef:l})})}},217251:function(e,t,n){var o=n(20256),r=n(382718);t.Z=function(e){var t=e.accessibilityLevel,n=e.isFirst,s=e.title;return(0,r.jsx)(o.xu,{marginBottom:2,marginTop:n?8:7,children:(0,r.jsx)(o.X6,{accessibilityLevel:t,size:"400",children:s})})}},533898:function(e,t,n){var o=n(20256),r=n(382718);t.Z=function(e){var t=e.heading,n=e.description,s=e.switchId,i=e.onChange,a=e.switched,l=e.headingAccessibilityLevel;return(0,r.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,r.jsx)(o.xu,{flex:"grow",marginEnd:4,children:(0,r.jsxs)(o.__,{htmlFor:s,children:[(0,r.jsx)(o.X6,{accessibilityLevel:l||3,size:"400",children:t}),n?(0,r.jsx)(o.xu,{flex:"grow",marginTop:2,children:(0,r.jsx)(o.xv,{color:"subtle",children:n})}):null]})}),(0,r.jsx)(o.rs,{id:s,onChange:i,switched:a})]})}}}]);