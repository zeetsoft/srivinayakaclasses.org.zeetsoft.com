"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["83660"],{731127:function(e,t,r){r.r(t);var n,o,i=(o=[n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"AdvisoryAction",abstractKey:null});i.hash="6ddea2ecd3dff2e1001c1e4d037cc858",t.default=i},437533:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};n.hash="5879c4710b107f258f42156bf3e47e37",t.default=n},811026:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};n.hash="4970946a36017d9ad0c751fd70cc512c",t.default=n},827222:function(e,t,r){r.r(t);var n,o,i,a=(o=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[n,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});a.hash="53d7eec34666980eda011429185b5b10",t.default=a},780879:function(e,t,r){r.d(t,{f:function(){return I},l:function(){return C}});var n=r(586659),o=r(769430),i=r(753090),a=r(478135),l=r(288910),c=r(755222),s=r(838880),u=r(234681),d=r(272191),f=r(399573),p=r(729434),y=r(503246),b=r(949044),v=r(974705),m=r(382718);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||g(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return x(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=function(e,t,r){var n=null==t?void 0:t.find(function(e){var t,n=e.action;return(null==n||null==(t=n.filter)?void 0:t.product_filter_type)===r});if(n){var o=(0,b.Z)(v.Z,!0)(n),i=e.findIndex(function(e){var t,n=e.action;return(null==n||null==(t=n.filter)?void 0:t.productFilterType)===r});e[i]?e[i]=o:e.push(o)}},P=function(e,t,r,n){var o,i=n.find(function(t){var r,n=t.action;return"number"==typeof(null==n||null==(r=n.filter)?void 0:r.productFilterType)&&e.has(n.filter.productFilterType)});if(null!=i&&null!=(o=i.action)&&o.filter){var a=i.action.filter.filterOptions;i.action.filter.appliedFilterOptions="string"==typeof t?null==a?void 0:a.filter(function(e){return(null==e?void 0:e[r])&&t.split(",").includes(String(e[r]))}).map(function(e){return j(j({},e),{},{selected:!0})}):[]}},O=(0,p.Z)("OneBarProductFilters"),A=O.Provider,C=O.get;function I(e){var t,r=e.children,p=_((0,n.useState)([]),2),b=p[0],v=p[1],h=_((0,n.useState)(null),2),w=h[0],O=h[1],C=(t=(0,l.n)().scope,[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(t)),I=(0,d.Z)(),k=(0,s.Z)(),T=(0,o.Z)(),Z=(0,i.Z)(),B=(0,u.Z)(),E=(0,n.useCallback)(function(e){var t=e.oneBarModules,r=e.baseCacheKey,n=null==t?void 0:t.filter(function(e){var t=e.module_type;return 17===t||0===t});if(n&&(null==n?void 0:n.length)!==0&&r){var o=r!==w,i=o?[]:b;(o||!C)&&S(i,n,4),(o||!I)&&S(i,n,1),(o||!k)&&S(i,n,0),(o||!T)&&S(i,n,3),(o||!Z)&&S(i,n,6),(o||!B)&&[7,8,9].forEach(function(e){S(i,n,e)}),(0,y.ZP)(i,b)||(v(i),O(r))}},[b,T,Z,C,k,B,I,w]),D=(0,c.Z)(),z=(0,l.n)(),F=z.priceMax,M=z.priceMin,R=z.scope,N=z.brands,U=z.onSale,L=z.colors,q=z.domains;(0,n.useEffect)(function(){if(D&&0!==b.length){var e=(0,f.Z)(b);if(R!==a.lw.PINS){var t,r,n=(0,a.gi)(R),o=e.find(function(e){return 0===e.moduleType});null!=o&&null!=(r=o.action)&&r.filter&&(o.action.filter.appliedFilterOptions=((function(e){if(Array.isArray(e))return x(e)})(t=o.action.filter.filterOptions||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||g(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).map(function(e){var t=e.searchType;return{searchType:t,selected:t===n}}))}if("string"==typeof F||"string"==typeof M){var i,l,c,s=e.find(function(e){var t,r=e.action;return(null==r||null==(t=r.filter)?void 0:t.productFilterType)===1});null!=s&&null!=(i=s.action)&&i.filter&&(s.action.filter.appliedFilterOptions=[null!=(l=s.action.filter.filterOptions)&&l[0]?j(j({},s.action.filter.filterOptions[0]),{},{numericValue:Number(M)}):null,null!=(c=s.action.filter.filterOptions)&&c[1]?j(j({},s.action.filter.filterOptions[1]),{},{numericValue:Number(F)}):null].filter(Boolean))}P(new Set([3]),N,"stringValue",e),P(new Set([6]),L,"stringValue",e),P(new Set([0]),q,"stringValue",e),P(new Set([7,8,9]),U,"numericValue",e),(0,y.ZP)(e,b)||v(e)}},[b,D,F,M,R,N,L,q,U]);var H=(0,n.useMemo)(function(){return{cachedProductFilterOneBarModules:b,cacheOneBarModules:E}},[b,E]);return(0,m.jsx)(A,{value:H,children:r})}},769430:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(963489),o=r(378888);function i(){return!!(0,o.mB)((0,n.TH)().search).brands}},753090:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(963489),o=r(274320),i=r(378888);function a(){var e=(0,o.r)().checkExperiment,t=(0,n.TH)();return!!(0,i.mB)(t.search).colors&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},755222:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(274320);function o(){return(0,(0,n.r)().checkExperiment)("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},838880:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(963489),o=r(378888);function i(){return!!(0,o.mB)((0,n.TH)().search).domains}},272191:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(963489),o=r(378888);function i(){var e=(0,n.TH)(),t=(0,o.mB)(e.search),r=t.price_max,i=t.price_min;return!!(null!=i?i:r)}},704088:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(586659),o=r(20256),i=r(785873),a=r(937392),l=r(894199),c=r(873651),s=r(982166),u=r(949044),d=r(974705),f=r(805205),p=r(78762),y=r(382718);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=(0,p.Z)(function(){return r.e("85149").then(r.bind(r,401030))},{ssr:!1},function(e){return 401030},void 0,void 0),g=(0,p.Z)(function(){return r.e("29078").then(r.bind(r,30342))},{ssr:!1},function(e){return 30342},void 0,void 0),x=(0,p.Z)(function(){return Promise.all([r.e("83324"),r.e("88653")]).then(r.bind(r,140795))},{ssr:!1},function(e){return 140795},void 0,void 0),w=(0,p.Z)(function(){return r.e("6642").then(r.bind(r,485922))},{ssr:!1},function(e){return 485922},void 0,void 0),j=(0,p.Z)(function(){return Promise.all([r.e("36815"),r.e("7254")]).then(r.bind(r,236142))},{ssr:!1},function(e){return 236142},void 0,void 0),S=(0,p.Z)(function(){return r.e("2227").then(r.bind(r,629326))},{ssr:!1},function(e){return 629326},void 0,void 0),P=(0,p.Z)(function(){return r.e("61273").then(r.bind(r,528792))},{ssr:!1},function(e){return 528792},void 0,void 0),O=(0,p.Z)(function(){return r.e("38943").then(r.bind(r,3219))},{ssr:!1},function(e){return 3219},void 0,void 0),A=(0,p.Z)(function(){return r.e("42716").then(r.bind(r,315721))},{ssr:!1},function(e){return 315721},void 0,void 0),C=[505420,505933,506173,506124,506436],I=function(e){var t,r=e.complete,n=e.dismiss,a=e.experience,c=e.placementId,p=a.experience_id,b=a.display_data,m=function(e){switch(e){case 504721:return P;case 504569:return S;case 504032:return O;case 502271:return g;case 505093:return A;default:return _}}(p),I=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(p),k=(0,l.NQ)().setObserverRef;return(0,y.jsxs)(o.xu,{ref:k,children:[!C.includes(p)&&(0,y.jsx)(s.ZP,{accessibilityModalLabel:"",onDismiss:n,size:I,children:(0,y.jsx)(m,h(h({},(0,u.Z)(d.Z)(b)),{},{experienceId:p,handleComplete:r,handleDismiss:n,placementId:c}))}),506124===p&&(0,y.jsx)(x,h({handleComplete:r,handleDismiss:n,isDesktop:!0,isGooglePrimary:!0},(0,u.Z)(d.Z)(b))),(506173===p||506436===p)&&(0,y.jsx)(x,h({handleComplete:r,handleDismiss:n,isDesktop:!0,isGooglePrimary:!1},(0,u.Z)(d.Z)(b))),505420===p&&(0,y.jsx)(j,{experienceId:505420,onSubmitSurvey:(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.Z)((0,f.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){v(i,n,o,a,l,"next",e)}function l(e){v(i,n,o,a,l,"throw",e)}a(void 0)})}),placementId:c,viewType:251}),505933===p&&(0,y.jsx)(w,{handleComplete:function(){r(),(0,i.Z)((0,f.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:n,onAdsReportingSurface:!1})]})};function k(e){var t=e.placementId,r=(0,c.Z)(t,{rollout_experiment:1}),o=r.enableExperienceSession,i=r.endOnSurfaceChange;return(0,y.jsx)(n.Fragment,{children:(0,y.jsx)(a.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:o,placementId:t,sessionEndOnSurfaceChange:i,children:function(e){var r=e.complete,n=e.dismiss,o=e.experience;return(0,y.jsx)(I,{complete:r,dismiss:n,experience:o,placementId:t})}})})}},456202:function(e,t,r){var n,o,i=r(686319);function a(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}n=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/board/".concat(t,"/report_reasons/")});case 2:return r=e.sent,e.abrupt("return",r.resource_response.data);case 4:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function l(e){a(i,r,o,l,c,"next",e)}function c(e){a(i,r,o,l,c,"throw",e)}l(void 0)})},t.Z=function(e){return o.apply(this,arguments)}},507187:function(e,t,r){var n,o,i=r(686319);function a(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}n=regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/board/".concat(t,"/flag/"),method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function l(e){a(i,r,o,l,c,"next",e)}function c(e){a(i,r,o,l,c,"throw",e)}l(void 0)})},t.Z=function(e,t){return o.apply(this,arguments)}},140725:function(e,t,r){r.d(t,{Q:function(){return d},Z:function(){return f}});var n=r(586659),o=r(521009),i=r(346955),a=r(991384),l=r(15667);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){var r=(0,i.A$)().setViewContextData,c=(0,l.B)().requestIdentifier,s=(0,o.Z)(),d=(0,i.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),s(u(u({},e),{},{event_type:13,request_identifier:c}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},821342:function(e,t,r){r.d(t,{$:function(){return o}});var n=(0,r(729434).Z)("viewer"),o=n.Provider;t.Z=n.get},15667:function(e,t,r){r.d(t,{B:function(){return i},P2:function(){return l},Ts:function(){return o},gf:function(){return a}});var n=r(146663),o=n.getRequestContext,i=n.useRequestContext,a=n.useUpdateRequestContext,l=n.RequestContextProvider},146663:function(e,t,r){r.r(t),r.d(t,{RequestContextProvider:function(){return p},getRequestContext:function(){return f},useRequestContext:function(){return y},useUpdateRequestContext:function(){return b}});var n=r(586659),o=r(324529),i=r(734215),a=r(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,n.createContext)(null);function f(){return(0,n.use)(d).requestContextState}function p(e){var t,r=e.children,l=e.initialValue,c=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(l))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=c[0],p=c[1],y=(0,n.useMemo)(function(){return{requestContextState:f,updateRequestContext:function(e){var t=s(s({},f),e);(0,i.Z)(f,e)||p(t),(0,o.J)(t)}}},[f]);return(0,a.jsx)(d,{value:y,children:r})}function y(){var e=(0,n.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function b(){var e=(0,n.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},782259:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(586659),o=r(64834);function i(e){var t=e.children;if("undefined"==typeof window)throw Error(o.u);return t}var a=r(382718);function l(e){var t=e.children,r=e.fallback;return(0,a.jsx)(n.Suspense,{fallback:r,children:(0,a.jsx)(i,{children:t})})}},244347:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(378888),o=r(215295);function i(e){if(!e)return"";var t=(0,o.Z)((0,n.Gw)(e,["request_params"])),r=t.directory,i=t.queryKey;return r+"?"+Object.keys(i).sort().map(function(e){return"".concat(e,"=").concat(i[e])}).join("&")}},712064:function(e,t,r){r.d(t,{Ht:function(){return l},Tb:function(){return a},q7:function(){return i}});var n=r(244347),o=r(940280);function i(e){var t=e.topPinIds,r=e.paidPinId,n=[];return r&&n.push(r),t&&n.push(t),n.length>0?n.join(","):void 0}function a(e){var t=e.appliedProductFilters,r=e.appliedUnifiedFilters,n=e.autoCorrectionDisabled,o=[t,e.filters,e.journeyDepth,e.query,e.rs,e.scope,e.selectedOneBarModules,e.selectedPinImgSig,e.sourceId,e.sourceModuleId,r,e.topPinIds,e.user].map(function(e){return null!=e?e:""}).join(":");return n?"auto-correction-disabled:"+o:o}function l(e){var t,r,i,a,l,c,s,u,d,f,p,y,b,v,m,h,_,g,x,w,j,S,P,O,A;return{name:"BaseSearchResource",options:(r=(t={appliedProductFilters:e.appliedProductFilters,appliedUnifiedFilters:e.appliedUnifiedFilters,autoCorrectionDisabled:!!e.autoCorrectionDisabled,bubbleId:e.bubbleId,domains:e.domains,filters:e.filters,guidedSearchQuery:e.guidedSearchQuery,journeyDepth:e.journeyDepth,pageSize:e.pageSize,priceMax:e.priceMax,priceMin:e.priceMin,query:e.query,requestParams:e.requestParams,rs:e.rs,scope:e.scope,selectedOneBarModules:e.selectedOneBarModules,selectedPinImgSig:e.selectedPinImgSig,seoDrawerEnabled:e.seoDrawerEnabled,sourceId:e.sourceId,sourceModuleId:e.sourceModuleId,sourceUrl:e.sourceUrl,topPinIds:e.topPinIds,user:e.user}).appliedUnifiedFilters,i=t.appliedProductFilters,a=t.autoCorrectionDisabled,l=t.bubbleId,c=t.domains,s=t.filters,u=t.journeyDepth,d=t.pageSize,f=t.priceMax,p=t.priceMin,y=t.query,b=t.requestParams,m=void 0===(v=t.rs)?o.i.DIRECT_NAVIGATION:v,h=t.scope,_=t.selectedOneBarModules,x=void 0===(g=t.selectedPinImgSig)?null:g,w=t.seoDrawerEnabled,j=t.sourceId,S=t.sourceModuleId,P=t.sourceUrl,O=t.topPinIds,A=t.user,{applied_unified_filters:void 0===r?null:r,appliedProductFilters:void 0===i?null:i,article:void 0===l?null:l,auto_correction_disabled:void 0!==a&&a,corpus:x?"personalize":null,customized_rerank_type:x?"manas_graph_sage_only_wand_rewrite":null,domains:void 0===c?null:c,filters:void 0===s?null:s,journey_depth:void 0===u?null:u,page_size:void 0===d?null:d,price_max:void 0===f?null:f,price_min:void 0===p?null:p,query_pin_sigs:x,query:void 0===y?"":y,redux_normalize_feed:!0,request_params:void 0===b?null:b,rs:m,scope:void 0===h?"pins":h,selected_one_bar_modules:void 0===_?null:_,seoDrawerEnabled:void 0!==w&&w,source_id:void 0===j?null:j,source_module_id:void 0===S?null:S,source_url:(0,n.Z)(void 0===P?null:P),top_pin_ids:void 0===O?null:O,user:A})}}},734215:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(Object.is(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(function(r){return e[r]===t[r]})}r.d(t,{Z:function(){return o}})},647709:function(e,t,r){r.d(t,{HG:function(){return d},Kf:function(){return a},Wb:function(){return u},dA:function(){return l},ds:function(){return c},ml:function(){return s}});var n=r(746287),o=r(15667),i=function(){var e=(0,o.B)();return(0,n.Z)(e)},a=function(e){return"phone"===e},l=function(e){return"tablet"===e},c=function(e){return"desktop"===e},s=function(){return a(i())},u=function(){return l(i())},d=function(){return c(i())};t.ZP=i},822377:function(e,t,r){r.d(t,{Z:function(){return q}});var n,o,i,a,l=r(586659),c=r(980787),s=r(675973),u=r(15667),d=r(647709),f=r(341742),p=r(187440);r(492996);var y=r(20256),b=r(28427),v=r(521009),m=r(47426),h=r(532611),_=r(306274),g=r(382718);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=(void 0!==n||(n=r(731127)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==n.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function P(e){var t,r=e.auxData,n=e.actionKey,o=e.alignCenter,i=(0,b.Z)(S,n),a=(0,v.Z)(),c=(0,d.HG)(),s=i.title,u=i.description,f=i.button,p=null==f?void 0:f.text,x=null==s?void 0:s.text,w=null==u?void 0:u.text,P=null!=(t=null==f?void 0:f.link)?t:"",O=P.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),A=p&&P.startsWith("http"),C=(0,m.Z)({url:P}),I=A&&C?"nofollow":"none";return(null==r?void 0:r.advisory_type)===_.Uv?(0,g.jsx)(l.Fragment,{children:(0,g.jsxs)(y.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!x&&(0,g.jsx)(y.xv,{align:"start",weight:"bold",children:x}),!!w&&(0,g.jsx)(y.xv,{align:"start",children:w}),(0,g.jsx)(y.ZP,{color:"white",href:P,onClick:function(){(0,h.qA)({auxData:j(j({},r),{},{url:P}),isDesktop:c,logContextEvent:a})},rel:I,text:p||"Visit"})]})}):A?(0,g.jsxs)(l.Fragment,{children:[(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:o?"center":"start",weight:"bold",children:""!==p?p:"Visit"})}),(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.rU,{href:P,onClick:function(){(0,h.qA)({logContextEvent:a,auxData:j(j({},r),{},{url:P}),isDesktop:c})},rel:I,children:(0,g.jsx)(y.xv,{align:o?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:O})})})]}):(0,g.jsxs)(l.Fragment,{children:[!!x&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:o?"center":"start",weight:"bold",children:x})}),!!w&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:o?"center":"start",children:w})})]})}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I=(void 0!==o||(o=r(811026)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==o.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function k(e){for(var t=e.text,r=e.textTags,n=e.auxData,o=(0,v.Z)(),i=(0,d.HG)(),a=[],l=0,c=0;c<r.length;c+=1){var s=r[c];5===s.tagType&&s.link&&function(){var e=s.offset,r=s.length,c=s.link;if(null!=e&&null!=r&&null!=c){var u=t.substring(e,e+r),d=(0,g.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(y.rU,{display:"inlineBlock",href:c,onClick:function(){(0,h.qA)({logContextEvent:o,auxData:C(C({},n),{},{url:c}),isDesktop:i})},target:"blank",underline:"hover",children:u},u)});a.push((0,g.jsx)("span",{children:t.substring(l,e)})),a.push(d),l=e+r}}()}return(l>0&&a.push((0,g.jsx)("span",{children:t.substring(l)})),0===a.length)?[(0,g.jsx)("span",{children:t})]:a}function T(e){var t=e.auxData,r=e.textTagKey,n=e.text,o=(0,b.Z)(I,r);return(0,g.jsx)(k,{auxData:t,text:n,textTags:o})}var Z=[4,14],B={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},E={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},D=(void 0!==i||(i=r(437533)).hash&&"5879c4710b107f258f42156bf3e47e37"!==i.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function z(e){var t=e.auxData,r=e.advisory,n=e.inModal,o=e.noticeKey,i=(0,b.Z)(D,o),a=i.title,l=i.description,c=i.actions,s=!!(null!=c&&c.length)&&((null==t?void 0:t.advisory_type)===_.Uv||!!r&&Z.includes(r)),u=(null==c?void 0:c.length)===1,d=l&&l.text||"";return(0,g.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:n?E:B},padding:6,rounding:2,children:[!!a&&!n&&(0,g.jsx)(y.xu,{display:"flex",marginBottom:2,children:(0,g.jsx)(y.X6,{size:"600",children:a})}),!!d&&(null==l?void 0:l.textTags)!=null&&(0,g.jsx)(y.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,g.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(y.xv,{align:n?"center":"start",overflow:"normal",children:(0,g.jsx)(T,{auxData:t,text:d,textTagKey:l.textTags})})})}),s&&(0,g.jsx)(y.xu,{direction:n?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:null==c?void 0:c.map(function(e){return(0,g.jsx)(y.xu,{column:n||u?12:6,paddingX:2,paddingY:1,children:(0,g.jsx)(P,{actionKey:e,alignCenter:n||u,auxData:t})},e.actionId)})})]})}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=F(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=(void 0!==a||(a=r(827222)).hash&&"53d7eec34666980eda011429185b5b10"!==a.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function U(e){var t,r,n,o,i,a=e.auxData,l=e.noticeKey,c=(0,b.Z)(N,l),s=(0,v.Z)(),u=(0,d.HG)(),f={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,g.jsxs)(y.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,g.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,g.jsxs)(y.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,g.jsx)("span",{style:f,children:(null==(t=c.description)?void 0:t.textTags)&&(0,g.jsx)(T,{text:(null==(r=c.description)?void 0:r.text)||"",textTagKey:c.description.textTags})}),(0,g.jsx)(y.xu,{marginTop:6,children:(null!=(n=c.actions)?n:[]).map(function(e){var t,r,n,o,i=null==(t=e.button)?void 0:t.link;return i&&i.startsWith("tel")?(0,g.jsxs)(y.xu,{children:[(0,g.jsx)("span",{style:R({fontWeight:"600"},f),children:null==(r=e.title)?void 0:r.text}),(0,g.jsx)("span",{style:f,children:null==(n=e.description)?void 0:n.text})]}):(0,g.jsx)(y.rU,{href:i||"",onClick:function(){(0,h.qA)({logContextEvent:s,auxData:R(R({},a),{},{url:i||"",isLegoNotice:!0}),isDesktop:u})},children:(0,g.jsx)(y.xu,{display:"inlineBlock",children:(0,g.jsx)(y.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,g.jsx)(y.xv,{color:"inverse",weight:"bold",children:(null==(o=e.button)?void 0:o.text)||""})})})})})})]})}),!!c.footer&&(0,g.jsx)(y.xu,{paddingY:2,width:540,children:(0,g.jsx)(y.rU,{display:"inlineBlock",href:null!=(o=c.footer.link)?o:"",onClick:function(){var e,t;(0,h.qA)({logContextEvent:s,auxData:R(R({},a),{},{url:null!=(e=null==(t=c.footer)?void 0:t.link)?e:"",isLegoNotice:!0}),isDesktop:u})},target:"blank",underline:"hover",children:(0,g.jsx)(y.xv,{align:"center",color:"subtle",size:"100",children:(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:null!=(i=c.footer.text)?i:""}})})},c.footer.link)})]})}var L=r(603316);function q(e){var t,r,n,o,i,a,y,b,v,m,h,_=e.boardId,x=e.isOwnBoard,w=e.boardName,j=e.boardSectionId,S=e.notices,P=e.query,O=e.sensitivity,A=e.viewParameter,C=e.viewType,I=e.inModal;r=(t={advisoryDetails:null==O?void 0:O.advisory_details,boardId:_,boardSectionId:j,query:P,sensitivity:{advisory:null==O?void 0:O.advisory,severity:null==O?void 0:O.severity},viewParameter:A,viewType:C}).advisoryDetails,n=t.boardId,o=t.boardName,i=t.boardSectionId,a=t.query,y=t.sensitivity,b=t.viewParameter,v=t.viewType,m=(0,c.u)().logContextEvent,h=(0,d.HG)(),(0,f.Z)(function(){v&&(m({aux_data:{entered_query:a,advisory_details:r,advisory_level:null==y?void 0:y.advisory,severity_level:null==y?void 0:y.severity,advisory_type:null==y?void 0:y.advisory_type,resource_country:null==y?void 0:y.resource_country},component:13367,event_type:120,view_parameter:b,view_type:v}),(0,L.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:null==y?void 0:y.advisory,advisory_type:null==y?void 0:y.advisory_type,app:h?"DESKTOP_WEB":"MOBILE_WEB",resource_country:null==y?void 0:y.resource_country,placement:5===v?"board":"search"}})),n&&5===v&&m({aux_data:{board_name:o,board_id:n,board_section_id:null!=i?i:0},component:178,event_type:15549,view_parameter:b,view_type:v})});var k=(0,s.Z)().checkExperiment,T=(0,u.B)(),Z={advisory_level:(null==O?void 0:O.advisory)||null,severity_level:(null==O?void 0:O.severity)||null,advisory_type:(null==O?void 0:O.advisory_type)||"",stage:T.stage,resource_country:(null==O?void 0:O.resource_country)||"",entered_query:P||""};if(k("ps_board_advisories_ui_refresh").anyEnabled){var B=x?4173:4174;return(0,g.jsx)(l.Fragment,{children:null==S?void 0:S.map(function(e){return(0,g.jsx)(p.Z,{boardId:_,boardName:w,boardSectionId:j,notice:e,objectType:j?164:5,sensitivity:O,viewParameter:j?B:A,viewType:j?164:5},e.id)})})}return(0,g.jsx)(l.Fragment,{children:null==S?void 0:S.map(function(e){return 2===e.style?(0,g.jsx)(U,{auxData:Z,noticeKey:{type:"Legacy",data:e}},e.id):(0,g.jsx)(z,{advisory:null==O?void 0:O.advisory,inModal:I,noticeKey:{type:"Legacy",data:e}},e.id)})})}},250905:function(e,t,r){r.d(t,{HW:function(){return d},MS:function(){return m},i3:function(){return h},o2:function(){return v}});var n=r(586659),o=r(729434),i=r(25837),a=r(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=i.fe+1,f={educationId:null,paddingRight:0,zIndex:d};function p(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":var r=t.payload.educationId;return u(u({},e),{},{educationId:r});case"FOOTER_SET_PADDING_RIGHT":var n=t.payload.paddingRight;return u(u({},e),{},{paddingRight:n});case"FOOTER_SET_Z_INDEX":var o=t.payload.zIndex;return u(u({},e),{},{zIndex:o});default:return e}}var y=(0,o.Z)("footerContext"),b=y.Provider,v=y.Consumer,m=y.get;function h(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(p,f))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],l=o[1],s=(0,n.useCallback)(function(e){return l({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})},[]),d=(0,n.useCallback)(function(e){return l({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})},[]),y=(0,n.useCallback)(function(e){return l({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},[]),v=(0,n.useMemo)(function(){return u(u({},i),{},{setEducationId:d,setPaddingRight:s,setZIndex:y})},[i,d,s,y]);return(0,a.jsx)(b,{value:v,children:r})}},288910:function(e,t,r){r.d(t,{n:function(){return v},v:function(){return m}});var n=r(586659),o=r(650533),i=r(963489),a=r(729434),l=r(478135),c=r(647709),s=r(601811),u=r(382718);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=(0,a.Z)("SearchParams"),b=y.Provider,v=y.get,m=function(e){var t,r,a,d,f,y,v=e.children,m=e.value,h=(t=(0,c.HG)(),a=(r=(0,i.TH)()).search,d=r.pathname,y=!(f=(0,o.UO)().scope)&&d.includes("/_tools/shop"),(0,s.Z)({isDesktop:t,scope:y?l.lw.SHOP_TOOL:f,search:a})),_=(0,n.useMemo)(function(){return p(p({},h),m)},[h,m]);return(0,u.jsx)(b,{value:_,children:v})}},601811:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(478135),o=r(378888);function i(e){var t=e.isDesktop,r=e.scope,i=e.search,a=(0,o.mB)(i),l=a.auto_correction_disabled,c=a.b_id,s=a.brands,u=a.category,d=a.colors,f=a.commerce_only,p=void 0===f?"":f,y=a.cover_pin_sig,b=a.deb_d,v=a.domains,m=a.filters,h=a.guided_search_query,_=a.inline_suggestion,g=a.interest_id,x=a.journey_depth,w=a.on_sale,j=a.price_max,S=a.price_min,P=a.q,O=a.query_pin_sigs,A=a.request_params,C=a.rs,I=a.selected_one_bar_modules,k=a.source_id,T=a.source_module_id,Z=a.tab,B=a.top_pin_ids,E=a.user,D="true"===p.toLowerCase()&&"shop_tool"!==r?n.lw.PINS_BUYABLE:r;return{autoCorrectionDisabled:"true"===(void 0===l?"":l).toLowerCase(),brands:s,bubbleId:c,category:u,colors:d,commerceOnly:"true"===p.toLowerCase(),coverPinSig:y,currentlyAppliedFiltersParamTerm:m,debD:b,domains:v,guidedSearchQuery:h,inlineSuggestion:_,interestId:g,journeyDepth:x?parseInt(x,10):void 0,onSale:w,personalizationPinSig:O,placementId:(0,n.Hd)(D,t),priceMax:j,priceMin:S,query:P,requestParams:A,rs:C,scope:D,selectedOneBarModules:I,sourceId:k,sourceModuleId:T,tab:Z||"",topPinIds:B,user:E,viewParameter:(0,n._R)(D),viewType:D===n.lw.SHOP_TOOL?1:2}}},196491:function(e,t,r){r.d(t,{V:function(){return f},Z:function(){return d}});var n,o,i=r(686319),a=r(74105),l=r(548286),c=r(189976),s=r(696323);function u(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function d(e,t,r){return function(n){return(0,i.Z)({url:"/v3/boards/".concat(e,"/merge/").concat(t,"/"),method:"POST",data:r?{orbac_subject_id:r}:{}}).then(function(){return Promise.all([n((0,l.eo)({boardId:e})),n((0,a.Z)(t,"pin_count")),n((0,c.N8)(s.Z.BOARD_SECTIONS,t))])})}}var f=(n=regeneratorRuntime.mark(function e(t,r,n,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/boards/".concat(r,"/merge/").concat(n,"/"),method:"POST",data:o?{orbac_subject_id:o}:{}});case 2:t((0,l.eo)({boardId:r})),(0,a.Z)(n,"pin_count"),t((0,c.N8)(s.Z.BOARD_SECTIONS,n));case 5:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t,r,n){return o.apply(this,arguments)})},31987:function(e,t,r){r.d(t,{Z:function(){return tw}});var n=r(586659),o=r(581722),i=r(963489),a=r(20256),l=r(138),c=r(865540),s=r(704088),u=r(729082),d=r(782881),f=r(980787),p=r(679422),y=r(937392),b=r(821342),v=r(390843),m=r(123998),h=r(87853),_=r(341742),g=r(448505),x=r(7872),w=r(551651),j=r(104659),S=r(369416),P=r(382718);function O(e){var t=e.layoutType,r=e.thumbnails;switch(t){case 4:var n=r&&r[0]&&r[0]["236x"];return(0,P.jsx)(a.zd,{height:80,rounding:4,width:80,children:n?(0,P.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):(0,P.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,P.jsx)(a.xu,{color:"secondary",height:80,width:39.4}),(0,P.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,P.jsx)(a.xu,{color:"secondary",height:39.4,width:39.4}),(0,P.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,P.jsx)(a.zd,{height:80,rounding:4,width:80,children:(0,P.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(function(e){var t,n=r&&(null==r?void 0:r.length)>0?r[e]:null;return(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,P.jsx)(a.xu,{height:80,width:39.4,children:(null==n||null==(t=n["236x"])?void 0:t.url)&&(0,P.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:n["236x"].url})})},e)})})});default:return null}}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var I=[502043,502085];function k(e){var t,r,o,i,l=e.boardId,c=e.displayData,s=e.complete,u=e.dismiss,d=e.handleShowArchiveConfirmation,p=(0,f.u)().logContextEvent,y=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return C(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=y[0],v=y[1],m=function(e){b||v(setTimeout(function(){e()},2e4))};(0,n.useEffect)(function(){return function(){return clearTimeout(b)}},[b]);var h=(o={},(t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i=2,"string"),(i="symbol"==A(t)?t:t+"")in o)?Object.defineProperty(o,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[i]=d,o);return(0,n.useEffect)(function(){m(u),p({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(c.experience.experience_id),aux_data:{board_id:l}})},[]),(0,P.jsxs)(a.mh,{children:[(0,P.jsx)(S.Z,{unsafeCSS:"\n.BoardActionUpsellCard {\n  animation-duration: 0.5s;\n  animation-fill-mode: forwards;\n  animation-name: slideUp;\n  animation-timing-function: ease-out;\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: between;\n  left: 50%;\n  margin-left: -210px; // half of width\n  padding: 24px;\n  position: fixed;\n  transition: bottom 1s;\n  width: 420px;\n}\n\n@keyframes slideUp {\n  from {\n    bottom: -200px;\n  }\n\n  to {\n    bottom: 14px;\n  }\n}\n"}),(0,P.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,P.jsx)(a.xu,{flex:"none",children:(0,P.jsx)(O,{layoutType:c.layout_type,thumbnails:c.thumbnail_image_urls})}),(0,P.jsxs)(a.xu,{marginStart:4,children:[(0,P.jsx)(a.xv,{inline:!0,children:(0,P.jsx)(a.X6,{size:"400",children:c.text})}),(0,P.jsxs)(a.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,P.jsx)(a.zx,{color:"gray",onClick:function(){p({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(c.experience.experience_id),aux_data:{board_id:l}}),u()},text:c.dismiss_button.text}),(0,P.jsx)(a.xu,{paddingX:2,children:(0,P.jsx)(a.zx,{color:"red",onClick:function(){h[c.complete_button.action_type](),p({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(c.experience.experience_id),aux_data:{board_id:l}}),s()},text:c.complete_button.text})})]})]})]})]})}function T(e){var t=e.boardId,r=e.handleShowArchiveConfirmation;return(0,P.jsx)(y.a3,{eligibleIds:I,placementId:18,children:function(e){var n=e.experience,o=e.complete,i=e.dismiss;return(0,P.jsx)(k,{boardId:t,complete:o,dismiss:i,displayData:n.display_data,handleShowArchiveConfirmation:r})}})}var Z=r(801619),B=r(548286),E=r(830235),D=r(509579),z=r(64496),F=r(476785),M=r(982166),R=r(19585),N=r(302148);function U(){var e=(0,R.ZP)(),t=(0,P.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,P.jsx)(a.xv,{children:(0,N.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,P.jsx)(a.xu,{display:"inlineBlock",children:(0,P.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})});return(0,P.jsx)(y.a3,{eligibleIds:[503077],placementId:18,children:function(r){var n=r.complete,o=r.dismiss;return(0,P.jsx)(M.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:(0,P.jsx)(a.kC,{justifyContent:"end",children:(0,P.jsx)(a.zx,{onClick:function(){return n()},text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),heading:(0,P.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,P.jsx)(a.xu,{maxWidth:400,children:(0,P.jsx)(a.X6,{align:"center",size:"600",children:(0,N.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,P.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,P.jsx)(a.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,P.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,P.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,P.jsx)(a.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,P.jsx)(a.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]}),onDismiss:o,size:"sm",children:t})}})}var L=r(493812),q=r(189976),H=r(696323),K=r(154237),G=r(467925),W=r(352228),X=r(21845),V=r(86357);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,r){var n;return(n=function(e,t){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Q(e){var t,r,o=e.board,i=e.currentFilter,l=e.eligibleFilters,c=e.isOwnBoard,s=e.surface,u=e.setCurrentFilter,d=e.setTitle,p=(0,L.WG)(),y=(0,f.u)().logContextEvent,b=(0,R.ZP)(),v=(0,n.useRef)(null),m=null==p?void 0:p.boardPinDensity,h=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return J(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=h[0],g=h[1],x=function(){g(!1)},w=function(e){(0,X.Z)({boardDensity:e,component:"board"===s?13183:13187,viewType:"board"===s?5:164},y),(0,V.Z)({density:e,surface:"board"}),null==p||p.setBoardPinDensity(e)},j=[],S=(Y(r={},W.c,12111),Y(r,W.A,12227),r);if(l){var O={items:l.map(function(e){var t;return{isSelected:e.pin_type===i,onClick:function(){var t,r;y({event_type:101,component:13475,element:S[null!=(t=e.pin_type)?t:-1],object_id_str:o.id,view_type:5,view_parameter:c?3069:3070}),u(null!=(r=e.pin_type)?r:-1),d(e.pin_type===W.c?null:e.text),x()},text:null!=(t=e.text)?t:""}}),label:b._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};j.push(O)}return j.push({items:[{isSelected:"regular"===m,onClick:function(){x(),w("regular")},text:b._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===m,onClick:function(){x(),w("dense")},text:b._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:b._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(a.xu,{ref:v,children:(0,P.jsx)(a.hU,{accessibilityControls:"filter_board",accessibilityExpanded:_,accessibilityLabel:b._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),accessibilityPopupRole:"menu",icon:"filter",iconColor:"darkGray",onClick:function(){y({event_type:101,element:12020,object_id_str:o.id,view_type:5,view_parameter:c?3069:3070}),g(!_)},selected:_,size:"lg"})}),_&&(0,P.jsx)(a.Lt,{anchor:v.current,disableMobileUI:!0,id:"filter_board",onDismiss:x,children:j.map(function(e){var t=e.items,r=e.label;return(0,P.jsx)(a.Lt.Section,{label:r,children:t.map(function(e){var t=e.isSelected,r=e.onClick,n=e.text;return(0,P.jsx)(a.Lt.Item,{onSelect:r,option:{label:n,value:n},selected:t?{label:n,value:n}:null},n)})},r)})})]})}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var et=(0,y.RL)(1000332)(function(e){var t,r=e.board,o=e.currentFilter,i=e.isHidePinCount,l=e.isOwnBoard,c=e.paddingX,s=e.section,u=e.setCurrentFilter,d=e.showExperienceTooltip,f=(0,R.ZP)(),p=(null!=s?s:r).eligible_pin_type_filters,b=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ee(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=b[0],m=b[1],h=(0,n.useRef)(null),_=s?s.pin_count:r.pin_count,g=(0,G.Z)().experimentalGutter,x=function(e,t){if(h){var r;null==(r=h.current)||r.scrollIntoView(!1)}return(0,P.jsx)(a.pl,{anchor:h.current,idealDirection:"down",message:t.text,onDismiss:e})};return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:g?{paddingLeft:g,paddingRight:g}:{}},direction:"row",display:"flex",justifyContent:i?"end":"between",paddingX:void 0===c?8:c,children:[!i&&(0,P.jsx)(a.xu,{flex:"grow",children:(0,P.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:o>0&&v?v:(0,N.nk)(f.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != _ ? _ : 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:_})})}),(0,P.jsx)(a.xu,{ref:h,children:(0,P.jsx)(Q,{board:r,currentFilter:o,eligibleFilters:null==p?void 0:p.filter(function(e){return 5!==e.pin_type}),isOwnBoard:l,setCurrentFilter:u,setTitle:m,surface:s?"section":"board"})})]}),d&&h&&(0,P.jsx)(a.mh,{children:(0,P.jsx)(y.a3,{eligibleIds:[502974],placementId:1000332,children:function(e){return x(e.dismiss,e.experience.display_data)}})})]})}),er=r(238641),en=r(317884),eo=r(283550),ei=r(433110),ea=r(305434),el=r(227129),ec=r(371714);function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eu(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eu(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ed=function(){};function ef(e){var t,r=e.board,i=e.currentView,l=e.handleContentViewChange,c=e.handleSetCurrentModal,s=e.handleShowEditSectionModal,u=e.handleShowMergeSectionsConfirmationModal,d=e.isBoardPreviewMode,f=e.isHidePinCount,p=e.isOwnerOrCollaborator,y=e.isOwnBoard,v=e.isPinGridSorted,m=e.refreshBoardData,h=void 0===m?ed:m,_=e.refreshSectionData,g=void 0===_?ed:_,x=e.section,w=(0,b.Z)(),j=(0,en.Z)({board:r,viewer:w}),S=(r.access||[]).includes("write"),O=null==(t=(0,L.WG)())?void 0:t.boardPinDensity,A=(0,el.Z)(x?(0,ea.Z)(r,x):""),C=es((0,n.useState)(W.c),2),I=C[0],k=C[1],T=es((0,n.useState)(!1),2),Z=T[0],B=T[1],E=(0,o.I0)();(0,n.useEffect)(function(){return function(){if(I!==W.c)if(x){var e;E((0,q.N8)(H.Z.BOARD_SECTION_PINS,null!=(e=x.id)?e:""))}else E((0,q.N8)(H.Z.BOARDFEED,r.id))}},[r,I,E,x]);var z=(0,n.useCallback)(function(){I>0&&(k(W.c),x?g():h())},[I,g,h,x]),M=(0,n.useMemo)(function(){return x?{currentFilter:I,eligibleFilters:x.eligible_pin_type_filters,refreshData:g,sectionId:x.id}:{currentFilter:I,eligibleFilters:r.eligible_pin_type_filters,refreshData:h,setShowExperienceTooltip:B}},[x,r.eligible_pin_type_filters,I,h,g]);return x?(0,P.jsx)(er.k,{value:M,children:(0,P.jsxs)(n.Fragment,{children:[p&&!d&&(0,P.jsx)(et,{board:r,currentFilter:I,isOwnBoard:y,section:x,setCurrentFilter:k,showExperienceTooltip:!1}),(0,P.jsx)(ei.Z,{board:r,boardSectionId:x.id,currentFilter:I,denseViewSelected:S&&"dense"===O,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:y,isOwnerOrCollaborator:p,refreshFilteredFeed:z,renderFooterStory:function(e){return!r.archived_by_me_at&&p&&(0,P.jsx)(a.xu,{marginBottom:12,children:(0,P.jsx)(eo.Z,{children:(0,P.jsx)(ec.Z,{collection:x,storyId:e,url:A})})})},viewer:w,viewParameter:j})]})}):(0,P.jsx)(er.k,{value:M,children:(0,P.jsxs)(n.Fragment,{children:[p&&!d&&(0,P.jsx)(F.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,P.jsx)(et,{board:r,currentFilter:I,isHidePinCount:f,isOwnBoard:y,paddingX:0,setCurrentFilter:k,showExperienceTooltip:Z})}),(0,P.jsx)(K.Z,{actions:{onBoardOrganizeClick:ed},board:r,currentFilter:I,currentView:i,enableReordering:p,isBoardPreviewMode:d,isOwnBoard:y,isPinGridSorted:v,onContentViewChange:l,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:function(e,t){c(D.s.sectionMergeConfirm),u(e,t)},refreshFilteredFeed:z,viewParameter:j}),p&&(0,P.jsx)(U,{})]})})}var ep=r(947810),ey=r(306274),eb=r(211119),ev=r(822377),em=r(316658),eh=r(456202),e_=r(507187),eg=r(95763);function ex(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function ew(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ex(i,n,o,a,l,"next",e)}function l(e){ex(i,n,o,a,l,"throw",e)}a(void 0)})}}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eS(e){var t,r,o=e.onDismiss,i=e.boardId,a=(0,eg.Z)(),l=a.showErrorToast,c=a.showSuccessToast,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ej(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ej(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],d=s[1];(0,_.Z)(function(){var e;(e=ew(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,eh.Z)(i);case 3:(t=e.sent)?d(t):l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l();case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)})()});var f=(r=ew(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reasonKey,e.prev=1,n={reason:r},e.next=5,(0,e_.Z)(i,n);case 5:o(),c(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),o(),l();case 13:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return r.apply(this,arguments)});return(0,P.jsx)(em.ZP,{handleSubmitReport:f,objectToReport:{type:"board",id:i},onDismiss:o,reportingReasons:u})}var eP=r(628710),eO=r(886981),eA=r(32250);function eC(e){var t,r=e.boardId,n=e.ownerUsername,o=e.ownerName,i=e.ownerImgSrc,a=e.ownerIsAdsOnlyProfile,l=e.ownerAdsOnlyProfileSite,c=e.children,s=(0,eO.Z)({name:"ApiResource",options:{url:null==(t=(0,eA.Z)({boardId:r}))?void 0:t.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),u=s.data,d=s.isLoaded,f=[{name:o,src:i,href:"/".concat(n,"/"),is_ads_only_profile:a,ads_only_profile_site:l}];return d&&u&&u.length>0&&u.forEach(function(e){f.push((0,eP.Z)(e))}),c(f)}var eI=r(812577),ek=r(521009),eT=r(821115),eZ=r(475498);function eB(e){var t=e.boardImage,r=e.boardName,n=e.boardUrl,o=e.onHide,i=(0,R.ZP)(),l=(0,P.jsx)(a.xv,{children:(0,N.nk)(i._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,P.jsx)(a.xv,{weight:"bold",children:r},"boardName")})});return(0,P.jsx)(eZ.Z,{href:n,imageUrl:t,onHide:o,text:l})}var eE=r(207691),eD=r(854167);function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eF(e){var t,r=(0,R.ZP)(),i=e.bgColor,l=e.board,c=e.canCreatePincode,s=e.canEdit,u=e.handleCreatePincode,d=e.handleOpenSendBoardFlyout,f=e.onEditClick,y=e.onReportClick,b=e.showFollow,v=e.showShare,m=e.size,_=l.id,g=l.name,x=l.url,w=l.image_cover_url,j=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(l.followed_by_me))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ez(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ez(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=j[0],O=j[1],A=(0,h.dI)().showOneToast,C=(0,o.I0)(),I=(0,p.Z)(),k=(0,ek.Z)(),T=function(e){var t=e.event;if(I){t.stopPropagation(),I();return}S?(C((0,eE.f)(_,k)),O(!1)):(C((0,eE.Z)(_,k)),O(!0),A(function(e){var t=e.hideToast;return(0,P.jsx)(eB,{boardImage:null!=w?w:"",boardName:g,boardUrl:x,onHide:t})}))},Z={edit:r._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:r._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:r._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:r._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:r._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:r._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,P.jsx)(eT.Z,{bgColor:i,icon:"ellipsis",id:"more-board-options",label:r._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:m,children:function(){return(0,P.jsxs)(a.Lt.Section,{label:r._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[s&&f&&(0,P.jsx)(a.Lt.Item,{onSelect:function(){f()},option:{label:Z.edit,value:Z.edit}}),s&&c&&u&&(0,P.jsx)(a.Lt.Item,{onSelect:function(){u()},option:{label:Z.create_pincode,value:Z.create_pincode}}),v&&d&&(0,P.jsx)(eD.Z,{boardKey:{type:"Legacy",data:l},onCreatePincode:u,onOpen:d,children:function(e){var t=e.onClick;return(0,P.jsx)(a.Lt.Item,{onSelect:t,option:{label:Z.share,value:Z.share}})}}),b&&(0,P.jsx)(n.Fragment,{children:S?(0,P.jsx)(a.Lt.Item,{onSelect:T,option:{label:Z.unfollow,value:Z.unfollow}}):(0,P.jsx)(a.Lt.Item,{onSelect:T,option:{label:Z.follow,value:Z.follow}})}),(0,P.jsx)(a.Lt.Item,{onSelect:y,option:{label:Z.report,value:Z.report}})]})}})}var eM=r(600693),eR=r(918920),eN=r(378888),eU=r(575108),eL=r(670622),eq=r(72918),eH=r(647709),eK=r(744862),eG=r(417245);function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eX(e){var t=e.faces,r=e.maxFaces,n=e.numFaces,o=e.onOverflowClick,i=e.shouldNavigate,l=void 0===i||i,c=((function(e){if(Array.isArray(e))return eW(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return eW(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eW(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse(),s=t.length>r?c.slice(0,r+1):c,u=n-r,d=(0,b.Z)(),f=d.isAuth?null==d?void 0:d.avatar_color_index:void 0;return(0,P.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:s.map(function(e,t){var r=e.name,n=e.src,i=e.href,c=e.isDim;if(0===t&&u>0)return(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:n&&(0,P.jsx)(a.Ee,{alt:r,fit:"contain",naturalHeight:44,naturalWidth:44,src:n,children:(0,P.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:o,rounding:"circle",children:(0,P.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,P.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:u>99?"99+":u})})})})},t);var s=(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:c?.5:1}},marginStart:-2,children:(0,P.jsx)(eK.qE,{color:f,name:r,outline:!0,size:"sm",src:n})},t);return l?(0,P.jsx)(a.Tg,{href:i,rounding:"circle",children:s},t):s})})}function eV(e){var t=e.invitedByUser,r=e.isAccepted,n=e.onDecline,o=e.onAccept,i=e.createdAt,l=(0,R.ZP)(),c=(0,b.Z)(),s=c.isAuth?null==c?void 0:c.avatar_color_index:void 0,u=t.first_name,d=t.full_name,f=t.username,p=t.image_medium_url,y=u||d||l._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,P.jsx)(a.W2,{children:r?(0,P.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,P.jsx)(eX,{faces:[{href:c.isAuth?"/".concat(c.username):"",name:c.isAuth?c.fullName:"",src:c.isAuth?c.imageMediumUrl:""},{href:"/".concat(f),name:d,src:p}],maxFaces:2,numFaces:2}),(0,P.jsxs)(a.xu,{marginStart:2,children:[(0,P.jsx)(a.xv,{weight:"bold",children:l._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,P.jsx)(a.xv,{children:(0,eG.Z)(l._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:y})})]})]}):(0,P.jsx)(a.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,P.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,P.jsx)(a.xu,{marginEnd:2,children:(0,P.jsx)(eK.qE,{color:s,name:d,size:"md",src:p})}),(0,P.jsx)(a.xu,{flex:"grow",children:(0,P.jsx)(a.xv,{color:"default",inline:!0,children:(0,N.nk)(l._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,P.jsx)(a.xv,{color:"default",inline:!0,weight:"bold",children:(0,P.jsx)(a.rU,{display:"inlineBlock",href:"/".concat(f),underline:"hover",children:d})},f),createdAt:(0,P.jsx)(a.xv,{color:"subtle",inline:!0,children:i})})})}),(0,P.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,P.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,P.jsx)(a.zx,{color:"gray",onClick:n,size:"lg",text:l._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,P.jsx)(a.zx,{color:"red",onClick:o,size:"lg",text:l._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var e$=r(415602);function eY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eJ(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eJ(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eQ(e){var t=e.boardId,r=e.inviteCode,i=e.shouldAutoAcceptBoardInvite,l=e.userInviterId,c=(0,R.ZP)(),s=(0,h.dI)(),u=(0,eL.Z)(),d=eY((0,n.useState)(!1),2),f=d[0],p=d[1],y=eY((0,n.useState)(null),2),v=y[0],m=y[1],_=(0,eH.HG)(),g=(0,b.Z)(),x=(0,o.I0)(),w={board_id:t,field_set_key:"boardBanner",invite_code:r,invited_user_id:g.isAuth&&g.id},j=(0,e$.RZ)(),S=(0,e$.CQ)();(0,n.useEffect)(function(){l&&i&&(j(t).then(function(){x((0,e$.A8)(t)),_&&s.showToast(function(e){var t=e.hideToast;return(0,P.jsx)(eZ.Z,{duration:5e3,onHide:t,text:c._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})})}),eU.Z.create("UserResource",{field_set_key:"grid_item",user_id:l}).callGet().then(function(e){var t=e.resource_response,r=t&&t.data;r&&m(r)}))},[i,l]);var O=(0,eO.Z)({name:"BoardInviteResource",options:w}).data,A=!!(l&&i)||f,C=!["new","contact_request_not_approved"].includes((null==O?void 0:O.status)||""),I=function(e){(e?j(t):S(t,w.invited_user_id||"")).then(function(){e&&(x((0,e$.A8)(t)),p(!0),s.showToast(function(e){var t=e.hideToast;return(0,P.jsx)(eZ.Z,{duration:5e3,onHide:t,text:c._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})})),x((0,eq.jB)("BoardInviteResource",w))})},k=(null==O?void 0:O.invited_by_user)||v,T=A?_:C;return!k||T?null:(0,P.jsx)(a.xu,{marginTop:3,paddingY:0,children:(0,P.jsx)(eV,{createdAt:u((null==O?void 0:O.created_at)||"",!0),invitedByUser:k,isAccepted:A,onAccept:function(){return I(!0)},onDecline:function(){return I(!1)}})})}function e0(e){var t=e.boardId,r=(0,i.TH)(),n=r&&r.search?(0,eN.mB)(r.search):{},o=n.invite_code,a=n.accept_invite,l=n.inviter_user_id;return(0,P.jsx)(eQ,{boardId:t,inviteCode:o,shouldAutoAcceptBoardInvite:a,userInviterId:l})}var e1=function(e){var t=e.board,r=t.id,o=t.owner,i=t.sensitivity,l=(0,b.Z)(),c=l.isAuth?l.id:"",s=(null==o?void 0:o.id)===c,u=(0,ey.Uz)(i);return(0,P.jsxs)(n.Fragment,{children:[!u&&(0,P.jsx)(e0,{boardId:r}),u&&(0,eb.ZP)(i).hasNotices&&i&&(0,P.jsx)(a.xu,{paddingY:10,children:(0,P.jsx)(ev.Z,{boardId:r,boardName:t.name,notices:i.notices,sensitivity:i,viewParameter:s?3069:3070,viewType:5})})]})},e2=r(419064),e3=r(840321);function e8(e){var t,r,n,o,i,l=e.board,c=e.collaborators,s=e.handleCreatePincode,u=e.handleShowCollabAndPermissionsModal,f=e.isBoardPreviewMode,p=e.overFlowActionsButton,y=e.showPulsar,v=e.setBoardPreviewMode,m=e.userBlocked,h=l.access,_=l.archived_by_me_at,w=l.collaborator_requests_enabled,j=l.name,S=l.owner,O=l.privacy,A=l.should_show_board_collaborators,C=(0,e3.Z)({boardCollaboratorCount:l.collaborator_count,collaborators:c,showOnlyOwner:!A,ownerName:null==S?void 0:S.full_name}).nonDisplayedCollaboratorCount,I=(0,b.Z)(),k=(0,g.Z)(),T=(0,x.D3)(I,(null==(t=l.owner)?void 0:t.id)||"",k),Z=h&&h.includes("write")||T,B=(0,d.Z)(l.collaborated_by_me,null==(r=l.owner)?void 0:r.id,I)||T,E=O===eR.ZP.BoardPrivacy.SECRET,D=!Z&&!m&&w&&!(I.isAuth&&I.isPrivateProfile);return(0,P.jsxs)(a.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,P.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,P.jsx)(a.xu,{maxWidth:800,children:(0,P.jsx)(e1,{board:l})})}),(0,P.jsx)(a.xu,{marginTop:4,paddingX:2,children:(0,P.jsx)(e2.Z,{board:l,boardName:null!=j?j:"",collaborators:c,description:null!=(n=l.description)?n:"",handleShowCollabAndPermissionsModal:u,isArchived:!!_,isBoardPreviewMode:f,isOwnerOrCollaborator:B,isSecret:E,nonDisplayedCollaboratorCount:C,onCreatePincode:s,overFlowActionsButton:p,pinCount:null!=(o=l.pin_count)?o:0,sectionCount:null!=(i=l.section_count)?i:0,setBoardPreviewMode:v,showJoinButton:!!D,showPulsar:y})})]})}var e6=r(875863),e5=r(271910),e4=function(e){var t=e.boardName,r=e.boardUrl,n=e.children,o=e.description,i=e.overFlowActionsButton,l=e.sectionName,c=e.ref;return(0,P.jsxs)(a.xu,{ref:c,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,P.jsxs)(a.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,P.jsx)(e6.Z,{children:(0,P.jsx)(a.xu,{marginTop:4,children:(0,P.jsx)(e5.q,{children:function(e){var n=e.active,o=e.focused,i=e.hovered,l=e.onBlur,c=e.onFocus,s=e.onMouseEnter,u=e.onMouseLeave;return(0,P.jsx)(a.Tg,{href:null!=r?r:"",onBlur:l,onFocus:c,onMouseEnter:s,onMouseLeave:u,children:(0,P.jsx)(a.X6,{align:"center",color:n||o||i?"default":"subtle",children:t})})}})})}),(0,P.jsx)(e6.Z,{children:(0,P.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,P.jsx)(a.X6,{align:"center",lineClamp:1,children:l}),!!i&&(0,P.jsx)(a.xu,{paddingX:1,children:i})]})}),!!o&&(0,P.jsx)(e6.Z,{children:(0,P.jsx)(a.xv,{align:"center",children:o})})]}),n&&(0,P.jsx)(a.xu,{marginTop:8,children:n})]})};function e7(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e9(e){var t,r,o,i,l,c,s,f,p,y,v,m,h=e.board,_=e.handleBoardEditClick,w=e.handleFollowersClick,j=e.handleSectionEditClick,S=e.handleShowBoardArchiveConfirmation,O=e.handleShowBoardUnarchiveConfirmation,A=e.handleShowCollabAndPermissionsModal,C=e.handleShowCreatePincodeModal,I=e.handleShowMergeModal,k=e.isBoardPreviewMode,T=e.section,Z=e.showPulsar,B=e.setBoardPreviewMode,E=(0,b.Z)(),D=(0,g.Z)(),z=(0,ep.Z)(),F=z&&(0,u.Z)(h.privacy)?"?orbac_subject_id=".concat(z):"",M=h.name,R=h.sensitivity,N=h.access,U=h.url,L=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e7(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e7(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),q=L[0],H=L[1],K=(0,x.D3)(E,(null==(r=h.owner)?void 0:r.id)||"",D),G=N&&N.includes("write")||K?eI.I:eC,W=(0,ey.Uz)(R),X=(0,d.Z)(h.collaborated_by_me,null==(o=h.owner)?void 0:o.id,E)||K,V=null;V=X?(0,P.jsx)(eM.Z,{bgColor:T?"lightGray":"white",board:h,excludeShareOption:!0,onArchiveClick:S,onCreatePincode:C,onEditBoardClick:_,onEditSectionClick:j,onMergeClick:I,onUnarchiveClick:O,showCreatePinCodeOption:E.isAuth&&E.isPartner,size:"lg",surface:T?"section":"board"}):(0,P.jsx)(eF,{bgColor:"white",board:h,onReportClick:function(){return H(!0)},showFollow:!0,size:"lg"});var $=W&&(0,eb.ZP)(R).hasNotices;return(0,P.jsxs)(n.Fragment,{children:[q&&(0,P.jsx)(eS,{boardId:h.id,onDismiss:function(){return H(!1)}}),T?(0,P.jsxs)(n.Fragment,{children:[$&&(0,P.jsx)(e6.Z,{children:(0,P.jsx)(a.xu,{maxWidth:800,paddingY:10,children:R&&(0,P.jsx)(ev.Z,{boardId:h.id,boardName:h.name,boardSectionId:T.id,isOwnBoard:K,notices:R.notices,sensitivity:R,viewParameter:K?3069:3070,viewType:5})})}),(0,P.jsx)(e4,{boardName:M,boardUrl:"".concat(void 0===U?"":U).concat(F),description:null!=(i=T.description)?i:"",overFlowActionsButton:V,sectionName:null!=(l=T.title)?l:""})]}):(0,P.jsx)(a.xu,{"data-test-id":"board-header",paddingX:2,children:(0,P.jsx)(G,{boardId:h.id,ownerAdsOnlyProfileSite:(null==(c=h.owner)?void 0:c.ads_only_profile_site)||"",ownerImgSrc:(null==(s=h.owner)?void 0:s.image_key)||(null==(f=h.owner)?void 0:f.image_medium_url)||(null==(p=h.owner)?void 0:p.image_small_url)||"",ownerIsAdsOnlyProfile:(null==(y=h.owner)?void 0:y.is_ads_only_profile)||!1,ownerName:(null==(v=h.owner)?void 0:v.full_name)||"",ownerUsername:(null==(m=h.owner)?void 0:m.username)||"",children:function(e){var t;return(0,P.jsx)(e8,{board:h,collaborators:e,handleCreatePincode:C,handleShowCollabAndPermissionsModal:A,isBoardPreviewMode:k,onFollowersClick:w,overFlowActionsButton:V,setBoardPreviewMode:B,showPulsar:Z,userBlocked:!!(null!=(t=h.owner)&&t.blocked_by_me)})}})})]})}e4.displayName="SectionHeader";var te=r(686319);function tt(e){var t=e.boardId,r=e.collaboratorId,n=e.collaboratorUsername,l=(0,o.I0)(),c=(0,i.s0)(),s=(0,R.ZP)();return(0,P.jsx)(a.kC,{justifyContent:"center",width:"100%",children:(0,P.jsx)(a.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,P.jsx)(a.XA,{message:s._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:s._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:s._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:function(){(0,te.Z)({url:"/v3/boards/".concat(t,"/collaborators/requests/ownership/"),method:"PUT",data:{collaborator:r}}),l((0,B.K8)(n)),c("/".concat(n,"/"))}},secondaryAction:{accessibilityLabel:s._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:s._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:function(){l((0,e$.xx)(t,r))}},title:s._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}var tr=r(664973);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t,r){var n;return(n=function(e,t){if("object"!=tn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tn(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tn(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ti(e){var t=e.handleAddSection,r=e.handleCreatePin,o=e.handleCreateStoryPin,i=e.surface,l=(0,f.u)().logContextEvent,c=(0,R.ZP)(),s=(0,n.useRef)(null),u="board"===i?c._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):c._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,P.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,P.jsx)(tr.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:t,onCreatePin:r,onCreateStoryPin:o,onOpen:function(){l({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:i,children:function(e){var t=e.active,r=e.accessibilityControls,n=e.openFlyout;return(0,P.jsxs)(a.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,P.jsx)(a.xG,{ref:s,accessibilityControls:r,accessibilityExpanded:t,accessibilityLabel:u,accessibilityPopupRole:"dialog",icon:"add",onClick:n,selected:t,tooltip:{text:u}}),(0,P.jsx)(y.cs,{anchors:to({},3006,s.current),idealDirection:"up",placementId:18}),(0,P.jsx)(y.N,{anchors:to({},3006,s.current),idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}})})}var ta=r(140725),tl=r(250905).HW+1;function tc(e){var t=e.handleGoBack,r=e.hideSensitivityScreen,n=e.sensitivityScreenAuxData,o=(0,R.ZP)();return(0,ta.Q)({component:13860,view_type:5,aux_data:n}),(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(tl),children:(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,P.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,P.jsx)(a.X6,{align:"center",color:"light",children:o._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,P.jsxs)(a.kC,{gap:{row:6,column:0},children:[(0,P.jsx)(a.zx,{color:"red",onClick:t,size:"lg",text:o._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,P.jsx)(a.zx,{color:"white",onClick:r,size:"lg",text:o._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,P.jsx)(a.xu,{paddingY:4,children:(0,P.jsx)(a.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,N.nk)(o._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,P.jsx)(a.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,P.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:o._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var ts=r(697063),tu=r(31290),td=r(196491),tf=r(558926),tp=r(647512);function ty(e){var t=(0,R.ZP)(),r=e.boardUrl,n=e.onHide,o=e.slug;return(0,P.jsx)(eZ.Z,{duration:2e3,href:"".concat(void 0===r?"":r).concat(o),onHide:n,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}var tb=r(244526);function tv(e){return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=tv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tv(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tv(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tg(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tg(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tx=function(){},tw=(0,y.RL)(18,function(e){var t;return{board_id:e.board.id,pin_count:null!=(t=e.board.sectionless_pin_count)?t:0}})(function(e){var t,r,S,O,A,C,I,k,F,M,N=e.board,U=e.experience,q=e.initialModalType,H=e.refreshBoardData,K=void 0===H?tx:H,G=e.refreshSectionData,W=void 0===G?tx:G,X=e.setPlacementExtraContext,V=void 0===X?tx:X,$=e.section,Y=e.showPulsar,J=t_((0,n.useState)(!1),2),Q=J[0],ee=J[1],et=(0,f.u)().logContextEvent,er=(0,o.I0)(),eo=(0,p.Z)(),ei=(0,j.G)().setFooterPlusButtonVisible,ea=(0,b.Z)(),el=(0,g.Z)(),ec=(0,Z.W$)(ea,N),es=N.collaborated_by_me,eu=N.id,ed=N.owner,ey=N.pending_ownership_transfer,eb=N.pin_count,ev=N.privacy,em=($||{}).pin_count,eh=(null==ed?void 0:ed.id)||"",e_=(0,x.q6)(ea,eh,el),eg=(0,d.Z)(es,eh,ea)||e_,ex=ea.isAuth&&ea.id===ey,ew=(0,x.lJ)(ea,el),ej=ew&&(0,u.Z)(ev)?"?orbac_subject_id=".concat(ew):"",eS=(0,c.Z)(!0),eP=!!$;(0,n.useEffect)(function(){var e="other";ec?e="own":(0,Z.Df)(ea,N)&&(e="collaborator"),V({board_ownership:e})},[U]),(0,n.useEffect)(function(){return eg&&ei(!1),function(){ei(!0)}},[ei,eg]);var eA=(0,h.dI)().showOneToast,eC=(0,i.s0)(),eI=(0,i.TH)(),ek=0===(0,v.ou)().previous.length;t=(0,L.WG)(),r=(0,b.Z)(),S=(0,eO.Z)({name:"UserMetadataResource",options:{user:r}}),(0,n.useEffect)(function(){if(S&&S.data&&!(null!=t&&t.boardPinDensity)){var e=S.data.profile_pin_rep_view_type;null==t||t.setBoardPinDensity(null!=e?e:"regular")}});var eT=(0,z.Z)({board:N}),eZ=eT.handleShowMergeSectionsConfirmationModal,eB=eT.mergeConfirmationModalProps,eE=eT.onConfirm,eD=(O=(0,R.ZP)(),A=(0,f.u)().logContextEvent,C=(0,o.I0)(),I=(0,tu.Z)().showBlockingActionToast,k=(0,ep.Z)(),function(e){var t=e.board,r=e.targetBoard;A({event_type:7172,object_id_str:t.id,aux_data:{merge_flow:"menu"}}),C((0,td.Z)(t.id,r.id,k)).then(function(){I({actionType:"merge",board:r})}).catch(function(e){ts.Z.showError(e.message||O._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}),ez={board_id:N.id,reason:(null==(F=N.sensitivity_screen)?void 0:F.reason)||""},eF=t_((0,n.useState)(!!(null!=(M=N.sensitivity_screen)&&M.show_warning)&&!eg),2),eM=eF[0],eR=eF[1],eN=t_((0,n.useState)(null),2),eU=eN[0],eL=eN[1],eq=t_((0,n.useState)(q||null),2),eH=eq[0],eK=eq[1],eG=t_((0,n.useState)(N&&(0,tp.Z)(ea,N)||"custom"),2),eW=eG[0],eX=eG[1],eV=function(){return eK(D.s.boardArchiveConfirmation)},e$=function(){eC(ea.isAuth?"/".concat((0,x.Ms)(ea,el)):"/",{replace:!0})},eY=function(e){if(eo)return void eo();eK(D.s.editSection),eL(e)},eJ=function(e){eA(function(t){var r,n=t.hideToast;return(0,P.jsx)(ty,{boardUrl:N.url,onHide:n,slug:null!=(r=e.slug)?r:""})})},eQ={board_id:N.id,board_pin_count:eb};return(0,_.Z)(function(){(eI.state||Object.freeze({})).shouldOpenCollaboratorsModal&&(eK(D.s.collaboratorsAndPermissions),eC(th(th({},eI),{},{state:th(th({},eI.state),{},{shouldOpenCollaboratorsModal:!1})}),{replace:!0}))}),(0,P.jsx)(w.Z,{objectIdStr:eu,viewParameter:ec?3069:3070,viewType:5,children:(0,P.jsx)(m.Z,{auxData:eQ,objectId:eu,view:5,viewParameter:(0,en.Z)({board:N,viewer:ea}),children:(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:eM?{filter:"blur(30px)"}:{}},children:[(0,P.jsxs)(tb.h,{children:[(0,P.jsx)(e9,{board:N,handleBoardEditClick:function(){et({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eK(D.s.boardEdit)},handleFollowersClick:function(){eK(D.s.followers)},handleSectionEditClick:function(){return eY()},handleShowBoardArchiveConfirmation:eV,handleShowBoardUnarchiveConfirmation:function(){return eK(D.s.boardUnarchiveConfirmation)},handleShowCollabAndPermissionsModal:function(){return eK(D.s.collaboratorsAndPermissions)},handleShowCreatePincodeModal:function(){if(eo)return void eo();et({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eK(D.s.pincode)},handleShowMergeModal:function(){if(eo)return void eo();eK(D.s.mergeBoard)},isBoardPreviewMode:Q,section:$,setBoardPreviewMode:ee,showPulsar:Y}),eg&&eP&&!Q&&(0,P.jsx)(a.xu,{marginBottom:6,marginTop:6,children:(0,P.jsx)(tf.Z,{boardId:N.id,isBoardEmpty:!eb||!em,sectionId:null==$?void 0:$.id})}),ex&&(0,P.jsx)(tt,{boardId:N.id,collaboratorId:ea.isAuth?ea.id:"",collaboratorUsername:ea.isAuth?ea.username:""}),eH!==D.s.jumpstartBoard&&(0,P.jsx)(m.Z,{auxData:eQ,component:178,objectId:N.id,view:5,viewParameter:ec?3069:3070,children:(0,P.jsx)(ef,{board:N,currentView:eW,handleContentViewChange:function(e){return eX(e)},handleSetCurrentModal:eK,handleShowEditSectionModal:eY,handleShowMergeSectionsConfirmationModal:eZ,isBoardPreviewMode:Q,isHidePinCount:!eP,isOwnBoard:ec,isOwnerOrCollaborator:eg,isPinGridSorted:"custom"!==eW,refreshBoardData:K,refreshSectionData:W,section:$})}),(0,P.jsx)(T,{boardId:N.id,handleShowArchiveConfirmation:eV}),eg&&(0,P.jsx)(ti,{handleAddSection:function(){if(eo)return void eo();et({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eK(D.s.simpleCreateSection)},handleCreatePin:function(){if(eo)return void eo();et({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),eC("/pin-builder/",{state:{board:N,boardSection:$}})},handleCreateStoryPin:function(){if(eo)return void eo();et({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),eC((0,l.Z)(eS),{state:{board:N,entry_type:"board_plus_button",boardSection:$}})},surface:$?"section":"board"})]}),eH&&(0,P.jsx)(E.Z,{actions:{completeCreateSectionAction:function(e){if(eo)return void eo();eK(null),eJ(e)},onBoardArchiveChange:function(){er((0,B.K8)(ea.isAuth?ea.username:""))},onBoardDelete:function(){K(),e$()},onBoardLeave:function(){er((0,B.K8)(ea.isAuth?ea.username:"")),e$()},onBoardMerge:function(e){eD({board:N,targetBoard:e}),e$()},onBoardSectionDelete:function(){if(eL(null),eK(null),$){var e,t=null!=(e=N.url)?e:"";eC("".concat(t).concat(ej),{replace:!0})}},onBoardSectionSave:function(e){var t,r=e.slug;eL(null),eK(null),$&&eC("".concat(null!=(t=N.url)?t:"").concat(r,"/").concat(ej),{replace:!0})},onConfirmMergeSection:eE},board:N,boardSection:$||eU,currentModal:eH,mergeConfirmationModalProps:eB,onClearModal:function(){return eK(null)}}),(0,P.jsx)(y.k6,{placementId:1000647}),(0,P.jsx)(y.RK,{placementId:18}),(0,P.jsx)(s.Z,{placementId:18}),(0,P.jsx)(y._f,{experience:U,placementId:18}),(0,P.jsx)(y.nj,{experience:U,placementId:18})]}),eM&&(0,P.jsx)(tc,{handleGoBack:function(){et({event_type:101,component:13860,element:73,view_type:5,aux_data:th({},ez)}),ek&&eC("/",{replace:!0}),eC(-1)},hideSensitivityScreen:function(){er((0,B.of)(N.id)),et({event_type:101,component:13860,element:12448,view_type:5,aux_data:th({},ez)}),eR(!1)},sensitivityScreenAuxData:ez})]})})})})},433110:function(e,t,r){r.d(t,{Z:function(){return _}});var n=r(581722),o=r(821342),i=r(886981),a=r(448505),l=r(7872),c=r(33618),s=r(696323),u=r(930382),d=r(223700),f=r(185094),p=r(222719),y=r(382718);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){var t=(0,o.Z)(),r=(0,a.Z)(),b=(0,l.lJ)(t,r),v=(0,i.Z)({name:"BoardSectionPinsResource",options:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{currentFilter:r,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:n}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,b)}),h=(0,i.Z)({name:"BoardsResource",options:(0,c.Z)(e.viewer.username,!0)}),_=(0,n.v9)(function(t){var r=t.feeds,n=t.desktopStories;return(0,d.Z)(r["".concat(s.Z.BOARD_SECTION_PINS,":").concat(e.boardSectionId)],n)});return(0,y.jsx)(u.Z,m(m(m({},e),_),{},{boardsResource:h,renderFeaturedBoardsStory:function(t){return(0,y.jsx)(f.Z,{isOwnBoard:e.isOwnBoard,storyId:t})},renderMoreIdeas:function(t){return e.isOwnerOrCollaborator?null:(0,y.jsx)(p.default,{storyId:t})},resource:v}))}h.displayName="BoardSectionPinGrid";var _=h},305434:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e,t){var r=e.url,n=t.slug;return"".concat(null!=r?r:"").concat(null!=n?n:"","/")}},147403:function(e,t,r){t.Z=(0,r(586659).createContext)({showAbout:!1,setShowAbout:function(){}})},512395:function(e,t,r){function n(){return{}}r.d(t,{kr:function(){return n}}),r.g.__AsyncLocalStorage__&&new r.g.__AsyncLocalStorage__},650422:function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split(/\/(.*)+/))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0];return{filepath:r[1]||"",site:o||""}}function i(e,t){return t?"".concat(e||"","/").concat(t):"/".concat(e||"")}r.d(t,{ac:function(){return o},ke:function(){return i}})},183152:function(e,t,r){r.d(t,{Zv:function(){return l},uo:function(){return c},wH:function(){return a}});var n=r(729434),o=r(650422),i=(0,n.Z)("HandlerId"),a=i.Provider,l=i.get;function c(){var e=l();return(0,o.ac)(e).site}},666767:function(e,t,r){function n(){var e=void 0;return e?function(t){return e.addToBeLoaded(t)}:function(){}}r.d(t,{N:function(){return n}}),(0,r(512395).kr)()},78762:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(586659),o=r(15667),i=r(782259),a=r(603316),l=r(160374),c=r(183152);function s(e){if(e&&r.m[e])return r(e).default}r(666767);var u=r(382718);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t,r,d,p){var b,v=null==(b=null==t?void 0:t.ssr)||b?n.Suspense:i.Z,m=new Map,h=new Map;function _(e){return d&&null!=t&&t.dynamicRequestKey&&e?d.replace("[request]",e[t.dynamicRequestKey]):d}function g(e){var t;return r?r(e):null!=(t=_(e))?t:"static"}function x(e){var t=e.children,r=e.chunkName,i=e.earlyHydrationConfig,s=(0,c.Zv)(),u=(0,o.Ts)();return(0,n.useEffect)(function(){(0,a.nP)("earlyHydrationDebug.lazyComponent.suspend",{tags:y(y({},(0,l.M3)({earlyHydrationConfig:i,handlerId:s,requestContext:u})),{},{chunkName:r})})},[]),t}function w(o){null==t||t.dynamicRequestKey;var i=g(o),c=(0,l.DB)(),d=_(o);if(!h.has(i)){var f,b,m,w,j,S,P,O,A,C,I,k=null==r?void 0:r(o);h.set(i,(w=(f={chunkName:d,dynamicImport:e,earlyHydrationEnabled:c.anyEnabled,getDependentChunkNames:p,moduleId:k,props:o}).chunkName,j=f.dynamicImport,S=f.earlyHydrationEnabled,P=f.getDependentChunkNames,O=f.moduleId,A=f.props,C=(0,n.lazy)(function(){return j(A)}),I=!!(m=S?(b=function(e,t){if(e)return Array.isArray(e)?e:t&&e[t]||void 0}(null==P?void 0:P(),w))&&b.every(function(e){var t,r;return null!=(t=null==(r=void 0!==window.legacyJsonp?window.legacyJsonp:window.modernJsonp)?void 0:r.some(function(t){return t[0].includes(e)}))&&t})?s(O):void 0:s(O)),(0,a.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:null!=w?w:"unknown",hasModuleInCache:I,moduleId:null!=O?O:"unknown"}}),m||C))}var T=h.get(i);return(0,u.jsx)(v,{fallback:(0,u.jsx)(x,{chunkName:null!=d?d:"unknown",earlyHydrationConfig:c,children:o.fallback||(null==t?void 0:t.fallback)}),children:(0,u.jsx)(T,y(y({},o),{},{ref:o.ref}))})}return w.preload=function(t){var r,n,o;r=g(t),n=h.get(r),m.get(r)||n||m.set(r,(o=regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n){o.next=6;break}return o.next=3,e(t);case 3:i=o.sent,h.set(r,i.default),m.delete(r);case 6:case"end":return o.stop()}},o)}),function(){var e=this,t=arguments;return new Promise(function(r,n){var i=o.apply(e,t);function a(e){f(i,r,n,a,l,"next",e)}function l(e){f(i,r,n,a,l,"throw",e)}a(void 0)})})())},w}},854737:function(e,t,r){t.Z=(0,r(586659).createContext)(null)},84336:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(586659),o=r(160374),i=r(854737);function a(){var e=(0,n.use)(i.Z);return null!=e?e:o.g5}},160374:function(e,t,r){r.d(t,{DB:function(){return u},M3:function(){return d},SS:function(){return s},g5:function(){return l}});var n=r(650422);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l={anyEnabled:!1,group:"",scriptPlacement:"head",optimizedClient:!1,moduleScripts:!1,instantLoadingIndicator:!0,isServiceWorkerExperiment:!1};function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=a(a({},l),{},{anyEnabled:e.startsWith("enabled")||e.startsWith("employees"),group:e,optimizedClient:e.includes("optimized_client"),instantLoadingIndicator:!e.includes("no_app_shell"),isServiceWorkerExperiment:t});switch(e){case"enabled":case"enabled_no_app_shell":return a(a({},r),{},{scriptPlacement:"head"});case"enabled_preload":case"enabled_preload_no_app_shell":return a(a({},r),{},{scriptPlacement:"head",preloadScripts:"low"});case"enabled_preload_high":case"enabled_preload_high_no_app_shell":return a(a({},r),{},{scriptPlacement:"head",preloadScripts:"high"});case"employees":case"enabled_preload_and_body_scripts":case"enabled_preload_and_body_scripts_no_app_shell":return a(a({},r),{},{scriptPlacement:"body",preloadScripts:"low"});case"enabled_preload_high_and_body_scripts":case"enabled_preload_high_and_body_scripts_no_app_shell":return a(a({},r),{},{scriptPlacement:"body",preloadScripts:"high"});case"control":case"control_no_app_shell":return r;default:return l}}function s(e){var t,r,o,i,a,s,u,d,f=e.experimentsClient,p=e.handlerId,y=e.skipActivation,b=void 0!==y&&y;return"www"!==(0,n.ac)(null!=p?p:"").site?l:(o=(t={experimentsClient:f,skipActivation:b}).experimentsClient,i=t.skipActivation,s=(a=null!=(r=null==o?void 0:o.checkExperiment("web_sw_with_early_hydration",{dangerouslySkipActivation:i}))?r:{group:"",anyEnabled:!1}).group,u=a.anyEnabled,"control_early_hydration_specify_hostname"===s||"control_early_hydration_reduce_precache"===s||"control_early_hydration_extend_precache"===s||"control_early_hydration"===s||u)?c("enabled_preload_and_body_scripts",!0):c((null!=(d=null==f?void 0:f.checkExperiment("web_early_hydration",{dangerouslySkipActivation:b}))?d:{group:""}).group,!1)}var u=r(84336).Z;function d(e){var t=e.earlyHydrationConfig,r=e.handlerId,n=e.requestContext,o=t.group,i=t.isServiceWorkerExperiment,a=n.isAuthenticated,l=n.isBot,c=n.userAgent;return{earlyHydrationGroup:o||"unknown",environment:"client",handlerId:r,isAuthenticated:a,isBot:l,isDesktop:!c.isMobile&&!c.isTablet,isServiceWorkerExperiment:i,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}},64834:function(e,t,r){r.d(t,{u:function(){return n}});var n="HIDDEN_ON_SERVER_ERROR";t.Z=function(e){return e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(n)}}}]);