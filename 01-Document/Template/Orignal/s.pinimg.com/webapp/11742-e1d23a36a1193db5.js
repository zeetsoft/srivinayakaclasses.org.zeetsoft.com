"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["11742"],{566470:function(e,t,s){var n=s(20256),i=s(233519),r=s(19585),l=s(979658),o=s(464876),a=s(382718);t.Z=function(e){var t=e.page,s=e.shouldUseSlimBanner,c=(0,o.KJ)(),u=(0,r.ZP)(),d=(0,i.ZP)(t),_=(0,l.y)().openSheet,m=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.accessibilityLabel', 'Accessibility label for ad account request callout'),h=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.message', 'Message providing details to the advertiser about the ad account request.'),p={accessibilityLabel:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.accessibilityLabel', 'Accessbility label for view requests banner link'),label:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.label', 'View requests banner link'),onClick:function(){d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"aoaa-pending-incoming-requests-banner",element:"BUSINESS_ACCESS_LINK",elementId:"aoaa-pending-incoming-requests-banner-link",business_id:c}),_("RESPOND_AOAA_REQUESTS",{id:c})}};return void 0!==s&&s?(0,a.jsx)(n.xu,{children:(0,a.jsx)(n.he,{iconAccessibilityLabel:m,message:h,primaryAction:p,type:"info"})}):(0,a.jsx)(n.xu,{children:(0,a.jsx)(n.ci,{iconAccessibilityLabel:m,message:h,primaryAction:p,type:"info"})})}},709096:function(e,t,s){var n=s(586659),i=s(581722),r=s(20256),l=s(19585),o=s(691731),a=s(464876),c=s(382718);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}t.Z=function(e){var t,s=e.type,d=(0,l.ZP)(),_=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,i,r,l,o=[],a=!0,c=!1;try{for(r=(s=s.call(e)).next;!(a=(n=r.call(s)).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=s.return&&(l=s.return(),Object(l)!==l))return}finally{if(c)throw i}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?u(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=_[0],h=_[1],p=(0,i.I0)(),b=(0,a.KJ)();return(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(r.rs,{id:"expiredInviteSwitch",onChange:function(){h(!m),p((0,o.R)(m?["PENDING","EXPIRED"]:["PENDING"],s,b))},switched:m}),(0,c.jsx)(r.xu,{paddingX:2,children:(0,c.jsx)(r.__,{htmlFor:"expiredInviteSwitch",children:(0,c.jsx)(r.xv,{size:"200",children:d._('Hide expired invites', '[m10n]bizAccess.expiredInviteSwitch.text', 'Label for a switch that hides expired invites')})})})]})}},799402:function(e,t,s){s.d(t,{A:function(){return u},Z:function(){return d}});var n=s(20256),i=s(18468),r=s(19585),l=s(566470),o=s(701831),a=s(382718),c=function(){var e=(0,r.ZP)();return(0,a.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,a.jsx)(n.xH,{accessibilityLabel:(0,o.hC)(e),delay:!1,show:!0,size:"sm"})})},u=function(e){var t=e.title,s=e.subtitle,r=e.header,l=e.content;return(0,a.jsxs)(n.xu,{as:"article",marginEnd:6,marginStart:6,paddingY:6,children:[(0,a.jsxs)(n.xu,{as:"header",marginBottom:4,marginStart:2,children:[(0,a.jsx)(n.xu,{marginBottom:2,children:"string"==typeof t?(0,a.jsx)(n.X6,{size:"600",children:t}):t}),"string"==typeof s?(0,a.jsx)(n.xv,{size:"300",children:s}):s]}),(0,a.jsx)(n.xu,{as:"section",borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:i.iiJ}},padding:4,rounding:4,children:(0,a.jsxs)(n.kC,{direction:"column",gap:6,children:[!!r&&(0,a.jsx)(n.kC.Item,{flex:"grow",children:r}),(0,a.jsx)(n.kC.Item,{children:l})]})})]})},d=function(e){var t=e.title,s=e.titleTooltip,o=e.subtitle,u=e.cta,d=e.secondaryAction,_=e.search,m=e.tabs,h=e.isLoading,p=e.table,b=e.maxWidth,f=e.heightShouldGrowWithContent,g=e.showAoaaBanner,y=e.banner,v=e.subtitleHref,A=void 0===v?"":v,x=e.subtitleDataTestId,P=(0,r.ZP)(),E=(0,a.jsxs)(n.xu,{children:[(0,a.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,width:"100%",children:[(0,a.jsx)(n.xu,{children:m}),(0,a.jsx)(n.xu,{marginBottom:2,children:u})]}),_?(0,a.jsx)(n.xu,{marginBottom:2,minWidth:"100%",children:_}):null]}),z=(0,a.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,width:"100%",children:[(0,a.jsx)(n.kC.Item,{flex:"grow",children:_}),(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",marginStart:2,children:u})]}),j=P._('Additional info', '[m10n] businessAccess.permissions.cell.additionalInfo', 'accessibility label of more info tooltips');return(0,a.jsxs)(n.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[(0,a.jsxs)(n.xu,{display:"flex",marginBottom:4,marginStart:2,children:[(0,a.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(n.X6,{size:"600",children:t}),s&&(0,a.jsx)(n.hU,{accessibilityLabel:P._('Page info icon', '[[m10n]bizAccess.page.info.icon', 'Accessibility label for page info icon'),bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:s,accessibilityLabel:s}})]}),!!o&&"string"==typeof o&&(0,a.jsx)(n.xu,{alignItems:"center","data-test-id":x,display:"flex",marginStart:1,children:A?(0,a.jsx)(n.I_,{accessibilityLabel:j,bgColor:"transparent",href:A,icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:o}}):(0,a.jsx)(n.hU,{accessibilityLabel:j,bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:o}})})]}),(0,a.jsxs)(n.kC,{direction:"column",width:"100%",children:[g&&(0,a.jsx)(n.xu,{marginBottom:2,minWidth:"100%",children:(0,a.jsx)(l.Z,{page:3803,shouldUseSlimBanner:!0})}),y?(0,a.jsx)(n.xu,{minWidth:"100%",children:y}):null]}),(0,a.jsx)(n.kC,{minHeight:f?void 0:"calc(100vh - 169px)",width:"100%",children:(0,a.jsx)(n.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:i.iiJ}},flex:"grow",maxWidth:b,minWidth:940,padding:4,rounding:4,width:"grow",children:(0,a.jsxs)(n.kC,{direction:"column",children:[m?E:z,d&&(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,children:(0,a.jsx)(n.xu,{marginBottom:2,children:d})}),h?(0,a.jsx)(c,{}):(0,a.jsx)(n.xu,{children:p})]})})})]})}},747673:function(e,t,s){s.d(t,{Z:function(){return o}});var n=s(20256),i=s(382718),r=function(e){var t=e.value;return(0,i.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,i.jsx)(n.xv,{size:"100",children:t})})},l=s(948839),o=function(e){return{field:"numOfAssets___test",headerName:e._('Ad accounts', '[m10n]bizAccess.business.people.assets', 'ad accounts assigned to user'),TableCellComponent:r,minWidth:l.I.columnWidths.sm,valueGetter:function(e){return e.assets_summary?(e.assets_summary||{}).ad_accounts.length:l.I.noDataSymbol},justifying:"center"}}},620173:function(e,t,s){var n=s(20256),i=s(86295),r=s(19585),l=s(670622),o=s(302148),a=s(948839),c=s(464876),u=s(793698),d=s(382718);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach(function(t){var n,i;n=t,i=s[t],(n=function(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var p=function(e,t){var s=e.inviteStatus,n=e.inviteDirection,i=e.isPartner,r=e.inviteType,l=e.numAssets,a=void 0===l?0:l,c="PARTNER_REQUEST"!==r;if("EXPIRED"===s)return c?t._('Expired invite', '[m10n]bizAccess.invite.expired', 'expired invite message in invite tables'):t._('Expired request', '[m10n]bizAccess.request.expired', 'Request has expired');if(i){if("RECEIVED"===n)if(c)return a>0?(0,o.nk)(t.ngettext('Inviting you to partner | Giving access to {{numAssets}} asset', 'Inviting you to partner | Giving access to {{numAssets}} assets', a, '[m10n]bizAccess.invite.received', 'received invite message in pending table when assets are requested'),{numAssets:a}):t._('Inviting you to partner', '[m10n]bizAccess.invite.received.noAsset', 'received invite message in pending table');else return a>0?(0,o.nk)(t.ngettext('Requesting to partner | Requesting access to {{numAssets}} asset', 'Requesting to partner | Requesting access to {{numAssets}} assets', a, '[m10n]bizAccess.request.received', 'received request message in requests table when assets are requested'),{numAssets:a}):t._('Requesting to partner', '[m10n]bizAccess.request.received.noAsset', 'received request message in requests table');else if("SENT"===n)if(c)return a>0?(0,o.nk)(t._('You sent this invite to partner | Giving access to {{numAssets}} of your assets', '[m10n]bizAccess.invite.sent', 'received invite message in pending table when assets are requested'),{numAssets:a}):t._('You sent this invite to partner', '[m10n]bizAccess.invite.sent.noAsset', 'received request message in requests table');else return a>0?(0,o.nk)(t.ngettext('You sent this request to partner | Requesting access to {{numAssets}} asset', 'You sent this request to partner | Requesting access to {{numAssets}} assets', a, '[m10n]bizAccess.request.sent', 'received request message in requests table when assets are requested'),{numAssets:a}):t._('You sent this request to partner', '[m10n]bizAccess.request.sent.noAsset', 'received request message in requests table')}if("PENDING"===s)return t._('Waiting to accept', '[m10n]bizAccess.invite.pending', 'Pending invite message in pending relationship table')},b=function(e){var t,s,i=e.inviteData,a=e.user,_=e.assetsSummary,m=e.extendedUserInfo,h=e.created_by_business,b=e.type,f=i.invite_status,g=i.sent_at,y=i.invite_type,v=a.username,A=a.email,x=a.id,P=h.id,E=(0,r.ZP)(),z=(0,l.Z)(),j=m||{},S=j.image_small_url,I=void 0===S?"https://s.pinimg.com/images/user/default_60.png":S,C=j.full_name,w=(0,c.KJ)(),R=A||v||C,N=((null==_?void 0:_.ad_accounts.length)||0)+((null==_?void 0:_.profiles.length)||0)+((null==_?void 0:_.catalogs.length)||0)+((null==_||null==(t=_.audiences)?void 0:t.length)||0)+((null==_||null==(s=_.conversion_segments)?void 0:s.length)||0),T=(0,u.mN)()(null!=x?x:""),O=null==T?void 0:T.avatar_color_index;return(0,d.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"start",rounding:1,children:[R&&(0,d.jsx)(n.xu,{"data-test-id":"pending-invite-to-".concat(x),children:(0,d.jsxs)(n.kC,{alignItems:"start",justifyContent:"start",children:[I&&(0,d.jsx)(n.xu,{marginEnd:4,children:(0,d.jsx)(n.qE,{color:O,name:R,size:"sm",src:I})}),(0,d.jsx)(n.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:(0,d.jsxs)(n.xu,{children:[(0,d.jsxs)(n.xu,{marginBottom:2,children:[(0,d.jsx)(n.xv,{align:"start",color:"default",size:"200",weight:"bold",children:R}),(0,d.jsx)(n.xv,{align:"start",color:"default",size:"200",children:p({inviteDirection:w===P?"SENT":"RECEIVED",inviteStatus:f,inviteType:y,isPartner:"PARTNER"===b,numAssets:N},E)})]}),(0,d.jsx)(n.xv,{align:"start",color:"subtle",size:"100",children:"MEMBER_INVITE"===y?(0,o.nk)(E._('Invite sent {{time}}', '[m10n]bizAccess.pendingTable.footer', 'Footer of row in pending relationships table'),{time:z(new Date(g).toString())}):z(new Date(g).toString())})]})})]})}),!R&&(0,d.jsx)(n.xv,{color:"subtle",size:"100",children:"—"})]})},f=function(e){var t=e.owner,s=e.assetType,i=(0,r.ZP)(),l=t.full_name,a=t.id,c=t.image_small_url,_=(0,u.mN)()(null!=a?a:""),m=null==_?void 0:_.avatar_color_index;return(0,d.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"start",rounding:1,children:[l&&(0,d.jsx)(n.xu,{"data-test-id":"pending-asset-to-".concat(a),children:(0,d.jsxs)(n.kC,{alignItems:"start",justifyContent:"start",children:[c&&(0,d.jsx)(n.xu,{marginEnd:4,children:(0,d.jsx)(n.qE,{color:m,name:l,size:"sm",src:c})}),(0,d.jsx)(n.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:(0,d.jsx)(n.xu,{children:(0,d.jsxs)(n.xu,{marginBottom:2,children:[(0,d.jsx)(n.xv,{align:"start",color:"default",size:"200",weight:"bold",children:l}),(0,d.jsx)(n.xv,{align:"start",color:"default",size:"200",children:(0,o.nk)(i._('Existing retail media network partner \u2022 {{assetType}} pending ', '[m10n]bizAccess.pendingAsset.shared', 'Shared asset message in pending relationships table, assetType: the type of asset'),{assetType:function(){switch(s){case"AD_ACCOUNT":return i._('Ad account', '[m10n]bizAccess.pendingAsset.adAccount', 'Pending asset type for ad accounts');case"PROFILE":return i._('Profile', '[m10n]bizAccess.pendingAsset.profile', 'Pending asset type for profiles');case"CATALOG":return i._('Catalog', '[m10n]bizAccess.pendingAsset.catalog', 'Pending asset type for catalogs');case"PINNER_LIST":return i._('Audience', '[m10n]bizAccess.pendingAsset.audience', 'Pending asset type for audiences');case"CONVERSION_SEGMENT":return i._('Conversion segment', '[m10n]bizAccess.pendingAsset.conversionSegment', 'Pending asset type for conversion segments');default:return i._('Asset', '[m10n]bizAccess.pendingAsset.default', 'Default pending asset type')}}()})})]})})})]})}),!l&&(0,d.jsx)(n.xv,{color:"subtle",size:"100",children:"—"})]})},g=function(e){var t=e.data,s=e.type,n=e.inRmnFoundations;if("invite_data"in t&&"user"in t&&"created_by_business"in t&&"assets_summary"in t&&"extended_user_info"in t){var i=t.invite_data,r=t.user,l=t.assets_summary,o=t.extended_user_info,a=t.created_by_business;return(0,d.jsx)(b,{assetsSummary:l,created_by_business:a,extendedUserInfo:o,inviteData:i,type:s,user:r})}if(n&&"asset"in t&&"owner"in t&&"type"in t){var c=t.owner,u=t.type;return(0,d.jsx)(f,{assetType:u,owner:c})}return null};t.Z=function(e,t){var s=e.headerName,n=e.type,r=e.inRmnFoundations;return{field:"id",headerName:s||t._('Name', '[m10n]bizAccess.invite.column.name.invites', 'Summary of pending columns'),TableCellComponent:function(e){return(0,d.jsx)(g,h(h({},e),{},{inRmnFoundations:r,type:n}))},minWidth:a.I.columnWidths.lg,sortable:!1,initialSortOrder:i.IR.ASCENDING,isActivelyStored:!0}}},574287:function(e,t,s){s.d(t,{Z:function(){return g}});var n=s(586659),i=s(963489),r=s(20256),l=s(19585),o=s(378888),a=s(979658),c=s(464876),u=s(382718),d=function(e){var t=e.value,s=e.data.created_by_business.id,d=(0,l.ZP)(),_=(0,a.y)().openSheet,m=(0,i.TH)(),h=(0,o.mB)(m.search).invite_id,p=(0,c.KJ)()===s;return(0,n.useEffect)(function(){h===t&&(p?_("PARTNER_SEND_INVITE",{id:t}):_("PARTNER_RECEIVE_INVITE",{id:t,partnerId:s}))},[h,t,p]),(0,u.jsx)(n.Fragment,{children:(0,u.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,u.jsx)(r.zx,{accessibilityLabel:d._('Review partner invite', '[m10n]bizAccess.business.partner.invite.review.accessibility', 'accessibility text for button to toggle review partner invite sheet'),fullWidth:!0,onClick:function(){p?_("PARTNER_SEND_INVITE",{id:t}):_("PARTNER_RECEIVE_INVITE",{id:t,partnerId:s})},text:d._('Review', '[m10n]bizAccess.business.partner.invite.review', 'button to toggle review partner invite sheet')})})})})},_=s(319839),m={partner_invite:{sentPendingPartnerSheet:"PARTNER_SEND_INVITE",receivedPendingPartnerSheet:"PARTNER_RECEIVE_INVITE"},partner_request:{sentPendingPartnerSheet:"PARTNER_SEND_REQUEST",receivedPendingPartnerSheet:"PARTNER_RECEIVE_REQUEST"},rmn_partner_invite:{sentPendingPartnerSheet:"RMN_PARTNER_SEND_INVITE",receivedPendingPartnerSheet:"RMN_PARTNER_RECEIVE_INVITE"}},h=function(e){var t,s,d=e.value,h=e.data,p="",b="",f="",g="",y=[];"invite_data"in h&&"user"in h&&"created_by_business"in h&&"business_roles"in h&&(p=h.invite_data.invite_type,b=h.user.id,f=h.created_by_business.id,y=null!=(s=h.business_roles)?s:[]),"owner"in h&&(g=h.owner.id);var v=(0,l.ZP)(),A=(0,a.y)().openSheet,x=(0,i.TH)(),P=(0,o.mB)(x.search),E=P.invite_id,z=P.request_id,j=(0,c.KJ)()===f,S=(0,_.Z)().inRmnFoundations,I=S&&"asset"in h&&"asset_id"in h,C=m[t="partner_request","PARTNER_INVITE"===p&&(t="partner_invite"),S&&y.includes("RMN_PARTNER")&&(t="rmn_partner_invite"),t],w=C.sentPendingPartnerSheet,R=C.receivedPendingPartnerSheet;return(0,n.useEffect)(function(){(E===d||z===d)&&(j?A(w,{id:d}):A(R,{id:d,partnerId:f}))},[E,z,d,j]),(0,u.jsx)(n.Fragment,{children:(0,u.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,u.jsx)(r.xu,{"data-test-id":"partner-pending-review-button-".concat(b,"-").concat(d),children:(0,u.jsx)(r.hU,{accessibilityLabel:I?v._('Review pending asset', '[m10n]bizAccess.business.partner.invite.review.asset.accessibility', 'accessibility text for button to toggle review pending asset notification sheet'):v._('Review pending parter invite or request', '[m10n]bizAccess.business.partner.invite.review.accessibility', 'accessibility text for button to toggle review partner invite or request sheet'),icon:"eye",iconColor:"darkGray",onClick:function(){if(I)return void A("ACCEPT_RMN_ASSET",{id:d,partnerId:g});j?A(w,{id:d}):A(R,{id:d,partnerId:f})},size:"md",tooltip:{text:I?v._('Review pending asset', '[m10n]bizAccess.business.partner.invite.review.asset.tooltip', 'icon button tooltip to toggle review pending asset notification sheet'):v._('Review invite', '[[m10n]bizAccess.business.partner.invite.review.tooltip', 'icon button tooltip to toggle review partner invite sheet')}})})})})})},p=function(e){var t=e.value,s=e.data.created_by_business.id,d=(0,l.ZP)(),_=(0,a.y)().openSheet,m=(0,i.TH)(),h=(0,o.mB)(m.search).request_id,p=(0,c.KJ)()===s;return(0,n.useEffect)(function(){h===t&&(p?_("PARTNER_SEND_REQUEST",{id:t}):_("PARTNER_RECEIVE_REQUEST",{id:t,partnerId:s}))},[h,t,p]),(0,u.jsx)(n.Fragment,{children:(0,u.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,u.jsx)(r.zx,{accessibilityLabel:d._('Review partner request', '[m10n]bizAccess.business.partner.request.review.accessibility', 'accessibility text for button to toggle review partner request sheet'),fullWidth:!0,onClick:function(){p?_("PARTNER_SEND_REQUEST",{id:t}):_("PARTNER_RECEIVE_REQUEST",{id:t,partnerId:s})},text:d._('Review', '[m10n]bizAccess.business.partner.request.review', 'button to toggle review partner request sheet')})})})})},b=function(e){var t=e.value,s=(0,l.ZP)(),i=(0,a.y)().openSheet;return(0,u.jsx)(n.Fragment,{children:(0,u.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,u.jsx)(r.hU,{accessibilityLabel:s._('Review person invite', '[m10n]bizAccess.business.person.invite.review.accessibility', 'accessibility text for button to toggle review person invite sheet'),icon:"eye",iconColor:"darkGray",onClick:function(){i("INVITE_REVIEW",{id:t})},size:"md",tooltip:{text:s._('Review invite', '[m10n]bizAccess.business.person.invite.review.tooltip', 'icon button tooltip to toggle review person invite sheet')}})})})})},f=s(948839),g=function(e,t){var s=function(){return null};return"PARTNER"===e?s=d:"PEOPLE"===e?s=b:"PARTNER_REQUEST"===e?s=p:"PARTNER_PENDING"===e&&(s=h),{field:"id",headerName:t._('Actions', '[m10n]bizAccess.business.people.actions', 'column of actions that can be taken on user'),minWidth:f.I.columnWidths.sm,TableCellComponent:s,valueGetter:function(e){return e.id||e.asset_id},justifying:"center"}}},634290:function(e,t,s){var n=s(333344),i=s(948839);t.Z=function(e){return{field:"user",headerName:e._('Username', '[m10n]bizAccess.business.peoplePage.username', 'Username of actor in the recorded event'),minWidth:i.I.columnWidths.md,TableCellComponent:n.Z,valueGetter:function(e){return e.user.username}}}},3127:function(e,t,s){s.d(t,{Z:function(){return Y}});var n=s(86295),i=s(675973),r=s(307815),l=s(5565),o=s(586659),a=s(581722),c=s(650533),u=s(963489),d=s(20256),_=s(789877),m=s(233519),h=s(317747),p=s(19585),b=s(57152),f=s(868033),g=s(248903),y=s(709096),v=s(799402),A=s(948839),x=s(853473),P=s(693160),E=s(648493),z=s(747673),j=s(620173),S=s(574287),I=s(597648),C=s(382718),w=function(e){var t=e.title,s=e.icon,n=e.color;return(0,C.jsx)(d.kC,{direction:"column",children:(0,C.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,C.jsx)(d.JO,{accessibilityLabel:t,color:n,icon:s,size:16}),(0,C.jsx)(d.xv,{size:"100",children:t})]})})},R=function(e){var t=e.value,s=t.employeeHasMfaEnabled,n=t.employerEnforcesMfaForEmployee,i=e.colDef.justifying,r=(0,p.ZP)();return(0,C.jsx)(d.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:i||"end",padding:0,width:"100%",children:s?(0,C.jsx)(w,{color:"success",icon:"workflow-status-ok",title:r._('Enabled', '[m10n]bizAccess.business.businessSecurity.securityStatus.columnValue.active', 'Value of column when employee has mfa enabled')}):n?(0,C.jsx)(w,{color:"warning",icon:"workflow-status-in-progress",title:r._('Pending', '[m10n]bizAccess.business.businessSecurity.securityStatus.columnValue.pending', 'Value of column when employee has mfa disabled and employer enforces it')}):(0,C.jsx)(w,{color:"subtle",icon:"workflow-status-unstarted",title:r._('Inactive', '[m10n]bizAccess.business.businessSecurity.securityStatus.columnValue.inactive', 'Value of column when employee has mfa disabled and employer does not enforce it')})})},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.field,n=arguments.length>2?arguments[2]:void 0;return{field:void 0===s?"business_roles":s,headerName:(0,C.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,C.jsx)(d.xv,{size:"200",weight:"bold",children:e._('Security status', '[m10n]bizAccess.business.businessSecurity.securityStatus', 'Business security table header')}),(0,C.jsx)(d.u,{text:e._('Security status shows which employees and managers have two-factor authentication enabled, inactive or pending', '[m10n]bizAccess.business.businessSecurity.securityStatus.tooltip', 'Tooltip info for security status column'),children:(0,C.jsx)(d.hU,{accessibilityLabel:e._('Additional info.', '[m10n]bizAccess.business.businessSecurity.securityStatus.tooltip', 'Accessibility label for tooltip on security status column'),bgColor:"white",icon:"info-circle",iconColor:"darkGray",size:"sm"})})]}),TableCellComponent:R,valueGetter:function(e){var t=(null==e?void 0:e.biz_roles)||(null==e?void 0:e.business_roles)||[],s=n||[];return{employerEnforcesMfaForEmployee:s.length>0&&s.some(function(e){return t.includes(e)}),employeeHasMfaEnabled:null==e?void 0:e.has_mfa_enabled}},sortable:!1,isActivelySorted:!1,minWidth:A.I.columnWidths.sm,justifying:"start"}},T=s(634290),O=s(691731),D=s(16135),q=s(587702),k=s(765320),L=s(594036),Z=s(464876);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,i,r,l,o=[],a=!0,c=!1;try{if(r=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=r.call(s)).done)&&(o.push(n.value),o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=s.return&&(l=s.return(),Object(l)!==l))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?V(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}function F(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function M(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?F(Object(s),!0).forEach(function(t){var n,i;n=t,i=s[t],(n=function(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=B(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var W=function(e){var t=e.isLoading,s=(0,p.ZP)(),n=(0,Z.HU)().setAddPeopleModal;return(0,C.jsx)(d.xu,{children:(0,C.jsx)(d.zx,{color:"red",dataTestId:"add-people-button",disabled:t,fullWidth:!0,onClick:function(){n()},text:s._('Add employees', '[m10n]bizAccess.employees.addButton', 'Button to add employees to a business')})})},G=function(e){var t=e.businessId,s=e.searchQuery,n=e.setSearchQuery,i=(0,p.ZP)(),r=(0,a.I0)(),l=(0,m.ZP)(3653),o=(0,D.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],searchTerm:s,businessId:t});(0,b.Z)(function(){r(o),l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"search-field-box",element:"BUSINESS_ACCESS_FIELD",elementId:"employees-page-search-field"})},A.I.debounceTimeOut,[s]);var c=i._('Search employees', '[m10n]bizAccess.employees.search', 'Accessibility text to hint user to search for employees by name, username, or business ID'),u=i._('Search employees', '[m10n]bizAccess.employees.search', 'Placeholder text to hint user to search for employees by name, username, or business ID');return(0,C.jsx)(d.Um,{accessibilityLabel:c,id:"bizMemberSearch",onChange:function(e){n(e.value)},placeholder:u,value:s})},Q=function(){var e=(0,p.ZP)();return(0,C.jsx)(d.Ee,{alt:e._('Example of employees', '[m10n]bizAccess.employees.emptyStateImage', 'Alternate text for image that shows an example of employees'),color:"#FFF",naturalHeight:186,naturalWidth:305,src:f})},J=function(e,t){var s=(t||{}).reloadBugFix,i=(0,D.JC)(M(M({},s&&n.vk),{},{sortBy:"full_name",sortDirection:n.IR.ASCENDING,businessId:e}));return{peopleTab:{selectData:L.Aj,isLoading:k.gB,initialTabIndex:0,pageForLogger:3653,getData:i,elementId:"people-page-pending-tab",pageType:"PEOPLE_PENDING_TAB"},pendingTab:{selectData:L.Ug,isLoading:q.Iw,initialTabIndex:1,pageForLogger:3654,getData:(0,O.R)(["EXPIRED","PENDING"],"MEMBER",e,void 0,s),elementId:"people-page-active-tab",pageType:"PEOPLE"}}},H=function(){var e,t=(0,p.ZP)(),s=(0,Z.KJ)(),r=(0,i.Z)().checkExperiment,l=(0,h.Z)(),b=r("ba_mfa_enabled").anyEnabled,f=r("web_business_access_table_reload_fix").anyEnabled,w=(0,c.$B)().path.includes(":userBizId/employees/pending"),R=w?"pendingTab":"peopleTab",O=J(s,{reloadBugFix:f})[R],q=O.selectData,L=O.isLoading,B=O.initialTabIndex,V=O.pageForLogger,F=O.getData,H=O.elementId,Y=O.pageType,K=(e=l||[],{improvedSearch:[(0,E.Z)(t,{headerName:t._('Employee name', '[m10].bizAccess.partnersPage.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE"}),(0,T.Z)(t),(0,I.Z)(t,{field:"business_roles"}),b?N(t,{field:"business_roles"},e):(0,P.Z)(t,{field:"updated_time"}),(0,z.Z)(t),(0,x.Z)(t,"PEOPLE")],peoplePending:[(0,j.Z)({headerName:t._('Employee name', '[m10].bizAccess.peoplePage.employee, header for employee column', 'Header of employe name column in table'),type:"PEOPLE"},t),(0,S.Z)("PEOPLE",t)]}),X=U((0,o.useState)(function(){return B}),2),$=X[0],ee=X[1],et=(0,a.v9)(k.Ys),es=(0,a.v9)(q),en=(0,a.v9)(L),ei=(0,m.ZP)(V),er=U((0,o.useState)(""),2),el=er[0],eo=er[1],ea=(0,u.s0)(),ec=(0,a.I0)(),eu=t._('Employees', '[m10n]bizAccess.employees.title', 'Page title for the employee management page'),ed=t._('Your employee list will appear here', '[m10n]bizAccess.employees.emptyState.title', 'Header explaining where employees will go once added'),e_=t._('You can manage employee permissions to your assets and tools', '[m10n]bizAccess.employees.emptyState.description', 'Description explaining what you can do on this page');(0,o.useEffect)(function(){s&&ec(F)},[s]);var em=function(e){var t=e.activeTabIndex;$!==t&&(ei({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"tab-navigation",element:"BUSINESS_ACCESS_TAB",elementId:H}),ee(t),eo(""))},eh=(0,C.jsx)(d.mQ,{activeTabIndex:$,onChange:function(e){var t=e.activeTabIndex,n=e.event,i=e.dangerouslyDisableOnNavigation;n.preventDefault(),i(),em({activeTabIndex:t}),ea((0,_.Z)(Y,s))},tabs:[{text:t._('Active', '[m10n]bizAccess.employees.activeTab', 'Name to be shown in Active tab title'),href:"#",id:"employees-page-active-tab"},{text:t._('Pending', '[m10n]bizAccess.employees.pendingTab', 'Name to be shown in Pending tab title'),href:"#",id:"employees-page-pending-tab"}]}),ep=w?(0,C.jsx)(d.xu,{"data-test-id":"people-pending-table",children:(0,C.jsx)(A.Z,{columnDefs:K.peoplePending,config:M({},A.I),id:n.Q6.PEOPLE,isLoading:en,onRowCountChange:function(){},onSortChange:function(){},pageType:n.Q6.PEOPLE,rowData:es})}):(0,C.jsx)(A.Z,{columnDefs:K.improvedSearch,getOnClickUrl:function(e){var t,i,r=n.Q6.PEOPLE_DETAIL,l=null!=(t=null==(i=e.user)?void 0:i.id)?t:"";return(0,_.Z)(r,s,l)},id:n.Q6.PEOPLE,isLoading:en,onPageChange:function(e){return ec((0,D.JC)({page:e,businessId:s}))},onRowCountChange:function(e){return ec((0,D.JC)({limit:e,businessId:s}))},onSortChange:function(e,t){return ec((0,D.JC)({sortBy:e,sortDirection:t,businessId:s}))},pageType:n.Q6.PEOPLE,rowData:es}),eb=t._('Add or remove employees, manage permissions and view pending invites', '[m10n]businessAccess.employees.info.tooltip', 'employees page info tooltip');return(0,C.jsx)(v.Z,{cta:(0,C.jsx)(W,{isLoading:!!en}),isLoading:en&&!et,search:!w&&et&&(0,C.jsx)(G,{businessId:s,searchQuery:el,setSearchQuery:eo}),secondaryAction:w&&(0,C.jsx)(y.Z,{type:"MEMBER"}),subtitle:eb,table:w||et?ep:(0,C.jsx)(g.Z,{description:e_,header:ed,image:(0,C.jsx)(Q,{})}),tabs:eh,title:eu})};function Y(){var e=(0,(0,i.Z)().checkExperiment)("web_m10n_business_access_employee_redesign").anyEnabled;return(0,C.jsx)(r.Z,{pageType:n.Q6.PEOPLE,children:e?(0,C.jsx)(l.Z,{}):(0,C.jsx)(H,{})})}}}]);