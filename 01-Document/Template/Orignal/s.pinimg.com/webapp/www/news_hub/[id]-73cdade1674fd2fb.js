(self.legacyJsonp=self.legacyJsonp||[]).push([["97173"],{760441:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:r,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:r,storageKey:'coverImages(spec:"474x")'}],type:"ExploreArticle",abstractKey:null};o.hash="ee837caaba80f67c3ccb2223d20c7649",t.default=o},608747:function(e,t,n){"use strict";n.r(t);var r,o,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:o},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};i.hash="7005ce437a6a6ff33741ab44aa02cf61",t.default=i},479699:function(e,t,n){"use strict";n.r(t);var r,o,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:o},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};i.hash="40ae8061007ba5f53a4570e43e4ca864",t.default=i},296485:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"ban"},o={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,i,r],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:a},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};l.hash="c62e5df78917dd238b70f366f358d487",t.default=l},579965:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,u,c,s,d={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[l,u,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},s],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},c],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};d.hash="2c3e1508650962adfff1171e950fa419",t.default=d},336997:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,u,c,s,d,f,p=(r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],o=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],u={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},f=[a,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:l,storageKey:null},u,c,s,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:l,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:f,storageKey:null},u,c,s,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:f,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},d],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});p.hash="9aa22a7713214239538142ad2c957cc3",t.default=p},868455:function(e,t,n){"use strict";n.r(t);var r,o,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_emails_Mutation",selections:o},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};i.hash="de392a939a95d05f7ee889fe77a9e52d",t.default=i},800679:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"boardId"},o={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},i={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,r,i],kind:"Operation",name:"collab_users_Mutation",selections:a},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};l.hash="850c5de9834cac0edfdd5652a78bffbf",t.default=l},390843:function(e,t,n){"use strict";n.d(t,{aX:function(){return h},nK:function(){return _},ou:function(){return y}});var r=n(586659),o=n(650533),i=n(963489),a=n(729434),l=n(382718);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return d(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),g=m.Provider,y=m.get,b=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function v(e,t){var n,r={action:t.type,location:t.location,match:t.match};if(t.location===(null==(n=e.current)?void 0:n.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&b(e.forward[0].location)===b(r.location))return p(p({},e),{},{forward:e.forward.slice(1),current:p(p({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return p(p({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(c(e.forward)):e.forward,current:p(p({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return p(p({},e),{},{forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return p(p({},e),{},{current:r});default:return e}}function h(){var e=y(),t=e.current,n=e.previous;return(0,r.useMemo)(function(){return t?n.concat(t):n},[t,n])}function _(e){var t,n=e.children,a=(0,o.k6)(),u=(0,i.TH)(),c=(0,o.$B)(),d={forward:[],current:{action:a.action,location:u,match:c},previous:[]},f=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(v,d))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||s(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],m=f[1],y=(0,r.useRef)(u),b=(0,r.useRef)(c);return(y.current!==u||b.current!==c)&&(m({type:a.action,location:u,match:c}),y.current=u,b.current=c),(0,l.jsx)(g,{value:p,children:n})}},512712:function(e,t,n){"use strict";function r(e){return[0,24,21,26].includes(e)}function o(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{x:function(){return o},y:function(){return r}})},289032:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){var o,i,a,l=!!(null!=n&&n.leading),u=(null==n?void 0:n.trailing)!==!1,c=null!=n&&n.maxWait?Math.max(n.maxWait,t):void 0,s=null,d=0;function f(t){var n=o;return o=void 0,d=t,n&&(i=e.apply(void 0,function(e){if(Array.isArray(e))return r(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),i}function p(e){var n,r=e-(null!=(n=a)?n:0),o=e-d;return void 0===a||r>=t||r<0||void 0!==c&&o>=c}function m(){var e,n,r,i,l=Date.now();p(l)?(s=null,u&&o)?f(l):o=void 0:s=setTimeout(m,(n=l-(null!=(e=a)?e:0),r=l-d,i=t-n,void 0!==c?Math.min(i,c-r):i))}function g(){null!==s&&clearTimeout(s),s=setTimeout(m,t)}function y(){for(var e=Date.now(),n=p(e),r=arguments.length,u=Array(r),y=0;y<r;y++)u[y]=arguments[y];if(o=u,a=e,n){if(null===s)return d=e,s=setTimeout(m,t),l?f(e):i;else if(void 0!==c)return g(),f(e)}return null===s&&g(),i}return y.flush=function(){if(null!==s&&o){var e=Date.now();return clearTimeout(s),s=null,f(e)}return i},y.cancel=function(){null!==s&&clearTimeout(s),d=0,o=void 0,a=void 0,s=null},y}n.d(t,{Z:function(){return o}})},503246:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!a(e[r],t[r],n+1))return!1;return!0}function i(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!(r in t)||!a(e[r],t[r],n+1))return!1;return!0}function a(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==r(e)&&"object"!==r(t))return e!=e&&t!=t;var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return o(e,t,n);case"[object Set]":return o(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return i(e,t,n);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function l(e,t){return a(e,t,0)}n.d(t,{ZP:function(){return l},qP:function(){return o}})},679422:function(e,t,n){"use strict";var r=n(118755),o=n(19585),i=n(848387);t.Z=function(){var e=(0,i.m)(),t=e.loginForMore,n=e.viewer,a=e.limitedLoginModalSubheader,l=(0,o.ZP)();return"AUTH"===n.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,r.lt)(l))}}},702849:function(e,t,n){"use strict";n.d(t,{Et:function(){return o},G0:function(){return l},Ki:function(){return c},PB:function(){return f},Sz:function(){return s},XF:function(){return i},Xq:function(){return d},ZG:function(){return u},iW:function(){return r},s5:function(){return a},tr:function(){return p}});var r="var(--comp-button-color-background-primary-disabled)",o="var(--comp-button-color-background-secondary-default)",i="var(--comp-button-color-background-tertiary-semi-transparent-default)",a="var(--comp-button-color-hover-background-primary-default)",l="var(--comp-button-color-hover-background-secondary-default)",u="var(--comp-button-color-hover-background-tertiary-default)",c="var(--comp-button-color-hover-background-shopping-default)",s="var(--comp-button-color-hover-background-light-default)",d="var(--comp-button-color-hover-background-tertiary-semi-transparent-default)",f="var(--comp-button-color-hover-background-transparent-default)",p="var(--comp-button-color-pressed-background-secondary-default)"},55543:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(603316);function o(e,t){return new Promise(function(n,o){if(document.querySelector('script[src="'.concat(e,'"]'))){var i=0;if("FACEBOOK"===t)if(window.FB)n();else var a=setInterval(function(){window.FB||20===i?(clearInterval(a),n()):(i+=1,(0,r.nP)("mweb.loadScript.facebook.tries_".concat(i),{sampleRate:.01}))},100);else if("GSI"===t)if(window.google)n();else var l=setInterval(function(){window.google||20===i?(clearInterval(l),n()):(i+=1,(0,r.nP)("mweb.loadScript.gsi.tries_".concat(i),{sampleRate:.01}))},100);else n()}else{var u=document.createElement("script");u.src=e,u.async=!0,u.addEventListener("load",function(){return n()}),u.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(u)}})}},286036:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var i=new(function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}return e=[{key:"setExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=e}},{key:"onSessionResume",value:function(e){return this.onResumeListeners.push(e),this}},{key:"onSessionPause",value:function(e){return this.onPauseListeners.push(e),this}},{key:"removeResumeListener",value:function(e){this.onResumeListeners.filter(function(t){return t!==e})}},{key:"removePauseListener",value:function(e){this.onPauseListeners=this.onPauseListeners.filter(function(t){return t!==e})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()),a=function(e){if(e.isHidden){var t=e.reason;i.windowInFocus=!1,i.onPauseListeners.forEach(function(e){return e(t)})}else i.windowInFocus=!0,i.onResumeListeners.forEach(function(e){return e()})};setTimeout(function(){window.addEventListener("beforeunload",function(){return a({isHidden:!0,reason:"beforeunload"})}),window.addEventListener("focus",function(){return a({isHidden:!1})}),window.addEventListener("blur",function(){return a({isHidden:!0,reason:"blur"})}),window.addEventListener("pageshow",function(){return a({isHidden:!1})}),window.addEventListener("pagehide",function(){return a({isHidden:!0,reason:"pagehide"})}),void 0!==document.hidden?document.addEventListener("visibilitychange",function(){return a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",function(){return a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1)},0),t.Z=i},453179:function(e,t,n){"use strict";n.d(t,{Mt:function(){return j},NK:function(){return v},P6:function(){return l},UE:function(){return O},ZE:function(){return y},Zt:function(){return b},_J:function(){return d},_S:function(){return h},cL:function(){return m},iR:function(){return _},jL:function(){return s},oN:function(){return a},oU:function(){return x},rM:function(){return g},sV:function(){return f},sY:function(){return p},yp:function(){return u}});var r=n(239728);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=5e3,l=5e3/r.gJ,u="Pin page",c=["Uploaded by user"],s=function(e,t){return!!t&&!e},d=function(e){return!!e&&5!==e},f=function(e){return["email","messages","deep_linking"].includes(e)},p=function(e){return!!e&&"gif"===e},m=function(e){var t=e.embedSrc,n=e.embedSubtype,r=e.embedType;return!!t&&!p(r)&&"pinstory"!==n},g=function(e){var t=e.link,n=e.mobileLink,r=e.trackedLink,o=e.utmLink;return!n&&!o&&!r&&!t},y=function(e){return/pin.it/gim.test(e||"")},b=function(e){var t=e.link,n=e.mobileLink,r=e.origImageUrl,o=e.trackedLink,i=e.utmLink;return n||i||o||t||r||""},v=function(e,t){return{deeplinkUri:{android:"pin/".concat(e,"/repin"),iOS:"repin/".concat(e)},mwebUri:{pathname:"/pin/".concat(e,"/repin/"),state:{trackingParams:t.state?t.state.trackingParams:""}}}};function h(e){var t,n=o(c);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}function _(e){if(!e)return!1;var t=e.id,n=e.videos;if(t&&null!=n&&n.id&&n.video_list){var r=n.video_list,i=r.V_720P,a=r.V_HLSV4,l=r.V_HLSV3_MOBILE;if(i&&w(i)||a&&w(a)||l&&w(l))return!0}var u=null==(c=e.story_pin_data)||null==(s=c.pages)||null==(d=s[0])?void 0:d.blocks;if(u){var c,s,d,f,p=o(u);try{for(p.s();!(f=p.n()).done;){var m=f.value;if("story_pin_video_block"===m.type&&null!=m&&m.video)return!0}}catch(e){p.e(e)}finally{p.f()}}return!1}function w(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function j(e){var t,n;return e&&null!=(t=null==(n=/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e))?void 0:n[1])?t:null}function x(e){var t=e.isVideo,n=e.link;return!!t&&!!n&&!!/(youtu(|.)be)/.exec(n)&&!!j(n)}var O=function(e){return"button"in e&&1===e.button}},30880:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(32259),o=null;function i(e){(0,r.El)({eventName:"perf.not_supported.".concat(e)})}function a(){if(o)return o;try{if(!window.performance||!performance)return i("window_performance"),o=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return i("window_PerformanceObserver"),o=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return i("window_PerformanceObserver_supportedEntryTypes"),o=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return i("window_PerformanceObserver_supportedEntryTypes_mark"),o=!1,!1;o=["mark","measure","now","setResourceTimingBufferSize"].reduce(function(e,t){return window.performance[t]&&performance[t]||(i("window_performance_".concat(t)),e=!1),e},!0)}catch(e){(0,r.jn)({errorName:e})}return o}},754545:function(e,t,n){"use strict";n.d(t,{Eq:function(){return V},yh:function(){return z},XJ:function(){return q},Lg:function(){return Q},cB:function(){return J},Ly:function(){return K},JG:function(){return $},P9:function(){return W},ZP:function(){return et},ep:function(){return ee},$e:function(){return X}});var r,o,i,a=n(392824),l=n(703393),u=n(735201),c=n(868178),s=n(286036),d=n(573746),f=!1;function p(){if(!f){var e=window.innerHeight,t=window.innerWidth;window.addEventListener("resize",function n(){var r=(0,d.bC)(),o=Math.abs(window.innerHeight-e),i=window.innerHeight!==e,a=window.innerWidth!==t;if("phone"===r.deviceType&&(!a&&i&&o<=150||!i&&!a)||"desktop"===r.deviceType&&!i&&!a){window.removeEventListener("resize",n),f=!1;return}$("windowResized"),window.removeEventListener("resize",n),f=!1}),f=!0}}var m=n(30880),g=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],y=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}}],b=n(32259),v=n(112114);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=[].concat(j(y),j(g));function E(e){var t=e.isAuthenticated,n=e.isInitialPageLoad,r=e.isMobile,o=(0,v.H)(),i=O.find(function(e){return Array.isArray(e.handler)?e.handler.includes(o):o===e.handler}),a=null==i?void 0:i.config,l=null==a?void 0:a.unified;if(l||(l=r?null==a?void 0:a.mWeb:null==a?void 0:a.dWeb),l){var u=t?l.auth:l.unauth;if(u){if(n&&u.initialPageLoad)return(0,b.qu)("Found isInitialPageLoad config"),(0,b.qu)(u.initialPageLoad),w({},u.initialPageLoad);else if(!n&&u.clientNavigation)return(0,b.qu)("Found clientNavigation config"),(0,b.qu)(u.clientNavigation),w({},u.clientNavigation)}}return(0,b.qu)("No config found for ".concat(o," :(")),null}var P=function(e){var t,n,r=e.isAuthenticated,o=e.isInitialPageLoad,i=e.isMobile,a=e.segment,l=E({isAuthenticated:r,isInitialPageLoad:o,isMobile:i});return null!=(t=null==l||null==(n=l.segments)?void 0:n[a])?t:null},S=n(956077);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t,n){var r;return(r=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==I(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={},N=[],D=[],M={},F={},Z=[],G=0,B=0,H=[],U=["webpack_react_profiler","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint"];function z(e){e&&$(e),(0,b.qu)("Reset PWT configs"),L={},N=[],D=[],M={},F={},Z=[],r=null,G=0,B=0,i="",H=[]}function V(){return r?B:0}function K(){return r?r.name:"unknown"}function W(){return r?B:null}function q(e,t,n){var r;if((0,m.Z)()){switch(n){case"BOOL":r={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":r={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":r={type:n,value:"number"==typeof t?t:null};break;default:(0,b.qu)("Invalid binary annotation type");return}if(null===r.value)return void(0,b.qu)("Invalid binary annotation value");F=C(C({},F),{},R({},e,r)),(0,b.qu)("Add binary annotation: { ".concat(e,": ").concat(r.value," }"))}}function X(e){if((0,m.Z)())if(r){var t=D.indexOf(e);if(t>-1){if(D.splice(t,1),(0,b.qu)("Remove constraint: ".concat(e,". Remaining constraints: [").concat(D.join(", "),"]")),0===D.length){var n=G-B,u=[].concat(U,T(r.annotateExperiments||[]));(0,b.fv)({pwtName:r.name,annotateExperiments:u}),(0,b.$v)({eventName:r.name,value:n}),(0,b.$v)({eventName:"complete",value:n,tags:{handler:(0,v.H)()}});var s=(0,d.bC)(),f={type:"surface",surface:r.name,id:r.id,navigationType:o,isAuthenticated:s.isAuthenticated};(0,a.L8)("Report_PWT_Complete_".concat(r.name),B,G);var p=(0,l.W)({annotateExperiments:u,annotations:{},binaryAnnotations:F,constraintMap:M,endTime:G,imageTimings:Z,isV4Logger:!0,metricId:f,pwtStaticContext:s,startTime:B,traceId:i,spans:[]});(0,b.qu)("All constraints complete. ".concat(r.name," PWT completed at ").concat(Math.floor(G),"ms. PWT duration: ").concat(Math.floor(n),"ms")),(0,b.qu)("Result:",p),(0,c.Z)({metricId:f,pwtStaticContext:s,result:p,isV4Logger:!0,annotateExperiments:u}),z()}}else(0,b.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:r.name,errorDetailsTag:e})}else(0,b.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),N.push(e)}function Y(e,t){if((0,m.Z)())if(r){var n,o,i=D.indexOf(e);i>-1&&(G<t&&(G=t),M[e]=t,(0,b.eR)(D[i],null==(n=r)?void 0:n.name),(0,b.$v)({eventName:"".concat(null==(o=r)?void 0:o.name,".constraint.").concat(e),value:t}),(0,b.$v)({eventName:"constraint.".concat(e),value:t,tags:{handler:(0,v.H)()}}),(0,b.qu)("Complete constraint: ".concat(e," at ").concat(Math.floor(t),"ms")),X(e))}else L[e]||(L[e]=t)}function $(e){if((0,m.Z)()&&r){var t=[].concat(U,T(r.annotateExperiments||[]));(0,b.T0)({abortReason:e,pwtName:r.name,annotateExperiments:t}),D.forEach(function(e){var t;(0,b.yi)(e,null==(t=r)?void 0:t.name)});var n=(0,d.bC)(),a={type:"surface",surface:r.name,id:r.id,navigationType:o,isAuthenticated:n.isAuthenticated},u=(0,l.N)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:F,constraintMap:M,endTime:performance.now(),imageTimings:Z,isV4Logger:!0,metricId:a,pwtStaticContext:n,startTime:B,traceId:i,spans:[]});(0,b.qu)("Abort ".concat(r.name," PWT. Abort reason: ").concat(e)),(0,b.qu)("Result:",u),(0,c.Z)({metricId:a,pwtStaticContext:n,result:u,isV4Logger:!0,annotateExperiments:t}),z()}}function J(e){if((0,m.Z)()&&r&&D.includes("VisuallyComplete"))if((0,b.qu)("Set visually complete result"),(0,b.qu)("Image resource timings: ",e),0===(Z=e).length)$("visuallyComplete_noImages");else{var t=Math.max.apply(Math,T(Z.map(function(e){return e.responseEnd||0})));(0,S.Nx)("VisuallyComplete",t)}}function Q(e){if((0,m.Z)())if(r&&r.name.toLowerCase()!==e.toLowerCase()){var t=[].concat(U,T(r.annotateExperiments||[])),n=(0,d.bC)(),i=n.isAuthenticated,a=n.deviceType,l=P({isAuthenticated:i,isInitialPageLoad:"initial_app_load"===o,isMobile:"phone"===a,segment:e});if(!l)return void(0,b.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,b.T0)({abortReason:"segmentChange",pwtName:r.name,annotateExperiments:t}),r.name=l,(0,b.qu)("Set segment to ".concat(e,". PWT action name: ").concat(l)),(0,b.sd)({pwtName:r.name,annotateExperiments:[].concat(U,T(r.annotateExperiments||[]))})}else(0,b.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function ee(e,t,n){if((0,m.Z)())if(r&&$("routeChange"),"POP"===e&&!1===n);else{p();var a,l=(0,d.bC)(),c=l.isAuthenticated,s=l.deviceType,f=l.serverData;if(r=E({isAuthenticated:c,isInitialPageLoad:n,isMobile:"phone"===s})){if(B=t,n)o="initial_app_load";else switch(e){case"PUSH":o="client_route_push";break;case"REPLACE":o="client_route_replace"}(0,b.sd)({pwtName:r.name,annotateExperiments:[].concat(U,T(r.annotateExperiments||[]))}),(0,b.qu)("Start ".concat(r.name," PWT")),null==(a=r)||a.constraints.forEach(function(e){(0,m.Z)()&&(r?((0,b.DM)(e,r.name),D.includes(e)||(D.push(e),(0,b.qu)("Add constraint: ".concat(e)))):(0,b.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),D.forEach(function(e){L[e]?Y(e,L[e]):N.includes(e)&&X(e)}),i=(0,u.vc)()||(0,u.ZP)("initial_app_load"===o,null==f?void 0:f.trace_id)}}}function et(e){var t=e.traceLoggerData;try{if((0,d._A)({serverData:t}),!(0,m.Z)())return void(0,b.El)({eventName:"unsupportedPWTBrowser"});(0,b.El)({eventName:"supportedPWTBrowser"}),p(),s.Z.onSessionPause($);var n=new PerformanceObserver(function(e){e&&e.getEntries&&e.getEntries().forEach(function(e){e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&Y(e.name.split("complete_constraint__")[1]||"",e.startTime)})});n.observe&&n.observe({type:"mark",buffered:!0});var r=new PerformanceObserver(function(e){e.getEntries().forEach(function(e){var t=(window.navigator.connection||{}).rtt;if(t&&"number"==typeof t){var n=e.responseEnd-t/2;n>0&&(0,a.ZP)("client_chunkEndTime",n)}(0,a.L8)("dom_complete",e.startTime,e.domComplete),(0,a.L8)("dom_interactive",e.startTime,e.domInteractive),(0,a.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,a.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,a.L8)("response_start",e.startTime,e.responseStart),(0,a.L8)("response_duration",e.responseStart,e.responseEnd)})});r.observe&&r.observe({type:"navigation",buffered:!0});var o=new PerformanceObserver(function(e){e.getEntries().forEach(function(e){e.identifier.includes("MainPinImage")&&!H.includes(e.identifier)&&H.push(e.identifier)})});o.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",function(){n.disconnect(),r.disconnect(),o.disconnect()})}catch(e){(0,b.jn)({errorName:e})}}},956077:function(e,t,n){"use strict";n.d(t,{Nx:function(){return l},Yl:function(){return s},l7:function(){return c},qS:function(){return d},rt:function(){return f},sX:function(){return u}});var r=n(586659),o=n(392824),i=n(30880),a=n(754545),l=function(e,t){(0,i.Z)()&&(t?performance.mark("complete_constraint__".concat(e),{startTime:t}):performance.mark("complete_constraint__".concat(e)),(0,o.L8)("constraint__".concat(e),(0,a.Eq)(),null!=t?t:performance.now()))},u=function(e){(0,a.JG)(e)},c=function(e){(0,a.$e)(e)},s=function(e){(0,a.Lg)(e)},d=function(e){(0,r.useEffect)(function(){(0,a.Lg)(e)},[e])},f=function(e,t,n){(0,a.XJ)(e,t,n)}},461920:function(e,t,n){"use strict";function r(e,t){var n;if(e.error){var r=e.error,o=r.httpStatus,i=r.api_error_code,a=r.redirectUrl;(404===o||401===o&&7===i)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===o&&a&&(n={pathname:a})}return n}n.d(t,{Z:function(){return r}})},886981:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(586659),o=n(581722),i=n(440568),a=n(849233),l=n(943257);function u(e){var t=null!=e?e:{name:a.fY,options:null},n=t.enabledRouteRefresh,u=t.headers,c=t.name,s=t.noCache,d=t.options,f=t.schema,p=(0,i.Z)(d),m=function(e){var t;return null==(t=e[c])?void 0:t[p]},g=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.nextBookmark}),y=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.data}),b=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.auxData}),v=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.error}),h=(0,l.Z)({enabledRouteRefresh:n,headers:u,name:c,noCache:s,options:d,schema:f},!e,!0),_=h.fetchResource,w=h.fetchMore,j=h.isFetching,x=h.isLoaded,O=h.isRefreshing,E=h.refresh,P=x&&!j&&g===a.qx;return(0,r.useEffect)(function(){_()}),(0,r.useMemo)(function(){return{auxData:b,data:y,error:v,fetchMore:w,isAtEnd:P,isFetching:j,isLoaded:x,isRefreshing:O,nextBookmark:g,refresh:E}},[b,y,v,w,P,j,x,O,g,E])}},2929:function(e,t,n){"use strict";function r(e){return e===window?window.innerHeight:e.clientHeight}function o(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function i(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function a(e){return e===window?o():e.scrollTop}function l(){window&&window.scroll(0,0)}n.d(t,{MX:function(){return a},S$:function(){return o},Uy:function(){return r},aZ:function(){return i},vM:function(){return l}})},390957:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(512712),o=n(403135);function i(e){var t=e.bubbleId,n=e.pinId,i=e.query,a=e.referringSource,l=e.storyCategory,u=e.storyId,c=e.title,s=[0,24,21,26].includes(l),d=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:u,top_pin_ids:n}),f=s&&c?(0,r.x)({title:c,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return s?f:"/search/pins/".concat(d?"?"+d:"")}},138758:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(97517),o=/\{\s*(\w+)\s*\}/g;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t,n=e.args,i=e.format,a=(n||[]).reduce(function(e,t,n){return l(l({},e),{},u({},n,t.text))},{});return t=i||"",(0,r.Z)(o,t,a)}},902293:function(e,t,n){"use strict";n.d(t,{J:function(){return r},Z:function(){return o}});var r=-1;function o(e){switch(e){case r:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},324307:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o},mP:function(){return r}});var r="â€¦";function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||i)t=e.substring(0,n);else{var a=e.lastIndexOf(" ",n);t=e.substring(0,a)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+o}},732888:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,o=n(672410),i=n(573313);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor((window.performance.timeOrigin+window.performance.now())*1e6)}:function(){return 1e6*Date.now()};Object.defineProperty(r=function e(t){var n=this;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");l(this,"start",function(){return n.startTime=u(),n.startTime}),l(this,"end",function(){return n.endTime=u(),n.duration=n.startTime?n.endTime-n.startTime:null,n.duration});try{this.uuid=(0,o.Z)()}catch(e){this.uuid=(0,i.Z)()}t&&Object.assign(this,t)},"prototype",{writable:!1}),t.Z=r},734263:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(20256),o=n(382718);function i(e){var t=e.ariaHidden,n=e.color,i=e.size;return(0,o.jsx)("span",{"aria-hidden":void 0!==t&&t,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:n,inline:!0,size:null!=i?i:"200",children:"\xb7"})})}},163404:function(e,t,n){"use strict";var r=n(634737),o=n(215295);t.Z=function(e){var t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,o.Z)(e);if(t.test(n.path)){var i=n.path.match(t);if(i)return(0,r.Z)(i[1]).pinId||void 0}}},576087:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(869273),o=function(e){var t=e.url,n=(0,r.Z)("/");return 0===t.lastIndexOf(n,0)?t.substr(n.length-1):t}},239728:function(e,t,n){"use strict";n.d(t,{$f:function(){return o},Cy:function(){return u},DR:function(){return r},Fm:function(){return l},bR:function(){return a},gJ:function(){return i},lG:function(){return c}});var r=1,o=2,i=1e3,a=1e3,l=1e3,u=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},821651:function(e,t,n){"use strict";n.d(t,{r:function(){return I},W:function(){return S}});var r=n(586659),o=n(729434),i=n(821342),a=n(886981),l=n(295317),u=n(121836),c=n(238589),s=n(974705);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==p(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,s.Z)(r)]=t[r]:n[(0,s.Z)(r)]=e(t[r]));return n},g=function(e,t){var n=[];for(var r in e)r!==t&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},m(e[r])));var o,i=n.sort(function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)}),a=new Map,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;a.set(u.id,u)}}catch(e){l.e(e)}finally{l.f()}return a};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},w=function(e,t){switch(t.type){case"LOAD_PROFILES":return h(h({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return h(h({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return h(h({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return h(h({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return h(h({},e),{},{disableProfileChanger:t.payload});default:return e}},j=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[n,t]),toggleORBACVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[n,t,l])}},x=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(w,_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],a=j({dispatch:i,isEnabled:e,state:o}),l=o.activeProfile,s=o.orbacVisibility;return(0,r.useEffect)(function(){var e=(0,c.Nl)().getItem(u.Zo)||!1;e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(function(){var e=(0,c.Nl)().getItem(u.ig)||!1;e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(function(){(0,c.Nl)().setItem(u.ig,s)},[s]),(0,r.useEffect)(function(){(0,c.Nl)().setItem(u.Zo,l)},[l]),{state:o,actions:a,receiveProfiles:(0,r.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:g(e,t)})},[i])}},O=n(382718),E=(0,o.Z)("RoleBasedAccessControlContext"),P=E.Provider,S=E.getMaybe,I=function(e){var t=e.children,n=(0,i.Z)(),o=!!(n.isAuth&&n.isPartner),u=x(o),c=u.state,s=u.actions,d=u.receiveProfiles,f=c.activeProfile,p=c.headerVisible,m=c.profiles,g=(0,r.useMemo)(function(){return m?Array.from(m.values()):[]},[m]),y=(0,l.Z)(g),b=!!n.isAuth&&g.length>0&&y,v=n.isAuth?n.id:"",h=n.isAuth?n.username:"",_=s.changeProfile,w=s.toggleORBACVisibility,j=s.toggleDisableProfileChanger,E=s.toggleHeaderVisibility;(0,r.useEffect)(function(){if(o){if("string"==typeof y)return void _(y);f||_(v)}},[y,v,o,_,f]),(0,r.useEffect)(function(){o&&(b&&!p&&E(!0),!b&&p&&E(!1))},[E,b,o,p,m]);var S=(0,a.Z)(o?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,I=null==S?void 0:S.profiles,T=(0,r.useMemo)(function(){return n&&n.isAuth&&f===n.id?{id:n.id,permissions:["OWNER"],user:{username:h,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:f&&m?m.get(f):void 0},[f,m,n,h]);(0,r.useEffect)(function(){I&&d(I,v)},[d,I,v]);var A=(0,r.useMemo)(function(){return{profiles:g,headerVisible:p,activeProfile:T,changeProfile:_,toggleORBACVisibility:w,toggleDisableProfileChanger:j,toggleHeaderVisibility:E}},[g,p,T,_,w,j,E]);return(0,O.jsx)(P,{value:A,children:t})}},448505:function(e,t,n){"use strict";var r=n(586659),o=n(675973),i=n(821651),a=n(295317),l=Object.freeze({});t.Z=function(){var e=(0,o.Z)().checkExperiment,t=(0,i.W)(),n=(t||{}).activeProfile,u=(0,a.Z)((null==t?void 0:t.profiles)||[]),c=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return(0,r.useMemo)(function(){return c&&!u?l:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:l},[c,u,n])}},295317:function(e,t,n){"use strict";var r=n(650533),o=n(963489),i=n(821342),a=n(506662),l=n(169053);function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,c,s,d=(0,o.TH)(),f=(0,i.Z)(),p=(0,l.S6)(),m=(0,r.$B)("/:username"),g=null==m||null==(t=m.params)?void 0:t.username,y=(0,r.$B)("/pin/:id"),b=!!(null!=y&&null!=(n=y.params)&&n.id)&&(null==(c=p(y.params.id))||null==(s=c.pinner)?void 0:s.id);if((0,a.ej)(d))return!1;if((0,a.RU)(d)||(0,a.mY)(d))return!0;var v=[].concat(u(e),u(f.isAuth?[{user:{username:f.username},id:f.id}]:[])).find(function(e){if(!e)return!1;var t=e.user,n=e.id;return(!!t&&"username"in t&&!!t.username&&!!g||!!b&&!!n)&&(t.username===g||b===n)});return!!v&&v.id}},7872:function(e,t,n){"use strict";n.d(t,{D3:function(){return d},DX:function(){return c},Fk:function(){return r},KY:function(){return f},Ms:function(){return o},N1:function(){return p},_P:function(){return u},gJ:function(){return i},lJ:function(){return l},nl:function(){return a},q6:function(){return s}});var r=function(e,t){var n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},o=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=function(e,t){var n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},a=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},l=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},u=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null==(r=e.advertiser)?void 0:r.merchant_id},c=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},s=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},d=function(e,t,n){return!!(s(e,t,n)||e&&e.isAuth&&t===e.id)},f=function(e,t,n){return d(e,t&&t.owner&&t.owner.id||"",n)};function p(e,t,n){return d(e,t?t.id:"",n)}},105433:function(e,t,n){"use strict";n.d(t,{pb:function(){return A},nf:function(){return k},lV:function(){return C}});var r=n(586659),o=n(581722),i=n(981315),a=n.n(i),l=n(575108),u=n(729434),c=n(686319),s=n(791948),d=n(503246),f=n(991384);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){var r;return(r=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==p(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={feature_map:Object.freeze({})},v=function(e,t){var n=g(g(g(g({},(0,f.Z)(e,t)),t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({})),t.tags?{tags:t.tags}:Object.freeze({})),t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({}));return(0,d.ZP)(e,n)?e:n},h=function(e,t){if(e=e||b,"FETCH_COMPLETE"===t.type){var n=t.payload.resource,r=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){var o=(r||[]).reduce(function(t,n){return t[n.id]=v(e[n.id],n),t},{});return g(g({},e),o)}if("UnifiedCommentsResource"===n&&r&&r.length>0){var i=r.filter(function(e){return"aggregatedcomment"===e.type}).reduce(function(t,n){return t[n.id]=v(e[n.id],n),t},{});return g(g({},e),i)}if("UnifiedCommentsPreviewResource"===n&&r&&r.length>0){var a=r.map(function(e){return e.aggregated_comment}).reduce(function(t,n){return n&&(t[n.id]=v(e[n.id],n)),t},{}),l=r.map(function(e){return e.creator_reply}).reduce(function(t,n){return n&&n.id&&(t[n.id]=v(e[n.id],n)),t},{});return g(g(g({},e),a),l)}if("AggregatedCommentFeaturesResource"===n&&r&&Object.keys(r).length>0)return g(g({},e),{},{feature_map:r})}else if("AGGREGATED_COMMENT_CREATED"===t.type){var u=t.payload.aggregatedComment;return u.id?g(g({},e),{},y({},u.id,u)):e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){var c=t.payload.aggregatedCommentId,s=g({},e);return delete s[c],s}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){var d=t.payload.userId;return Object.fromEntries(Object.entries(e).filter(function(e){var t;return(null==(t=e[1].user)?void 0:t.id)!==d}))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){var f,p=t.payload.data;return g(g({},e),{},y({},p.id,v(null==(f=e)?void 0:f[p.id],p)))}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){var m,h=t.payload.data,_=null==(m=e)?void 0:m[h.id],w=(null==_?void 0:_.reaction_counts[1])||0,j=y({},1,h.reaction_by_me?w+1:w-1),x=g(g({},_),{},{reaction_by_me:h.reaction_by_me,reaction_counts:j});return g(g({},e),{},y({},h.id,x))}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){var O,E=t.payload.data,P=null==(O=e)?void 0:O[E.id],S=(null==P?void 0:P.helpful_count)||0,I=E.marked_helpful_by_me?S+1:S-1,T=g(g({},P),{},{marked_helpful_by_me:E.marked_helpful_by_me,helpful_count:I});return g(g({},e),{},y({},E.id,T))}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){var A,k=t.payload.data,C=g(g({},null==(A=e)?void 0:A[k.aggregated_comment_id]),{},{highlighted_by_pin_owner:k.is_highlighted});return g(g({},e),{},y({},k.aggregated_comment_id,C))}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){var R,L=t.payload.data.featureMap;return g(g({},e),{},{feature_map:g(g({},null==(R=e)?void 0:R.feature_map),L)})}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){var N,D=t.payload,M=D.increment,F=D.id,Z=null==(N=e)?void 0:N[F];if(!Z)return e;var G=g(g({},Z),{},{comment_count:Z.comment_count+M});return g(g({},e),{},y({},F,G))}else if("DELETE_COMMENT_MENTION"===t.type){var B,H=t.payload,U=H.aggregatedCommentId,z=H.tagged_users,V=g(g({},null==(B=e)?void 0:B[U]),{},{tagged_users:z});return g(g({},e),{},y({},U,V))}else if("GET_COMMENT_TRANSLATION"===t.type){var K,W=t.payload,q=W.aggregatedCommentId,X=W.translatedText,Y=g(g({},null==(K=e)?void 0:K[q]),{},{translatedText:X});return g(g({},e),{},y({},q,Y))}return e},_=n(382718);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,l,"next",e)}function l(e){j(i,r,o,a,l,"throw",e)}a(void 0)})}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=(0,u.Z)("AggregatedComments"),I=S.Provider,T=S.get;function A(e){var t,n=e.children,i=(0,o.v9)(function(e){var t=e.resources;return null==t?void 0:t.UnifiedCommentsResource}),a=b;i&&Object.values(i).forEach(function(e){var t,n=null==(t=e.data)?void 0:t.filter(function(e){return"aggregatedcomment"===e.type}),r=null==n?void 0:n.reduce(function(e,t){return e[t.id]=v(a[t.id],t),e},{});a=P(P({},a),r)});var l=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(h,a))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],c=l[1],d=function(e){c({type:"FETCH_COMPLETE",payload:e})};(0,s.Z8)("AggregatedCommentFeaturesResource",d),(0,s.my)("AggregatedCommentFeaturesResource",d),(0,s.Z8)("AggregatedCommentFeedResource",d),(0,s.my)("AggregatedCommentFeedResource",d),(0,s.Z8)("AggregatedCommentReplyFeedResource",d),(0,s.my)("AggregatedCommentReplyFeedResource",d),(0,s.Z8)("DidItCommentsResource",d),(0,s.my)("DidItCommentsResource",d),(0,s.Z8)("UnifiedCommentsPreviewResource",d),(0,s.my)("UnifiedCommentsPreviewResource",d),(0,s.Z8)("UnifiedCommentsResource",d),(0,s.my)("UnifiedCommentsResource",d);var f=(0,r.useMemo)(function(){return{aggregatedComments:u,dispatch:c}},[u,c]);return(0,_.jsx)(I,{value:f,children:n})}function k(){var e=T().dispatch;return(0,r.useMemo)(function(){var t,n,r,o,i,u;return{aggregatedCommentCreated:function(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:function(t,n){e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:(t=x(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=t.isAggregatedComment)||n,o=t.commentId,i=t.reason,a=t.detailedReasons,l=r?"/v3/aggregated_comments/".concat(o,"/flag/"):"/v3/did_it/".concat(o,"/flag/"),e.abrupt("return",(0,c.Z)({url:l,method:"PUT",data:{commentId:o,reason:i,detailedReasons:a}}));case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),deleteCommentMention:(n=x(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Z)({url:"/v3/aggregated_comments/".concat(n,"/mentions/"),method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}});case 2:e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:(o=null!=(r=t.sent.resource_response.data)?r:{}).id,tagged_users:o.tagged_users}});case 6:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)}),translateAggregatedComment:(r=x(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.Z)({url:"/v3/aggregated_comments/".concat(n,"/translate/"),method:"GET"});case 3:e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:n,translatedText:null!=(r=t.sent.resource_response.data)?r:""}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:n,translatedText:""}});case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(e){return r.apply(this,arguments)}),toggleAggregatedCommentHelpful:function(t){var n=t.aggregatedCommentId,r=t.isMarkedHelpfulByMe,o=t.orbacSubjectId;(0,c.Z)({url:"/v3/helpful/1/".concat(n,"/"),method:r?"DELETE":"POST",data:o?{orbac_subject_id:o}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:n,marked_helpful_by_me:!r}}})},toggleAggregatedCommentHighlight:(o=x(regeneratorRuntime.mark(function t(n){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.aggregatedCommentId,o=n.pinId,i=n.isHighlighted,a()(r,"Could not find comment"),a()(o,"Could not find Pin"),t.next=5,(0,c.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:r,pin:o,highlight:!i}});case 5:e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:r,pin_id:o,is_highlighted:!i}}});case 6:case"end":return t.stop()}},t)})),function(e){return o.apply(this,arguments)}),toggleAggregatedCommentLike:function(t){var n=t.aggregatedCommentId,r=t.isLikedByMe,o=t.orbacSubjectId;(0,c.Z)({url:"/v3/aggregated_comments/".concat(n,"/react/"),method:r?"DELETE":"POST",data:P({reaction_type:1},o?{orbac_subject_id:o}:{})}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:n,reaction_by_me:+!r}}})},updateAggregatedComment:(i=x(regeneratorRuntime.mark(function t(n){var r,o,i,a,u,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.commentId,i=n.force,a=n.orbacSubjectId,u=n.tags,c=n.text,t.next=3,l.Z.create("AggregatedCommentResource",P({commentId:o,force:i,tags:u,text:c},a?{orbacSubjectId:a}:{})).callUpdate({showError:!1});case 3:s=(null!=(r=t.sent.resource_response.data)?r:{}).tagged_users.map(function(e){return P({},e)}),e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:o,tagged_users:s,tags:JSON.parse(u),text:c}}});case 8:case"end":return t.stop()}},t)})),function(e){return i.apply(this,arguments)}),updateAggregatedCommentFeatures:(u=x(regeneratorRuntime.mark(function t(n){var r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.userId,a={userId:o,featureMap:n.featureMap,passcode:n.passcode,user_confirm_skip_passcode:i=n.userConfirmPasscode},void 0===i&&(a.user_confirm_skip_passcode=!1),t.next=6,l.Z.create("AggregatedCommentFeaturesResource",a).callUpdate({showError:!1});case 6:e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:null!=(r=t.sent.resource_response.data)?r:Object.freeze({})}}});case 10:case"end":return t.stop()}},t)})),function(e){return u.apply(this,arguments)}),updateCommentCount:function(t,n){e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}}},[e])}function C(){return T().aggregatedComments}},45291:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(20256),o=n(980787),i=n(19585),a=n(302148),l=n(694955),u=n(647709),c=n(382718),s=l.K_Y+"?source=block_dialogue";function d(){var e=(0,i.ZP)(),t=(0,u.HG)(),n=(0,o.u)().logContextEvent,l=function(){n({event_type:t?101:102,component:13})};return(0,a.XB)({text:e._('You won\u2019t be able to see, follow or contact each other, or save each other\u2019s Pins. People aren\u2019t notified when you block them. <strong id="1">Learn more</strong>', 'blockingUsers.description', 'description of blocking users'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,c.jsx)(r.rU,{display:"inlineBlock",href:s,onClick:l,target:"blank",children:t})}}})}},636921:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(20256),o=n(475498),i=n(19585),a=n(87853),l=n(382718);function u(){var e=(0,a.dI)().showToast,t=(0,i.ZP)();return function(){e(function(e){var n=e.hideToast;return(0,l.jsx)(o.Z,{duration:5e3,onHide:n,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,l.jsx)(r.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}})})}}},502066:function(e,t,n){"use strict";n.d(t,{G:function(){return m},Kl:function(){return g},vo:function(){return p}});var r=n(586659),o=n(729434),i=n(791948),a=n(914071),l=n(382718);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){return n.e("83726").then(n.bind(n,3571))},s=(0,o.Z)("NativeEngagements"),d=s.Provider,f=s.get;function p(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(c,[]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],f=o[1];(0,i.Z8)("NativeInteractionsResource",function(e){f({type:"FETCH_COMPLETE",payload:e})}),(0,i.my)("NativeInteractionsResource",function(e){f({type:"FETCH_MORE_COMPLETE",payload:e})});var p=(0,r.useMemo)(function(){return{dispatch:f,nativeEngagements:s}},[f,s]);return(0,l.jsx)(d,{value:p,children:n})}function m(){var e=f().dispatch;return(0,r.useMemo)(function(){return{nativeEngagementsHiddenForUser:function(t){e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}},[e])}function g(){return f().nativeEngagements}},168590:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},b:function(){return i}});var r=n(506662),o=[r.Gl,r.PY,r.jC,r.Xn,r.b_,r.oF,r.dt,r.x7,r.cY,r.bb];function i(e,t){return(t?o:[].concat(o,[r.Ig])).every(function(t){return!t(e)})}function a(e){return o.every(function(t){return!t(e)})}},338402:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(581722),o=n(963489),i=n(461920),a=n(886981),l=n(382718);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["error"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.children,n=e.name,u=e.noCache,s=e.options,f=e.selector,p=e.schema,m=(0,a.Z)({name:n,options:s,schema:p,noCache:u});m.error;var g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(m,c),y=(0,i.Z)(m),b=(0,r.v9)(f||function(){});return y?(0,l.jsx)(o.Fg,{replace:!0,to:y}):t(d(d({},g),{},{selected:b}))}},244529:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(963489),o=n(821342),i=n(506662),a=n(168590);function l(){var e=(0,o.Z)(),t=(0,r.TH)();return{enabled:(0,a.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,i.OK)(t)}}},771347:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(675973),o=n(244529);function i(){return!!(0,o.Z)().enabled&&(0,(0,r.Z)().checkExperiment)("web_nav_sidebar").anyEnabled}},77836:function(e,t,n){"use strict";n.d(t,{BO:function(){return x},D5:function(){return S},GC:function(){return T},GJ:function(){return b},L7:function(){return g},Lc:function(){return d},Mf:function(){return E},Mh:function(){return u},Qf:function(){return s},Qq:function(){return I},bT:function(){return _},bd:function(){return h},df:function(){return f},dg:function(){return c},dv:function(){return P},kl:function(){return v},m6:function(){return O},mT:function(){return j},nQ:function(){return A},pS:function(){return w},qM:function(){return C},rB:function(){return k},vg:function(){return R},xp:function(){return m},yg:function(){return p},zz:function(){return y}});var r=n(20256),o=n(18468),i=n(702849),a=n(864289),l=n(25837),u="right",c=u,s=72,d="VerticalNavContent",f=24,p="lg",m="compress",g=16,y=16,b=392,v=12,h=o.iiJ,_=i.ZG,w=new r.H3([l.NW]),j=new r.Ry(l.fe-3),x=new r.H3([w,a.kl]),O=new r.H3([w]),E=O,P=2,S=4,I=3,T=12,A=24,k="200ms left",C={menuItemPadding:"12px",anchorOffset:"16px"},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n={label:e._('Art', 'dweb.sidenav.ideas.art', 'Text for Flyout showing link to /ideas/art/ Page'),value:"961238559656",slug:"art"},r={label:e._('Beauty', 'dweb.sidenav.ideas.beauty', 'Text for Flyout showing link to /ideas/beauty/ Page'),value:"935541271955",slug:"beauty"},o={label:e._('Food & Drink', 'dweb.sidenav.ideas.food', 'Text for Flyout showing link to /ideas/food-and-drink/ Page'),value:"918530398158",slug:"food-and-drink"},i={label:e._('Design', 'dweb.sidenav.ideas.design', 'Text for Flyout showing link to /ideas/design/ Page'),value:"902065567321",slug:"design"},a={label:e._('Women\'s Fashion', 'dweb.sidenav.ideas.womensFashion', 'Text for Flyout showing link to /ideas/womens-fashion/ Page'),value:"948967005229",slug:"womens-fashion"},l={label:e._('Men\'s Fashion', 'dweb.sidenav.ideas.mensFashion', 'Text for Flyout showing link to /ideas/mens-fashion/ Page'),value:"924581335376",slug:"mens-fashion"},u={label:e._('Home Decor', 'dweb.sidenav.ideas.homeDecor', 'Text for Flyout showing link to /ideas/home-decor/ Page'),value:"935249274030",slug:"home-decor"},c={label:e._('DIY', 'dweb.sidenav.ideas.diy', 'Text for Flyout showing link to /ideas/diy-and-crafts/ Page'),value:"934876475639",slug:"diy-and-crafts"},s={label:e._('Fitness', 'dweb.sidenav.ideas.fitness', 'Text for Flyout showing link to /ideas/fitness-and-exercise/ Page'),value:"912503731943",slug:"fitness-and-exercise"},d={label:e._('Pets', 'dweb.sidenav.ideas.pets', 'Text for Flyout showing link to /ideas/animals-and-pets/ Page'),value:"941660492982",slug:"animals-and-pets"},f={label:e._('Quotes', 'dweb.sidenav.ideas.quotes', 'Text for Flyout showing link to /ideas/quotes/ Page'),value:"948192800438",slug:"quotes"},p={label:e._('Travel', 'dweb.sidenav.ideas.travel', 'Text for Flyout showing link to /ideas/travel/ Page'),value:"908182459161",slug:"travel"},m={label:e._('Weddings', 'dweb.sidenav.ideas.wedding', 'Text for Flyout showing link to /ideas/weddings/ Page'),value:"903260720461",slug:"weddings"};return"long"===t?[n,d,r,i,o,a,l,u,c,f,p,s,m]:[n,r,o,u,a,l]}},509120:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(586659),o=n(20256),i=n(382718);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return"".concat(Math.min(100*e,100),"%")}function d(e){var t,n=e.customCover,o=e.imgPos,i=e.imgUrl,a=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({height:0,loaded:!1,width:0}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],u=a[1],d=l.height,f=l.loaded,p=l.width;if((0,r.useEffect)(function(){var e=new Image;e.onload=function(){u({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=i},[i]),!n||!o||!d||!p)return{loaded:f,position:"center center"};var m=p-o.width,g=d-o.height,y=m>0?s(o.x/m):"center",b=g>0?s(o.y/g):"center";return{loaded:f,position:"".concat(y," ").concat(b)}}function f(e){var t=d(e),n=t.loaded,r=t.position,a=e.imgUrl;return(0,i.jsx)(o.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:n&&(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(a,")"),backgroundPosition:r,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"}},"data-test-id":"cover-image",children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function p(e){var t=d(e),n=t.loaded,r=t.position,a=e.alt,l=e.color,u=e.imgUrl;return(0,i.jsx)(o.zd,{height:"100%",width:"100%",children:n&&(0,i.jsx)("img",{alt:a||"",src:u,style:{backgroundColor:l||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:r,width:"100%"}})})}function m(e){return e.renderAsImage?(0,i.jsx)(p,u({},e)):(0,i.jsx)(f,u({},e))}},271597:function(e,t,n){"use strict";n.d(t,{AC:function(){return a},FC:function(){return s},FP:function(){return u},M0:function(){return l},SA:function(){return f},Xq:function(){return d},Y_:function(){return i},o2:function(){return o},s0:function(){return r},z9:function(){return c}});var r=44,o=40,i=49,a=69,l=236,u=157,c=320,s=213,d=7,f=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},790427:function(e,t,n){"use strict";n.d(t,{$8:function(){return s},Dk:function(){return c},Fk:function(){return o},fS:function(){return u},lI:function(){return i},mS:function(){return l},qW:function(){return a}});var r=n(20256),o=new r.Ry(1),i=new r.Ry(3),a=2,l=new r.Ry(a),u=3,c=new r.Ry(100),s=new r.H3([c])},396162:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(20256),o=n(744862),i=n(19585),a=n(351607),l=n(390957),u=n(902293),c=n(473728),s=n(661037),d=n(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){var t=e.bubble,n=e.contextLogData,m=e.disableTabIndex,g=e.height,y=e.isHovered,b=e.onClick,v=e.onMouseEnter,h=e.onMouseLeave,_=e.referringSource,w=e.searchBoxRenderStopwatch,j=e.slotIndex,x=e.storyId,O=e.viewParameter,E=e.viewType,P=e.width,S=(0,i.ZP)(),I=t.id,T=t.action,A=t.aux_fields,k=t.cover_images,C=t.dominant_colors,R=t.identifier_icon_type,L=t.title,N=t.story_category,D=t.curator,M=k&&k[0]&&(k[0]["280x280"]||k[0]["236x"]),F=(0,c.Z)(L&&L.format||"",L&&L.args||{}),Z=C&&C.length?C[0]:"gray",G=(null==T?void 0:T.url)||(0,l.Z)({storyCategory:N,query:F,referringSource:_,bubbleId:I,storyId:x,title:L.format,pinId:null==A?void 0:A.image_pin_id}),B=!!R&&(0,u.Z)(R);return(0,d.jsx)(a.Fw,{contextLogData:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({story_id:x},n),impressionAuxFields:{storyCategory:N,story_id:x},impressionType:"Article",loggingId:I,slotIndex:j,viewParameter:O,viewType:E,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsx)(r.xu,{ref:t,children:(0,d.jsxs)(s.Z,{backgroundColor:Z,coverImage:M,disableTabIndex:m,height:g,id:I,isHovered:y,onClick:b,onMouseEnter:v,onMouseLeave:h,searchBoxRenderStopwatch:w,url:G,width:P,children:[D&&26!==N&&(0,d.jsx)(r.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,d.jsx)(o.qE,{name:D.full_name,outline:!0,size:"xs",src:D.image_small_url})}),B&&(0,d.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,d.jsx)(r.JO,{accessibilityLabel:S._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:B,size:12})}),(0,d.jsx)(r.xu,{alignItems:26===N?"end":"center","data-test-id":"discover-bubble",display:"flex",height:g,justifyContent:"center",padding:3,position:"absolute",top:!0,width:P||"100%",children:(0,d.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[g>200?(0,d.jsx)(r.X6,{align:"center",color:"light",size:"600",children:F}):(0,d.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:F}),D&&26===N&&(0,d.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,d.jsx)(r.xu,{marginEnd:2,children:(0,d.jsx)(o.qE,{name:D.full_name,outline:!0,size:"xs",src:D.image_small_url})}),(0,d.jsx)(r.xv,{color:"light",size:"100",children:D.full_name})]})]})})]})})}})}},661037:function(e,t,n){"use strict";n.d(t,{A:function(){return l},Z:function(){return u}});var r=n(586659),o=n(20256),i=n(382718);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function u(e){var t,n,u,c=e.backgroundColor,s=e.children,d=e.coverImage,f=e.disableTabIndex,p=e.height,m=e.id,g=e.isHovered,y=e.onClick,b=e.onMouseDown,v=e.onMouseEnter,h=e.onMouseLeave,_=e.searchBoxRenderStopwatch,w=e.url,j=e.width,x=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=x[0],E=x[1],P=function(){v?v():E(!0)},S=function(){h?h():E(!1)},I=g||O,T=I?l.hoverOverlay:l.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:w,onBlur:S,onFocus:P,onMouseDown:b,onMouseEnter:P,onMouseLeave:S,onTap:function(){null==y||y(m)},rounding:4,tabIndex:f?-1:void 0,children:(0,i.jsx)(o.zd,{height:p,rounding:4,width:j||"100%",children:null!=d&&d.url?(0,i.jsxs)(o.Ee,{alt:"",color:c,fit:"cover",naturalHeight:null!=(n=d.height)?n:1,naturalWidth:null!=(u=d.width)?u:1,onLoad:function(){null==_||_.stop()},role:"presentation",src:d.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:T},height:"100%",width:"100%"}),"function"==typeof s?s({isHovered:I}):s]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},height:"100%",width:"100%"})})})}},725191:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(20256),o=n(980787),i=n(93966),a=n(351607),l=n(138758),u=n(902293),c=n(601686),s=n(396162),d=n(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=i.yF;function y(e){var t=e.contextLogData,n=e.bubbles,i=e.id,f=e.referringSource,p=e.slotIndex,y=e.storyType,b=e.title,v=e.titleIcon,h=e.viewType,_=e.viewParameter,w=(0,o.u)().logContextEvent,j=(0,c.x4)().closeupWithinMasonryEnabled,x=null==n?void 0:n.map(function(e){return e.type+":"+e.id}).join("|"),O=m(m({story_type:y},t),{},{content_ids:x}),E=!!v&&(0,u.Z)(v);return(0,d.jsx)(a.Fw,{componentType:200,contextLogData:O,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:p,viewParameter:_,viewType:h,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsxs)(r.xu,{ref:t,children:[b&&(0,d.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[E&&(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,d.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:E,size:14})}),(0,d.jsx)(r.X6,{accessibilityLevel:2,size:"300",children:(0,d.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,l.Z)(b)})})]}),(0,d.jsx)(r.xu,{role:"list",children:null==n?void 0:n.map(function(e,t){return(0,d.jsx)(r.xu,{flex:"none",paddingY:1,role:"listitem",children:(0,d.jsx)(s.Z,{bubble:e,contextLogData:O,height:103,onClick:function(e){w({event_type:101,object_id_str:e,view_type:h,view_parameter:_,component:200,aux_data:O})},referringSource:f,slotIndex:t,storyId:i,viewParameter:_,viewType:h,width:j?"100%":g})},"bubble-".concat(e.id))})})]})}})}},864289:function(e,t,n){"use strict";n.d(t,{Bq:function(){return f},CZ:function(){return u},Db:function(){return s},Lu:function(){return l},kl:function(){return i},rC:function(){return o},sb:function(){return c},t3:function(){return a},to:function(){return d}});var r=n(20256),o="full-height-inbox-panel",i=new r.Ry(700),a="defaultInboxView",l="newMessageView",u="newMessageSelectRecipientsView",c="invitesRequestsView",s="followInviteEducationView",d=64,f="conversationView"},64932:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(20256),o=n(302148),i=n(382718);function a(e){var t=e.applyMarkup,n=void 0===t||t,a=e.applyLink,l=void 0!==a&&a,u=e.text,c=e.textMapping,s=void 0===c?{}:c,d={};return s&&Object.keys(s).forEach(function(e){var t=s[e];null!==t&&(t.t?d[e]=t.t.toString():d[e]="",n&&(t.b&&(d[e]=(0,i.jsx)(r.xv,{inline:!0,weight:"bold",children:d[e]},e)),t.r&&(d[e]=(0,i.jsx)(r.xv,{color:"error",inline:!0,children:d[e]},e)),t.l&&l&&(d[e]=(0,i.jsx)(r.rU,{display:"inlineBlock",href:t.l,underline:"hover",children:d[e]},e))))}),(0,i.jsx)(r.xu,{"data-test-id":"updates-link-text",children:(0,i.jsx)(r.xv,{inline:!0,children:u?(0,o.bF)(u,d):null})})}},382112:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(586659),o=n(20256),i=n(19585),a=n(777939),l=n(2929),u=n(159527),c=n(536488),s=n(966279),d=n(771347),f=n(382718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var x="down",O=!1,E=!0,P=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&b(d,e);var t,n,i,s=(t=h(),function(){var e,n=_(d);return e=t?Reflect.construct(n,arguments,_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function d(e){var t;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return w(v(t=s.call(this,e)),"handleMouseOver",function(){!t.props.listResource.isFetching&&t._container&&t.setState({highlight:!1})}),w(v(t),"handleScroll",(0,u.Z)(function(){if(!t.props.listResource.isFetching&&t._container){var e=t.props.handleScrollShadow;e&&e((0,l.MX)(t._container)>70);var n=t.props.scrollThreshold,r=(0,l.aZ)(t._container)-(0,l.MX)(t._container)-(0,l.Uy)(t._container);n&&r<n&&t.fetchMore()}},30)),w(v(t),"addEventListeners",function(e){var n=t.props.useWindow;n&&(e=window),t.removeEventListeners(),e&&(n||e.addEventListener("wheel",t.preventScroll),e.addEventListener("scroll",t.handleScroll),e.addEventListener("mouseover",t.handleMouseOver)),t._container=e}),w(v(t),"getRef",function(e){return e&&e.id===t.props.highlightId?t.onRefChange:null}),w(v(t),"preventScroll",function(e){if(t._container){var n=e.deltaY<0?"up":x,r=t._container.scrollHeight-t._container.scrollTop-t._container.clientHeight==0,o=0===t._container.scrollTop;(n===x&&r||"up"===n&&o)&&e.preventDefault()}}),w(v(t),"fetchForHighlight",function(){if(!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.props.listResource.data){var e=!1;t.props.listResource.data.forEach(function(n){(null==n?void 0:n.id)===t.props.highlightId&&(e=!0,t.setState({isHighlightedItemLoaded:!0}))}),e||t.fetchMore()}}),w(v(t),"onRefChange",function(e){t.setState({highlightedItemRef:e})}),w(v(t),"handleHighlightAndScrollToItem",function(){t.props.listResource&&t.props.listResource.data&&!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.fetchForHighlight(),t.state.highlightedItemRef&&!O&&(t.state.highlightedItemRef.scrollIntoView({behavior:"smooth",block:"center"}),O=!0)}),w(v(t),"fetchMoreIfHidden",function(e){var n;if((null==(n=t.props.listResource.auxData)?void 0:n.x_pinterest_sli_endpoint_name)==="v3_get_news_hub_feed"){var r=c.yS;!t.props.listResource.isFetching&&!t.props.listResource.isAtEnd&&e&&t.props.getShownNewsCount(e)<r&&t.props.listResource.fetchMore()}}),t.state={highlightedItemRef:null,highlight:null,isResourceExhausted:!1,isHighlightedItemLoaded:!1},t}return n=[{key:"componentWillUnmount",value:function(){this.removeEventListeners(),O&&(E=!1)}},{key:"removeEventListeners",value:function(){var e=this.props.useWindow,t=this._container;t&&(e||t.removeEventListener("wheel",this.preventScroll),t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("mouseover",this.handleScroll))}},{key:"fetchMore",value:function(){var e=this._container;this.props.listResource.isFetching||(this.props.listResource.isAtEnd&&e?(e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mouseover",this.handleMouseOver),this.setState({isResourceExhausted:!0})):this.props.listResource.fetchMore())}},{key:"render",value:function(){var e,t,n,i=this,l=this.props,u=l.isAdsTab,s=l.isSideBarEnabled,d=l.hiddenNews,p=l.renderEmptyState,m=l.renderItem,g=l.renderTopStoryExperience,y=l.renderBottomSection,b=l.renderSectionHeaders;this.props.shouldScrollToItem&&this.handleHighlightAndScrollToItem();var v=this.props.listResource.data;if(this.fetchMoreIfHidden(v),!this.props.listResource.isFetching&&v&&(0===this.props.getShownNewsCount(v)||0===v.length))return p();var h=null==v?void 0:v.filter(function(e){return e&&"type"in e&&(null==e?void 0:e.type)==="news"&&!d[e.id]}),_=null!=(e=null==h?void 0:h.findIndex(function(e){return e&&"unread"in e&&(null==e?void 0:e.unread)&&(0,a.Y0)(e.encoded_display_mode,[c.gb.HIGHLIGHT_NOTIFICATION])}))?e:-1,w=v&&-1!==_?v[_]:null,j=null!=(t=null==h?void 0:h.filter(function(e){return e&&"unread"in e&&!(null!=e&&e.unread)}))?t:[],x=null!=(n=null==h?void 0:h.filter(function(e,t){return e&&"unread"in e&&e.unread&&t!==_}))?n:[];return(0,f.jsxs)(o.xu,{ref:this.addEventListeners,dangerouslySetInlineStyle:{__style:{clear:"both",height:s?"100%":"calc(100% - 88px)",overflowY:"auto",overflowX:"hidden",wordBreak:"break-word"}},"data-test-id":"scrollable-container",children:[v&&g&&g(),u&&v?v.map(function(e,t){return(0,f.jsx)(r.Fragment,{children:m(e,t+1,i.getRef(e),i.state.highlight&&E)},t)}):null,!u&&(w||null!=x&&x.length)?(0,f.jsxs)(r.Fragment,{children:[b&&(0,f.jsx)(o.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,f.jsx)(o.X6,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('New', 'Title for news hub section containing unread news items', 'Unread news hub items')})}),(0,f.jsxs)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:[w?m(w,0,this.getRef(w),this.state.highlight&&E,!0):null,null==x?void 0:x.map(function(e,t){return m(e,t,i.getRef(e),i.state.highlight&&E)})]})]}):null,!u&&j&&j.length>0?(0,f.jsxs)(r.Fragment,{children:[b&&(0,f.jsx)(o.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,f.jsx)(o.X6,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('Seen', 'Title for news hub section containing read news items', 'Read news hub items')})}),(0,f.jsx)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:j.map(function(e,t){return m(e,t,i.getRef(e),i.state.highlight&&E)})})]}):null,this.props.listResource.isAtEnd?null:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"5%"}},"data-test-id":"loadingItem",height:"20%",position:"relative",children:(0,f.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('Loading items', ' - ', ' -- '),show:this.props.listResource.isFetching})}),y&&y()]})}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.highlight?{}:{highlight:e.shouldHighlightListItem}}}],n&&y(d.prototype,n),i&&y(d,i),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.Component);function S(e){var t=(0,i.ZP)(),n=(0,s.nJ)().getShownNewsCount,r=(0,s.mv)().hiddenNews,o=(0,d.Z)();return(0,f.jsx)(P,g(g({},e),{},{getShownNewsCount:n,hiddenNews:r,i18n:t,isSideBarEnabled:o}))}w(P,"defaultProps",{scrollThreshold:400,useWindow:!1,handleScrollShadow:function(){},highlightId:null,shouldScrollToItem:!1})},288847:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(586659),o=n(581722),i=n(650533),a=n(963489),l=n(20256),u=n(521009),c=n(475498),s=n(821342),d=n(19585),f=n(15667),p=n(87853),m=n(322838),g=n(537005),y=n(408575),b=n(70993),v=n(415602),h=n(207691),_=n(975740),w=n(650422),j=n(81580),x=n(382718);function O(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function E(e,t){if(e){if("string"==typeof e)return P(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.board,n=e.canEdit,S=e.display,I=e.invite,T=e.isActive,A=e.layout,k=e.lineClamp,C=e.onDeclineRequest,R=e.onEditClick,L=e.slotIndex,N=e.viewParameter,D=e.viewType,M=(0,d.ZP)(),F=(0,s.Z)(),Z=F&&F.isAuth,G=F.isAuth?F.id:"",B=function(e){if(Array.isArray(e))return e}(eo=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(eo,2)||E(eo,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),H=B[0],U=B[1],z=(0,j.U)(),V=(0,p.dI)(),K=(0,f.B)().locale,W=(0,g.Z)(t?{type:"Legacy",data:t}:null),q=(0,i.UO)().username,X=(0,a.TH)(),Y=(0,o.I0)(),$=(0,u.Z)(),J=(0,v.RZ)(),Q=(0,v.CQ)(),ee=null!=(eu=null==t?void 0:t.id)?eu:"",et=(0,_.gC)()(ee),en=(ei=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:if(n=I.invited_user,!t){e.next=8;break}return e.next=6,J(ee);case 6:e.next=10;break;case 8:return e.next=10,Q(ee,n.id);case 10:U(t),!t&&C?(C(),V.showToast(function(e){var t=e.hideToast;return(0,x.jsx)(c.Z,{onHide:t,text:M._('Invitation declined', 'text in toast after declined a board collaborator invite', 'text in toast after declined a board collaborator invite')})})):V.showToast(function(e){var t=e.hideToast;return(0,x.jsx)(c.Z,{duration:5e3,onHide:t,text:M._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfileBoardCard.handleInviteResponse.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})});case 12:case"end":return e.stop()}},e)}),ea=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=ei.apply(e,t);function i(e){O(o,n,r,i,a,"next",e)}function a(e){O(o,n,r,i,a,"throw",e)}i(void 0)})},function(e){return ea.apply(this,arguments)}),er=null!=t?t:et;if(er){var eo,ei,ea,el,eu,ec,es,ed,ef,ep,em=er.archived_by_me_at,eg=er.board_order_modified_at,ey=er.collaborating_users,eb=er.cover_pin,ev=er.has_custom_cover,eh=er.id,e_=er.is_collaborative,ew=er.name,ej=er.owner,ex=er.pin_count,eO=er.privacy,eE=er.section_count,eP=er.sensitivity_screen,eS=er.should_show_board_collaborators,eI=er.url,eT=!!(null!=(ec=null==et?void 0:et.followed_by_me)?ec:null==t?void 0:t.followed_by_me),eA=W(),ek={isCustom:ev,url:eA,position:(0,y.Bw)(eb)},eC=(0,y.Jx)((null==er?void 0:er.images)&&er.images["170x"],null!=(es=null==t||null==(ed=t.pin_thumbnail_urls)?void 0:ed.filter(function(e){return null!==e}))?es:void 0,eA).map(function(e){var t=e.url;return{name:(0,y.po)(t),url:t}}),eR=(null==ej?void 0:ej.id)===G,eL=[ej].concat(function(e){if(Array.isArray(e))return P(e)}(el=ey||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(el)||E(el)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).filter(function(e){return e.id===G}).length>0,eN=F.isAuth&&q===F.username,eD=!(null!=et&&et.followed_by_me)&&!!(null==t?void 0:t.followed_by_me),eM=(eT||eD)&&eN&&(null==(ef=er.owner)?void 0:ef.is_private_profile),eF=!eT,eZ=!0;if(null!=eS){var eG=X.pathname.includes("/".concat(b.qV,"/")),eB=eT&&!eR&&!eL;eZ=eN&&!eG&&!eB||eS}return(0,x.jsx)(l.xu,{"data-test-id":"profile-board-card",children:(0,x.jsx)(l.xu,{"data-test-id":"board-".concat(null!=ew?ew:""),onMouseEnter:function(){if(z){var e;null==(e=z.preload)||e.call(z,(0,w.ke)("[username]/[slug].js"))}},children:(0,x.jsx)(m.Z,{archivedDate:null!=em?em:void 0,boardId:eh,boardKey:t?{type:"Legacy",data:t}:null,boardUrl:eI,canEdit:n,containerBackgroundColor:em?"#f6f6f6":void 0,coverPhoto:eA?ek:null,display:S,followButtonDisabled:eF,followedByMe:eT,fullSizeDrawer:!0,handleInviteResponse:function(e){en(e)},hideMeta:!1,id:eh,imagesLego:eC,invite:I,isActive:T,isAuthenticated:Z,isBoardInviteAccepted:H,isCollaborative:!!e_,isCollaborator:eL,isOwner:eR,isProtected:"protected"===eO,isSecret:"secret"===eO,lastModifiedDate:null!=eg?eg:"",layout:"square"===A?"square":"wide",lineClamp:k,locale:K,name:null!=ew?ew:"",numberOfCollaborators:null!=(ep=null==ey?void 0:ey.length)?ep:0,numCols:eM?2:4,onEditClick:R,onUnfollow:function(e){return Y((0,h.f)(e,$))},pinCount:ex||void 0,sectionCount:null!=eE?eE:0,sensitivityScreen:eP,showBoardCollaborators:eZ,showFollowButton:eM,slotIndex:L,trackingParams:null==t?void 0:t.tracking_params,viewerId:G,viewParameter:N,viewType:D})})})}return null}},70993:function(e,t,n){"use strict";n.d(t,{Lz:function(){return i},qV:function(){return r},sz:function(){return o}});var r="_profile",o={enabled_with_unorganized_feed:"enabled_with_unorganized_feed",enabled_with_log_fix:"enabled_with_log_fix",enabled_old:"enabled_old"},i=506467},357966:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(586659),o=n(20256),i=n(980787),a=n(982166),l=n(19585),u=n(302148),c=n(675973),s=n(647709),d=n(45291),f=n(382718);function p(e){var t=e.firstName,n=e.onBlockUser,p=e.onClearModal,m=e.onBlockAndReport,g=(0,l.ZP)(),y=(0,s.HG)(),b=(0,c.Z)().checkExperiment,v=(0,i.u)().logContextEvent,h=b("ps_blocking_profile_visibility").anyEnabled,_=(0,u.nk)(g._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:t}).join(""),w=function(){p(),v({event_type:y?101:102,component:13,element:73})},j=(0,f.jsx)(o.xu,{children:h?(0,f.jsx)(o.xv,{children:(0,f.jsx)(d.Z,{})}):(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(o.xv,{children:g._('You\u2019ll still be able to see each other\u2019s profiles, but won\u2019t be able to message, follow or save each other\u2019s Pins.', 'blockingUsers.descriptionPart1', 'description of blocking users')}),(0,f.jsx)(o.xu,{marginTop:4,children:(0,f.jsx)(o.xv,{children:g._('People aren\u2019t notified when you block them. To manage your block list, visit Social permissions.', 'blockingUsers.descriptionPart2', 'description of blocking users part 2')})})]})});return y?b("web_ps_blocking_report_upsell").anyEnabled?(0,f.jsx)(a.ZP,{accessibilityModalLabel:_,footer:(0,f.jsxs)(o.xu,{alignItems:"start",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,f.jsx)(o.xu,{padding:1,children:m?(0,f.jsx)(o.zx,{fullWidth:!0,onClick:function(){null==m||m(),v({event_type:17447,component:13,element:18096})},size:"lg",text:g._('Block and report', 'BlockOption.Action.BlockAndReport', 'Action to block and report a user profile')}):(0,f.jsx)(o.zx,{fullWidth:!0,onClick:p,size:"lg",text:g._('Never mind', 'blockUser.modal.neverMind', 'Cancel blocking a user')})}),(0,f.jsx)(o.xu,{padding:1,children:(0,f.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:n,size:"lg",text:g._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]}),heading:(0,f.jsxs)(o.kC,{justifyContent:"between",children:[(0,f.jsx)(o.X6,{size:"600",children:_}),(0,f.jsx)(o.hU,{accessibilityLabel:g._('Dismiss button', 'blockProfile.modalDismissICon', 'x mark to dismiss the block modal'),icon:"cancel",iconColor:"darkGray",onClick:w,size:"md"})]}),onDismiss:w,role:"alertdialog",size:"sm",children:(0,f.jsx)(o.xu,{"data-test-id":"block-text",marginEnd:6,marginStart:6,children:(0,f.jsx)(o.xv,{children:j})})}):(0,f.jsx)(a.ZP,{accessibilityModalLabel:_,footer:(0,f.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,f.jsx)(o.xu,{padding:1,children:(0,f.jsx)(o.zx,{fullWidth:!0,onClick:p,size:"lg",text:g._('Never mind', 'blockUser.modal.neverMind', 'Cancel blocking a user')})}),(0,f.jsx)(o.xu,{padding:1,children:(0,f.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:n,size:"lg",text:g._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]}),heading:_,onDismiss:p,role:"alertdialog",size:"md",children:(0,f.jsx)(o.xu,{"data-test-id":"block-text",marginEnd:6,marginStart:6,children:(0,f.jsx)(o.xv,{children:j})})}):(0,f.jsxs)(a.ZP,{accessibilityModalLabel:_,mobileHideCloseIcon:!0,onDismiss:p,type:"block_button",children:[(0,f.jsx)(o.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,f.jsx)(o.X6,{accessibilityLevel:1,size:"600",children:_})}),(0,f.jsx)(o.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:j}),(0,f.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,f.jsx)(o.xu,{padding:1,children:(0,f.jsx)(o.zx,{fullWidth:!0,onClick:p,size:"md",text:g._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user')})}),(0,f.jsx)(o.xu,{padding:1,children:(0,f.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:n,size:"md",text:g._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]})]})}},415602:function(e,t,n){"use strict";n.d(t,{A8:function(){return S},CQ:function(){return R},Cf:function(){return E},DK:function(){return j},GJ:function(){return C},RZ:function(){return I},SD:function(){return T},aN:function(){return L},h6:function(){return O},tV:function(){return k},xx:function(){return P},yC:function(){return N},zC:function(){return x}});var r,o,i,a,l,u,c,s=n(581722),d=n(492996),f=n(575108),p=n(980787),m=n(686319);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,l,"next",e)}function l(e){v(i,r,o,a,l,"throw",e)}a(void 0)})}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(){var e,t=(void 0!==r||(r=n(800679)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==r.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),o=_((0,d.useMutation)(t),1)[0],i=(0,p.u)().logContextEvent;return e=h(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={boardId:t,collaboratorIds:n,message:r||""},e.next=3,new Promise(function(e,n){o({variables:b({},a),onCompleted:function(r,o){o&&n(o[0]),i({event_type:28,object_id_str:t}),e()},onError:function(e){return n(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t,n,r){return e.apply(this,arguments)}},x=function(){var e,t=(void 0!==o||(o=n(868455)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==o.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),r=_((0,d.useMutation)(t),1)[0],i=(0,p.u)().logContextEvent;return e=h(regeneratorRuntime.mark(function e(t,n,o){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={boardId:t,emails:n,message:o||""},e.next=3,new Promise(function(e,n){r({variables:b({},a),onCompleted:function(r,o){o&&n(o[0]),i({event_type:28,object_id_str:t}),e()},onError:function(e){return n(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t,n,r){return e.apply(this,arguments)}},O=function(){var e,t=(void 0!==i||(i=n(479699)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==i.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),r=_((0,d.useMutation)(t),1)[0],o=(0,p.u)().logContextEvent;return e=h(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={boardId:t,userId:n},e.next=3,new Promise(function(e,n){r({variables:b({},i),onCompleted:function(r,i){i&&n(i[0]),o({event_type:32,object_id_str:t}),e(r)},onError:function(e){return n(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)}};function E(e,t){var n;return n=h(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.Z)({url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),method:"POST",data:{collaborator:t}});case 2:r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}});case 3:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}}function P(e,t){var n;return n=h(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.Z)({url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),method:"DELETE",data:{collaborator:t}});case 2:r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}});case 3:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}}var S=function(e,t){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}},I=function(){var e,t=(void 0!==a||(a=n(608747)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==a.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),r=_((0,d.useMutation)(t),1)[0],o=(0,p.u)().logContextEvent;return e=h(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={boardId:t},e.next=3,new Promise(function(e,i){r({variables:b({},n),onCompleted:function(n,r){r&&i(r[0]),o({event_type:32,object_id_str:t}),e(n)},onError:function(e){return i(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}},T=function(e,t,n){var r;return r=h(regeneratorRuntime.mark(function r(o){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o(S(e,t)),r.next=3,f.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate();case 3:r.sent.resource_response.error||n({event_type:32,object_id_str:e});case 5:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function A(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}var k=function(){var e,t=(void 0!==l||(l=n(336997)).hash&&"9aa22a7713214239538142ad2c957cc3"!==l.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),r=_((0,d.useMutation)(t),1)[0],o=(0,s.I0)();return e=h(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={boardId:t},e.next=3,new Promise(function(e,i){r({variables:b({},n),onCompleted:function(n,r){r&&(o(A(t,!1)),i(r[0])),o(A(t,!0)),e(n)},onError:function(e){o(A(t,!1)),i(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}};function C(e,t){return function(n){(0,m.Z)({url:"/v3/boards/".concat(e,"/collaborators/invite/").concat(t,"/"),method:"DELETE",data:{board:e,user:t}}).catch(function(){n(A(e,!0))}),n(A(e,!1))}}var R=function(){var e,t=(void 0!==u||(u=n(296485)).hash&&"c62e5df78917dd238b70f366f358d487"!==u.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u),r=_((0,d.useMutation)(t),1)[0],o=(0,p.u)().logContextEvent;return e=h(regeneratorRuntime.mark(function e(t,n,i){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={boardId:t,userId:n,ban:i||!1},e.next=3,new Promise(function(e,n){r({variables:b({},a),onCompleted:function(r,i){i&&n(i[0]),o({event_type:29,object_id_str:t}),e(r)},onError:function(e){return n(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t,n,r){return e.apply(this,arguments)}},L=function(){var e,t=(void 0!==c||(c=n(579965)).hash&&"2c3e1508650962adfff1171e950fa419"!==c.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),r=_((0,d.useMutation)(t),1)[0],o=(0,p.u)().logContextEvent;return e=h(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={board:t,collaboratorIds:[n]},e.next=3,new Promise(function(e,n){r({variables:b({},i),onCompleted:function(r,i){i&&n(i[0]),o({event_type:29,object_id_str:t}),e(r)},onError:function(e){return n(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)}},N=function(){var e=R(),t=L();return function(n,r,o){return h(regeneratorRuntime.mark(function r(){var i,a,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=n.invited_user,a=n.status,l=n.board.id,!i){r.next=9;break}if("accepted"!==a){r.next=7;break}return r.next=5,t(l,i.id);case 5:r.next=9;break;case 7:return r.next=9,e(l,i.id,o);case 9:case"end":return r.stop()}},r)}))}}},500959:function(e,t,n){"use strict";n.d(t,{UG:function(){return y},ZP:function(){return v},aG:function(){return b}});var r=n(586659),o=n(20256),i=n(744862),a=n(821342),l=n(19585),u=n(956077),c=n(902293),s=n(572227),d=n(647709),f=n(102267),p=n(382718);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest",responsive:"responsive"},b={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},bubbleOverlayHovered:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}}};function v(e){var t=e.backgroundColor,n=e.bubbleId,g=e.bubbleUrl,v=e.coverImageUrl,h=e.curator,_=e.font,w=e.format,j=e.height,x=e.identifierIconType,O=e.onTap,E=e.pwtSurfaceContext,P=e.referringSource,S=e.subtitle,I=e.title,T=e.buttonFormat,A=e.contentAlign,k=e.textAlign,C=void 0===k?"center":k,R=e.width,L=void 0===R?"100%":R,N=(0,l.ZP)(),D=(0,s.Z)(),M=(0,d.HG)(),F=m((0,r.useState)(!1),2),Z=F[0],G=F[1],B=(0,a.Z)(),H=B.isAuth?null==B?void 0:B.avatar_color_index:void 0,U=m((0,r.useState)("string"==typeof j?void 0:j),2),z=U[0],V=U[1];if(!z)return(0,p.jsx)(o.xu,{ref:function(e){e&&V(e.offsetWidth*("string"==typeof j?Number.parseFloat(j):100)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof j?Number.parseFloat(j)+"%":"100%",width:L}}});var K=w===y.article,W=w===y.interest,q=_||z>250&&"lg"||z>140&&w&&[y.medium,y.small,y.article].includes(w)&&"md"||z<120&&w&&w===y.small&&"xs"||"sm",X=!!x&&(0,c.Z)(x);return(0,p.jsx)(o.xu,{"data-test-id":"search-suggestion","data-test-type":P,onMouseEnter:function(){return M?G(!0):void 0},onMouseLeave:function(){return M?G(!1):void 0},position:"relative",children:(0,p.jsx)(f.M,{isAppUpsellDisabled:!0,onTouch:function(){O&&(D({action:"click",item:"search-suggestion"}),O(n))},rounding:4,to:g,children:(0,p.jsxs)(o.zd,{rounding:4,children:[(0,p.jsx)(o.xu,{height:z,width:L,children:v&&(0,p.jsx)(o.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:function(){(0,u.Nx)("RenderSearchLandingPageBubbles"),E&&E.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:v})}),(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:Z?b.bubbleOverlayHovered:b.bubbleOverlay,height:z,left:!0,position:"absolute",top:!0,width:L}),h&&!K&&(0,p.jsx)(o.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,p.jsx)(i.qE,{color:H,name:h.full_name,outline:!0,size:"xs",src:h.image_small_url})}),X&&(0,p.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,p.jsx)(o.JO,{accessibilityLabel:N._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:X,size:12})}),(0,p.jsx)(o.xu,{alignItems:K||W?"end":"center",display:"flex",height:z,justifyContent:void 0===A?"center":A,padding:K||W?6:z>100?3:1,position:"absolute",top:!0,width:L,children:(0,p.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[S&&(0,p.jsx)(o.xv,{align:C,color:"light",overflow:"normal",size:"lg"===q?"300":"100",children:S}),["lg","md"].includes(q)?(0,p.jsx)(o.X6,{align:C,color:"light",overflow:"normal",size:"md"===q&&W?"600":"lg"===q?"700":"400",children:I}):(0,p.jsx)(o.xv,{align:C,color:"light",overflow:"normal",size:"sm"===q?"300":"100",weight:"bold",children:I}),h&&K&&(0,p.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,p.jsx)(o.xu,{marginEnd:2,children:(0,p.jsx)(i.qE,{name:h.full_name,outline:!0,size:"xs",src:h.image_small_url})}),(0,p.jsx)(o.xv,{color:"light",size:"100",weight:"bold",children:h.full_name})]}),T&&(0,p.jsx)(o.xu,{marginTop:4,children:(0,p.jsx)(o.ZP,{accessibilityLabel:T.accessibilityLabel,href:T.href,size:T.size,text:T.text})})]})})]})})})}},793548:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}}),n(492996);var r,o=n(20256),i=n(512712),a=n(521009),l=n(28427),u=n(378888),c=n(547585),s=n(500959),d=n(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=(void 0!==r||(r=n(760441)).hash&&"ee837caaba80f67c3ccb2223d20c7649"!==r.hash&&console.error("The definition of 'ExploreBubble_exploreArticle' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),y=function(e){var t=e.storyCategory,n=e.query,r=e.referringSource,o=e.bubbleId,a=e.storyId,l=e.title,c=null!=t&&(0,i.y)(t),s=(0,u.XP)({q:n,rs:r||void 0,b_id:o,source_id:a}),d=c&&l?(0,i.x)({title:l,id:o,articleType:"discover"}):"/discover/article/".concat(o,"/");return c?d:"/search/pins/".concat(s?"?"+s:"")};function b(e){var t,n,r,i,u,f,p,b,v,h,_,w,j,x=e.auxData,O=e.bubbleKey,E=e.font,P=e.format,S=e.height,I=e.onTouch,T=e.pwtSurfaceContext,A=e.referringSource,k=e.slotIndex,C=e.storyId,R=e.viewParameter,L=e.viewType,N=e.width,D=void 0===N?"100%":N,M=(0,l.Z)(g,O),F=(0,a.Z)();if(null==M||!(null!=(t=M.coverImage236x)&&null!=(n=t[0])&&n.url)&&!(null!=(r=M.coverImage474x)&&null!=(i=r[0])&&i.url)||!(null!=(u=M.articleTitle)&&u.format))return null;var Z=null!=(f=M.curator)&&f.fullName&&M.curator.imageSmallUrl?{full_name:M.curator.fullName,image_small_url:M.curator.imageSmallUrl}:void 0,G=(null==(p=M.coverImage474x)||null==(b=p[0])?void 0:b.url)||(null==(v=M.coverImage236x)||null==(h=v[0])?void 0:h.url),B=(null==(_=M.action)?void 0:_.url)||y({storyCategory:M.storyCategory,query:null==(w=M.articleTitle)?void 0:w.format,referringSource:A,bubbleId:M.entityId,storyId:C,title:null==(j=M.articleTitle)?void 0:j.format}),H=P===s.UG.article?13865:200,U=P===s.UG.article?102:6940,z=function(e){if(F({component:H,event_type:U,object_id_str:e,view_parameter:R,view_type:L,aux_data:m({article_id:e,grid_index:k},x)}),I){var t,n;I({query:null!=(t=null==(n=M.articleTitle)?void 0:n.format)?t:""})}},V=M.dominantColors&&M.dominantColors.length?M.dominantColors[0]:void 0;return(0,d.jsx)(c.fv,{auxData:m({story_id:C},x),impressionData:{storyCategory:M.storyCategory,storyIdStr:C},loggingId:C,slotIndex:k,viewParameter:R,viewType:L,children:function(e){var t,n,r=e.impressionTrackerRef;return(0,d.jsx)(o.xu,{ref:r,children:(0,d.jsx)(s.ZP,{backgroundColor:V,bubbleId:M.entityId,bubbleUrl:B,coverImageUrl:G,curator:Z,font:E,format:P,height:S,identifierIconType:M.identifierIconType,onTap:z,pwtSurfaceContext:T,referringSource:A,title:null!=(t=null==(n=M.articleTitle)?void 0:n.format)?t:"",width:D})})}})}},21189:function(e,t,n){"use strict";n.d(t,{Z:function(){return th}});var r=n(963489),o=n(586659),i=n(650533),a=n(20256),l=n(536488);function u(e){return e.forEach(function(e){return e&&e.content_items.forEach(function(t){t.content_object&&t.content_object.type===l.Ng.BOARD&&(t.content_object.credit=e.header_icon_objects[0])})}),e.reduce(function(e,t){return(e||[]).concat(t&&t.content_items||[])},[]).map(function(e){return e.content_object})}var c=n(64932),s=n(382718);function d(e){var t=e.header,n=e.subheader,r=e.textMapping;return(0,s.jsx)(a.W2,{children:(0,s.jsx)(a.xu,{marginBottom:6,marginTop:6,children:(0,s.jsxs)(a.xu,{paddingX:3,children:[(0,s.jsx)(a.X6,{align:"center",children:(0,s.jsx)(c.Z,{applyMarkup:!1,text:t,textMapping:r})}),n&&(0,s.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:6,children:(0,s.jsx)(a.xv,{children:(0,s.jsx)(c.Z,{applyLink:!0,text:n,textMapping:r})})})]})})})}var f=n(93966),p=n(886981);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var O=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&v(o,e);var t,n,r=(t=_(),function(){var e,n=w(o);return e=t?Reflect.construct(n,arguments,w(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function o(e){var t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return j(h(t=r.call(this,e)),"state",{items:[]}),t.state={items:u(e.newsHubDetailsResource.data||[])},t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.props.newsHubDetailsResource.data||[],n=e.newsHubDetailsResource.data||[];n.length!==t.length&&this.setState(function(e){return{items:e.items.concat(u(((function(e){if(Array.isArray(e))return b(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).splice(n.length)))}})}},{key:"render",value:function(){var e=this.props,t=e.newsHubDetailsResource,n=e.newsSummary,r=n.detail_header,o=n.header_text,i=n.text_mapping,l=e.renderItem,u=this.state.items;return 0===u.length?null:(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(d,{header:r,subheader:o,textMapping:i}),(0,s.jsx)(a.xu,{padding:4,children:(0,s.jsx)(a.Rk,{columnWidth:f.yF,gutterWidth:(0,f.$q)(),items:u,loadItems:t.fetchMore,minCols:f.yc,renderItem:l,scrollContainer:function(){return window}})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function E(e){var t=(0,p.Z)({name:"NewsHubDetailsResource",options:{news_id:e.newsId,page_size:l.IV}});return(0,s.jsx)(O,y(y({},e),{},{newsHubDetailsResource:t}))}var P=n(298258),S=n(744862);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&T(o,e);var t,n,r=(t=A(),function(){var e,n=k(o);return e=t?Reflect.construct(n,arguments,k(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"renderHeaderImage",value:function(e){var t=this.props.headerIconObjects,n=null==t?void 0:t[0];if(n){var r=n.id;switch(n.type){case"pin":var o=n.id,i=n.description,u=n.image_large_url,c=n.image_square_url,d=n.images[l.di];return(0,s.jsx)(a.Tg,{fullHeight:!0,href:"/pin/".concat(o,"/"),rounding:"circle",children:e?c&&(0,s.jsx)(a.xu,{height:"100%",overflow:"hidden",rounding:2,children:(0,s.jsx)(a.Ee,{alt:i||"",color:"white",fit:"cover",naturalHeight:(null==d?void 0:d.height)||48,naturalWidth:(null==d?void 0:d.width)||48,role:"img",src:c})}):(0,s.jsx)(a.xu,{height:60,overflow:"hidden",rounding:2,width:44,children:u&&(0,s.jsx)(a.Ee,{alt:null!=i?i:"",color:"white",fit:"cover",naturalHeight:60,naturalWidth:44,role:"img",src:u})})});case"board":var f=n.description,p=n.image_cover_url,m=n.url;return(0,s.jsx)(a.Tg,{href:m||"",rounding:"circle",children:(0,s.jsx)(a.xu,{display:"inlineBlock",height:48,overflow:"hidden",rounding:2,width:48,children:p&&(0,s.jsx)(a.Ee,{alt:f||"",naturalHeight:48,naturalWidth:48,src:p})})});case"user":var g=n.full_name,y=n.image_large_url,b=n.username;return(0,s.jsx)(a.Tg,{href:"/".concat(void 0===b?"":b,"/"),rounding:"circle",children:(0,s.jsx)(S.qE,{name:null!=g?g:"",src:y})});case"userdiditdata":var v=n.details,h=n.images,_=n.pin||{},w=_.id,j=_.image_square_url,x=h&&h[0]&&h[0]["550x"],O=(null==x?void 0:x.url)||j;return(0,s.jsx)(a.Tg,{fullHeight:!0,href:"/pin/".concat(w,"/activity/tried/?featured_did_it_ids=").concat(r),rounding:"circle",children:(0,s.jsx)(a.xu,{height:"100%",overflow:"hidden",rounding:2,children:O&&(0,s.jsx)(a.Ee,{alt:v||"",color:"white",fit:"cover",naturalHeight:(null==x?void 0:x.height)||1,naturalWidth:(null==x?void 0:x.width)||1,role:"img",src:O})})})}}}},{key:"render",value:function(){var e=this.props,t=e.headerText,n=void 0===t?"":t,r=e.textMapping,o=e.alignItems,i="start"!==(void 0===o?"center":o);return i?(0,s.jsx)(a.W2,{children:(0,s.jsxs)(a.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,marginTop:2,paddingX:3,paddingY:2,children:[(0,s.jsx)(a.xu,{paddingX:1,children:(0,s.jsx)(a.xu,{height:48,width:48,children:this.renderHeaderImage(i)})}),(0,s.jsx)(a.xu,{paddingX:1,children:(0,s.jsx)(a.xv,{children:(0,s.jsx)(c.Z,{applyLink:!0,text:n,textMapping:r})})})]})}):(0,s.jsx)(a.W2,{children:(0,s.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:-1,marginStart:-1,marginTop:2,paddingX:3,paddingY:2,children:[(0,s.jsx)(a.xu,{paddingX:1,children:(0,s.jsx)(a.xu,{height:60,width:44,children:this.renderHeaderImage(i)})}),(0,s.jsx)(a.xu,{alignItems:"center",display:"flex",height:60,paddingX:1,children:(0,s.jsx)(a.xv,{children:(0,s.jsx)(c.Z,{applyLink:!0,text:n,textMapping:r})})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component),R=[4,5],L=n(382112);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var D=["newsId"];function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Z=function(){return!!e})()}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(e,t,n){return(t=z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=N(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}function V(e){var t=e.newsId,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,D),r=(0,p.Z)({name:"NewsHubDetailsResource",options:{news_id:t,page_size:l.IV},noCache:!0});return(0,s.jsx)(L.Z,H(H({},n),{},{listResource:r}))}var K=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&M(o,e);var t,n,r=(t=Z(),function(){var e,n=G(o);return e=t?Reflect.construct(n,arguments,G(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return U(F(e=r.call.apply(r,[this].concat(n))),"renderDidIt",function(e){return(0,s.jsx)(a.W2,{children:(0,s.jsx)(a.xu,{column:12,display:"flex",justifyContent:"center",children:(0,s.jsx)(a.xu,{column:12,mdColumn:10,children:e.map(function(e,t){var n;return(0,s.jsx)(P.Z,{didItDataId:null!=(n=e.id)?n:"",viewType:107},t)})})})})}),U(F(e),"renderItem",function(t,n){var r,o=e.props,i=o.newsSummary,u=i.detail_header,c=i.text_mapping,p=i.sub_header_text,m=o.renderItem;if(!t)return null;var g=t.content_items,y=t.header_icon_objects,b=t.header_text,v=t.text_mapping,h=t.news_type,_=g.map(function(e){return e.content_object}).filter(function(e){return!!e}),w=(null==(r=_[0])?void 0:r.type)||null,j=w===l.Ng.DID_IT;return(0,s.jsxs)("li",{children:[0===n&&(0,s.jsx)(d,{header:u,subheader:p,textMapping:c}),b&&(0,s.jsx)(C,{alignItems:2===h?"start":"center",headerIconObjects:y,headerText:b,textMapping:v}),w===l.Ng.DID_IT&&e.renderDidIt(_),!j&&(0,s.jsx)(a.xu,{padding:4,children:(0,s.jsx)(a.Rk,{columnWidth:function(e){if(e){if(e===l.Ng.DID_IT)return 670;else if(e===l.Ng.INTEREST)return 236;else if(e===l.Ng.BOARD)return 320}return f.yF}(w),gutterWidth:16,items:_,minCols:w&&w===l.Ng.DID_IT?1:f.yc,renderItem:m,scrollContainer:function(){return window}})})]},n)}),e}return n=[{key:"render",value:function(){return(0,s.jsx)(V,{newsId:this.props.newsId,renderEmptyState:function(){return null},renderItem:this.renderItem,useWindow:!0})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent),W=n(19585),q=function(e){var t=e.onGoToHFClicked,n=(0,W.ZP)(),r=n._('That\'s all for now!', 'newshub.newsDetailPage.noMoreNotifications', 'Text letting users know there are no more notifications to view'),o=n._('Go to home', 'newshub.newsDetailPage.goToHomeFeed', 'Prompt to go to home feed'),i=(0,s.jsx)(a.zx,{accessibilityLabel:o,color:"gray",onClick:t,size:"lg",text:o});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"124px"}},display:"flex",justifyContent:"center",marginTop:12,position:"relative",children:(0,s.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",maxWidth:"375px",children:[(0,s.jsx)(a.xu,{height:32,marginBottom:4,width:32,children:(0,s.jsx)(a.Ee,{alt:"homefeed upsell sparkle icon",fit:"cover",naturalHeight:32,naturalWidth:32,src:"https://i.pinimg.com/originals/de/a2/60/dea2607ee451addf346e175f65ca568e.png"})}),(0,s.jsx)(a.xu,{marginBottom:6,children:(0,s.jsx)(a.X6,{align:"center",size:"600",children:r})}),i]})})},X=n(980787),Y=n(821342),$=n(900675),J=n(123998),Q=n(645520),ee=n(396162),et=n(725191),en=["orange","green","purple","watermelon","pine","navy","eggplant","olive","maroon"],er=n(966279),eo=n(195252),ei=n(845421),ea=n(288847),el=n(358823);function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=eu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eu(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ef=function(e){var t,n,r=e.item,i=e.itemIdx,u=e.newsId,c=e.newsSummary,d=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{for(i=(n=n.call(e)).next;!(u=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ed(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1],m=(0,X.u)().logContextEvent;if(!c)return null;var g=c.news_type,y=function(e){m({event_type:101,component:3,object_id_str:e.id,view_type:e.viewType,view_parameter:e.viewParameter})},b=function(e){m({event_type:101,component:3,element:36,object_id_str:e.id,view_type:107})},v=function(){p(!0)},h=function(){p(!1)};if(!r)return null;switch(r.type){case l.Ng.PIN:return(0,s.jsx)(ei.r,{attributionOption:g&&R.includes(g)?"show":"hide",feedback:{data:{newsId:u},type:"newsHub"},pinId:"",pinKey:{type:"Legacy",data:es(es({},r),{},{type:l.Ng.PIN,images:r.images})},slotIndex:i,surface:"NewsPage",trackingParams:null==r?void 0:r.tracking_params,viewParameter:3082,viewType:107});case l.Ng.BOARD:return void 0===r.cover_pin.image_url&&void 0!==r.image_cover_hd_url&&(r.cover_pin.image_url=r.image_cover_hd_url),(0,s.jsx)(a.Tg,{href:null!=(n=r.url)?n:"",onBlur:h,onFocus:v,onMouseEnter:v,onMouseLeave:h,onTap:function(){b({id:r.id})},children:(0,s.jsx)(ea.Z,{board:es(es({},r),{},{type:l.Ng.BOARD,images:r.images}),canEdit:!1,display:"responsive",isActive:f,layout:"xWide",onEditClick:function(){},subtitle:null,viewType:107})});case l.Ng.USER:return(0,s.jsx)(el.Z,{data:es(es({},r),{},{type:l.Ng.USER}),suppressToasts:!1,truncateName:!1,viewParameter:50,viewType:4},r.id);case l.Ng.INTEREST:var _=r.background_color,w=r.id,j=r.images,x=r.is_followed,O=r.name,E=r.url_name,P=(0,eo.Z)(E).urlName;return(0,s.jsx)(Q.Z,{backgroundColor:_,followedByMe:x,id:w,image:(null==j?void 0:j["400x"])||null,name:O,url:P});case l.Ng.SEARCH:var S=r.images&&Array.isArray(r.images)&&r.images.map(function(e){return{"236x":{height:l.kJ,url:e,width:l.AY}}}).slice(0,l.ys)||[],I=encodeURIComponent(r.term),T="/search/pins/?q=".concat(I,"&rs=").concat(r.rs);return r.source_id&&(T+="&source_id=".concat(r.source_id)),(0,s.jsx)(ee.Z,{bubble:{action:{url:T},cover_images:S,dominant_colors:[en[r.term.charCodeAt(0)%en.length]],id:r.id,title:{format:r.term},type:l.Ng.SEARCH},contextLogData:{story_type:l.Ng.SEARCH},height:l.kJ,onClick:function(){return y({id:r.id,viewType:107,viewParameter:3082})},slotIndex:i,viewParameter:3082,viewType:107},r.id);case l.Ng.STORY:if(r.story_type&&"BUBBLE_ONE_COL"===r.story_type)return(0,s.jsx)(et.default,{bubbles:r.objects,id:r.id,referringSource:r.referring_source,slotIndex:i,storyType:r.story_type,title:r.title,viewParameter:3082,viewType:107});return null;default:return null}};function ep(e){var t=e.fetchedResourceExpEnabled,n=e.newsId,i=e.newsPageDataRef,u=(0,X.u)().logContextEvent,c=(0,o.useRef)(!1),d=(0,r.s0)(),f=(0,Y.Z)(),m=(0,p.Z)({name:"NewsHubSummaryResource",options:{news_id:n}}),g=m.data,y=m.error,b=(0,$.Z)(i),v=b.data,h=b.error,_=t?v:g,w=t?y:h;(0,o.useEffect)(function(){if(_){var e=_.news_type;void 0===e||c.current||(u({event_type:13,object_id_str:n,view_type:107,view_parameter:3082,aux_data:{news_type:e}}),c.current=!0)}},[u,_,n]);var j=null==_?void 0:_.category,x=function(e){var t=e.data,r=e.itemIdx;return(0,s.jsx)(ef,{item:t,itemIdx:r,newsId:n,newsSummary:_})};return(w&&404===w.httpStatus&&d("/?show_error=true"),_)?(0,s.jsx)(J.Z,{objectId:n,view:107,viewParameter:3082,children:(0,s.jsx)(er.Jo,{children:(0,s.jsxs)(a.xu,{children:[_.news_type&&R.includes(_.news_type)?(0,s.jsx)(E,{newsId:n,newsSummary:_,renderItem:x}):(0,s.jsx)(K,{newsId:n,newsSummary:_,renderItem:x}),j===l.LL?(0,s.jsx)(q,{onGoToHFClicked:function(){u({event_type:101,component:3,element:1197,aux_data:{user_id:f.isAuth?f.id:""}}),d("/homefeed/")}}):(0,s.jsx)(a.xu,{})]})})}):null}var em=n(355940),eg=n(937392),ey=n(274320),eb=n(444185),ev=n(984126);function eh(){var e=(0,i.$B)().params,t=(0,Y.Z)(),n=t.isAuth&&t.isLimitedLogin,r=e.id||"",a=(0,ey.r)().checkExperiment("web_news_hub_suspense_resource").anyEnabled,l=(0,eb.Z)(a?{name:"NewsHubSummaryResource",options:{news_id:r}}:null).ref,u=(0,s.jsx)(ep,{fetchedResourceExpEnabled:a,newsId:r,newsPageDataRef:l}),c=a?(0,s.jsx)(em.Z,{name:"NewsHubLandingPage",children:(0,s.jsx)(o.Suspense,{fallback:(0,s.jsx)(ev.Z,{}),children:u})}):u;return n?c:(0,s.jsxs)(o.Fragment,{children:[c,(0,s.jsx)(eg.RK,{placementId:1000129})]})}var e_=n(15667),ew=n(647709),ej=n(581722),ex=n(140725),eO=n(90691),eE=n(914061),eP={color:"#333",fontFamily:"sans-serif",fontSize:"20px",letterSpacing:"-0.4px",marginBlockEnd:"0px",marginBlockStart:"0px",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",textAlign:"center"},eS=function(){var e=(0,W.ZP)();return(0,s.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:3,children:(0,s.jsxs)(a.xu,{marginTop:2,maxWidth:480,paddingX:6,children:[(0,s.jsx)("h4",{style:eP,children:e._('Explore more ideas in your home feed', 'Upsell at the bottom of a notification to go to home feed', 'Upsell at the bottom of a notification to go to home feed')}),(0,s.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,s.jsx)(a.ZP,{accessibilityLabel:e._('Go to home feed', 'Accessibility label for button on home feed upsell', 'Accessibility label for button on home feed upsell'),color:"red",href:"/",size:"md",text:e._('Let\'s go', 'Button on upsell to go to home feed, 1-2 words', 'Button on upsell to go to home feed, 1-2 words')})})]})})},eI=n(289032),eT=n(469167),eA=n(675973),ek=n(547585),eC=n(309048),eR=n(469526),eL=n(222401),eN=n(521009),eD=n(38817),eM=function(e){var t=e.textOverlay,n=e.wash;return function(e){var r=e.color,o=e.empty,i=e.src,l=e.term,u=i&&(0,s.jsx)(a.Ee,{alt:"",color:r||"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:i});return o?(0,s.jsx)(a.xu,{color:"secondary",width:"100%"}):t?(0,s.jsxs)(a.xu,{position:"relative",width:"100%",children:[u,(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},left:!0,position:"absolute",right:!0,top:!0}),(0,s.jsx)(a.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:3,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(a.xv,{align:"center",color:"inverse",weight:"bold",children:l})})]}):n?(0,s.jsx)(a.xu,{width:"100%",children:(0,s.jsx)(a.zd,{height:"100%",wash:!0,width:"100%",children:u})}):(0,s.jsx)(a.xu,{width:"100%",children:u})}},eF=function(e){return function(t,n){return null===t?n:(0,s.jsxs)(o.Fragment,{children:[t,e,n]})}},eZ=function(e,t,n){var r=Array.from({length:n},function(n,r){return e.slice(r*t,(r+1)*t)});return Array.from({length:t},function(e,t){return r.map(function(e){return e[t]})})},eG=function(e){var t=e.rowNum,n=e.columnNum,r=e.images,o=e.wash,i=e.textOverlay,l=e.direction;if(t<1||n<1||t*n>r.length)return null;var u=("column"===l?eZ(r,t,n):Array.from({length:t},function(e,t){return r.slice(t*n,(t+1)*n)})).map(function(e){return(0,s.jsx)(a.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",children:e.map(eM({wash:o,textOverlay:i})).reduce(eF((0,s.jsx)(a.xu,{flex:"none",width:1})),null)})});return(0,s.jsx)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",width:"100%",children:u.reduce(eF((0,s.jsx)(a.xu,{flex:"none",height:1})),null)})},eB=n(431015);function eH(e){var t=e.id,n=e.nameTextSize,r=e.onTouch,i=e.showFollowButton,l=e.shouldClickthrough,u=e.topicBlob,c=e.viewParameter,d=e.viewType,f=(0,ej.I0)(),p=(0,eN.Z)(),m=(0,ej.v9)(function(e){return e.topics[t]}),g=m||u||{},y=g.images["236x"]||g.images["400x"]||g.images["474x"]||g.images.orig||{},b=[{color:g.background_color,empty:!1,src:y.url,term:g.name}],v=(0,s.jsx)(a.zd,{rounding:4,children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:(0,s.jsx)(a.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(eG,{columnNum:1,images:b,rowNum:1,textOverlay:!0})})})}),h=m&&void 0!==i&&i?(0,s.jsx)(a.xu,{marginTop:2,children:(0,s.jsx)(eD.Z,{followEventType:601,id:m.id,isFollowed:m.is_followed||!1,isSecondaryButton:!0,onFollow:function(e){return f((0,eB.ZN)(e,p))},onUnfollow:function(e){return f((0,eB.fv)(e,p))},pinKey:null,size:void 0===n?"lg":n,unfollowEventType:602,viewParameter:c||void 0,viewType:d||void 0})}):null;return void 0!==l&&l&&null!=m&&m.slug?(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(a.Tg,{href:"/ideas/".concat(encodeURIComponent(m.slug),"/").concat(m.id),onTap:function(e){var t=e.event;null==r||r(t)},rounding:4,tapStyle:"compress",children:v}),h]}):(0,s.jsxs)(o.Fragment,{children:[v,h]})}function eU(e){var t,n,r,o,i,l=e.isWideLayout,u=e.shouldClickthrough,c=e.userId,d=(0,ej.v9)(function(e){return e.users[c]}),f=((null==d||null==(t=d.recent_pin_images)?void 0:t["222x"])||(null==d||null==(n=d.recent_pin_images)?void 0:n["192x"])||(null==d||null==(r=d.recent_pin_images)?void 0:r["200x"])||[]).slice(0,2).map(function(e){return e&&e.url?{color:e.dominant_color||null,empty:!1,src:e.url,term:null}:{color:null,empty:!0,src:null,term:null}}),p=void 0!==l&&l?64:60,m=(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(a.zd,{rounding:4,children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"66.66%"}},position:"relative",children:(0,s.jsx)(a.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(eG,{columnNum:2,images:f,rowNum:1,wash:!0})})})}),(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"-".concat(p/2,"px")}},width:"100%",children:(0,s.jsx)(a.xu,{height:p,marginEnd:"auto",marginStart:"auto",width:p,children:(0,s.jsx)(S.qE,{color:null==d?void 0:d.avatar_color_index,name:null!=(o=null==d?void 0:d.full_name)?o:"",outline:!0,src:(null==d?void 0:d.image_medium_url)||(null==d?void 0:d.image_large_url)||void 0})})}),(0,s.jsx)(a.xu,{marginTop:2,paddingX:2,children:(0,s.jsx)(a.xv,{align:"center",weight:"bold",children:null==d?void 0:d.full_name})})]});return void 0!==u&&u?(0,s.jsx)(a.Tg,{href:"/".concat(encodeURIComponent(null!=(i=null==d?void 0:d.username)?i:""),"/"),rounding:4,tapStyle:"compress",children:m}):m}var ez=n(793548),eV=n(73048);function eK(e){return(eK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=eK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eK(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eK(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eX=function(e){var t=e.contentObjectSchema,n=e.itemIdx,r=e.trackingParams,o=e.oneColumn,i=e.newsId,l=e.inNewsHubQuickSaveExp,u=e.isWideLayout,c=void 0!==u&&u;if(!t)return null;if(t&&!("schema"in t)){if("news_hub_search"===t.type){var d=t.id,f=t.images,p=t.rs,m=t.source_id,g=void 0===m?null:m,y=t.term,b=[{"236x":{height:0,url:f[0],width:0}}],v="/search/pins/?q=".concat(encodeURIComponent(y),"&rs=").concat(p);g&&(v+="&source_id=".concat(g));var h=null!=d?{action:{url:v},cover_images:b,dominant_colors:["#efefef"],id:d,title:{format:y},type:"explorearticle"}:null;return(0,s.jsx)(a.xu,{padding:c?2:1,children:(0,s.jsx)(ez.Z,{bubbleKey:null!=h?{type:"Legacy",data:h}:null,font:"sm",height:"50%",referringSource:p,slotIndex:n,storyId:"",viewParameter:3082,viewType:107,width:"100%"})})}return null}switch(t.schema){case"pin":return(0,s.jsx)(a.xu,{marginBottom:+!c,marginTop:c?0:-1,paddingX:+!!c,paddingY:1,children:(0,s.jsx)(ei.Z,eq({componentType:0,duploOneTapSave:l?{boardId:""}:null,duploQueryRef:null,feedback:{data:{newsId:i},type:"newsHub"},pinId:t.id,slotIndex:n,topLevelTrafficSource:"notifications",topLevelTrafficSourceDepth:1,trafficSource:"notifications",viewParameter:3082,viewType:107},r?{trackingParams:r}:Object.freeze({})))});case"user":return(0,s.jsx)(a.xu,{marginBottom:c?6:4,padding:c?2:1,children:(0,s.jsx)(eU,{isWideLayout:c,shouldClickthrough:!0,userId:t.id})});case"board":return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-1px",marginRight:"-1px"}},marginBottom:2,marginTop:c?-1:-2,paddingX:c?2:1,children:(0,s.jsx)(eL.default,{boardKey:{type:"Legacy",data:eq(eq({},t),{},{type:"board"})},type:o?"full":"grid",viewParameter:3082,viewType:107})});case"topic":return(0,s.jsx)(a.xu,{padding:c?2:1,children:(0,s.jsx)(eH,{id:t.id,shouldClickthrough:!0,showFollowButton:!0,viewParameter:3082,viewType:107})});case"triedit":return(0,s.jsx)(a.xu,{padding:2,children:(0,s.jsx)(eV.Z,{triedItId:t.id})});default:return null}},eY=n(68700);function e$(e){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(n),!0).forEach(function(t){e8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e0(e,t){return(e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e1(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e2=function(){return!!e})()}function e3(e){return(e3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e8(e,t,n){return(t=e4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e4(e){var t=function(e,t){if("object"!=e$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e$(t)?t:t+""}var e6=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&e0(o,e);var t,n,r=(t=e2(),function(){var e,n=e3(o);return e=t?Reflect.construct(n,arguments,e3(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==e$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e1(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e8(e1(e=r.call.apply(r,[this].concat(n))),"state",{isWideLayout:!1}),e8(e1(e),"onResize",(0,eI.Z)(function(){return e.setState({isWideLayout:window.innerWidth>520})},50)),e}return n=[{key:"componentDidMount",value:function(){this.setState({isWideLayout:window.innerWidth>520}),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.notification,r=t.newsIndex,o=t.inNewsHubQuickSaveExp,i=n.content_items.filter(function(e){return null!=e.content_object}),l=this.state.isWideLayout;return(0,s.jsx)(ek.Mv,{displayMode:n.display_mode,loggingId:n.id,newsIndex:r,newsType:n.news_type,notificationId:n.id,children:function(t){var r=t.impressionTrackerRef;return(0,s.jsxs)(a.xu,{ref:r,children:[(n.header_text||n.header_icon_objects)&&(0,s.jsxs)(a.xu,{paddingX:4,width:"100%",children:[n.header_icon_objects[0]&&(0,s.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,s.jsx)(a.kC,{alignItems:"stretch",flex:"none",justifyContent:"center",width:48,children:(0,s.jsx)(eC.Z,{clickable:!0,headerIconObjectsSchema:n.header_icon_objects.slice(0,1)})})}),n.header_text&&(0,s.jsx)(eY.Z,{align:"center",headerText:n.header_text,isLink:!0,textMapping:n.text_mapping||{}})]}),(0,s.jsx)(a.xu,{marginBottom:l?2:void 0,padding:l?void 0:1,paddingX:l?2:void 0,children:(0,s.jsx)(eT.default,{items:i,minCols:2,renderItem:function(t){var n=t.data,r=t.itemIdx,i=e.props.notificationId.split(":")[0];return(0,s.jsx)(eX,{contentObjectSchema:n.content_object,inNewsHubQuickSaveExp:o,isWideLayout:l,itemIdx:r,newsId:i,oneColumn:!1,trackingParams:"trackingParams"in n?n.trackingParams:""})}})})]},n.id)}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e4(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function e5(e){var t=(0,ej.v9)(function(t){return t.notifications[e.notificationId]}),n=(0,(0,eA.Z)().checkExperiment)("mweb_news_hub_quick_save").anyEnabled,r=(0,eR.m)();return(0,o.useEffect)(function(){return null==r||r.setInNotifDetailPage(!0),null==r||r.setInNewsHubQuickSaveExp(n),function(){null==r||r.reset()}},[r,n]),(0,s.jsx)(e6,eQ(eQ({},e),{},{inNewsHubQuickSaveExp:n,notification:t}))}function e9(e){return(e9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e7(e,t){return(e7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tt=function(){return!!e})()}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e){var t=function(e,t){if("object"!=e9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e9(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e9(t)?t:t+""}var to=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&e7(o,e);var t,n,r=(t=tt(),function(){var e,n=tn(o);return e=t?Reflect.construct(n,arguments,tn(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==e9(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return te(e)}(this,e)});function o(){var e,t,n,i;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return t=te(e=r.call.apply(r,[this].concat(l))),n="renderFeedItem",i=function(e,t){return"notification"!==e.type?null:(0,s.jsx)(e5,{newsIndex:t,notificationId:e.id},e.id)},(n=tr(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,e}return n=[{key:"render",value:function(){var e=this.props,t=e.newsHubDetailsResource,n=e.notifications;return null==n||0===n.length?null:(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(a.gr,{fetchMore:t.fetchMore,isAtEnd:t.isAtEnd,isFetching:t.isFetching}),n.map(this.renderFeedItem)]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tr(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent),ti=n(338402),ta=n(588836),tl=["selected"];function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ts(e,t){return(ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function td(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tf=function(){return!!e})()}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tm(e,t,n){return(t=tg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tg(e){var t=function(e,t){if("object"!=tu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tu(t)?t:t+""}var ty={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"},tb=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&ts(o,e);var t,n,r=(t=tf(),function(){var e,n=tp(o);return e=t?Reflect.construct(n,arguments,tp(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==tu(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return td(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return tm(td(e=r.call.apply(r,[this].concat(n))),"state",{showScrollShadow:!1}),tm(td(e),"onScroll",(0,eO.Z)(function(){return e.setState({showScrollShadow:window.scrollY>0})},100)),e}return n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.notification,r=e.notifications,o=e.newsHubDetailsResource,i=e.newsHubSummaryResource,l=e.navigate,u=e.session;return null==n?null:(0,s.jsx)(ex.Z,{log:{view_type:107,view_parameter:3082},children:(0,s.jsx)(J.Z,{objectId:n.id,view:107,viewParameter:3082,children:(0,s.jsxs)(eE.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,s.jsx)(a.Le,{top:0,children:(0,s.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:this.state.showScrollShadow?ty:{}},paddingY:1,width:"100%",children:(0,s.jsxs)(a.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,s.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:2,marginStart:2,width:48,children:(0,s.jsx)(ta.Z,{color:"darkGray",fallbackUrl:"/",viewParameter:3082,viewType:107})}),(0,s.jsx)(a.xu,{flex:"grow",children:(0,s.jsx)(eY.Z,{align:"center",bold:!0,headerText:n.detail_header||n.header_text,ignoreAPIMarkup:!0,textMapping:n.text_mapping||{}})}),(0,s.jsx)(a.xu,{flex:"none",height:48,marginEnd:2,marginStart:2,width:48})]})})}),(0,s.jsx)(to,{navigate:l,newsHubDetailsResource:o,notificationId:n.id,notifications:r,session:u}),(i.isFetching||o.isFetching)&&(0,s.jsx)(a.xu,{column:12,paddingY:4,children:(0,s.jsx)(a.xH,{accessibilityLabel:t._('Loading feed', ' - ', ' -- '),show:!0})}),!o.isFetching&&(0,s.jsx)(a.xu,{marginBottom:10,children:(0,s.jsx)(eS,{})})]})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tg(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function tv(){var e=(0,r.s0)(),t=(0,i.$B)(),n=(0,W.ZP)(),o=(0,ej.v9)(function(e){return e.session}),a=(0,ej.v9)(function(e){return t.params.id?e.notifications[t.params.id]:void 0}),l=(0,ej.v9)(function(e){return t.params.id?e.feeds["newshubdetail:".concat(t.params.id)]:[]});return(0,s.jsx)(ti.Z,{name:"NewsHubSummaryResource",options:{news_id:t.params.id},children:function(r){var i=Object.assign({},r);return(0,s.jsx)(ti.Z,{name:"NewsHubDetailsResource",options:{news_id:t.params.id},children:function(t){t.selected;var r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,tl);return(0,s.jsx)(tb,{i18n:n,navigate:e,newsHubDetailsResource:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach(function(t){tm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r),newsHubSummaryResource:i,notification:a,notifications:l,session:o})}})}})}var th=function(){var e=(0,ew.ZP)();return(0,e_.B)().isAuthenticated?"desktop"===e?(0,s.jsx)(eh,{}):(0,s.jsx)(tv,{}):(0,s.jsx)(r.Fg,{replace:!0,to:"/"})}},573313:function(e,t,n){"use strict";var r,o,i=n(23185),a=n(122426),l=0,u=0;t.Z=function(e,t,n){var c=t&&n||0,s=t||Array(16),d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=e.random||(e.rng||i.Z)();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=(p[6]<<8|p[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:u+1,y=m-l+(g-u)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||m>l)&&void 0===e.nsecs&&(g=0),g>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=m,u=g,o=f;var b=((0xfffffff&(m+=122192928e5))*1e4+g)%0x100000000;s[c++]=b>>>24&255,s[c++]=b>>>16&255,s[c++]=b>>>8&255,s[c++]=255&b;var v=m/0x100000000*1e4&0xfffffff;s[c++]=v>>>8&255,s[c++]=255&v,s[c++]=v>>>24&15|16,s[c++]=v>>>16&255,s[c++]=f>>>8|128,s[c++]=255&f;for(var h=0;h<6;++h)s[c+h]=d[h];return t||(0,a.Z)(s)}},81580:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(586659),o=(0,r.createContext)();function i(){return(0,r.useContext)(o)}t.Z=o},131636:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/news_hub/[id]",function(){return n(21189).Z}])}},function(e){e.O(0,["12041","24790","25418","30338","30724","3194","33171","34290","36313","38340","39174","41642","43836","51036","51972","714","73967","8709","88038","88039","92911","97820"],function(){return e(e.s=131636)}),e.O()}]);