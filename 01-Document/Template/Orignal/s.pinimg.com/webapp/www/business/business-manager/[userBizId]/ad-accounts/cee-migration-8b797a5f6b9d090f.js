(self.legacyJsonp=self.legacyJsonp||[]).push([["13750"],{796068:function(e,t,n){"use strict";var r=n(20256),i=n(18468),s=n(19585),a=n(376979),o=n(382718);t.Z=function(e){var t=e.backButtonText,n=e.cta,l=e.onBackButtonClick,c=e.pageContent,d=e.search,u=e.sidebar,_=e.tabs,m=e.title,h=e.pageType,g=e.callout,E=e.assetFlowBannerText,A=e.infoIconButtonText,p=e.announcementBanner,x=(0,s.ZP)();return(0,o.jsxs)(r.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[(0,o.jsx)(r.xu,{marginBottom:4,marginStart:2,children:(0,o.jsx)(r.X6,{size:"600",children:m})}),p?(0,o.jsx)(r.xu,{marginBottom:4,children:(0,o.jsx)(r.he,{message:p.message,type:p.type})}):null,(0,o.jsx)(r.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:i.iiJ}},paddingX:4,paddingY:4,rounding:4,width:"100%",children:(0,o.jsxs)(r.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:"100%",children:[(0,o.jsxs)(r.sg,{mdSpan:u?8:12,span:12,children:[(0,o.jsx)(r.xu,{display:"inlineBlock",marginBottom:4,children:(0,o.jsx)(r.iP,{onTap:l,children:(0,o.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(r.JO,{accessibilityLabel:x._('Back', '[m10n]bizAccess.button', '[m10n]button for user to go back to main page'),color:"default",icon:"directional-arrow-left"}),(0,o.jsx)(r.xu,{marginStart:2,children:(0,o.jsx)(r.xv,{weight:"bold",children:t})})]})})}),g?(0,o.jsx)(r.xu,{marginBottom:2,children:g}):null,(0,o.jsxs)(r.xu,{display:"flex",justifyContent:"between",marginBottom:6*!E,children:[_&&(0,o.jsx)(r.xu,{children:_}),!d&&n?(0,o.jsx)(r.xu,{paddingY:3,children:n}):null]}),E?(0,o.jsx)(r.xu,{paddingY:4,children:(0,o.jsx)(r.he,{message:E,type:"neutral"})}):null,d?(0,o.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,o.jsx)(r.xu,{flex:"grow",marginEnd:2,minWidth:330,children:d}),(0,o.jsxs)(r.kC,{children:[n,A&&(0,o.jsx)(r.hU,{accessibilityLabel:x._('Information about button', '[m10n]bizAccess.info.disabled.button.accessibilityLabel', '[m10n]accessibility label for information button next to button'),icon:"info-circle",size:"md",tooltip:{text:A,idealDirection:"down"}})]})]}):null,(0,o.jsx)(r.xu,{marginTop:2,children:c})]}),u&&(0,o.jsx)(r.sg,{mdSpan:4,span:12,children:(0,o.jsx)(r.xu,{marginStart:6,paddingY:6,children:(0,o.jsx)(a.ZP,{errorType:"SIDEBAR",name:"businessAccessRoot",pageType:h,children:u})})})]})})]})}},630069:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(86295),i=n(307815),s=n(586659),a=n(963489),o=n(20256),l=n(789877),c=n(701831),d=n(233519),u=n(654937),_=n(657043),m=n(475498),h=n(19585),g=n(302148),E=n(15667),A=n(87853),p=n(119186),x=n(557957),S=n(932047),I=n(796068),f=n(942317),v=n(526511),b=n(464876),N=n(382718);function C(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,i)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(){var e,t=(0,b.HU)().setRequiredRMAAInformationModal,n=(0,h.ZP)(),i=(0,b.KJ)(),P=(0,a.s0)(),T=(0,E.B)(),j=(0,s.useRef)((0,d.ZP)((0,d.QK)("AD_ACCOUNTS_CEE_MIGRATION"))),R=function(e){if(Array.isArray(e))return e}(e=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{for(s=(n=n.call(e)).next;!(l=(r=s.call(n)).done)&&(o.push(r.value),2!==o.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),z=R[0],M=R[1],k=(0,A.dI)().showToast,w=(0,p.Z)(),L=w.loading,B=w.data,D=w.loadResellerCeeMigrationInfo,U=w.error;(0,s.useEffect)(function(){j.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component_id:"cee-migration-page"})},[j]),(0,s.useEffect)(function(){if(U){var e;j.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"cee-migration-page",element:"BUSINESS_ACCESS_FIELD",elementId:"load-cee-migration-data",errorClass:JSON.stringify(U).slice(0,64),errorMessage:(null==(e=(0,_.Z)(U,"stack"))?void 0:e.slice(0,4096))||(0,_.Z)(U,"message")||""})}},[U,j]);var O=(0,s.useMemo)(function(){return(0,u.ZP)(T.locale,r.xw,u.kH.NUMERIC,!1)},[T]),Z=(0,s.useMemo)(function(){return(0,N.jsx)(o.Ct,{text:n._('Not added', '[m10n]bizAccess.adAccount.ceeMigration.reseller.badge.notAdded', 'badge to indicate the migration status to the reseller is not added'),type:"neutral"})},[n]),V=(0,s.useMemo)(function(){return(0,N.jsx)(o.Ct,{text:n._('Invite pending', '[m10n]bizAccess.adAccount.ceeMigration.reseller.badge.invitePending', 'badge to indicate the migration status to the reseller is pending invite'),tooltip:{text:(0,g.nk)(n._('The partner has until {{ actionDate }} to review your invite', '[m10n]bizAccess.adAccount.ceeMigration.reseller.badge.invitePending.tooltip', 'tooltip to indicate the last date the reseller has in order to review the invite, actionDate: last date to review the invite'),{actionDate:O}).join("")},type:"info"})},[n,O]),H=(0,s.useMemo)(function(){return(0,N.jsx)(o.Ct,{text:n._('Invite expired', '[m10n]bizAccess.adAccount.ceeMigration.reseller.badge.inviteExpired', 'badge to indicate the migration status to the reseller expired invite'),type:"darkWash"})},[n]),G=(0,s.useMemo)(function(){return(0,N.jsx)(o.Ct,{text:n._('Invite declined', '[m10n]bizAccess.adAccount.ceeMigration.reseller.badge.inviteDeclined', 'badge to indicate the migration status to the reseller declined invite'),type:"error"})},[n]),J=(0,s.useMemo)(function(){return(0,N.jsx)(o.Ct,{text:n._('Invite accepted', '[m10n]bizAccess.adAccount.ceeMigration.reseller.badge.inviteAccepted', 'badge to indicate the migration status to the reseller accepted invite'),type:"success"})},[n]),Q=(0,s.useMemo)(function(){return{NEED_RESELLER_PARTNERSHIP:Z,RESELLER_INVITE_DECLINED:G,RESELLER_INVITE_EXPIRED:H,RESELLER_INVITE_PENDING:V,RESELLER_INVITE_ACCEPTED:J}},[Z,V,G,H,J]),X=(0,s.useMemo)(function(){return(0,N.jsx)(o.xu,{"data-test-id":"cee-migration-page-content",children:(0,N.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,N.jsx)(o.xH,{accessibilityLabel:(0,c.hC)(n),delay:!1,show:!0,size:"lg"})})})},[n]),Y=function(){j.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"cee-migration-page",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-cee-migration-button-".concat(null==B?void 0:B.resellerMarketInfo.status)});var e,s,a,o,l=["NEED_RESELLER_PARTNERSHIP","RESELLER_INVITE_EXPIRED","RESELLER_INVITE_DECLINED"].includes((null==B?void 0:B.resellerMarketInfo.status)||"");if(B&&l)return void t({id:(null==(a=T.advertiser)?void 0:a.id)||"",name:(null==(o=T.advertiser)?void 0:o.name)||"",country:null,resellerUserId:B.resellerMarketInfo.resellerUserId,resellerBusinessName:B.resellerMarketInfo.resellerName,adAccountsToMigrate:B.adAccountsToMigrate,page:"BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION",onInviteSent:D});(e=regeneratorRuntime.mark(function e(){var t,s,a,o,l,c,d,u,h,g,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!B||z)){e.next=2;break}return e.abrupt("return");case 2:if(t="RESELLER_INVITE_EXPIRED"===B.resellerMarketInfo.status,s="RESELLER_INVITE_PENDING"===B.resellerMarketInfo.status,a=n._('Invite sent successfully', '[m10n]bizAccess.adAccount.ceeMigration.reseller.invite.sent.successfully', 'toast indicating invite was sent successfully to reseller'),!t){e.next=27;break}return e.prev=6,M(!0),e.next=10,(0,v.Zk)({businessId:i,partnerId:B.resellerMarketInfo.resellerUserId,businessHierarchyNodeId:void 0});case 10:c=null==(l=e.sent)||null==(o=l.data)?void 0:o.data[B.resellerMarketInfo.resellerUserId],j.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-page",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-cee-migration-button-invite-".concat(null==B?void 0:B.resellerMarketInfo.status),business_id:i,partner_request_id:c}),k(function(e){var t=e.hideToast;return(0,N.jsx)(m.Z,{duration:r.QE,onHide:t,text:a,type:"success"})}),D(),e.next=24;break;case 17:e.prev=17,e.t0=e.catch(6),u=e.t0,h=(0,x.ZB)(n,u),g=null!=(d=u.code)?d:u.api_error_code,j.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-page",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-invite",errorClass:g?g.toString():"",errorMessage:h,business_id:i}),k(function(e){var t=e.hideToast;return(0,N.jsx)(m.Z,{duration:r.QE,onHide:t,text:n._('There was an error in sending the invite. Please try again.', '[m10n]bizAccess.adAccount.ceeMigration.reseller.invite.send.error', 'Error message if sending an invite to reseller fails'),type:"error"})});case 24:return e.prev=24,M(!1),e.finish(24);case 27:if(!(s&&B.resellerMarketInfo.inviteId)){e.next=44;break}return e.prev=28,M(!0),e.next=32,(0,f.c_)({businessId:i,inviteId:B.resellerMarketInfo.inviteId,type:"PARTNER_INVITE"});case 32:j.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-page",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-cee-migration-button-resend-invite-".concat(null==B?void 0:B.resellerMarketInfo.status),business_id:i,partner_request_id:B.resellerMarketInfo.inviteId}),k(function(e){var t=e.hideToast;return(0,N.jsx)(m.Z,{duration:r.QE,onHide:t,text:a,type:"success"})}),e.next=41;break;case 36:e.prev=36,e.t1=e.catch(28),E=(0,_.Z)(e.t1,"message")||n._('There was an error in re-sending the invite. Please try again.', '[m10n]bizAccess.adAccount.ceeMigration.reseller.invite.resend.error', 'Error message if re-sending an invite to reseller fails'),j.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-page",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-resend-invite",errorMessage:E,business_id:i}),k(function(e){var t=e.hideToast;return(0,N.jsx)(m.Z,{duration:r.QE,onHide:t,text:E,type:"error"})});case 41:return e.prev=41,M(!1),e.finish(41);case 44:case"end":return e.stop()}},e,null,[[6,17,24,27],[28,36,41,44]])}),s=function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function a(e){C(s,r,i,a,o,"next",e)}function o(e){C(s,r,i,a,o,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)})()},W=(0,s.useRef)(Y);W.current=Y;var q=n._('Invite partner', '[m10n]bizAccess.adAccount.ceeMigration.inviterPartnerText', 'invite partner button text'),F=(0,s.useMemo)(function(){return{NEED_RESELLER_PARTNERSHIP:q,RESELLER_INVITE_EXPIRED:q,RESELLER_INVITE_DECLINED:q,RESELLER_INVITE_PENDING:"",RESELLER_INVITE_ACCEPTED:""}},[q]),K=(0,s.useMemo)(function(){return(0,N.jsxs)(o.xu,{"data-test-id":"cee-migration-page-content",children:[(0,N.jsx)(o.xu,{children:(0,N.jsx)(o.xv,{size:"400",weight:"bold",children:(0,g.nk)(n._('Pinterest will be working exclusively with {{ resellerName }} in select markets where you advertise today', '[m10n]bizAccess.adAccount.ceeMigration.title', 'title for cee migration page, resellerName: reseller name to migrate ad accounts to'),{resellerName:r.p||""})})}),(0,N.jsx)(o.xu,{marginTop:4,children:(0,N.jsx)(o.xv,{children:n._('This new partnership will offer you in-market representation, local language support and deeper expertise to help you drive performance on Pinterest.', '[m10n]bizAccess.adAccount.ceeMigration.description', 'describing benefits of cee ad accounts migration')})}),(0,N.jsx)(o.xu,{marginTop:2,children:(0,N.jsx)(o.xv,{children:(0,g.nk)(n._('Invite {{ resellerName }} to be your partner today to access this enhanced service.', '[m10n]bizAccess.adAccount.ceeMigration.interestedInTheMigration', 'text asking user to invite the partner if the user is interested in the migration, resellerName: reseller name to migrate ad accounts to'),{resellerName:r.p||""})})}),(0,N.jsx)(o.xu,{paddingY:4,children:(0,N.jsx)(o.iz,{})}),(0,N.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,N.jsxs)(o.kC,{alignItems:"center",children:[(0,N.jsx)(o.xv,{size:"400",weight:"bold",children:r.p}),B&&(0,N.jsx)(o.xu,{marginStart:2,children:Q[B.resellerMarketInfo.status]})]}),(0,N.jsx)(o.xu,{children:B&&F[B.resellerMarketInfo.status]&&(0,N.jsx)(o.zx,{color:"red",disabled:z,onClick:W.current,size:"lg",text:F[B.resellerMarketInfo.status]})})]}),(0,N.jsx)(o.xu,{marginTop:2,children:(null==B?void 0:B.resellerMarketInfo.status)==="RESELLER_INVITE_ACCEPTED"?(0,N.jsx)(o.xv,{children:(0,g.nk)(n._('{{ resellerName }} now has admin access to these ad accounts:', '[m10n]bizAccess.adAccount.ceeMigration.resellerManagedAdAccountsText', 'text describing reseller managed ad accounts, resellerName: reseller name'),{resellerName:r.p||""})}):(0,N.jsx)(o.xv,{children:(0,g.nk)(n._('{{ resellerName }} will have admin access to these ad accounts if the invite is accepted:', '[m10n]bizAccess.adAccount.ceeMigration.affectedAdAccountsText', 'text describing affected ad accounts, resellerName: reseller name to migrate ad accounts to'),{resellerName:r.p||""})})}),(0,N.jsx)(o.xu,{marginTop:2,children:(0,N.jsx)(S.Z,{adAccounts:(null==B?void 0:B.adAccountsToMigrate)||[]})}),(0,N.jsx)(o.xu,{marginTop:4,children:(0,N.jsxs)(o.kC,{gap:2,children:[(0,N.jsx)(o.JO,{accessibilityLabel:"Pin",color:"info",icon:"info-circle"}),(0,N.jsx)(o.xv,{children:(0,g.nk)(n._('All invoices will bill-to {{ resellerName }} if your partnership request is accepted. Pinterest will create an order line with {{ resellerName }} for each ad account with active campaigns and move the campaigns to the new order line. If you don\u2019t want a campaign to be moved to a new order line, pause the campaign before inviting {{ resellerName }} to be your partner.', '[m10n]bizAccess.adAccount.ceeMigration.orderLineText', 'text describing campaigns will move to a new order line, resellerName: reseller name'),{resellerName:r.p||""})})]})})]})},[B,n,Q,z,W,F]),$=(0,s.useMemo)(function(){return{type:"success",message:(0,g.nk)(n._('You are partners with {{ resellerName }}. No action is necessary.', '[m10n]bizAccess.adAccount.ceeMigration.noMigrationNeeded', 'text describing ad accounts were already migrated and no actions are needed, resellerName: reseller name'),{resellerName:r.p||""}).join("")}},[n]);return(0,N.jsx)(I.Z,{announcementBanner:(null==B?void 0:B.resellerMarketInfo.status)==="RESELLER_INVITE_ACCEPTED"?$:void 0,backButtonText:n._('Back to ad accounts', '[m10n]bizAccess.adAccounts.ceeMigration.back', '[m10n] button label for action to navigate back to ad accounts page'),cta:"",onBackButtonClick:function(){P((0,l.Z)("AD_ACCOUNTS",i))},pageContent:L?X:K,pageType:r.Q6.AD_ACCOUNTS_CEE_MIGRATION,search:"",sidebar:null,title:(0,g.nk)(n._('Take action by {{ actionDate }}', '[m10n]bizAccess.adAccount.ceeMigration.header', 'heading for cee migration page, actionDate: the action date of the migration'),{actionDate:O}).join("")})},T=function(){return(0,N.jsx)(i.Z,{pageType:r.Q6.AD_ACCOUNTS_CEE_MIGRATION,children:(0,N.jsx)(P,{})})}},704550:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/ad-accounts/cee-migration",function(){return n(630069).Z}])}},function(e){e.O(0,["13058","14711","18188","25418","28356","30338","39797","41642","43823","46174","4925","5171","55594","56275","73967","86875","8709","88038","9328","95202","97365","98613"],function(){return e(e.s=704550)}),e.O()}]);