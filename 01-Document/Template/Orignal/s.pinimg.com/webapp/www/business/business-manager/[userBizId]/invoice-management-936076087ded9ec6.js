(self.legacyJsonp=self.legacyJsonp||[]).push([["90644"],{945467:function(e,n,t){"use strict";t.d(n,{C0:function(){return v},Nn:function(){return i.Z},Mt:function(){return m}});var i=t(199158),o=t(586659),r=t(968254),a=t(111375),s=t(15667),l=t(382718);function c(e,n,t,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void t(e)}s.done?n(l):Promise.resolve(l).then(i,o)}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var d=(0,o.forwardRef)(function(e,n){var t,i=e.disabled,d=e.disableMobileUI,m=e.errorMessage,_=e.errorMessageDisplay,h=e.excludeDates,f=e.helperText,v=e.id,b=e.idealDirection,g=e.includeDates,p=e.label,y=e.maxDate,A=e.minDate,x=e.mobileZIndex,S=e.mobileOnAnimationEnd,I=e.name,z=e.nextRef,C=e.onChange,j=e.onFocus,P=e.onBlur,w=e.placeholder,E=e.rangeEndDate,D=e.rangeSelector,N=e.rangeStartDate,T=e.readOnly,O=e.selectLists,M=e.size,k=e.value,B=e._overrideRangeDateFix,L=(0,s.B)().locale,R=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(void 0))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r,a,s=[],l=!0,c=!1;try{for(r=(t=t.call(e)).next;!(l=(i=r.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,n){if(e){if("string"==typeof e)return u(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=R[0],Z=R[1];return(0,o.useEffect)(function(){var e,n;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)(L);case 2:Z(e.sent);case 4:case"end":return e.stop()}},e)}),n=function(){var n=this,t=arguments;return new Promise(function(i,o){var r=e.apply(n,t);function a(e){c(r,i,o,a,s,"next",e)}function s(e){c(r,i,o,a,s,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()},[L,Z]),(0,l.jsx)(r.Mt,{ref:n,_overrideRangeDateFix:B,disabled:i,disableMobileUI:d,errorMessage:m,errorMessageDisplay:_,excludeDates:h,helperText:f,id:v,idealDirection:b,includeDates:g,label:p,localeData:U,maxDate:y,minDate:A,mobileOnAnimationEnd:S,mobileZIndex:x,name:I,nextRef:z,onBlur:P,onChange:C,onFocus:j,placeholder:w,rangeEndDate:E,rangeSelector:D,rangeStartDate:N,readOnly:T,selectLists:O,size:M,value:k})});d.displayName="DatePicker";var m=d;function _(e,n,t,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void t(e)}s.done?n(l):Promise.resolve(l).then(i,o)}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var f=function(e){var n,t=e.maxDate,i=e.minDate,c=e.onCancel,u=e.onDateChange,d=e.onDateError,m=e.onDateFocus,f=e.onDateBlur,v=e.onSubmit,b=e.radioGroup,g=e.readOnly,p=e.dateValue,y=e.dateErrorMessage,A=e.secondaryDateValue,x=e.secondaryDateErrorMessage,S=e.onSecondaryDateBlur,I=e.onSecondaryDateChange,z=e.onSecondaryDateError,C=e.onSecondaryDateFocus,j=(0,s.B)().locale,P=function(e){if(Array.isArray(e))return e}(n=(0,o.useState)())||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r,a,s=[],l=!0,c=!1;try{for(r=(t=t.call(e)).next;!(l=(i=r.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,2)||function(e,n){if(e){if("string"==typeof e)return h(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=P[0],E=P[1];return(0,o.useEffect)(function(){var e,n;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)(j);case 2:E(e.sent);case 4:case"end":return e.stop()}},e)}),n=function(){var n=this,t=arguments;return new Promise(function(i,o){var r=e.apply(n,t);function a(e){_(r,i,o,a,s,"next",e)}function s(e){_(r,i,o,a,s,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()},[j,E]),(0,l.jsx)(r.C0,{dateErrorMessage:y,dateValue:p,localeData:w,maxDate:t,minDate:i,onCancel:c,onDateBlur:f,onDateChange:u,onDateError:d,onDateFocus:m,onSecondaryDateBlur:S,onSecondaryDateChange:I,onSecondaryDateError:z,onSecondaryDateFocus:C,onSubmit:v,radioGroup:b,readOnly:g,secondaryDateErrorMessage:x,secondaryDateValue:A})};f.displayName="DateRange";var v=f},566470:function(e,n,t){"use strict";var i=t(20256),o=t(233519),r=t(19585),a=t(979658),s=t(464876),l=t(382718);n.Z=function(e){var n=e.page,t=e.shouldUseSlimBanner,c=(0,s.KJ)(),u=(0,r.ZP)(),d=(0,o.ZP)(n),m=(0,a.y)().openSheet,_=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.accessibilityLabel', 'Accessibility label for ad account request callout'),h=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.message', 'Message providing details to the advertiser about the ad account request.'),f={accessibilityLabel:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.accessibilityLabel', 'Accessbility label for view requests banner link'),label:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.label', 'View requests banner link'),onClick:function(){d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"aoaa-pending-incoming-requests-banner",element:"BUSINESS_ACCESS_LINK",elementId:"aoaa-pending-incoming-requests-banner-link",business_id:c}),m("RESPOND_AOAA_REQUESTS",{id:c})}};return void 0!==t&&t?(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.he,{iconAccessibilityLabel:_,message:h,primaryAction:f,type:"info"})}):(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.ci,{iconAccessibilityLabel:_,message:h,primaryAction:f,type:"info"})})}},84672:function(e,n,t){"use strict";var i=t(20256),o=t(982166),r=t(19585),a=t(382718),s=function(e){var n=e.bulletPoint,t=(0,r.ZP)();return(0,a.jsxs)(i.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[!n.noBulletPoint&&(0,a.jsx)(i.xu,{width:30,children:n.icon||(0,a.jsx)(i.JO,{accessibilityLabel:t._('bullet point icon', '[m10n].bizAccess.baseFeatureIntro.bulletPoint.a11y', 'accessibilityLabel for third bullet point on ad accounts introduction modal'),color:"dark",icon:"check-circle",size:24})}),(0,a.jsx)(i.xu,{children:n.content})]})};n.Z=function(e){var n=e.modalAccessibilityLabel,t=e.dismiss,l=e.image,c=e.heading,u=e.subtext,d=e.bulletPoints,m=e.primaryButton,_=e.secondaryButton,h=(0,r.ZP)();return(0,a.jsx)(o.ZP,{accessibilityModalLabel:n,onDismiss:function(){},size:832,children:(0,a.jsxs)(i.kC,{width:"100%",children:[(0,a.jsx)(i.kC.Item,{flexBasis:l.width||320,children:(0,a.jsx)(i.xu,{height:l.height||480,children:l.image})}),(0,a.jsx)(i.kC.Item,{flex:"grow",flexBasis:0,children:(0,a.jsxs)(i.xu,{direction:"column",display:"flex",height:l.height||480,justifyContent:"between",padding:6,children:[(0,a.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,a.jsxs)(i.kC,{alignItems:"center",gap:4,justifyContent:"between",children:[(0,a.jsx)(i.X6,{size:"600",children:c}),(0,a.jsx)(i.hU,{accessibilityLabel:h._('Cancel button to close this modal', '[m10n]bizAccess.baseFeatureIntro.cancel', '[m10n] Experience modal cancel button accessibilityLabel'),dataTestId:"dismiss-bm-intro-modal",icon:"cancel",onClick:t,size:"lg"})]}),(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{marginBottom:4*!!u,marginTop:6,children:u}),(0,a.jsx)(i.kC,{direction:"column",gap:4,children:d.map(function(e,n){return(0,a.jsx)(s,{bulletPoint:e},n)})})]})]}),(0,a.jsxs)(i.kC,{alignItems:"center",gap:2,height:48,justifyContent:"end",children:[_&&(0,a.jsx)(i.zx,{color:"gray",onClick:_.onClick,text:_.text}),(0,a.jsx)(i.zx,{color:"red",onClick:m.onClick,text:m.text})]})]})})]})})}},750891:function(e,n,t){"use strict";var i=t(15667);n.Z=function(e){var n=e.children;return(0,i.B)().sterlingOnSteroidsLdap?null:n}},799402:function(e,n,t){"use strict";t.d(n,{A:function(){return u},Z:function(){return d}});var i=t(20256),o=t(18468),r=t(19585),a=t(566470),s=t(701831),l=t(382718),c=function(){var e=(0,r.ZP)();return(0,l.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,l.jsx)(i.xH,{accessibilityLabel:(0,s.hC)(e),delay:!1,show:!0,size:"sm"})})},u=function(e){var n=e.title,t=e.subtitle,r=e.header,a=e.content;return(0,l.jsxs)(i.xu,{as:"article",marginEnd:6,marginStart:6,paddingY:6,children:[(0,l.jsxs)(i.xu,{as:"header",marginBottom:4,marginStart:2,children:[(0,l.jsx)(i.xu,{marginBottom:2,children:"string"==typeof n?(0,l.jsx)(i.X6,{size:"600",children:n}):n}),"string"==typeof t?(0,l.jsx)(i.xv,{size:"300",children:t}):t]}),(0,l.jsx)(i.xu,{as:"section",borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},padding:4,rounding:4,children:(0,l.jsxs)(i.kC,{direction:"column",gap:6,children:[!!r&&(0,l.jsx)(i.kC.Item,{flex:"grow",children:r}),(0,l.jsx)(i.kC.Item,{children:a})]})})]})},d=function(e){var n=e.title,t=e.titleTooltip,s=e.subtitle,u=e.cta,d=e.secondaryAction,m=e.search,_=e.tabs,h=e.isLoading,f=e.table,v=e.maxWidth,b=e.heightShouldGrowWithContent,g=e.showAoaaBanner,p=e.banner,y=e.subtitleHref,A=void 0===y?"":y,x=e.subtitleDataTestId,S=(0,r.ZP)(),I=(0,l.jsxs)(i.xu,{children:[(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,width:"100%",children:[(0,l.jsx)(i.xu,{children:_}),(0,l.jsx)(i.xu,{marginBottom:2,children:u})]}),m?(0,l.jsx)(i.xu,{marginBottom:2,minWidth:"100%",children:m}):null]}),z=(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,width:"100%",children:[(0,l.jsx)(i.kC.Item,{flex:"grow",children:m}),(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",marginStart:2,children:u})]}),C=S._('Additional info', '[m10n] businessAccess.permissions.cell.additionalInfo', 'accessibility label of more info tooltips');return(0,l.jsxs)(i.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[(0,l.jsxs)(i.xu,{display:"flex",marginBottom:4,marginStart:2,children:[(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(i.X6,{size:"600",children:n}),t&&(0,l.jsx)(i.hU,{accessibilityLabel:S._('Page info icon', '[[m10n]bizAccess.page.info.icon', 'Accessibility label for page info icon'),bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:t,accessibilityLabel:t}})]}),!!s&&"string"==typeof s&&(0,l.jsx)(i.xu,{alignItems:"center","data-test-id":x,display:"flex",marginStart:1,children:A?(0,l.jsx)(i.I_,{accessibilityLabel:C,bgColor:"transparent",href:A,icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:s}}):(0,l.jsx)(i.hU,{accessibilityLabel:C,bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:s}})})]}),(0,l.jsxs)(i.kC,{direction:"column",width:"100%",children:[g&&(0,l.jsx)(i.xu,{marginBottom:2,minWidth:"100%",children:(0,l.jsx)(a.Z,{page:3803,shouldUseSlimBanner:!0})}),p?(0,l.jsx)(i.xu,{minWidth:"100%",children:p}):null]}),(0,l.jsx)(i.kC,{minHeight:b?void 0:"calc(100vh - 169px)",width:"100%",children:(0,l.jsx)(i.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},flex:"grow",maxWidth:v,minWidth:940,padding:4,rounding:4,width:"grow",children:(0,l.jsxs)(i.kC,{direction:"column",children:[_?I:z,d&&(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,children:(0,l.jsx)(i.xu,{marginBottom:2,children:d})}),h?(0,l.jsx)(c,{}):(0,l.jsx)(i.xu,{children:f})]})})})]})}},2339:function(e,n,t){"use strict";t.d(n,{Z:function(){return eS}});var i=t(86295),o=t(307815),r=t(20256),a=t(701831),s=t(937392),l=t(19585),c=t(302148),u=t(84672),d=t(750891),m=t(382718);function _(){var e=(0,l.ZP)();return(0,m.jsx)(d.Z,{children:(0,m.jsx)(s.a3,{eligibleIds:[505820],eligibleTypes:[9],placementId:1000517,children:function(n){var t=n.dismiss,i=n.complete;return(0,m.jsx)(u.Z,{bulletPoints:[{content:(0,m.jsx)(r.xv,{color:"default",size:"200",children:e._('Sort, filter and group invoices', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.one', 'bullet point in invoice management introduction modal to say that you can sort, filter, and group invoices')})},{content:(0,m.jsx)(r.xv,{color:"dark",size:"200",children:e._('View and download all of your invoices', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.two', 'bullet point in invoice management introduction modal about viewing and downloading invoices')})},{content:(0,m.jsx)(r.xv,{size:"200",children:e._('Opt-in for a more manageable report of your invoices in one consolidated email', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.three', 'bullet point in invoice management intro modal purpose of opting in')})}],dismiss:t,heading:e._('Keep track of your invoices in one easy place', '[m10n].bizAccess.invoiceManagementIntro.heading', 'heading for invoice management feature intro modal'),image:{image:(0,m.jsx)(r.Ee,{alt:e._('image to introduce invoice management in business manager', '[m10n].bizAccess.invoiceManagementIntro.image', 'alt text for image to introduce invoice management in business manager'),fit:"cover",naturalHeight:480,naturalWidth:320,src:"https://s.pinimg.com/webapp/invoice_management_intro-5cd0063c.png"})},modalAccessibilityLabel:e._('modal to introduce invoice management feature in Business Manager', '[m10n].bizAccess.invoiceManagementIntro.a11y', 'accessibility label for invoice management feature intro modal'),primaryButton:{text:(0,a.Eb)(e),onClick:function(){return i()}},subtext:(0,m.jsx)(r.xv,{size:"200",children:(0,c.nk)(e._('{{invoiceManagementText}} gives you an overview of invoices, showing you what is outstanding, upcoming or overdue.', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.subtext', 'subtext for invoiceManagement intro modal summarizing how to use invoice management. invoiceManagementText: the words invoice management'),{invoiceManagementText:(0,m.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:e._('Invoice management', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.subtext.invoiceManagement', 'bolded text for invoice management in subtext')},"invoice")})})})}})})}var h=t(586659),f=t(581722),v=t(233519),b=t(15667),g=t(979658),p=t(799402),y=t(333344),A=t(948839);function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var S=t(963489),I=t(198361),z=t(419052),C=t(594036),j=t(464876);function P(e,n,t,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void t(e)}s.done?n(l):Promise.resolve(l).then(i,o)}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r,a,s=[],l=!0,c=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=r.call(t)).done)&&(s.push(i.value),s.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return E(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function D(){return{adAccountIds:[],timeRange:{startTime:null,endTime:null},status:"OPEN",documentType:"ALL"}}function N(){var e,n,t,i,o,a,s,c=(0,l.ZP)(),u=(0,S.s0)(),d=(0,I.Kx)(),_=(n=(e=w((0,h.useState)(null),2))[0],t=e[1],o=(i=w((0,h.useState)(!0),2))[0],a=i[1],s=(0,j.KJ)(),((0,h.useEffect)(function(){function e(){var n;return n=regeneratorRuntime.mark(function e(){var n,i,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={id:"",businessId:s,filters:D(),limit:1,startIndex:0,invoicesSortBy:{sortOrder:"DESCENDING",sortField:"DUE_DATE"}},e.next=4,(0,z.C)(o);case 4:if(r=e.sent){e.next=7;break}throw Error("No data returned on useOutstandingInvoicesCount");case 7:t(null==(n=r.data)||null==(i=n.invoices)?void 0:i.length),a(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(function(){throw e.t0});case 15:case"end":return e.stop()}},e,null,[[0,12]])}),(e=function(){var e=this,t=arguments;return new Promise(function(i,o){var r=n.apply(e,t);function a(e){P(r,i,o,a,s,"next",e)}function s(e){P(r,i,o,a,s,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s]),"number"==typeof n)?{count:n,isLoading:!1}:{count:null,isLoading:o});if(0===(0,f.v9)(C.qu).length||_.isLoading||null===_.count)return null;var v=_.count>0,b=v?(0,m.jsx)(r.xv,{children:c._('You have outstanding invoices', '[m10n]bizAccess.business.invoiceManagement.header', 'Shows how many outstanding invoices the user has in the invoice management page. outstandingInvoicesCount: number of outstanding invoices')},"invoice-management-header"):(0,m.jsx)(r.xv,{children:c._('All of your invoices have been paid', '[m10n]bizAccess.business.invoiceManagement.header', 'Banner text that shows that all of the users invoices have been paid in the invoice management page')},"invoice-management-header"),g=c._('View outstanding only', '[m10n]bizAccess.business.invoiceManagement.header', 'button text in the invoice management page for creating an invoice inquiry');return(0,m.jsx)(r.kC,{dataTestId:"invoice-management-banner",children:(0,m.jsx)(r.he,{message:b,primaryAction:v?{accessibilityLabel:g,label:g,onClick:function(){var e=D();d.delete("adAccountIds"),d.set("status",e.status),d.set("documentType",e.documentType),d.has("timeRangeStart")&&d.delete("timeRangeStart"),d.has("timeRangeEnd")&&d.delete("timeRangeEnd"),d.set("sort_field","DUE_DATE"),d.set("sort_order","ASCENDING"),u({search:d.toString()})}}:void 0,type:v?"info":"success"})})}function T(e,n,t,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void t(e)}s.done?n(l):Promise.resolve(l).then(i,o)}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var M=function(e){return new Promise(function(n){return setTimeout(n,e)})},k=function(e){var n,t=e.invoicesIds,i=(0,l.ZP)(),o=(0,f.v9)(C.qu).map(function(e){return{invoice_id:e.id,advertiser_id:e.advertiser.advertiser_id}}).filter(function(e){var n=e.invoice_id;return t.includes(n)}),a=function(e){if(Array.isArray(e))return e}(n=(0,h.useState)("default"))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r,a,s=[],l=!0,c=!1;try{for(r=(t=t.call(e)).next;!(l=(i=r.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,2)||function(e,n){if(e){if("string"==typeof e)return O(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],c=a[1];return(0,m.jsxs)(h.Fragment,{children:[(0,m.jsx)(r.zx,{disabled:0===t.length||"progress"===s,onClick:function(){var e,n;(e=regeneratorRuntime.mark(function e(){var n,t,i,r,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c("progress"),t=encodeURIComponent(JSON.stringify(o)),e.next=6,fetch("".concat("/business/business-access/invoice_document/download_batch/","?invoices=").concat(t));case 6:return i=e.sent,e.next=9,i.blob();case 9:return r=e.sent,a=window.URL.createObjectURL(r),(s=document.createElement("a")).style.display="none",s.href=a,s.download="invoices.zip",null==(n=document.body)||n.appendChild(s),s.click(),window.URL.revokeObjectURL(a),c("success"),e.next=21,M(5e3);case 21:return e.prev=21,c("default"),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[0,,21,24]])}),n=function(){var n=this,t=arguments;return new Promise(function(i,o){var r=e.apply(n,t);function a(e){T(r,i,o,a,s,"next",e)}function s(e){T(r,i,o,a,s,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()},size:"lg",text:i._('Download', '[m10n]bizAccess.invoiceManagement.downloadButton', 'Download button text')}),"default"!==s&&(0,m.jsx)(r.mh,{children:(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},display:"flex",justifyContent:"center",paddingX:1,position:"fixed",width:"100%",children:(0,m.jsx)(r.FN,{text:"progress"===s?i._('Invoices downloading...', '[m10n]bizAccess.invoiceManagement.downloading', 'Downloading text'):i._('Invoices downloaded.', '[m10n]bizAccess.invoiceManagement.downloaded', 'Downloaded text'),type:s})})})]})},B=t(686319),L=t(945467);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach(function(n){var i,o;i=n,o=t[n],(i=function(e){var n=function(e,n){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=R(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==R(n)?n:n+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function G(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r,a,s=[],l=!0,c=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=r.call(t)).done)&&(s.push(i.value),s.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,n)||W(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,n){if(e){if("string"==typeof e)return V(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,n):void 0}}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function q(e,n,t,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void t(e)}s.done?n(l):Promise.resolve(l).then(i,o)}function K(e){return function(){var n=this,t=arguments;return new Promise(function(i,o){var r=e.apply(n,t);function a(e){q(r,i,o,a,s,"next",e)}function s(e){q(r,i,o,a,s,"throw",e)}a(void 0)})}}var J={eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",element:"BUSINESS_ACCESS_FIELD"};function $(){return($=K(regeneratorRuntime.mark(function e(n){var t,i,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="/ads/v4/businesses/".concat(n,"/invoice_access_advertisers"),e.next=4,(0,B.Z)({url:i,callOptions:{timeout:1e4}});case 4:if((null==(t=(o=e.sent).resource_response.data)?void 0:t.ad_accounts)!=null){e.next=7;break}throw Error("No response on getAvailableAdAccountIds");case 7:return r=Array.from(o.resource_response.data.ad_accounts).map(function(e){var n=e.id,t=e.name;if("string"!=typeof n||"string"!=typeof t)throw Error("Invalid response on getAvailableAdAccountIds");return{id:n,name:t}}),e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var H=function(){var e,n,t,i,o=(0,l.ZP)(),a=(0,v.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),s=(e=(0,j.KJ)(),t=(n=F((0,h.useState)([]),2))[0],i=n[1],(0,h.useEffect)(function(){function n(){return(n=K(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(e){return $.apply(this,arguments)}(e);case 3:i(n.sent),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),i(function(){throw n.t0});case 11:case"end":return n.stop()}},n,null,[[0,7]])}))).apply(this,arguments)}!function(){n.apply(this,arguments)}()},[e]),{availableAdAccounts:t,isLoading:null==t}),c=s.availableAdAccounts,u=s.isLoading,d=(0,I.wM)().adAccountIds,_=(0,h.useMemo)(function(){return new Set(d)},[d]),f=F((0,h.useState)(""),2),b=f[0],g=f[1],p=(0,h.useMemo)(function(){return{name:o._('All', '[m10n]bizAccess.adAccounts.search', 'Tag to select all possible ad accounts on the search field'),id:"ALL"}},[o]),y=(0,h.useMemo)(function(){return{name:o._('Loading', '[m10n]bizAccess.adAccounts.search', 'Text to show when the ad accounts are loading'),id:"LOADING"}},[o]),A=d.length===c.length,x=(0,h.useMemo)(function(){if(u)return[y];if(A)return[];var e=b.length>0;return[].concat(G(e?[]:[p]),G(c.filter(function(e){var n=e.id;return!_.has(n)}).filter(function(n){return!e||n.name.toLowerCase().includes(b.toLowerCase())})))},[_,p,y,c,A,u,b]),z="invoice-header-ad-accounts",C=(0,I.Kx)(),P=(0,S.s0)(),w=function(e){if("clear"===e.mode&&C.delete("adAccountIds"),"add"===e.mode&&C.append("adAccountIds",e.id),"remove"===e.mode){var n=C.getAll("adAccountIds");C.delete("adAccountIds"),n.filter(function(n){return n!==e.id}).forEach(function(e){C.append("adAccountIds",e)})}"all"===e.mode&&(C.delete("adAccountIds"),c.forEach(function(e){C.append("adAccountIds",e.id)})),P({search:C.toString()}),a(Z(Z({},J),{},{elementId:z,componentId:"business-access-invoice-filters-ad-accounts"}))},E=(0,h.useRef)(null),D=F((0,h.useState)(!1),2),N=D[0],T=D[1],O=function(e){return{label:e.name,value:e.id,subtext:"ALL"!==e.id&&"LOADING"!==e.id?"ID: ".concat(e.id):void 0}};return(0,m.jsx)(r.BC,{ref:E,accessibilityClearButtonLabel:o._('Clear the current value', '[m10n]bizAccess.adAccounts.search', 'Text to clear the current value of the ad accounts search field'),id:z,inputValue:b,label:o._('Ad accounts', '[m10n]bizAccess.adAccounts.search', 'Search box prompt to allow searching invoices by ad accounts ID or name'),noResultText:o._('No results for your selection', '[m10n]bizAccess.adAccounts.search', 'Text to show when the user search for an ad account that does not exist'),onBlur:function(){g(""),T(!1)},onChange:function(e){return g(e.value)},onClear:function(){return w({mode:"clear"})},onFocus:function(){return T(!0)},onKeyDown:function(e){var n=e.event,t=n.keyCode,i=n.currentTarget;8===t&&0===i.selectionEnd&&w({mode:"remove",id:d[d.length-1]})},onSelect:function(e){var n=e.item;g(""),"ALL"===n.value?w({mode:"all"}):"LOADING"!==n.value&&w({mode:"add",id:n.value})},options:x.map(O),placeholder:N?o._('Search ad accounts', '[m10n]bizAccess.invoiceManagement.search', 'Search box prompt to allow searching invoices by ad accounts ID or name'):o._('All', '[m10n]bizAccess.adAccounts.search', 'Placeholder text to show when the user has not selected any ad account'),selectedOption:A||0===d.length?O(p):void 0,size:"lg",tags:c.filter(function(e){var n=e.id;return _.has(n)}).map(function(e){var n=e.id,t=e.name;return(0,m.jsx)(r.Vp,{accessibilityRemoveIconLabel:"Remove ".concat(t," tag"),onRemove:function(){return w({mode:"remove",id:n})},text:t},n)})})},X=function(){var e=(0,l.ZP)(),n=(0,v.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),t=(0,I.wM)().status,i=(0,I.Kx)(),o=(0,S.s0)(),a=function(e){i.set("status",e),o({search:i.toString()}),n(Z(Z({},J),{},{componentId:"business-access-invoice-filters-status",elementId:"search-field"}))},s=[{label:e._('Open', '[m10n]bizAccess.invoice.filters.status', 'Select list option to select searching invoices by status = open'),value:"OPEN"},{label:e._('Closed', '[m10n]bizAccess.invoice.filters.status', 'Select list option to select searching invoices by status = closed'),value:"CLOSED"},{label:e._('All', '[m10n]bizAccess.invoice.filters.status', 'Select list option to select searching invoices by all type of status'),value:"ALL"}];return(0,m.jsx)(r.EI,{id:"business-access-invoice-filters-status",label:e._('Status', '[m10n]bizAccess.invoice.filters.status', 'Select list header to allow searching invoices by status (open or closed)'),onChange:function(e){a(e.value)},size:"lg",value:t,children:s.map(function(e){var n=e.label,t=e.value;return(0,m.jsx)(r.EI.Option,{label:n,value:t},t)})})},Y=function(){var e=(0,l.ZP)(),n=(0,v.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),t=(0,I.wM)().documentType,i=(0,I.Kx)(),o=(0,S.s0)(),a=function(e){i.set("documentType",e),o({search:i.toString()}),n(Z(Z({},J),{},{componentId:"business-access-invoice-filters-doctype",elementId:"search-field"}))},s=[{label:e._('Invoices', '[m10n]bizAccess.invoice.filters.docType', 'Select list option to select searching invoices by document type "Invoice"'),value:"INVOICE"},{label:e._('Credit memo', '[m10n]bizAccess.invoice.filters.docType', 'Select list option to select searching invoices by document type "Credit memo"'),value:"CREDIT_MEMO"},{label:e._('All', '[m10n]bizAccess.invoice.filters.docType', 'Select list option to select searching invoices by all document types'),value:"ALL"}];return(0,m.jsx)(r.EI,{id:"business-access-invoice-filters-doctype",label:e._('Document type', '[m10n]bizAccess.invoice.filters.docType', 'Select list header to allow searching invoices by status (open or closed)'),onChange:function(e){a(e.value)},size:"lg",value:t,children:s.map(function(e){var n=e.label,t=e.value;return(0,m.jsx)(r.EI.Option,{label:n,value:t},t)})})},Q=function(){var e=(0,l.ZP)(),n=(0,v.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),t=(0,I.wM)().timeRange,i=t.startTime,o=t.endTime,a=(0,I.Kx)(),s=(0,S.s0)(),c=function(e){null!=e.startTime&&a.set("timeRangeStart",e.startTime.toString()),null!=e.endTime&&a.set("timeRangeEnd",e.endTime.toString()),s({search:a.toString()}),n(Z(Z({},J),{},{componentId:"business-access-invoice-daterange",elementId:"date-range-picker"}))},u=null==i?null:new Date(i),d=null==o?null:new Date(o);return(0,m.jsxs)(r.kC,{direction:"column",gap:2,children:[(0,m.jsx)(r.xv,{size:"100",children:e._('Due Date range', '[m10n]bizAccess.adAccounts.search', 'Search box prompt to allow searching invoices by ad accounts ID or name')}),(0,m.jsxs)(r.kC,{gap:2,children:[(0,m.jsx)(r.kC.Item,{maxWidth:180,children:(0,m.jsx)(L.Mt,{id:"invoice-search-start-date",onChange:function(e){var n=e.value;c({startTime:null==n?void 0:n.getTime(),endTime:o})},rangeEndDate:d,rangeSelector:"start",rangeStartDate:u,value:u})}),(0,m.jsx)(r.kC.Item,{maxWidth:180,children:(0,m.jsx)(L.Mt,{id:"invoice-search-end-date",onChange:function(e){var n=e.value;c({startTime:i,endTime:null==n?void 0:n.getTime()})},rangeEndDate:d,rangeSelector:"end",rangeStartDate:u,value:d})})]})]})};function ee(e){var n=e.children;return(0,m.jsxs)(r.kC,{alignItems:"end",dataTestId:"invoice-management-filters",gap:2,width:"100%",children:[(0,m.jsx)(r.kC.Item,{flex:"grow",children:(0,m.jsx)(H,{})}),(0,m.jsx)(X,{}),(0,m.jsx)(Y,{}),(0,m.jsx)(Q,{}),n]})}var en=t(906553);function et(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function ei(){var e,n=(0,I.Kx)(),t=function(e){switch(e){case"INVOICE_NUMBER":case"DOCUMENT_TYPE":case"TOTAL_AMOUNT":case"BILLING_PERIOD":case"DUE_DATE":return e;default:return"DUE_DATE"}}(n.get("sort_field")),i="ASCENDING"===n.get("sort_order")?"ASCENDING":"DESCENDING",o={sortField:t,sortOrder:i},r=function(e){if(Array.isArray(e))return e}(e=(0,h.useState)(function(){return o}))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r,a,s=[],l=!0,c=!1;try{for(r=(t=t.call(e)).next;!(l=(i=r.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,2)||function(e,n){if(e){if("string"==typeof e)return et(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?et(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r[0],s=r[1];return(t!==a.sortField||i!==a.sortOrder)&&s(o),a}function eo(e){var n=e.direction,t=e.onClick,i=(0,l.ZP)();return"ASCENDING"===n?(0,m.jsx)(r.hU,{accessibilityLabel:i._('interact to change sort direction to descending using this column', '[m10n]bizAccess.invoiceManagement.heading', 'Business access invoice management; icon that changes the sort direction to descending'),dataTestId:"sort-ascending-icon-button",icon:"sort-ascending",onClick:t,size:"xs"}):(0,m.jsx)(r.hU,{accessibilityLabel:i._('interact to change sort direction to ascending using this column', '[m10n]bizAccess.invoiceManagement.heading', 'Business access invoice management; icon that changes the sort direction to ascending'),dataTestId:"sort-descending-icon-button",icon:"sort-descending",onClick:t,size:"xs"})}var er=function(e){var n=e.sortField,t=e.arrowOnTop,i=e.children,o=(0,S.s0)(),a=(0,I.Kx)(),s=ei(),l=function(){if(s.sortField!==n)a.set("sort_field",n),a.set("sort_order","DESCENDING"),o({search:a.toString()});else{var e="DESCENDING"===s.sortOrder?"ASCENDING":"DESCENDING";a.set("sort_order",e),o({search:a.toString()})}},c=(0,m.jsx)(r.xu,{minHeight:24,minWidth:24});return(0,m.jsx)(r.iP,{onTap:l,children:(0,m.jsxs)(r.kC,{alignItems:void 0!==t&&t?"start":"center",gap:2,children:[(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{userSelect:"none"}},children:i}),s.sortField===n?(0,m.jsx)(eo,{direction:s.sortOrder,onClick:l}):c]})})},ea=t(759584),es="TOTAL_AMOUNT",el=function(e){var n=(0,b.B)().locale,t=(0,en.Z)();return{field:es,headerName:(0,m.jsx)(er,{sortField:es,children:e._('Amount', '[m10n]bizAccess.business.invoiceManagement.amount', 'Amount for the invoice record')}),minWidth:A.I.columnWidths.md,TableCellComponent:y.Z,valueGetter:function(e){var i=(0,ea.Fr)({data:e,colDef:{field:"amount_billed_micro_currency"}}),o=e.currency;return(0,m.jsx)(r.xv,{size:"200",children:null!==i?t(n,i,{style:"currency",currency:o}):"-"})},justifying:"end"}},ec=t(673630),eu=t(137295),ed="BILLING_PERIOD",em="INVOICE_NUMBER",e_="DOCUMENT_TYPE",eh=t(910818),ef=t(603316),ev="DUE_DATE",eb=t(803124),eg=t(719374);function ep(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r,a,s=[],l=!0,c=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=r.call(t)).done)&&(s.push(i.value),s.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,n)||ey(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(e,n){if(e){if("string"==typeof e)return eA(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eA(e,n):void 0}}function eA(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var ex=function(){var e,n,t=(0,v.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),o=(0,l.ZP)(),a=(0,j.KJ)(),s=(0,g.y)().openSheet,u=(0,b.B)().locale,d=(0,f.v9)(C.qu),_=(0,f.v9)(C.G1),S=(0,f.v9)(eg.$z),P=(0,I.wM)(),w=ei(),E=ep(P.adAccountIds,1)[0],D=o._('No invoices are available.', '[m10n]bizAccess.invoiceManagement.tableNoData', 'Custom text when the table has no data');E&&(D=o._('No invoices match your search.', '[m10n]bizAccess.invoiceManagement.tableNoData', 'Custom text when the filter search does not match'));var T=(0,f.I0)();(0,h.useEffect)(function(){if(!a)return function(){};var e=new AbortController;return T((0,eb.C)({businessId:a,filters:P,invoicesSortBy:w,limit:_,abortController:e})),function(){return e.abort()}},[P,w,a,_,T]);var O=(0,h.useCallback)(function(e){e.invoice_id&&((0,ef.nP)("bizAccess.invoiceManagement.openInvoiceDetail",{sampleRate:1}),s("INVOICE_DETAIL",{invoiceDetail:e}),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"business-access-invoice-management",element:"BUSINESS_ACCESS_BUTTON",elementId:"invoice-modal-open"}))},[s,t]),M=o._('Invoice management', '[m10n]bizAccess.invoiceManagement.heading', 'Business access invoice management page heading'),B=o._('View and download your invoices, and sort them into groups for easier organization', '[m10n]businessAccess.invoiceManagement.info.tooltip', 'Invoice management page info tooltip'),L=(0,m.jsxs)(r.kC,{alignItems:"center",gap:1,height:"100%",justifyContent:"start",width:"100%",children:[(0,m.jsx)(r.xv,{size:"500",weight:"bold",children:M}),(0,m.jsx)(r.hU,{accessibilityLabel:o._('Invoice management info icon', '[[m10n]bizAccess.invoiceManagement.info.icon', 'Accessibility label for Invoice management info icon'),bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:B,accessibilityLabel:B}})]}),R=ep((0,h.useState)([]),2),U=R[0],Z=R[1],G=(0,h.useMemo)(function(){return d.map(function(e){return e.id})},[d]);return(0,h.useEffect)(function(){Z([])},[d]),(0,m.jsx)(p.A,{content:(0,m.jsx)(A.Z,{columnDefs:[].concat(function(e){if(Array.isArray(e))return eA(e)}(e=d.length>0?[{field:"Invoice Document Check",preventColumnRowClick:!0,justifying:"start",headerName:(0,m.jsx)(r.XZ,{checked:U.length===G.length,id:"select-all-invoices-for-download",label:o._('select all invoices for download checkbox', '[m10n]bizAccess.business.invoiceDocumentCheck.invoicesDownload.checkboxLabel', 'Select all invoices for download checkbox label'),labelDisplay:"hidden",onChange:function(){return Z(0===U.length?G:[])}}),minWidth:A.I.columnWidths.sm,verticalAlign:"middle",TableCellComponent:y.Z,valueGetter:function(e){var n=e.id;return(0,m.jsx)(h.Fragment,{children:(0,m.jsx)(r.XZ,{checked:U.includes(n),id:"select-all-invoice-".concat(n,"-for-download"),label:o._('select invoice for download checkbox', '[m10n]bizAccess.business.invoiceDocumentCheck.invoiceDownload.checkboxLabel', 'Select invoice for download checkbox label'),labelDisplay:"hidden",onChange:function(e){var t=e.event;Z(U.includes(n)?U.filter(function(e){return e!==n}):[].concat(function(e){if(Array.isArray(e))return x(e)}(U)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(U)||function(e,n){if(e){if("string"==typeof e)return x(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,void 0):void 0}}(U)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n])),t.stopPropagation()}})})}}]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ey(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{field:em,headerName:(0,m.jsx)(er,{sortField:em,children:o._('Document number', '[m10n]bizAccess.business.invoiceManagement.documentNumber', 'Document number for the invoice record')}),minWidth:A.I.columnWidths.md,TableCellComponent:y.Z,valueGetter:function(e){var n=(0,c.nk)(o._('Business name: {{businessName}}', '[m10n]bizAccess.invoiceManagement.heading', 'The name of the business that owns the invoice. businessName:Business name'),{businessName:e.parent_business.business_name}),t=(0,c.nk)(o._('Ad account name: {{adAccountName}}', '[m10n]bizAccess.invoiceManagement.heading', 'The name of the ad account that owns the invoice. adAccountName:Ad account name'),{adAccountName:e.advertiser.advertiser_name});return(0,m.jsxs)(h.Fragment,{children:[(0,m.jsx)(r.xv,{size:"200",weight:"bold",children:e.invoice_id}),(0,m.jsx)(r.xv,{color:"subtle",size:"100",children:n}),(0,m.jsx)(r.xv,{color:"subtle",size:"100",children:t})]})}},{field:e_,headerName:(0,m.jsx)(er,{sortField:e_,children:o._('Document type', '[m10n]bizAccess.business.invoiceManagement.documentType', 'Document type for the invoice record')}),minWidth:A.I.columnWidths.md,TableCellComponent:y.Z,valueGetter:function(e){return(0,m.jsx)(r.xv,{size:"200",children:{INVOICE:"Invoice",CREDIT_MEMO:"Credit memo"}[e.document_type]})}},el(o),{field:ed,headerName:(0,m.jsx)(er,{sortField:ed,children:o._('Billing period', '[m10n]businessAccess.invoiceDetailSheet.billingPeriod', 'The billing period to an invoice')}),minWidth:A.I.columnWidths.md,TableCellComponent:y.Z,valueGetter:function(e){var n,t,i=(0,eu.vs)((0,ec.Z)(null!=(n=e.billing_period_start_date)?n:0),{locale:u}),a=(0,eu.vs)((0,ec.Z)(null!=(t=e.billing_period_end_date)?t:0),{locale:u}),s=(0,c.nk)(o._('{{billingPeriodFrom}} to {{billingPeriodTo}}', '[m10n]billing.DiscountSummary.messaging', 'The period to an invoice billingPeriodFrom:Billing period start, billingPeriodTo:Billing period end'),{billingPeriodFrom:i,billingPeriodTo:a});return(0,m.jsx)(r.xv,{size:"200",children:s})},justifying:"start"},{field:ev,headerName:(0,m.jsxs)(er,{arrowOnTop:!0,sortField:ev,children:[o._('Due date', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Due date for the invoice record'),(0,m.jsx)(r.xv,{color:"subtle",size:"100",children:o._('Status', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Status of the invoice')})]}),minWidth:A.I.columnWidths.md,TableCellComponent:y.Z,valueGetter:function(e){var n,t=(0,m.jsx)(r.xv,{size:"200",children:(n=e.invoice_due_date)?(0,eu.vs)((0,ec.Z)(n),{locale:u}):"-"});if(!e.status)return t;var i="OPEN"===e.status;return(0,m.jsxs)(r.kC,{direction:"column",gap:1,children:[t,(0,m.jsxs)(r.kC,{alignItems:"center",gap:1,children:[(0,m.jsx)(r.JO,{accessibilityLabel:"",color:i?"warning":"subtle",icon:i?"workflow-status-warning":"check-circle",size:12}),(0,m.jsx)(r.xv,{color:i?"warning":"subtle",size:"200",children:i?o._('Open', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Status of the invice in cuestion (open)'):o._('Closed', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Status of the invice in cuestion (closed)')})]})]})},justifying:"start"},(n=function(){t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"business-access-invoice-management",element:"BUSINESS_ACCESS_BUTTON",elementId:"download-pdf"})},{field:"download",headerName:o._('Download PDF', '[m10n]bizAccess.business.invoiceManagement.downloadPdf', 'Download PDF for the invoice record'),minWidth:A.I.columnWidths.md,TableCellComponent:y.Z,preventColumnRowClick:!0,valueGetter:function(e){var t=(0,z.M)(e.advertiser.advertiser_id,e.id);return(0,m.jsx)("a",{"data-gestalt-valid-html":"Link",download:!0,href:t,onClick:function(){(0,ef.nP)("bizAccess.invoiceDetail.downloadInvoicePdf",{sampleRate:1,tags:{pageLocation:"invoice_summary_table"}}),null==n||n()},children:(0,m.jsx)(eh.hU,{accessibilityLabel:o._('Download', '[m10n] billing.documentsTab.table.downloadColumn.button', '[m10n] button to download the document'),icon:"download",iconColor:"darkGray",logEventProps:{},name:"download_invoice",size:"sm"})})},justifying:"center"})]),customEmptyText:D,id:i.Q6.INVOICE_MANAGEMENT,isLoading:S,isPaginationOptional:!0,onPageChange:function(e){return T((0,eb.C)({page:e,filters:P,invoicesSortBy:w,businessId:a}))},onRowClick:O,onRowCountChange:function(e){return T((0,eb.C)({limit:e,filters:P,invoicesSortBy:w,businessId:a}))},pageType:i.Q6.INVOICE_MANAGEMENT,rowData:d}),header:(0,m.jsxs)(r.kC,{direction:"column",gap:8,children:[(0,m.jsx)(N,{}),(0,m.jsx)(ee,{children:(0,m.jsx)(k,{invoicesIds:U})})]}),title:L})},eS=function(){return(0,m.jsxs)(o.Z,{pageType:i.Q6.INVOICE_MANAGEMENT,children:[(0,m.jsx)(_,{}),(0,m.jsx)(ex,{})]})}},531527:function(e,n,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/invoice-management",function(){return t(2339).Z}])}},function(e){e.O(0,["13058","14711","18188","25418","28356","30338","39797","41642","43823","46174","4925","5171","55594","56275","73967","86875","8709","88038","9328","95202","97365","98613"],function(){return e(e.s=531527)}),e.O()}]);