(self.legacyJsonp=self.legacyJsonp||[]).push([["61281"],{584255:function(e,t,r){"use strict";var n=r(215944),a=r(549417),s=r(594036);t.Z=function(e){switch(e){case"ad-accounts":return{dataCurrentPageSelector:n.kt,dataTotalCountSelector:n.fp,dataPageSizeSelector:n.LG,dataSearchTermSelector:n.tB};case"asset-groups":return{dataCurrentPageSelector:n.W1,dataTotalCountSelector:n.H$,dataPageSizeSelector:n.cF,dataSearchTermSelector:n.uZ};case"profiles":return{dataCurrentPageSelector:n._8,dataTotalCountSelector:n.Wk,dataPageSizeSelector:n.wd,dataSearchTermSelector:n.IT};case"employees":return{dataCurrentPageSelector:n.xv,dataTotalCountSelector:n.Ys,dataPageSizeSelector:n.py,dataSearchTermSelector:n.Rs};case"partners":return{dataCurrentPageSelector:n.Ym,dataTotalCountSelector:n.nn,dataPageSizeSelector:n.TL,dataSearchTermSelector:n.T_};case"business-hierarchy-business-members":return{dataCurrentPageSelector:n.fz,dataTotalCountSelector:n.B_,dataPageSizeSelector:n.kE,dataSearchTermSelector:n.Xv};case"ad-accounts-detail":case"profiles-detail":return{dataCurrentPageSelector:s.Q$,dataTotalCountSelector:s.pr,dataPageSizeSelector:s.G1,dataSearchTermSelector:s.$p};case"catalogs":return{dataCurrentPageSelector:n.bn,dataTotalCountSelector:n.tv,dataPageSizeSelector:n.Gq,dataSearchTermSelector:n.A3};case"app-system-users":return{dataCurrentPageSelector:a.EG,dataTotalCountSelector:a.$$,dataPageSizeSelector:a.z1,dataSearchTermSelector:a.vu};default:return{dataCurrentPageSelector:function(){return 0},dataTotalCountSelector:function(){return 0},dataPageSizeSelector:function(){return 0},dataSearchTermSelector:function(){return""}}}}},966445:function(e,t,r){"use strict";var n=r(20256),a=r(382718);t.Z=function(e){var t=e.title,r=e.subtitle,s=e.iconLabel,l=e.onClick,o=e.toolTipLabel,i=e.gap;return(0,a.jsxs)(n.xu,{marginBottom:2,children:[(0,a.jsxs)(n.kC,{alignItems:"center",gap:i||1,height:"100%",justifyContent:"start",width:"100%",children:[(0,a.jsx)(n.X6,{size:"600",children:t}),(0,a.jsx)(n.xu,{"data-test-id":"tooltip-button-trigger",children:(0,a.jsx)(n.hU,{accessibilityLabel:s,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:l,size:"xs",tooltip:{text:o,accessibilityLabel:o}})})]}),r&&(0,a.jsx)(n.xv,{size:"300",children:r})]})}},654974:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(20256),a=r(18468),s=r(966445),l=r(382718);function o(e){var t=e.pageProps,r=e.pageTitle,o=e.content,i=t||{},c=i.title,u=void 0===c?"":c,d=i.infoTooltip,p=i.onClick,h=d||{},_=h.iconLabel,f=h.toolTipLabel;return(0,l.jsxs)(n.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!r&&(0,l.jsx)(n.xu,{marginBottom:4,marginStart:2,children:(0,l.jsx)(n.X6,{size:"600",children:r})}),!!u&&(0,l.jsx)(n.xu,{marginBottom:4,marginStart:2,children:(0,l.jsx)(s.Z,{gap:0,iconLabel:void 0===_?"":_,onClick:p,title:u,toolTipLabel:void 0===f?"":f})}),(0,l.jsx)(n.kC,{minHeight:"calc(100vh - 169px)",width:"100%",children:(0,l.jsx)(n.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:a.iiJ}},flex:"grow",minWidth:940,paddingX:2,paddingY:4,rounding:4,width:"grow",children:o})})]})}},621868:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(20256),a=r(18468),s=r(382718);function l(e){var t,r,l=e.pageProps,o=e.sidebarContent,i=e.mainContent,c=e.fitToWindow,u=e.style,d="calc(100vh - 169px)",p=l||{},h=p.title,_=p.infoTooltip;return(0,s.jsxs)(n.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!h&&(0,s.jsxs)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"start",marginBottom:4,marginStart:2,width:"100%",children:[(0,s.jsx)(n.kC.Item,{flex:_?void 0:"grow",children:(0,s.jsx)(n.X6,{size:"600",children:h})}),_&&(0,s.jsx)(n.xu,{marginStart:1,children:(0,s.jsx)(n.hU,{accessibilityLabel:_.accessibilityLabel,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:_.onClick,size:"xs",tooltip:_.text?{text:_.text,accessibilityLabel:_.text}:void 0})})]}),(0,s.jsxs)(n.kC,{height:c?d:void 0,minHeight:c?void 0:d,overflow:c?"hidden":"visible",width:"100%",children:[(0,s.jsx)(n.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:a.iiJ}},height:c?"100%":void 0,marginEnd:2,minWidth:280,overflow:c?"hidden":"visible",paddingX:2,paddingY:4,rounding:4,width:280,children:o}),(0,s.jsx)(n.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:a.iiJ}},display:null==u||null==(t=u.content)?void 0:t.display,flex:"grow",minWidth:660,paddingY:4,rounding:4,width:"grow",children:(0,s.jsxs)(n.xu,{display:null==u||null==(r=u.content)?void 0:r.display,flex:c?void 0:"grow",height:c?"100%":void 0,overflow:c?"auto":"visible",paddingX:4,children:[i,(0,s.jsx)(n.xu,{height:2})]})})]})]})}},685981:function(e,t,r){"use strict";r.d(t,{Z:function(){return eo}});var n=r(86295),a=r(307815),s=r(586659),l=r(581722),o=r(20256),i=r(19585),c=r(980787),u=r(341742),d=r(999791),p=r(654974),h=r(382718),_=function(){var e=(0,i.ZP)(),t=(0,c.u)().logContextEvent;(0,u.Z)(function(){t({view_type:465,view_parameter:4118,event_type:13,component:15303,aux_data:{component_id:"apps-page-empty"}})});var r={title:e._('Apps', '[m10n]bizAccess.apps.tab.title', 'title of apps page'),ctaTitle:e._('Introducing apps', '[m10n]bizAccess.apps.tab.ctaTitle', 'cta title of apps page'),text:e._('You can now view apps created on the Pinterest Developer Platform alongside our other business assets', '[m10n]bizAccess.apps.tab.text', 'text of apps page'),subText:e._('To get started, you\u2019ll first need to create an app as part of this business.', '[m10n]bizAccess.apps.tab.subText', 'subtext of apps page'),buttonText:e._('Go to apps', '[m10n]bizAccess.apps.button.text', 'text to redirect to apps page')},n=e._('View, manage and configure your business apps to access the Pinterest API', '[m10n]businessAccess.apps.info.tooltip', 'apps page info tooltip'),a=e._('Apps info icon', '[[m10n]bizAccess.apps.info.icon', 'Accessibility label for apps info icon');return(0,h.jsx)(p.Z,{content:(0,h.jsx)(o.kC,{alignItems:"center",justifyContent:"center",minHeight:"100%",children:(0,h.jsxs)(o.xu,{"data-test-id":"emptyAppsPage",children:[(0,h.jsx)(o.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:8,maxHeight:161,maxWidth:161,children:(0,h.jsx)(o.Ee,{alt:e._('Disco ball for empty apps state', '[m10n]bizAccess.apps.emptyState.image', 'Alternate text for icon that shows a disco ball'),color:"#FFF",naturalHeight:127,naturalWidth:127,src:d})}),(0,h.jsxs)(o.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",width:500,children:[(0,h.jsx)(o.X6,{accessibilityLevel:3,align:"center",size:"300",children:r.ctaTitle}),(0,h.jsx)(o.xu,{"data-test-id":"emptyAppsList",marginEnd:"auto",marginStart:"auto",width:420,children:(0,h.jsx)(o.xv,{align:"center",size:"300",children:r.text})}),(0,h.jsx)(o.xu,{marginEnd:"auto",marginStart:"auto",width:420,children:(0,h.jsx)(o.xv,{align:"center",color:"subtle",size:"100",children:r.subText})}),(0,h.jsx)(o.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(o.ZP,{color:"red",href:"https://developers.pinterest.com/",text:r.buttonText})})]})]})}),pageProps:{title:r.title,infoTooltip:{iconLabel:a,toolTipLabel:n}}})},f=r(979658),m=r(403713),b=r(351183),g=r(305505),x=r(464876);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t,r=e.app,n=(0,i.ZP)(),a=(0,x.HU)().setAppSecretKeyModal,l=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)((null==r?void 0:r.secret)||""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,l,o=[],i=!0,c=!1;try{for(s=(r=r.call(e)).next;!(i=(n=s.call(r)).done)&&(o.push(n.value),2!==o.length);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1];return(0,s.useEffect)(function(){u((null==r?void 0:r.secret)||"")},[r.secret]),(0,h.jsx)(m.Z,{items:[(0,h.jsx)(o.xu,{padding:6,children:(0,h.jsxs)(o.kC,{direction:"column",gap:6,children:[(0,h.jsx)(o.xv,{size:"300",weight:"bold",children:n._('App secret key', '[m10n]businessAccess.app.secret.key.label', 'label for app secret key')}),(0,h.jsx)(o.nv,{id:"app-secret-key",onChange:function(e){u(e.value)},type:"password",value:c}),(0,h.jsxs)(o.kC,{alignItems:"center",gap:6,justifyContent:"between",children:[(0,h.jsxs)(o.aV,{label:n._('Your app ID and secret key are unique strings that identify your application.', '[m10n]businessAccess.app.secret.key.label', 'label for app secret key'),spacing:"condensed",type:"unordered",children:[(0,h.jsx)(o.aV.Item,{text:n._('This key should be a secret that only the client and server know.', '[m10n]businessAccess.app.secret.key.label', 'label for app secret key')}),(0,h.jsx)(o.aV.Item,{text:n._('Treat this as a password.', '[m10n]businessAccess.app.secret.key.label', 'label for app secret key')})]}),(0,h.jsx)(o.xu,{children:(0,h.jsx)(o.zx,{onClick:function(){return a({app:r})},text:n._('Reset app secret', '[m10n]businessAccess.app.refresh.label', 'label for refresh button')})})]})]})},"secret-key-panel")]})},S=function(e){var t=e.app,r=(0,i.ZP)(),n=(0,l.I0)(),a=(0,f.y)().openSheet,c=(0,l.v9)(g.fR);return(0,s.useEffect)(function(){return function(){n((0,b.l$)())}},[n]),(0,h.jsx)(m.Z,{items:[(0,h.jsx)(o.xu,{padding:6,children:(0,h.jsxs)(o.kC,{direction:"column",gap:6,children:[(0,h.jsx)(o.xv,{size:"300",weight:"bold",children:r._('Refresh tokens', '[m10n]businessAccess.app.access.token.label', 'label for app access token')}),(0,h.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,h.jsxs)(o.kC,{alignItems:"center",gap:6,justifyContent:"between",children:[(0,h.jsxs)(o.aV,{label:r._('Use this token to test and explore our v5 API.', '[m10n]businessAccess.app.access.token.label', 'label for app access token'),spacing:"condensed",type:"unordered",children:[(0,h.jsx)(o.aV.Item,{text:r._('Copy this token immediately, before you leave your browser', '[m10n]businessAccess.app.access.token.label', 'label for app access token')}),(0,h.jsx)(o.aV.Item,{text:r._('Treat this token as a password', '[m10n]businessAccess.app.access.token.label', 'label for app access token')})]}),(0,h.jsx)(o.xu,{children:(0,h.jsx)(o.zx,{onClick:function(){return a("REFRESH_ACCESS_TOKEN",{app:t})},text:r._('Generate refresh token', '[m10n]businessAccess.app.refresh.label', 'label for refresh button')})})]}),!!c&&(0,h.jsx)(o.nv,{id:"generated-access-token",label:r._('Generated access token', '[m10n]businessAccess.refreshAccessToken.sheet.generatedAccessToken.label', 'Label for the generated access token'),onChange:function(){},readOnly:!0,type:"password",value:(null==c?void 0:c.refresh_token)||""})]})]})},"access-token-panel")]})};function A(e){var t=e.app;return(0,h.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,h.jsx)(v,{app:t}),(0,h.jsx)(S,{app:t})]})}var j=r(701831),P=r(584255),C=r(269855),w=r(853473),z=r(648493),I=r(597648),T=r(425079),k=r(549417),E=r(435739);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=function(e){var t=e.app,r=e.pageType,n=e.systemUsersOnRowClick,a=(0,i.ZP)(),o=(0,l.I0)(),c=(0,P.Z)("app-system-users"),u=(0,l.v9)(k.I5),d=(0,l.v9)(k._v),p=[(0,z.Z)(a,{headerName:a._('System user name', '[m10].businessAccess.appDetails.systemUserName.column', 'Header of system user name column in table'),hidesAvatar:!0,type:"SYSTEM_USER"}),(0,I.Z)(a,{valueGetter:function(e){return e.user.business_roles.map((0,E.B)(a)).join((0,j.bH)(a))}}),(0,w.Z)(a,"APP_SYSTEM_USER","REMOVE_OR_LINK",{onHoverOnly:!0,hideHeader:!1,iconSize:"xs"})];(0,s.useEffect)(function(){var e,r;o((0,T.OA)({assetId:t.id||"",businessId:(null==(e=t.owner)?void 0:e.id)||"",id:(null==(r=t.owner)?void 0:r.id)||""}))},[t,o]);var _=(0,s.useCallback)(function(e){var r,n,a=e.limit,s=e.page,l=e.searchTerm,i=L(L({id:(null==(r=t.owner)?void 0:r.id)||"",searchBy:!!l&&"NAME_OR_ID"||void 0,searchTerm:l,businessId:(null==(n=t.owner)?void 0:n.id)||"",assetId:t.id||"",sortBy:e.sortBy,sortDirection:e.sortDirection},a?{limit:a}:{}),s?{page:s}:{});o((0,T.OA)(i))},[t,o]);return(0,h.jsx)(C.Z,{columnDefs:p,currentPageSelector:c.dataCurrentPageSelector,data:u,fetchData:_,isLoading:d,onRowClick:n,pageSizeSelector:c.dataPageSizeSelector,pageType:r,searchPlaceholder:a._('Search users', '[m10n]SystemUsersTable.search', 'Placeholder text to hint user to search for Apps by name or by app ID'),searchTermSelector:c.dataSearchTermSelector,totalCountSelector:c.dataTotalCountSelector})};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var U=function(e){var t=e.activeTabIndex,r=e.app,n=e.setActiveTabIndex,a=(0,i.ZP)(),s=(0,f.y)().openSheet;return(0,h.jsx)(o.xu,{"data-test-id":"app-table-tabs",marginTop:2,children:(0,h.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,h.jsx)(o.mQ,{activeTabIndex:t,onChange:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation,a=e.activeTabIndex;t.preventDefault(),r(),n(a)},tabs:[{href:"#",text:a._('System users', '[m10n]businessAccess.app.system.users.tab.label', 'apps system users tab label'),id:"app-system-users-tab"},{href:"#",text:a._('Configuration', '[m10n]businessAccess.app.configuration.tab.label', 'apps configuration tab label'),id:"app-configuration-tab"}]}),0===t&&(0,h.jsx)(o.xu,{children:(0,h.jsx)(o.zx,{color:"red",onClick:function(){return s("ASSIGN_SYSTEM_USER",{app:r})},text:a._('Assign system user', '[m10n]businessAccess.apps.assign.system.user.label', 'label for assign system user button')})})]})})},B=function(e){var t=e.activeTabIndex,r=e.app,n=e.pageType;return(0,h.jsxs)(o.xu,{height:"100%",marginTop:4,children:[0===t&&(0,h.jsx)(o.xu,{"data-test-id":"app-system-users-tab-content",height:"100%",children:(0,h.jsx)(N,{app:r,pageType:n,systemUsersOnRowClick:function(){}})}),1===t&&(0,h.jsx)(o.xu,{"data-test-id":"app-configuration-tab-content",height:"100%",children:(0,h.jsx)(A,{app:r})})]})},R=function(e){var t,r=e.app,a=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,l,o=[],i=!0,c=!1;try{for(s=(r=r.call(e)).next;!(i=(n=s.call(r)).done)&&(o.push(n.value),2!==o.length);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return D(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],o=a[1];return((0,s.useEffect)(function(){o(0)},[r]),r)?(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(U,{activeTabIndex:l,app:r,setActiveTabIndex:o}),(0,h.jsx)(B,{activeTabIndex:l,app:r,pageType:n.Q6.APPS})]}):null},H=r(233519),W=r(473728),M=r(483180),V=r(732883),$=function(e){var t=e.app,r=t.name,n=t.app_icon,a=e.size,s=(0,i.ZP)(),l=64;return n||(n=V.C),"s"===(void 0===a?"m":a)&&(l=32),(0,h.jsx)(o.xu,{height:l,overflow:"hidden",rounding:1,width:l,children:(0,h.jsx)(o.Ee,{alt:(0,W.Z)(s._('{{ name }} icon', '[m10n]app.icon', 'Icon label. name: application name'),{name:void 0===r?"":r}),color:n.dominant_color||V.C.dominant_color,naturalHeight:n.height||V.C.height,naturalWidth:n.width||V.C.width,src:n.url||V.C.url})})},Y=function(e){var t,r=e.app,n=(0,i.ZP)(),a=(0,H.ZP)("BUSINESS_ACCESS_APPS");return r?(0,h.jsx)(m.Z,{items:[(0,h.jsxs)(o.xu,{direction:"row",display:"flex",justifyContent:"between",margin:4,children:[(0,h.jsxs)(o.kC,{alignItems:"center",gap:2,height:"100%",children:[(0,h.jsx)($,{app:r}),(0,h.jsxs)(o.kC.Item,{flex:"grow",children:[(0,h.jsx)(o.xv,{size:"400",weight:"bold",children:r.name}),(0,h.jsx)(o.xv,{color:"subtle",size:"200",children:(0,W.Z)(n._('ID: {{id}}', '[m10n]businessAccess.app.ID', 'App id label to show in app summary. id: application id'),{id:r.id||""})})]})]}),(0,h.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(o.ZP,{href:"".concat(M.vC,"/apps/").concat(r.id,"/"),iconEnd:"visit",onClick:function(){a({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-app-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-app-view-app-manager"})},target:"blank",text:n._('Manage app', '[m10n]businessAccess.app.detail.manage.app.button', 'Navigate to manage app button')})})]},"app"),(0,h.jsx)(o.xu,{margin:4,children:(0,h.jsx)(o.kC,{alignItems:"center",gap:2,height:"100%",width:"100%",children:(0,h.jsxs)(o.kC.Item,{flex:"grow",children:[(0,h.jsx)(o.xv,{size:"200",weight:"bold",children:n._('Owned by', '[m10n]businessAccess.app.owner.full_name', 'Label to show as heading for application owner name in app summary')}),(0,h.jsx)(o.xv,{color:"subtle",size:"200",children:null==(t=r.owner)?void 0:t.full_name})]})})},"appOwner")]}):null},F=function(e){var t=e.app;return t?(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(Y,{app:t}),(0,h.jsx)(R,{app:t})]}):null};function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var X=function(e){var t=e.app,r=e.selectedAppId,n=e.setSelectedAppId,a=(0,i.ZP)(),s=(0,H.ZP)("BUSINESS_ACCESS_APPS"),c=(0,l.I0)();return(0,h.jsx)(o.xu,{alignItems:"center",color:t.id===r?"inverse":void 0,direction:"row",display:"flex",flex:"grow",padding:2,role:"button",rounding:2,children:(0,h.jsx)(o.iP,{onTap:function(){s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-app-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-app-switch-app"}),n(t.id||""),c((0,b.WV)({appId:t.id||""}))},children:(0,h.jsxs)(o.kC,{alignItems:"center",gap:2,height:"100%",width:"100%",children:[(0,h.jsx)($,{app:t,size:"s"}),(0,h.jsxs)(o.kC.Item,{flex:"grow",children:[(0,h.jsx)(o.xv,{color:t.id===r?"light":"default",weight:"bold",children:t.name}),(0,h.jsxs)(o.xv,{color:t.id===r?"light":"default",size:"200",children:[a._('ID:', '[m10n]businessAccess.apps.list.ID', 'App id label to show on app list')," ",t.id]})]})]})})},t.id)},J=function(e){var t,r=e.apps,n=e.selectedAppId,a=e.setSelectedAppId,l=(0,i.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,l,o=[],i=!0,c=!1;try{for(s=(r=r.call(e)).next;!(i=(n=s.call(r)).done)&&(o.push(n.value),2!==o.length);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return G(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],p=r.filter(function(e){return(e.name||"").toLowerCase().includes(u.toLowerCase())||(e.id||"").toLowerCase().includes(u.toLowerCase())});return(0,h.jsxs)(o.kC,{dataTestId:"apps-side-panel",direction:"column",gap:2,height:"100%",children:[(0,h.jsx)(o.Um,{accessibilityLabel:l._('Search by name or ID', '[m10n]businessAccess.apps.search.a11y', 'accessibility Apps search label'),id:"appsSearch",onChange:function(e){d(e.value)},placeholder:l._('Search by name or ID', '[m10n]businessAccess.apps.search.placeholder', 'Apps search placeholder')}),(0,h.jsx)(o.kC.Item,{flex:"grow",children:(0,h.jsx)(o.xu,{height:"100%",overflow:"auto",children:p.map(function(e){return(0,h.jsx)(X,{app:e,selectedAppId:n,setSelectedAppId:a},e.id)})})})]})},K=r(621868);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function q(e){var t,r=e.apps,n=(0,i.ZP)(),a=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,l,o=[],i=!0,c=!1;try{for(s=(r=r.call(e)).next;!(i=(n=s.call(r)).done)&&(o.push(n.value),2!==o.length);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Q(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=a[0],c=a[1],u=(0,l.I0)();return(0,s.useEffect)(function(){if(r.length>0){var e,t;c((null==(e=r[0])?void 0:e.id)||""),u((0,b.WV)({appId:(null==(t=r[0])?void 0:t.id)||""}))}},[r,u]),(0,h.jsx)(K.Z,{fitToWindow:!0,mainContent:(0,h.jsx)(F,{app:r.find(function(e){return e.id===o})}),pageProps:{title:n._('Apps', '[m10n]businessAccess.apps.pageTitle', 'apps page title'),infoTooltip:{text:n._('View, manage and configure your business apps to access the Pinterest API', '[m10n]businessAccess.apps.info.icon', 'Text for apps info icon tooltip'),accessibilityLabel:n._('Apps info icon', '[m10n]businessAccess.apps.info.icon.a11y', 'Accessibility label for apps info icon')}},sidebarContent:(0,h.jsx)(J,{apps:r,selectedAppId:o,setSelectedAppId:c})})}var ee=r(695255);function et(e,t,r,n,a,s,l){try{var o=e[s](l),i=o.value}catch(e){return void r(e)}o.done?t(i):Promise.resolve(i).then(n,a)}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,l,o=[],i=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ea=function(e){var t=e.children;return(0,h.jsx)(o.kC,{height:"calc(100vh - 169px)",overflow:"hidden",width:"100%",children:t})},es=function(e){var t=e.accessibilityLabel;return(0,h.jsx)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,h.jsx)(o.xH,{accessibilityLabel:t,delay:!1,show:!0})})},el=function(){var e=(0,i.ZP)(),t=(0,x.KJ)(!0),r=(0,l.v9)(g.kO),n=(0,l.v9)(g.w9),a=er((0,s.useState)(!1),2),c=a[0],u=a[1],d=er((0,s.useState)(r),2),p=d[0],f=d[1],m=(0,l.I0)();return((0,s.useEffect)(function(){c||(m((0,b.C6)({businessId:t})),u(!0))},[m,r,c,t]),(0,s.useEffect)(function(){var e,t;(e=regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.length>0){e.next=2;break}return e.abrupt("return");case 2:return r=t.map(function(e){var t;return(null==(t=e.owner)?void 0:t.id)||""})||[],e.next=5,(0,ee.R)(r);case 5:n=e.sent,f(t.map(function(e){var t=n.find(function(t){var r;return t.id===(null==(r=e.owner)?void 0:r.id)});return e.owner=t||{id:"Not Found",full_name:"Not Found"},e}));case 8:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function l(e){et(s,n,a,l,o,"next",e)}function o(e){et(s,n,a,l,o,"throw",e)}l(void 0)})},function(e){return t.apply(this,arguments)})(r)},[r]),n)?(0,h.jsx)(ea,{children:(0,h.jsx)(es,{accessibilityLabel:e._('Loading apps information', '[m10n]businessAccess.apps.loading', 'message shown when loading apps data')})}):(0,h.jsx)(o.xu,{"data-test-id":"apps-page",children:r&&r.length>0?(0,h.jsx)(q,{apps:p}):(0,h.jsx)(_,{})})},eo=function(){return(0,h.jsx)(a.Z,{pageType:n.Q6.APPS,children:(0,h.jsx)(el,{})})}},18825:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/apps",function(){return r(685981).Z}])},999791:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/empty-state-audiences-page-53481ed6.png"}},function(e){e.O(0,["13058","14711","18188","25418","28356","30338","39797","41642","43823","46174","4925","5171","55594","56275","73967","86875","8709","88038","9328","95202","97365","98613"],function(){return e(e.s=18825)}),e.O()}]);