(self.legacyJsonp=self.legacyJsonp||[]).push([["89933"],{966445:function(e,s,t){"use strict";var a=t(20256),r=t(382718);s.Z=function(e){var s=e.title,t=e.subtitle,l=e.iconLabel,o=e.onClick,i=e.toolTipLabel,n=e.gap;return(0,r.jsxs)(a.xu,{marginBottom:2,children:[(0,r.jsxs)(a.kC,{alignItems:"center",gap:n||1,height:"100%",justifyContent:"start",width:"100%",children:[(0,r.jsx)(a.X6,{size:"600",children:s}),(0,r.jsx)(a.xu,{"data-test-id":"tooltip-button-trigger",children:(0,r.jsx)(a.hU,{accessibilityLabel:l,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:o,size:"xs",tooltip:{text:i,accessibilityLabel:i}})})]}),t&&(0,r.jsx)(a.xv,{size:"300",children:t})]})}},654974:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(20256),r=t(18468),l=t(966445),o=t(382718);function i(e){var s=e.pageProps,t=e.pageTitle,i=e.content,n=s||{},c=n.title,u=void 0===c?"":c,d=n.infoTooltip,_=n.onClick,h=d||{},m=h.iconLabel,p=h.toolTipLabel;return(0,o.jsxs)(a.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!t&&(0,o.jsx)(a.xu,{marginBottom:4,marginStart:2,children:(0,o.jsx)(a.X6,{size:"600",children:t})}),!!u&&(0,o.jsx)(a.xu,{marginBottom:4,marginStart:2,children:(0,o.jsx)(l.Z,{gap:0,iconLabel:void 0===m?"":m,onClick:_,title:u,toolTipLabel:void 0===p?"":p})}),(0,o.jsx)(a.kC,{minHeight:"calc(100vh - 169px)",width:"100%",children:(0,o.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:r.iiJ}},flex:"grow",minWidth:940,paddingX:2,paddingY:4,rounding:4,width:"grow",children:i})})]})}},621868:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var a=t(20256),r=t(18468),l=t(382718);function o(e){var s,t,o=e.pageProps,i=e.sidebarContent,n=e.mainContent,c=e.fitToWindow,u=e.style,d="calc(100vh - 169px)",_=o||{},h=_.title,m=_.infoTooltip;return(0,l.jsxs)(a.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!h&&(0,l.jsxs)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"start",marginBottom:4,marginStart:2,width:"100%",children:[(0,l.jsx)(a.kC.Item,{flex:m?void 0:"grow",children:(0,l.jsx)(a.X6,{size:"600",children:h})}),m&&(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(a.hU,{accessibilityLabel:m.accessibilityLabel,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:m.onClick,size:"xs",tooltip:m.text?{text:m.text,accessibilityLabel:m.text}:void 0})})]}),(0,l.jsxs)(a.kC,{height:c?d:void 0,minHeight:c?void 0:d,overflow:c?"hidden":"visible",width:"100%",children:[(0,l.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:r.iiJ}},height:c?"100%":void 0,marginEnd:2,minWidth:280,overflow:c?"hidden":"visible",paddingX:2,paddingY:4,rounding:4,width:280,children:i}),(0,l.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:r.iiJ}},display:null==u||null==(s=u.content)?void 0:s.display,flex:"grow",minWidth:660,paddingY:4,rounding:4,width:"grow",children:(0,l.jsxs)(a.xu,{display:null==u||null==(t=u.content)?void 0:t.display,flex:c?void 0:"grow",height:c?"100%":void 0,overflow:c?"auto":"visible",paddingX:4,children:[n,(0,l.jsx)(a.xu,{height:2})]})})]})]})}},321125:function(e,s,t){"use strict";var a=t(20256),r=t(19585),l=t(995751),o=t(269855),i=t(248903),n=t(382718);function c(){var e=(0,r.ZP)();return(0,n.jsx)(i.Z,{description:e._('You can manage permissions to your asset groups', '[m10n]AssetGroupsTable.emptyState.description', 'Description explaining what you can do on asset groups table'),header:e._('Your asset group list will appear here', '[m10n]AssetGroupsTable.emptyState.title', 'Header explaining where asset groups will go once added'),image:(0,n.jsx)(a.Ee,{alt:e._('Example of asset groups', '[m10n]AssetGroupsTable.emptyState.image', 'Alternate text for image that shows an example of asset groups'),color:"#FFF",naturalHeight:112,naturalWidth:418,src:l})})}s.Z=function(e){var s=e.pageType,t=e.assetGroups,a=e.assetGroupsIsLoading,l=e.assetGroupsCurrentPageSelector,i=e.assetGroupsTotalCountSelector,u=e.assetGroupsPageSizeSelector,d=e.assetGroupsSearchTermSelector,_=e.assetGroupsFetchData,h=e.assetGroupsColumnDefs,m=e.assetGroupsTableConfiguration,p=e.assetGroupsOnRowClick,g=e.emptyState,y=(0,r.ZP)();return(0,n.jsx)(o.Z,{columnDefs:h,currentPageSelector:l||(null==m?void 0:m.dataCurrentPageSelector),data:t,emptyState:g||(0,n.jsx)(c,{}),fetchData:null!=_?_:function(){},isLoading:a,onRowClick:p,pageSizeSelector:u||(null==m?void 0:m.dataPageSizeSelector),pageType:s,searchPlaceholder:y._('Search asset groups', '[m10n]AssetGroupsTable.search', 'Placeholder text to hint user to search for asset groups by name or by business ID'),searchTermSelector:d||(null==m?void 0:m.dataSearchTermSelector),totalCountSelector:i||(null==m?void 0:m.dataTotalCountSelector)})}},612589:function(e,s,t){"use strict";var a=t(586659),r=t(20256),l=t(19585),o=t(995751),i=t(269855),n=t(248903),c=t(382718);function u(){var e=(0,l.ZP)();return(0,c.jsx)(n.Z,{description:e._('You can manage permissions to your catalogs', '[m10n]CatalogsTable.emptyState.description', 'Description explaining what you can do on catalogs table'),header:e._('Your catalogs list will appear here', '[m10n]CatalogsTable.emptyState.title', 'Header explaining where catalogs will go once added'),image:(0,c.jsx)(r.Ee,{alt:e._('Example of catalogs', '[m10n]CatalogsTable.emptyState.image', 'Alternate text for image that shows an example of catalogs'),color:"#FFF",naturalHeight:112,naturalWidth:418,src:o})})}s.Z=function(e){var s=e.pageType,t=e.catalogs,r=e.catalogsIsLoading,o=e.catalogsCurrentPageSelector,n=e.catalogsTotalCountSelector,d=e.catalogsPageSizeSelector,_=e.catalogsSearchTermSelector,h=e.catalogsFetchData,m=e.catalogsColumnDefs,p=e.catalogsTableConfiguration,g=e.catalogsOnRowClick,y=e.owners,b=e.ownersError,f=e.searchFieldText,S=e.emptyState,x=(0,l.ZP)(),A=(0,a.useMemo)(function(){return y?[{name:"owner",label:x._('Owners', '[m10n]CatalogsTable.filter.owner', 'Name for owners filter'),description:x._('Select which owners catalogs you would like to see', '[m10n]CatalogsTable.filter.ownerdescription', 'describe owner filter'),options:y,responseType:i.h.MULTISELECT}]:[]},[y,x]);return m&&p&&t&&void 0!==r&&s?(0,c.jsx)(i.Z,{columnDefs:m,currentPageSelector:o||(null==p?void 0:p.dataCurrentPageSelector),data:t,disableFirstRender:!0,emptyState:S||(0,c.jsx)(u,{}),fetchData:null!=h?h:function(){},filters:A,filtersError:b,isLoading:r,onRowClick:g,pageSizeSelector:d||(null==p?void 0:p.dataPageSizeSelector),pageType:s,searchPlaceholder:null!=f?f:x._('Search catalogs', '[m10n]CatalogsTable.search', 'Placeholder text to hint user to search for catalogs by name or by business ID'),searchTermSelector:_||(null==p?void 0:p.dataSearchTermSelector),totalCountSelector:n||(null==p?void 0:p.dataTotalCountSelector)}):null}},250736:function(e,s,t){"use strict";var a=t(20256),r=t(19585),l=t(995751),o=t(269855),i=t(248903),n=t(382718);function c(){var e=(0,r.ZP)();return(0,n.jsx)(i.Z,{description:e._('You can manage permissions to your profiles', '[m10n]ProfilesTable.emptyState.description', 'Description explaining what you can do on profiles table'),header:e._('Your profiles list will appear here', '[m10n]ProfilesTable.emptyState.title', 'Header explaining where profiles will go once added'),image:(0,n.jsx)(a.Ee,{alt:e._('Example of profiles', '[m10n]ProfilesTable.emptyState.image', 'Alternate text for image that shows an example of profiles'),color:"#FFF",naturalHeight:112,naturalWidth:418,src:l})})}s.Z=function(e){var s=e.pageType,t=e.profiles,a=e.profilesIsLoading,l=e.profilesCurrentPageSelector,i=e.profilesTotalCountSelector,u=e.profilesPageSizeSelector,d=e.profilesSearchTermSelector,_=e.profilesFetchData,h=e.profilesColumnDefs,m=e.profilesTableConfiguration,p=e.profilesOnRowClick,g=e.emptyState,y=e.options,b=(0,r.ZP)();return(0,n.jsx)(o.Z,{columnDefs:h,currentPageSelector:l||(null==m?void 0:m.dataCurrentPageSelector),data:t,emptyState:g||(0,n.jsx)(c,{}),fetchData:null!=_?_:function(){},isLoading:a,onRowClick:p,options:y,pageSizeSelector:u||(null==m?void 0:m.dataPageSizeSelector),pageType:s,searchPlaceholder:b._('Search profiles', '[m10n]ProfilesTable.search', 'Placeholder text to hint user to search for profiles by name or by business ID'),searchTermSelector:d||(null==m?void 0:m.dataSearchTermSelector),totalCountSelector:i||(null==m?void 0:m.dataTotalCountSelector)})}},119359:function(e,s,t){"use strict";var a=t(20256),r=t(701831),l=t(948839),o=t(435739),i=t(382718);s.Z=function(e){return{field:"business_roles",headerName:(0,i.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,i.jsx)(a.xv,{size:"200",weight:"bold",children:e._('Asset group permissions', '[m10n]bizAccess.business.assetGroups.permissions', 'Asset groups permissions table header')}),(0,i.jsx)(a.u,{text:e._('Permissions for asset groups, ad accounts and profiles are cumulative, meaning members retain the highest permission possible. If you wish to remove a member\u2019s access, please verify permissions have been removed from both asset groups and individual assets.', '[m10n]bizAccess.business.businessSecurity.securityStatus.tooltip', 'Tooltip info for security status column'),children:(0,i.jsx)(a.hU,{accessibilityLabel:e._('Additional info.', '[m10n]bizAccess.business.assetGroups.permissions.tooltip', 'Accessibility label for tooltip on asset group permissions column'),bgColor:"white",icon:"info-circle",iconColor:"darkGray",size:"sm"})})]}),TableCellComponent:function(e){return(0,i.jsx)(a.xu,{alignItems:"center",display:"flex",height:"100%",padding:0,width:"100%",children:(0,i.jsx)(a.xv,{size:"200",children:e.value})})},valueGetter:function(s){var t=(0,o.e6)(e);return(s.permissions||[]).map(t).join((0,r.bH)(e))},sortable:!1,isActivelySorted:!1,minWidth:l.I.columnWidths.sm,justifying:"start"}}},102378:function(e,s,t){"use strict";var a=t(304632),r=t(948839),l=t(382718);s.Z=function(e,s,t,o){return{field:"remove_account_permissions",headerName:void 0,minWidth:r.I.columnWidths.sm,TableCellComponent:function(r){var i=r.data;return(0,l.jsx)(a.Z,{assignmentType:e,data:i,dataToRefresh:s,resourceType:t,targetingRmnBusinessId:o})},justifying:"center",onHoverOnly:!0}}},926361:function(e,s,t){"use strict";t.d(s,{Z:function(){return e_}});var a=t(86295),r=t(307815),l=t(581722),o=t(20256),i=t(19585),n=t(675973),c=t(341742),u=t(586659),d=t(980787),_=t(979658),h=t(999791),m=t(654974),p=t(351183),g=t(305505),y=t(464876),b=t(382718);function f(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,a=Array(s);t<s;t++)a[t]=e[t];return a}var S=function(){var e,s=(0,i.ZP)(),t=(0,l.v9)(g.kO),a=(0,d.u)().logContextEvent,r=(0,_.y)().openSheet,n=function(e){if(Array.isArray(e))return e}(e=(0,u.useState)(!1))||function(e,s){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,l,o,i=[],n=!0,c=!1;try{for(l=(t=t.call(e)).next;!(n=(a=l.call(t)).done)&&(i.push(a.value),2!==i.length);n=!0);}catch(e){c=!0,r=e}finally{try{if(!n&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return i}}(e,2)||function(e,s){if(e){if("string"==typeof e)return f(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=n[0],x=n[1],A=(0,y.KJ)(!0),P=(0,l.I0)();(0,u.useEffect)(function(){S||(P((0,p.C6)({businessId:A})),x(!0))},[P,t,S,A]),(0,c.Z)(function(){a({view_type:465,view_parameter:4114,event_type:13,component:15283,aux_data:{component_id:"system-users-page-empty"}})});var v={title:s._('System users', '[m10n]bizAccess.systemUsers.tab.title', 'title of system users page'),ctaTitle:s._('Introducing system users', '[m10n]bizAccess.systemUsers.tab.ctaTitle', 'cta title of system users page'),text:s._('Let servers or software make changes via APIs to help your business grow', '[m10n]bizAccess.systemUsers.tab.text', 'text of system users page'),bullet1:s._('Reduce the risk of unauthorized access tied to specific users', '[m10n]bizAccess.systemUsers.tab.bullet1', 'subtext of system users page'),bullet2:s._('Automate business functions like updating product catalogs, managing custom audiences or transmitting information between servers', '[m10n]bizAccess.systemUsers.tab.bullet2', 'subtext of system users page'),bullet3:s._('Enhance scalability by creating multiple system users with different access levels to manage different aspects of your business', '[m10n]bizAccess.systemUsers.tab.bullet3', 'subtext of system users page'),subText:s._('To create a system user, create an app to connect to the Pinterest API', '[m10n]bizAccess.systemUsers.tab.subText', 'subtext of system users page'),buttonText:s._('Get started', '[m10n]bizAccess.systemUsers.button.text', 'text to redirect to system users page')},j=s._('Add or remove system users and manager permissions.', '[m10n]businessAccess.systemUsers.info.tooltip', 'system user page info tooltip'),z=s._('System users info icon', '[[m10n]bizAccess.systemUsers.info.icon', 'Accessibility label for system users info icon');return(0,b.jsx)(m.Z,{content:(0,b.jsx)(o.kC,{alignItems:"center",justifyContent:"center",minHeight:"100%",children:(0,b.jsxs)(o.xu,{"data-test-id":"emptySystemUsersPage",children:[(0,b.jsx)(o.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:8,maxHeight:161,maxWidth:161,children:(0,b.jsx)(o.Ee,{alt:s._('Disco ball for empty system users state', '[m10n]bizAccess.systemUsers.emptyState.image', 'Alternate text for icon that shows a disco ball'),color:"#FFF",naturalHeight:127,naturalWidth:127,src:h})}),(0,b.jsxs)(o.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",width:500,children:[(0,b.jsx)(o.X6,{accessibilityLevel:3,align:"center",size:"300",children:v.ctaTitle}),(0,b.jsx)(o.xu,{"data-test-id":"emptySystemUsersList",marginEnd:"auto",marginStart:"auto",width:420,children:(0,b.jsxs)(o.aV,{label:(0,b.jsx)(o.xv,{align:"center",size:"200",children:v.text}),spacing:"condensed",type:"unordered",children:[(0,b.jsx)(o.aV.Item,{text:(0,b.jsx)(o.xv,{size:"200",children:v.bullet1})}),(0,b.jsx)(o.aV.Item,{text:(0,b.jsx)(o.xv,{size:"200",children:v.bullet2})}),(0,b.jsx)(o.aV.Item,{text:(0,b.jsx)(o.xv,{size:"200",children:v.bullet3})})]})}),(0,b.jsx)(o.xu,{marginEnd:"auto",marginStart:"auto",width:420,children:(0,b.jsx)(o.xv,{align:"center",color:"subtle",size:"100",children:v.subText})}),S&&(0,b.jsx)(o.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:t&&t.length>0?(0,b.jsx)(o.zx,{color:"gray",fullWidth:!0,onClick:function(){return r("ADD_SYSTEM_USER",{})},text:s._('Create system user', '[m10n]businessAccess.systemUsers.create.button', 'create system user button')}):(0,b.jsx)(o.ZP,{color:"red",href:"https://developers.pinterest.com/",text:v.buttonText})})]})]})}),pageProps:{title:v.title,infoTooltip:{iconLabel:z,toolTipLabel:j}}})},x=t(621868),A=t(77168),P=t(68559),v=t(593379),j=t(995751),z=t(269855),T=t(248903);function C(){var e=(0,i.ZP)();return(0,b.jsx)(T.Z,{header:e._('Assign an app to utilize this system user', '[m10n]AppsTable.emptyState.title', 'Header explaining where apps will go once added'),image:(0,b.jsx)(o.Ee,{alt:e._('Example of apps', '[m10n]AppsTable.emptyState.image', 'Alternate text for image that shows an example of apps'),color:"#FFF",naturalHeight:112,naturalWidth:418,src:j})})}var w=function(e){var s=e.pageType,t=e.apps,a=e.appsIsLoading,r=e.appsCurrentPageSelector,l=e.appsTotalCountSelector,o=e.appsPageSizeSelector,n=e.appsSearchTermSelector,c=e.appsFetchData,u=e.appsColumnDefs,d=e.appsTableConfiguration,_=e.appsOnRowClick,h=e.searchFieldText,m=e.emptyState,p=e.options,g=(0,i.ZP)();return(0,b.jsx)(z.Z,{columnDefs:u,currentPageSelector:r||(null==d?void 0:d.dataCurrentPageSelector),data:t,emptyState:m||(0,b.jsx)(C,{}),fetchData:null!=c?c:function(){},isLoading:a,onRowClick:_,options:p,pageSizeSelector:o||(null==d?void 0:d.dataPageSizeSelector),pageType:s,searchPlaceholder:null!=h?h:g._('Search apps', '[m10n]AppsTable.search', 'Placeholder text to hint user to search for apps by name or by business ID'),searchTermSelector:n||(null==d?void 0:d.dataSearchTermSelector),totalCountSelector:l||(null==d?void 0:d.dataTotalCountSelector)})},I=t(321125),E=t(612589),U=t(250736),D=t(119359),O=t(493293),Z=t(105947),k=t(569331),L=t(557937),N=t(752773),R=t(102378),F=t(425079),B=t(16437),G=t(34226),H=t(549417);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function Y(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?W(Object(t),!0).forEach(function(s){J(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function J(e,s,t){var a;return(a=function(e,s){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,s||"default");if("object"!=M(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"),(s="symbol"==M(a)?a:a+"")in e)?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function X(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,l,o,i=[],n=!0,c=!1;try{if(l=(t=t.call(e)).next,0===s){if(Object(t)!==t)return;n=!1}else for(;!(n=(a=l.call(t)).done)&&(i.push(a.value),i.length!==s);n=!0);}catch(e){c=!0,r=e}finally{try{if(!n&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return i}}(e,s)||function(e,s){if(e){if("string"==typeof e)return $(e,s);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$(e,s):void 0}}(e,s)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,a=Array(s);t<s;t++)a[t]=e[t];return a}var Q=function(e){var s=e.activeTabIndex,t=e.setActiveTabIndex,a=e.user,r=(0,i.ZP)(),l=(0,_.y)().openSheet,c=(0,(0,n.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,u=[{href:"#",text:r._('Ad accounts', '[m10n]businessAccess.systemUsers.adAccounts.tab.label', 'system users ad accounts tab label'),id:"system-users-adAccount-tab"},{href:"#",text:r._('Profiles', '[m10n]businessAccess.systemUsers.profiles.tab.label', 'system users profiles tab label'),id:"system-users-profile-tab"},{href:"#",text:r._('Asset groups', '[m10n]businessAccess.systemUsers.assetGroups.tab.label', 'system users asset groups tab label'),id:"system-users-asset-groups-tab"}];return c&&u.push({href:"#",text:r._('Catalogs', '[m10n]businessAccess.systemUsers.catalogs.tab.label', 'system users catalogs tab label'),id:"system-users-catalogs-tab"}),u.push({href:"#",text:r._('Apps', '[m10n]businessAccess.systemUsers.apps.tab.label', 'system users app tab label'),id:"system-users-apps-tab"}),(0,b.jsx)(o.xu,{"data-test-id":"system-user-table-tabs",marginTop:2,children:(0,b.jsxs)(o.kC,{justifyContent:"between",children:[(0,b.jsx)(o.mQ,{activeTabIndex:s,onChange:function(e){var s=e.event,a=e.dangerouslyDisableOnNavigation,r=e.activeTabIndex;s.preventDefault(),a(),t(r)},tabs:u}),(0,b.jsx)(o.zx,{color:"red",onClick:function(){return(null==a?void 0:a.id)&&l("UPDATE_SYSTEM_USER_ASSETS",{selectedEmployee:a})},text:r._('Assign assets', '[m10n]businessAccess.systemUsers.assign.asset.label', 'label for assign asset button')})]})})};function V(e){var s=e.image,t=e.header,a=e.description;return(0,b.jsx)(o.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},height:"100%",rounding:4,children:(0,b.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,b.jsxs)(o.xu,{width:"100%",children:[(0,b.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:s}),(0,b.jsxs)(o.xu,{children:[t&&(0,b.jsx)(o.xu,{marginBottom:2,marginTop:2,children:(0,b.jsx)(o.xv,{align:"center",size:"300",children:t})}),a&&(0,b.jsx)(o.xu,{children:(0,b.jsx)(o.xv,{align:"center",color:"subtle",size:"200",children:a})})]})]})})})}var K=function(e){var s=e.activeTabIndex,t=e.user,a=e.pageType,r=(0,l.I0)(),c=(0,i.ZP)(),d=(0,y.KJ)(),_=X((0,u.useState)({permissionsUpdateToast:!1}),2),h=_[0],m=_[1],p=t.id||"",g=(0,l.v9)(H.G6),f=(0,l.v9)(H.sZ),S=(0,l.v9)(H.Hs),x=(0,l.v9)(H.r$),j=(0,l.v9)(H.Lj),z=(0,l.v9)(G.ms),T=(0,l.v9)(H.id),C=(0,l.v9)(H.ce),M=(0,l.v9)(H.gb),W=(0,l.v9)(H.N8),$=(0,l.v9)(H.pU),Q=(0,A.g)().getParentHierarchyForIdIfExists,K=(0,(0,n.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,q=Q(d),ee=(T||W||[]).reduce(function(e,s){return Y(Y({},e),J({},s.asset_id,s.permissions))},{}),es=(C||[]).reduce(function(e,s){return Y(Y({},e),J({},s.asset_id,s.permissions))},{}),et=[(0,O.Z)(c),(0,Z.Z)(c,{businessId:d}),(0,L.Z)(c,function(e,s){t.id&&r((0,B.C5)({userId:t.id,permissions:s,adAccountId:e,businessId:d,assignmentType:"PEOPLE"}))},ee,"SYSTEM_USERS",z.adAccounts,void 0,void 0,h,m),(0,R.Z)("PEOPLE","SYSTEM_USER_APP","AD_ACCOUNT")],ea=[(0,O.Z)(c,{hidesAvatar:!1,headerName:c._('Profile', '[m10].bizAccess.systemUser.profile', 'Header of profile name column in table'),clickable:!1}),(0,N.Z)(c),(0,R.Z)("PEOPLE","SYSTEM_USER_APP","PROFILE")],er=[(0,O.Z)(c,{weight:"bold",headerName:c._('Asset group name', '[m10n]businessAccess.employees.asset.groups', 'column name for an asset groups'),clickable:!1}),(0,Z.Z)(c),(0,D.Z)(c)],el=[(0,O.Z)(c,{headerName:c._('App name', '[m10].bizAccess.systemUser.app', 'Header of app name column in table'),clickable:!1,hidesAvatar:!1}),(0,Z.Z)(c,{businessId:d}),(0,R.Z)("PEOPLE","SYSTEM_USER_APP","CONSUMER")],eo=[(0,O.Z)(c,{headerName:c._('Catalog name', '[m10].bizAccess.systemUser.catalog', 'Header of catalog column in table'),clickable:!1,hidesAvatar:!0}),(0,Z.Z)(c,{businessId:d}),(0,k.Z)({businessCatalogAssignedPermissionsMap:z.catalogs,individualAssignedPermissionsMap:es,i18n:c,pageType:"SYSTEM_USERS",shouldShowToast:h,setShouldShowToast:m,updateCatalogPermission:function(e,s){p&&r((0,B.FE)({userId:p,permissions:s,adAccountId:e,businessId:d,assignmentType:"SYSTEM_USERS",businessHierarchyNodeId:null==q?void 0:q.id}))}}),(0,R.Z)("PEOPLE","SYSTEM_USER_APP","CATALOG")],ei=(0,u.useCallback)(function(e){var s=e.searchTerm,t=e.limit,a=e.page,l=Y(Y(Y({searchBy:!!s&&"NAME_OR_ID"||void 0,searchTerm:s,businessId:d,sortBy:e.sortBy,sortDirection:e.sortDirection},t?{limit:t}:{}),a?{page:a}:{}),{},{resourceType:"AD_ACCOUNT",systemUserId:p||""});r((0,F.Pv)(l))},[r,d,p]),en=(0,u.useCallback)(function(e){var s=e.searchTerm,t=e.limit,a=e.page,l=Y(Y(Y({searchBy:!!s&&"NAME_OR_ID"||void 0,searchTerm:s,businessId:d},t?{limit:t}:{}),a?{page:a}:{}),{},{systemUserId:p||""});r((0,F.AH)(l))},[r,d,p]),ec=(0,u.useCallback)(function(e){var s=e.searchTerm,t=e.limit,a=e.page,l=Y(Y(Y({searchBy:!!s&&"NAME_OR_ID"||void 0,searchTerm:s,businessId:d,sortBy:e.sortBy,sortDirection:e.sortDirection},t?{limit:t}:{}),a?{page:a}:{}),{},{resourceType:"PROFILE",systemUserId:p||""});r((0,F.tD)(l))},[r,d,p]),eu=(0,u.useCallback)(function(e){var s=e.searchTerm,t=e.limit,a=e.page,l=Y(Y(Y({searchBy:!!s&&"NAME_OR_ID"||void 0,searchTerm:s,businessId:d,sortBy:e.sortBy,sortDirection:e.sortDirection},t?{limit:t}:{}),a?{page:a}:{}),{},{resourceType:"CONSUMER",systemUserId:p||""});r((0,F.F3)(l))},[r,d,p]),ed=(0,u.useCallback)(function(e){var s=e.searchTerm,t=e.limit,a=e.page,l=Y(Y(Y({searchBy:!!s&&"NAME_OR_ID"||void 0,searchTerm:s,businessId:d,sortBy:"NAME",sortDirection:e.sortDirection},t?{limit:t}:{}),a?{page:a}:{}),{},{resourceType:"CATALOG",systemUserId:p||""});r((0,F.cA)(l))},[r,d,p]),e_=(0,u.useMemo)(function(){var e={AD_ACCOUNTS:0,PROFILE:1,ASSET_GROUPS:2};return K&&(e.CATALOGS=3),e.APPS=K?4:3,e},[K]),eh=(0,u.useCallback)(function(e){s===e_.AD_ACCOUNTS&&ei(e),s===e_.PROFILE&&ec(e),s===e_.ASSET_GROUPS&&en(e),s===e_.APPS&&eu(e),s===e_.CATALOGS&&ed(e)},[ei,ec,en,eu,ed,s,e_]);return(0,u.useEffect)(function(){eh({searchTerm:""})},[eh]),(0,b.jsxs)(o.xu,{height:"100%",marginTop:2,children:[s===e_.AD_ACCOUNTS&&(0,b.jsx)(o.xu,{height:"100%",children:(0,b.jsx)(o.xu,{"data-test-id":"system-user-configuration-tab-content",height:"100%",children:(0,b.jsx)(v.Z,{adAccounts:null!=T?T:[],adAccountsColumnDefs:et,adAccountsFetchData:ei,adAccountsIsLoading:g,adAccountsTableConfiguration:{dataCurrentPageSelector:H._P,dataPageSizeSelector:H.zE,dataSearchTermSelector:H.W2,dataTotalCountSelector:H.xf},emptyState:(0,b.jsx)(V,{header:c._('No assigned ad accounts', '[m10n].bizAccess.systemUser.adAccount.emptyState.description', 'Description explaining this system user has not been assigned any ad accounts'),image:(0,b.jsx)(o.xu,{"aria-hidden":!0,color:"default",height:200,width:200,children:(0,b.jsx)(o.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:P})})}),options:{sortBySelector:H.LY,sortDirectionSelector:H.J2},pageType:a,searchFieldText:c._('Search ad account name or ID', '[m10n]businessAccess.systemUsers.assets.search.label', 'Placeholder text to hint user to search for ad accounts by name or by business ID')})})}),s===e_.PROFILE&&(0,b.jsx)(o.xu,{height:"100%",children:(0,b.jsx)(o.xu,{"data-test-id":"system-user-configuration-tab-content",height:"100%",children:(0,b.jsx)(U.Z,{emptyState:(0,b.jsx)(V,{header:c._('No assigned profiles', '[m10n].bizAccess.systemUser.profile.emptyState.description', 'Description explaining this system user has not been assigned any profiles'),image:(0,b.jsx)(o.xu,{"aria-hidden":!0,color:"default",height:200,width:200,children:(0,b.jsx)(o.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:P})})}),options:{sortBySelector:H.gm,sortDirectionSelector:H.$P},pageType:a,profiles:null!=W?W:[],profilesColumnDefs:ea,profilesFetchData:ec,profilesIsLoading:f,profilesTableConfiguration:{dataCurrentPageSelector:H.Gr,dataPageSizeSelector:H.gQ,dataSearchTermSelector:H.gj,dataTotalCountSelector:H.PW}})})}),s===e_.ASSET_GROUPS&&(0,b.jsx)(o.xu,{height:"100%",children:(0,b.jsx)(o.xu,{"data-test-id":"system-user-asset-groups",height:"100%",children:(0,b.jsx)(I.Z,{assetGroups:null!=$?$:[],assetGroupsColumnDefs:er,assetGroupsFetchData:en,assetGroupsIsLoading:S,assetGroupsTableConfiguration:{dataCurrentPageSelector:H.xo,dataPageSizeSelector:H.PI,dataSearchTermSelector:H.qB,dataTotalCountSelector:H.ql},emptyState:(0,b.jsx)(V,{description:c._('No assigned asset groups', '[m10n].businessAccess.systemUser.assetGroups.emptyState.title', 'Header explaining where asset groups will go once shared'),image:(0,b.jsx)(o.xu,{"aria-hidden":!0,color:"default",height:200,width:200,children:(0,b.jsx)(o.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:P})})}),pageType:a})})}),s===e_.CATALOGS&&(0,b.jsx)(o.xu,{height:"100%",children:(0,b.jsx)(o.xu,{"data-test-id":"system-user-catalogs-tab-content",height:"100%",children:(0,b.jsx)(E.Z,{catalogs:null!=C?C:[],catalogsColumnDefs:eo,catalogsFetchData:ed,catalogsIsLoading:j,catalogsTableConfiguration:{dataCurrentPageSelector:H.FA,dataPageSizeSelector:H.Xg,dataSearchTermSelector:H._X,dataTotalCountSelector:H.cT},emptyState:(0,b.jsx)(V,{header:c._('No assigned catalogs', '[m10n].bizAccess.systemUser.catalog.emptyState.description', 'Description explaining this system user has not been assigned any catalogs'),image:(0,b.jsx)(o.xu,{"aria-hidden":!0,color:"default",height:200,width:200,children:(0,b.jsx)(o.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:P})})}),pageType:a,searchFieldText:c._('Search catalog', '[m10n]businessAccess.systemUsers.assets.search.label', 'Placeholder text to hint user to search for catalogs')})})}),s===e_.APPS&&(0,b.jsx)(o.xu,{height:"100%",children:(0,b.jsx)(o.xu,{"data-test-id":"system-user-apps-tab-content",height:"100%",children:(0,b.jsx)(w,{apps:null!=M?M:[],appsColumnDefs:el,appsFetchData:eu,appsIsLoading:x,appsTableConfiguration:{dataCurrentPageSelector:H.YY,dataPageSizeSelector:H.Ai,dataSearchTermSelector:H.Hp,dataTotalCountSelector:H.r8},emptyState:(0,b.jsx)(V,{header:c._('Assign an app to utilize this system user', '[m10n].bizAccess.systemUser.apps.emptyState.description', 'Description explaining this system user has not been assigned any apps'),image:(0,b.jsx)(o.xu,{"aria-hidden":!0,color:"default",height:200,width:200,children:(0,b.jsx)(o.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:P})})}),options:{sortBySelector:H.Wg,sortDirectionSelector:H.Fs},pageType:a,searchFieldText:c._('Search app by name or ID', '[m10n]businessAccess.systemUsers.assets.search.label', 'Placeholder text to hint user to search for apps by name or by ID')})})})]})},q=function(e){var s=e.user,t=X((0,u.useState)(0),2),r=t[0],l=t[1];return s?(0,b.jsxs)(u.Fragment,{children:[(0,b.jsx)(Q,{activeTabIndex:r,setActiveTabIndex:l,user:s}),(0,b.jsx)(K,{activeTabIndex:r,pageType:a.Q6.SYSTEM_USERS,user:s})]}):null},ee=t(233519),es=t(473728),et=t(403713),ea=t(435739),er=function(e){var s,t,a=e.user,r=(0,i.ZP)(),l=(0,ee.ZP)("BUSINESS_ACCESS_SYSTEM_USERS"),n=(0,_.y)().openSheet;return a?(0,b.jsx)(et.Z,{items:[(0,b.jsxs)(o.xu,{direction:"row",display:"flex",margin:4,children:[(0,b.jsxs)(o.kC.Item,{flex:"grow",children:[(0,b.jsx)(o.xv,{size:"400",weight:"bold",children:null==(s=a.user)?void 0:s.full_name}),(0,b.jsx)(o.xv,{color:"subtle",size:"200",children:(0,es.Z)(r._('ID: {{id}}', '[m10n]businessAccess.user.ID', 'User system id label to show in summary. id: user id'),{id:a.id||""})}),(0,b.jsx)(o.xv,{color:"subtle",size:"200",children:(0,es.Z)(r._('Role: {{role}}', '[m10n]businessAccess.user.Role', 'User system id label to show in summary. role: user role'),{role:a.business_roles?a.business_roles.map((0,ea.B)(r)).join(","):""})})]}),(0,b.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,b.jsx)(o.zx,{onClick:function(){n("EDIT_SYSTEM_USER",{selectedEmployee:a}),l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-user-system-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-user-system-view-user-system-manager"})},size:"lg",text:r._('Edit system user details', '[m10n]businessAccess.system.users.detail.manage.systemUser.button', 'Edit system user details button label')})})]},"systemUser"),(0,b.jsx)(o.xu,{margin:4,children:(0,b.jsx)(o.kC,{alignItems:"center",gap:2,height:"100%",width:"100%",children:(0,b.jsxs)(o.kC.Item,{flex:"grow",children:[(0,b.jsx)(o.xv,{size:"200",weight:"bold",children:r._('Added by', '[m10n]businessAccess.system.user.addedBy.full_name', 'Label to show as heading for system user creator in summary')}),(0,b.jsx)(o.xv,{color:"subtle",size:"200",children:null==(t=a.created_by_user)?void 0:t.full_name})]})})},"systemUserOwner")]}):null},el=function(e){var s=e.user;return s?(0,b.jsxs)(u.Fragment,{children:[(0,b.jsx)(er,{user:s}),(0,b.jsx)(q,{user:s})]}):null};function eo(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,a=Array(s);t<s;t++)a[t]=e[t];return a}var ei=function(e){var s,t=e.user,a=e.selectedSystemId,r=e.setSelectedSystemId,l=(0,i.ZP)(),n=(0,ee.ZP)("BUSINESS_ACCESS_SYSTEM_USERS");return t?(0,b.jsx)(o.xu,{alignItems:"center",color:t.id===a?"inverse":void 0,direction:"row",display:"flex",flex:"grow",padding:2,role:"button",rounding:2,children:(0,b.jsx)(o.iP,{onTap:function(){n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-system-users-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-system-users-switch-users"}),r(t.id||"")},children:(0,b.jsx)(o.kC,{alignItems:"center",gap:2,height:"100%",width:"100%",children:(0,b.jsxs)(o.kC.Item,{flex:"grow",children:[(0,b.jsx)(o.xv,{color:t.id===a?"light":"default",weight:"bold",children:null==(s=t.user)?void 0:s.full_name}),(0,b.jsxs)(o.xv,{color:t.id===a?"light":"default",size:"200",children:[l._('ID:', '[m10n]businessAccess.systemUsers.list.ID', 'System user id label to show on system users list')," ",t.id]})]})})})},t.id):null},en=function(e){var s,t=e.users,a=e.selectedSystemId,r=e.setSelectedSystemId,l=(0,i.ZP)(),n=function(e){if(Array.isArray(e))return e}(s=(0,u.useState)(""))||function(e,s){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,l,o,i=[],n=!0,c=!1;try{for(l=(t=t.call(e)).next;!(n=(a=l.call(t)).done)&&(i.push(a.value),2!==i.length);n=!0);}catch(e){c=!0,r=e}finally{try{if(!n&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return i}}(s,2)||function(e,s){if(e){if("string"==typeof e)return eo(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eo(e,2):void 0}}(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=n[0],d=n[1],h=Object.keys(t).filter(function(e){var s,a;return((null==(s=t[e])||null==(a=s.user)?void 0:a.full_name)||"").toLowerCase().includes(c.toLowerCase())||(e||"").toLowerCase().includes(c.toLowerCase())}),m=(0,_.y)().openSheet;return(0,b.jsxs)(o.kC,{dataTestId:"systems-side-panel",direction:"column",gap:2,height:"100%",children:[(0,b.jsx)(o.Um,{accessibilityLabel:l._('Search by name or ID', '[m10n]businessAccess.systemUsers.search.a11y', 'accessibility system users search label'),id:"employeeSearch",onChange:function(e){d(e.value)},placeholder:l._('Search by name or ID', '[m10n]businessAccess.systemUsers.search.placeholder', 'System users search placeholder')}),(0,b.jsx)(o.kC,{children:(0,b.jsx)(o.xu,{"data-test-id":"open-add-employee-modal-button",flex:"grow",children:(0,b.jsx)(o.zx,{color:"gray",fullWidth:!0,onClick:function(){return m("ADD_SYSTEM_USER",{})},text:l._('Create system user', '[m10n]businessAccess.system.user.add.button', 'accessibility create system user button')})})}),(0,b.jsx)(o.kC.Item,{flex:"grow",children:(0,b.jsx)(o.xu,{height:"100%",overflow:"auto",children:h.map(function(e){return(0,b.jsx)(ei,{selectedSystemId:a,setSelectedSystemId:r,user:t[e]},e)})})})]})},ec=function(e){var s=e.users,t=(0,i.ZP)(),a=(0,l.I0)(),r=(0,l.v9)(H.mD),o=(0,u.useCallback)(function(e){a((0,F.Bw)(e))},[a]);return(0,u.useEffect)(function(){Object.keys(s).length>0&&!r&&o(Object.keys(s)[0]||"")},[o,s,r]),(0,b.jsx)(x.Z,{fitToWindow:!0,mainContent:(0,b.jsx)(el,{user:s[r]}),pageProps:{title:t._('System users', '[m10n]businessAccess.systemUsers.pageTitle', 'system users page title'),infoTooltip:{text:"Add or remove system users and manager permissions.",accessibilityLabel:t._('System users info icon', '[m10n]businessAccess.systemUsers.info.icon.a11y', 'Accessibility label for system users info icon')}},sidebarContent:(0,b.jsx)(en,{selectedSystemId:r,setSelectedSystemId:o,users:s})})},eu=t(111371),ed=function(){var e=(0,y.KJ)(),s=(0,l.I0)(),t=(0,i.ZP)(),a=(0,l.v9)(H._v),r=(0,l.v9)(H.tp),u=(0,(0,n.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled;return((0,c.Z)(function(){s((0,F.ye)({businessId:e})),s((0,eu.SF)({businessId:e,inCatalogManagement:u}))}),a)?(0,b.jsx)(o.xH,{accessibilityLabel:t._('Loading employee information', '[m10n]businessAccess.employees.loading', 'message shown when loading employee data'),delay:!1,show:!0}):(0,b.jsx)(o.xu,{"data-test-id":"system-users-page",children:r&&Object.keys(r).length>0?(0,b.jsx)(ec,{users:r}):(0,b.jsx)(S,{})})},e_=function(){return(0,b.jsx)(r.Z,{pageType:a.Q6.SYSTEM_USERS,children:(0,b.jsx)(ed,{})})}},925173:function(e,s,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/system-users",function(){return t(926361).Z}])},68559:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/spool-deb993eb.svg"},999791:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/empty-state-audiences-page-53481ed6.png"}},function(e){e.O(0,["13058","14711","18188","25418","28356","30338","39797","41642","43823","46174","4925","5171","55594","56275","73967","86875","8709","88038","9328","95202","97365","98613"],function(){return e(e.s=925173)}),e.O()}]);