(self.legacyJsonp=self.legacyJsonp||[]).push([["95268"],{573631:function(e,t,n){"use strict";n.d(t,{G:function(){return s},b:function(){return c}});var r=n(586659),o=n(963489),i=n(382718),a=(0,r.createContext)(!0);function s(e){var t=e.children,n=(0,o.TH)(),s=(0,r.useRef)(n).current===n;return(0,i.jsx)(a,{value:s,children:t})}function c(){return(0,r.useContext)(a)}},209026:function(e,t,n){"use strict";var r=n(20256),o=n(20484),i=n(710815),a=n(199414),s=n(636864),c=n(216400),l=n(134308),d=n(557693),u=n(534898),p=n(697582),f=n(950382),_=n(346909),b=n(448125),h=n(103446),g=n(647049),v=n(108867),m=n(527254),y=n(675577),S=n(573827),x=n(429359),P=n(240769),j=n(350992),w=n(29086),I=n(815774),A=n(342),O=n(382718),Z={caterpillar:{darkMode:o,lightMode:i},collage:{darkMode:a,lightMode:s},drink:{darkMode:c,lightMode:l},favorite:{darkMode:d,lightMode:u},fish:{darkMode:p,lightMode:f},gumball:{darkMode:_,lightMode:b},messagebottle:{darkMode:h,lightMode:g},palette:{darkMode:v,lightMode:m},pinboard:{darkMode:y,lightMode:S},pinjar:{darkMode:x,lightMode:P},popsicle:{darkMode:j,lightMode:w},sunglasses:{darkMode:I,lightMode:A}};t.Z=function(e){var t=e.name,n=e.containerSize,o=e.illustrationSize,i=void 0===o?195:o,a=e.message,s=e.description,c=e.primaryAction,l=(0,r.tv)().colorSchemeName;return(0,O.jsx)(r.kC,{direction:"column",height:n,width:n,children:(0,O.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:3,children:[(0,O.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:1,width:"100%",children:[(0,O.jsx)(r.xu,{height:i,width:i,children:(0,O.jsx)(r.Ee,{alt:"",naturalHeight:1,naturalWidth:1,role:"presentation",src:"darkMode"===l?Z[t].darkMode:Z[t].lightMode})}),a||s?(0,O.jsxs)(r.kC,{direction:"column",children:[(0,O.jsx)(r.X6,{accessibilityLevel:"none",align:"center",size:"400",children:a}),(0,O.jsx)(r.xv,{align:"center",size:"200",children:s})]}):null]}),null!=c?c:null]})})}},947810:function(e,t,n){"use strict";var r=n(821342),o=n(448505),i=n(7872);t.Z=function(){var e=(0,r.Z)(),t=(0,o.Z)();return(0,i.lJ)(e,t)}},61398:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r=n(586659),o=n(581722),i=n(650533),a=n(861293),s=n(963489),c=n(521009),l=n(475498),d=n(821342),u=n(19585),p=n(573631),f=n(444185),_=n(87853),b=n(647709),h=n(26032),g=n(629315),v=n(208709),m=n(701523),y=n(20256),S=n(886981),x=n(696323),P=n(169053),j=n(223700),w=n(667417),I=n(425140),A=n(382718);function O(e){var t,n=e.boardSectionId,r=e.isSelected,i=e.onTogglePin,a=(0,P.S6)(),s="".concat(x.Z.BOARD_SECTION_PINS,":").concat(null!=n?n:""),c=(0,o.v9)(function(e){var t=e.feeds,n=e.desktopStories;return(0,j.Z)(t[s],n)}),l=(0,S.Z)({name:"BoardSectionPinsResource",options:{section_id:n,page_size:25,prepend:!0}}),d=l.fetchMore,u=l.isAtEnd,p=l.isFetching;return(0,A.jsx)(I.Z,{feedItems:null!=(t=c.feed)?t:[],getColumnSpanConfig:function(){return 1},minColumns:3,pagination:{loadNext:d,hasNext:u,isLoadingNext:p,refetch:function(){}},renderFeedItem:function(e){if("pin"===e.type){var t=(e.id?a(e.id):null)||e;return(0,A.jsx)(y.xu,{paddingY:1,children:(0,A.jsx)(w.Z,{isSelected:r(e.id),pinKey:{type:"Legacy",data:t},togglePin:i})})}return null}})}var Z=n(481554),k=n(978857),B=n(120651),z=n(702226);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N=function(){return!!e})()}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}var L=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&C(o,e);var t,n,r=(t=N(),function(){var e,n=E(o);return e=t?Reflect.construct(n,arguments,E(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var e,t,n,i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return M(R(n=r.call.apply(r,[this].concat(a))),"state",{pinIds:(null==(e=n.props.location.state)?void 0:e.pinIds)||[],inSelectAll:(null==(t=n.props.location.state)?void 0:t.inSelectAll)||!1,name:""}),M(R(n),"onTogglePin",function(e){var t=n.state.pinIds,r=n.props.feedPinIds;if(t.includes(e))n.setState({pinIds:t.filter(function(t){return t!==e})});else{var o=t.concat(e);o.length===r.length?n.onSelectAll(!n.state.inSelectAll):n.setState({pinIds:o})}}),M(R(n),"onNextButtonTouch",function(){var e=n.props,t=e.boardSection.id,r=e.location,o=n.state,i=o.inSelectAll,a=o.pinIds,s=r.state?r.state.trackingParams:"";t&&n.props.navigate("/boardsection/".concat(t,"/organize/repin/"),{state:{inSelectAll:i,pinIds:a,trackingParams:s}})}),M(R(n),"onAddNewSectionNavigate",function(){var e=n.props,t=e.navigate,r=e.boardSection.id,o=n.state,i=o.inSelectAll,a=o.pinIds;r&&t("/boardsection/".concat(r,"/organize/add/"),{state:{inSelectAll:i,pinIds:a}})}),M(R(n),"onNameChange",function(e){n.setState({name:e.target.value})}),M(R(n),"onRepinToBoardWithSectionsNavigate",function(e){var t=n.props,r=t.navigate,o=t.boardSection.id,i=t.location,a=n.state,s=a.inSelectAll,c=a.pinIds,l=i.state?i.state.trackingParams:"";o&&r("/boardsection/".concat(o,"/organize/repin/"),{state:{boardId:e.id,inSelectAll:s,pinIds:c,trackingParams:l}})}),M(R(n),"onRefreshBoardSection",function(){var e,t=n.props,r=t.boardSection;(0,t.callRefreshBoardSection)(null!=(e=r.id)?e:"")}),M(R(n),"onCreateSection",function(){var e,t,r=n.state,o=r.inSelectAll,i=r.name,a=r.pinIds,s=n.props;(0,s.createSection)(null!=(e=null==(t=s.boardSection.board)?void 0:t.id)?e:"",a,i,o).then(function(){return n.onRefreshBoardSection()})}),M(R(n),"onSelectAll",function(e){n.setState({inSelectAll:e,pinIds:[]})}),M(R(n),"getSelectedPinIds",function(){var e=n.state,t=e.pinIds,r=e.inSelectAll,o=n.props.feedPinIds;return r?o.filter(function(e){return!t.includes(e)}):t}),M(R(n),"isSelected",function(e){var t=n.state,r=t.inSelectAll,o=t.pinIds;return r?!o.includes(e):o.includes(e)}),M(R(n),"renderBoardSectionFeed",function(){var e=n.props.boardSection.id;return(0,A.jsx)(O,{boardSectionId:e,isSelected:n.isSelected,onTogglePin:n.onTogglePin})}),M(R(n),"renderRepinScreen",function(e){var t,r,o=n.state,i=o.pinIds,a=o.inSelectAll,s=n.props,c=s.boardSection,l=s.navigate,d=s.isCollaborative,u=s.url,p=n.getSelectedPinIds(),f=(e.location.state||{}).boardId||(null==(t=c.board)?void 0:t.id),_="".concat(u).concat(c.slug||"");return(0,A.jsx)(m.ZP,{boardId:f,boardSectionId:c.id,inSelectAll:a,isCollaborative:d,navigate:l,onAddNewSection:n.onAddNewSectionNavigate,onRefreshBoardSection:n.onRefreshBoardSection,onRepinToBoardWithSections:n.onRepinToBoardWithSectionsNavigate,orginalBoardId:null==(r=c.board)?void 0:r.id,pinIds:i,selectedPinIds:p,url:_})}),M(R(n),"renderAddSectionScreen",function(){var e=n.state.name,t=n.getSelectedPinIds();return(0,A.jsx)(g.Z,{name:e,onNameChange:n.onNameChange,onNextButtonTouch:n.onCreateSection,selectedPinIds:t})}),M(R(n),"renderBulkSelectPinsScreen",function(){var e=n.state.inSelectAll,t=n.getSelectedPinIds();return(0,A.jsx)(v.Z,{allowSelectAll:!n.props.isCollaborative,buttonDisabled:0===t.length,buttonLabel:n.props.i18n._('Next', 'Next button accessibility label for board section organize page', 'Next button accessibility label for board section organize page'),inSelectAll:e,onButtonTouch:n.onNextButtonTouch,onSelectAll:n.onSelectAll,renderFeed:n.renderBoardSectionFeed,selectedPinIds:t})}),n}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSection.id,n=e.boardSectionUrl;return t?(0,A.jsxs)(i.rs,{children:[(0,A.jsx)(a.lt,{exact:!0,path:"".concat(decodeURIComponent(n),"_tools/organize/"),render:this.renderBulkSelectPinsScreen}),(0,A.jsx)(a.lt,{exact:!0,path:"/boardsection/".concat(t,"/organize/"),render:this.renderBulkSelectPinsScreen}),(0,A.jsx)(a.lt,{exact:!0,path:"/boardsection/".concat(t,"/organize/repin"),render:this.renderRepinScreen}),(0,A.jsx)(a.lt,{exact:!0,path:"/boardsection/".concat(t,"/organize/add"),render:this.renderAddSectionScreen})]}):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.PureComponent);function F(){var e,t,n,r,a=(0,u.ZP)(),g=(0,o.I0)(),v=(0,s.s0)(),m=(0,s.TH)(),y=(0,p.b)(),S=(0,i.$B)(),x=(0,d.Z)().isAuth,P=(0,_.dI)().showToast,j=(0,b.ZP)(),w=(0,c.Z)(),I=S.params,O=I.id,T=I.slug,C=I.section_slug,R=I.username,N=O?{section_id:O}:{board_slug:(0,h.$)(T||""),section_slug:(0,h.$)(C||""),username:(0,h.$)(R||"")};(0,f.Z)({name:"BoardSectionResource",options:N});var E=S.params.id,M=(0,o.v9)(function(e){return e.boardsections[E||""]})||{},D=M.board,F=(0,o.v9)(function(e){var t=e.boardsections;return Object.keys(t).reduce(function(e,n){var r,o=t[n];return e["".concat(String(null==(r=o.board)?void 0:r.id),"_").concat(String(o.slug))]=o,e},{})}),H="/".concat(R||"","/").concat((0,h.X)(T||""),"/"),W=(0,o.v9)(function(e){return(0,z.Z)(e)[H]})||{},X=null!=(e=F["".concat(W.id,"_").concat((0,h.X)(C||""))])?e:F["".concat(W.id,"_").concat(C||"")],U=O?M:X,$=O?D:W,G=U&&$?"".concat(null!=(t=$.url)?t:"").concat(null!=(n=(0,h.X)(U.slug||""))?n:"","/"):"",J=!!(null==$?void 0:$.is_collaborative),Y="board-section-pins:".concat(E||(null==U?void 0:U.id)||""),V=(0,o.v9)(function(e){return e.feeds[Y]||[]}).filter(function(e){return"pin"===e.type}).map(function(e){return e.id});return x&&"desktop"!==j?y?G?(0,A.jsx)(s.Fg,{replace:!0,to:G}):null:(0,A.jsx)(L,{boardSection:U,boardSectionUrl:G,callRefreshBoardSection:function(e){g((0,B.Z)(e))},createSection:function(e,t,n,r){var o=U.id;return g(r&&o?(0,Z.Z)(e,n,t,o,w):(0,k.Z)(e,t,n,w)).then(function(){P(function(e){var t=e.hideToast;return(0,A.jsx)(l.Z,{onHide:t,text:a._('Section added!', ' - ', ' -- ')})}),v(-3)}).catch(function(e){P(function(t){var n=t.hideToast;return(0,A.jsx)(l.Z,{onHide:n,text:e.message||a._('Sorry! Something went wrong on our end.', 'error creating board section', 'error creating board section'),type:"error"})})})},feedPinIds:V,i18n:a,isCollaborative:J,location:m,navigate:v,url:null!=(r=null==$?void 0:$.url)?r:""}):(0,A.jsx)(s.Fg,{replace:!0,to:"/"})}},368974:function(e,t,n){"use strict";var r=n(20256),o=n(209026),i=n(19585),a=n(382718);t.Z=function(){var e=(0,i.ZP)();return(0,a.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,a.jsx)(o.Z,{containerSize:320,description:e._('It looks like something went wrong. That\u2019s okay\u2014try refreshing this page.', 'error404.page.gumball.illustrations.description', 'Message displayed under the illustration when 404 error'),illustrationSize:186,message:e._('Something\u2019s a little off', 'error404.page.gumball.illustrations.message', 'Description displayed under the illustration when when 404 error'),name:"gumball",primaryAction:(0,a.jsx)(r.ZP,{color:"red",href:"",onClick:function(){window.location.reload()},text:e._('Refresh page', 'error404.page.pinjar.illustration', 'Button text for refreshing the page for 404 error')})})})}},629315:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(20256),o=n(19585),i=n(588367),a=n(914061),s=n(477213),c=n(588836),l=n(382718);function d(e){var t=(0,o.ZP)(),n=e.backButtonIcon,d=e.errorMessage,u=e.name,p=e.onNextButtonTouch,f=e.onNameChange,_=e.selectedPinIds,b=void 0===_?[]:_,h=e.useRoundedCorners,g=b.length>0?130:64;return(0,l.jsxs)(a.default,{hasFixedHeader:!0,children:[(0,l.jsxs)(i.default,{height:g,paddingY:3,useRoundedCorners:h,children:[(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(c.Z,{color:"darkGray",icon:n||"cancel",padding:3,size:"sm"}),(0,l.jsx)(r.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,l.jsx)(r.xu,{"data-test-id":"create-section-button",children:(0,l.jsx)(r.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===u.trim(),onClick:p,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),b&&(0,l.jsx)(s.Z,{selectedPinIds:b})]}),(0,l.jsx)(r.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,l.jsx)(r.nv,{errorMessage:d||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:function(e){return f(e.event)},size:"lg",value:u})})]})}},791694:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(586659),o=n(581722),i=n(20256),a=n(821342),s=n(19585),c=n(886981),l=n(435289),d=n(214239),u=n(145127),p=n(482633),f=n(993127),_=n(382718);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t,n,h=e.excludeBoardId,g=e.hideSectionPickerList,v=e.onRepin,m=(0,s.ZP)(),y=(0,a.Z)(),S=(t=y.isAuth?y.username:"",(0,c.Z)({name:"BoardsResource",options:d.O.options({username:t,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,o.v9)(function(e){return(0,u.Z)(e)||[]})),x=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=x[0],j=x[1],w=function(e,t){if(!g&&e&&t)return void j(t);v(t)};return S.length>0&&(P&&!g?(0,_.jsx)(f.Z,{boardId:null==P?void 0:P.id,repin:function(e,t){P&&v(P,t)},showSectionRep:!0}):(0,_.jsxs)(i.xu,{"data-test-id":"board-picker-row-container",children:[(0,_.jsx)(i.xu,{marginTop:3,children:(0,_.jsx)(i.xv,{children:m._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(l.T,"px")}},paddingY:3,children:S.filter(function(e){return e.id!==h}).map(function(e){return(0,_.jsx)(p.Z,{boardId:e.id,onBoardSelected:function(t){return w(t,e)}},e.id)})})]}))}},701523:function(e,t,n){"use strict";n.d(t,{Wx:function(){return M},ZP:function(){return L}});var r=n(586659),o=n(581722),i=n(963489),a=n(20256),s=n(475498),c=n(19585),l=n(394962),d=n(588367),u=n(914061),p=n(87853),f=n(435289),_=n(791694),b=n(477213),h=n(366859),g=n(60101),v=n(575108),m=n(72918),y=n(388023),S=function(e){return function(t){var n=e.source,r=e.target,o=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||r.boardId!==n.boardId){var i={board_id:r.boardId,pin_ids:o,section_id:r.sectionId};return v.Z.create("BulkEditResource",i).callUpdate()}if(r.sectionId){var a={section_id:r.sectionId,pins:o},s="BoardSectionEditResource";return v.Z.create(s,a).callUpdate().then(function(e){var n=(0,g.Fv)(e.resource_response.data,y.Z[s]);return t((0,m.XM)(s,a,e,n)),e})}var c={section_id:n.sectionId,pins:o};return v.Z.create("BoardSectionPinsResource",c).callDelete()}},x=n(987782),P=n(588836),j=n(993127),w=n(382718);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Z(i,r,o,a,s,"next",e)}function s(e){Z(i,r,o,a,s,"throw",e)}a(void 0)})}}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}function E(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function M(e){var t=e.onAddNewSection,n=e.useIconWithBackground,r=(0,c.ZP)();return(0,w.jsx)(l.Z,{alignCenter:n,height:n?f.y:f.T,children:(0,w.jsx)(h.Z,{onTouch:t,pressState:"none",children:(0,w.jsxs)(a.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!n,children:[n?(0,w.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,w.jsx)(a.JO,{accessibilityLabel:r._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,w.jsx)(a.JO,{accessibilityLabel:r._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),n?(0,w.jsx)(a.xu,{marginStart:2,children:(0,w.jsx)(a.xv,{size:"400",weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,w.jsx)(a.xu,{marginStart:3,children:(0,w.jsx)(a.xv,{weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var D=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&B(o,e);var t,n,r=(t=T(),function(){var e,n=C(o);return e=t?Reflect.construct(n,arguments,C(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return z(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return R(z(e=r.call.apply(r,[this].concat(n))),"onRepinToBoard",function(t){t.section_count?e.props.onRepinToBoardWithSections(t):e.props.repinToOtherBoard(t.id,e.props.i18n)}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardId,n=e.boardSectionId,r=e.orginalBoardId,o=e.onAddNewSection,i=e.repin,s=e.hideBoardPickerRow,c=e.selectedPinIds,l=e.isCollaborative,p=r===t;return(0,w.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,w.jsxs)(d.default,{hasBorder:!0,height:140,children:[(0,w.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,w.jsx)(a.xu,{column:2,children:(0,w.jsx)(P.Z,{})}),(0,w.jsx)(a.xu,{column:8,children:(0,w.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,w.jsx)(a.xu,{column:2})]}),(0,w.jsx)(b.Z,{selectedPinIds:c})]}),t&&(0,w.jsx)(j.Z,{boardId:t,hideBoardPickerRow:p&&s,originalBoardId:r,repin:i,sectionId:n}),p&&(0,w.jsxs)(a.xu,{children:[!l&&(0,w.jsx)(_.Z,{excludeBoardId:t,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,w.jsx)(M,{onAddNewSection:o})]})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.PureComponent),L=function(e){var t,n,r=e.inSelectAll,a=e.pinIds,l=e.orginalBoardId,d=e.boardSectionId,u=e.onRefreshBoardSection,f=e.url,_=(0,p.dI)().showToast,b=(0,c.ZP)(),h=(0,i.s0)(),g=(0,o.I0)(),v=(t=k(regeneratorRuntime.mark(function e(t,n,o){var i,c,p,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n&&n.id,c={boardId:l,sectionId:d},p={boardId:t,sectionId:i},b=r?(0,x.Z)({source:c,target:p,excludePinIds:a}):S({source:c,target:p,pinIds:a}),l===t){e.next=10;break}return e.next=7,g(b);case 7:h(f,{}),e.next=15;break;case 10:return e.next=12,g(b);case 12:if(!u){e.next=15;break}return e.next=15,u();case 15:_(function(e){var t=e.hideToast;return(0,w.jsx)(s.Z,{onHide:t,text:E(r,i,o)})});case 16:case"end":return e.stop()}},e)})),function(e,n,r){return t.apply(this,arguments)}),m=(n=k(regeneratorRuntime.mark(function e(t,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:l,sectionId:d},i={boardId:t,sectionId:void 0},_(function(e){var t=e.hideToast;return(0,w.jsx)(s.Z,{onHide:t,text:E(r,void 0,n)})}),e.next=5,g(r?(0,x.Z)({source:o,target:i,excludePinIds:a}):S({source:o,target:i,pinIds:a}));case 5:h(-2);case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,w.jsx)(D,O(O({},e),{},{i18n:b,repin:v,repinToOtherBoard:m}))}},435289:function(e,t,n){"use strict";n.d(t,{T:function(){return r},y:function(){return o}});var r=70,o=80},481554:function(e,t,n){"use strict";var r=n(978857),o=n(987782);t.Z=function(e,t,n,i,a){return function(s){return s((0,r.Z)(e,[],t,a)).then(function(t){var r=t.resource_response.data.id;return s((0,o.Z)({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:r},excludePinIds:n}))})}}},978857:function(e,t,n){"use strict";var r=n(60101),o=n(575108),i=n(72918),a=n(889229),s=n(189976),c=n(388023),l=n(696323);t.Z=function(e,t,n,d){return function(u){var p={board_id:e,initial_pins:t,name:n},f="BoardSectionResource";return o.Z.create(f,p).callCreate().then(function(n){var o=n.resource_response.data,_=(0,r.Fv)(o,c.Z[f]);return d({event_type:7100,object_id_str:o.id}),u((0,i.XM)(f,p,n,_)),u((0,a.hd)(e,o)),u((0,s.vX)({feedId:e,feedType:l.Z.BOARD_SECTIONS,itemIds:[o.id],itemType:"boardsection"})),t.length&&u({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:o.id},pinIds:t}}),n})}}},987782:function(e,t,n){"use strict";var r=n(575108);t.Z=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var n=e.source,o=e.target,i=e.excludePinIds,a={board_id:n.boardId,new_board_id:o.boardId,pin_ids:i,old_section_id:n.sectionId,new_section_id:o.sectionId};return r.Z.create("BulkEditSelectAllResource",a).callUpdate()}}},120651:function(e,t,n){"use strict";var r=n(575108),o=n(889229);t.Z=function(e){return function(t){return r.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(n){var r=n.resource_response.data||{id:"",title:""};return t((0,o.OQ)(e,r)),n})}}},433110:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(581722),o=n(821342),i=n(886981),a=n(448505),s=n(7872),c=n(33618),l=n(696323),d=n(930382),u=n(223700),p=n(185094),f=n(222719),_=n(382718);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=(0,o.Z)(),n=(0,a.Z)(),b=(0,s.lJ)(t,n),h=(0,i.Z)({name:"BoardSectionPinsResource",options:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{currentFilter:n,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:r}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,b)}),v=(0,i.Z)({name:"BoardsResource",options:(0,c.Z)(e.viewer.username,!0)}),m=(0,r.v9)(function(t){var n=t.feeds,r=t.desktopStories;return(0,u.Z)(n["".concat(l.Z.BOARD_SECTION_PINS,":").concat(e.boardSectionId)],r)});return(0,_.jsx)(d.Z,g(g(g({},e),m),{},{boardsResource:v,renderFeaturedBoardsStory:function(t){return(0,_.jsx)(p.Z,{isOwnBoard:e.isOwnBoard,storyId:t})},renderMoreIdeas:function(t){return e.isOwnerOrCollaborator?null:(0,_.jsx)(f.default,{storyId:t})},resource:h}))}v.displayName="BoardSectionPinGrid";var m=v},515902:function(e,t,n){"use strict";n.d(t,{Z:function(){return X}});var r=n(821342),o=n(647709),i=n(61398),a=n(586659),s=n(581722),c=n(650533),l=n(20256),d=n(19585),u=n(886981),p=n(26032),f=n(368974),_=n(963489),b=n(575108),h=n(751915),g=n(918920),v=n(697063),m=n(937392),y=n(475498),S=n(123998),x=n(87853),P=n(448505),j=n(947810),w=n(7872),I=n(493812),A=n(744557),O=n(645423),Z=n(830235),k=n(929702),B=n(283427),z=n(317884),T=n(433110),C=n(65073),R=n(382718);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||E(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return M(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var D=(0,m.RL)(1000326)(function(e){var t,n,o=e.board,i=e.section,c=(0,d.ZP)(),l=(0,s.I0)(),u=(0,r.Z)(),p=(0,j.Z)(),f=(0,P.Z)(),m=null==(t=(0,I.WG)())?void 0:t.boardPinDensity,D=(0,s.v9)(function(e){var t,n,r,o=e.boardsections[null!=(t=i.id)?t:""],a=null!=(n=i.pin_count)?n:0;return null!=(r=null==o?void 0:o.pin_count)?r:a}),L=(0,_.s0)(),F=(0,x.dI)().showOneToast,H=N((0,a.useState)(null),2),W=H[0],X=H[1],U=N((0,a.useState)(!1),2),$=U[0],G=U[1],J=N((0,a.useState)([]),2),Y=J[0],V=J[1],K=function(e,t,n){var r=(0,B.Z)(e,t,c,$,n);F(function(e){var t=e.hideToast;return(0,R.jsx)(y.Z,{duration:3e3,onHide:t,text:r})})},Q=function(e){$||Y.length>0?X(k.o[e]):k.u[e](c)},q=$?D-Y.length:Y.length,ee=(0,z.Z)({board:o,viewer:u}),et=(o.access||[]).includes("write"),en=(0,h.Z)(u,null==(n=o.owner)?void 0:n.id)||(0,w.KY)(u,o,f),er=en||o.collaborated_by_me;return(0,R.jsx)(S.Z,{objectId:o.id,view:5,viewParameter:ee,children:(0,R.jsxs)(a.Fragment,{children:[(0,R.jsx)(C.Z,{board:o,hideDone:!0,inSelectAll:$,onDeselectAll:function(){G(!1),V([])},onSelectAll:function(){G(!0),V([])},onShowBulkEditBoardPicker:Q,selectedPinCount:q,selectedPinIds:Y}),(0,R.jsx)(T.Z,{board:o,boardSectionId:i.id,bulkEditSelectedPins:Y,denseViewSelected:et&&"dense"===m,inSectionOrganizationMode:!0,inSelectAll:$,isOwnBoard:en,isOwnerOrCollaborator:er,onBulkEditPinClick:function(e){var t=Y.includes(e)?Y.filter(function(t){return t!==e}):[].concat(function(e){if(Array.isArray(e))return M(e)}(Y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Y)||E(Y)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);$&&t.length===D?(G(!1),V([])):V(t)},viewer:u,viewParameter:ee}),(0,R.jsx)(O.Z,{board:o,inSelectAll:$,onShowBulkEditBoardPicker:Q,selectedPinCount:q,selectedPinIds:Y}),W&&(0,R.jsx)(Z.Z,{actions:{completeMoveAction:function(){X(null),G(!1),V([])},onBoardSectionDelete:function(){var e;L(null!=(e=o.url)?e:"",{replace:!0})},onBoardSectionSave:function(e){var t=e.slug;X(null),L(o.url?"".concat(o.url).concat(t,"/"):"",{replace:!0})},onCopyPinsToBoard:function(e){if($)return void v.Z.showError(c._('Sorry, can\'t take copy action in Select All', 'BoardPageContainer.SelectAllCopyError', 'Error message when trying to copy pins while in select all mode'));b.Z.create("BulkEditResource",{board_id:e,pin_ids:Y,orbac_subject_id:p}).callCreate();var t=Y.length;G(!1),V([]),K(g.ZP.BulkAction.COPY,t)},onDeletePins:function(){l((0,A.L)({inSelectAll:$,selectedPinIds:Y,orbacSubjectId:p,source:{boardId:o.id,sectionId:i.id}}));var e=Y.length;G(!1),V([]),K(g.ZP.BulkAction.DELETE,e)}},board:o,boardSection:i,bulkEditSelectedPins:Y,currentModal:W,inSelectAll:$,mergeConfirmationModalProps:null,onClearModal:function(){return X(null)}})]})})}),L=n(305434),F=n(804739),H=n(582488);function W(){var e,t=(0,d.ZP)(),n=(0,c.UO)(),r=n.username,o=n.slug,i=n.section_slug,_=(0,u.Z)({name:"BoardSectionResource",options:{board_slug:(0,p.$)(o||""),section_slug:(0,p.$)(i||""),username:(0,p.$)(r||"")}}),b=_.data,h=_.error,g=_.isLoaded,v=null==b||null==(e=b.board)?void 0:e.id,m=(0,s.v9)(function(e){return v&&(e.boards||{})[v]})||null;return((0,H.Z)(m),h)?(0,R.jsx)(f.Z,{}):g&&b?(0,R.jsxs)(a.Fragment,{children:[(0,R.jsx)(l.xH,{accessibilityLabel:t._('Loading organize page', 'BoardOrganizeToolPage.Spinner', 'Accessibility label on spinner'),show:!m}),!!b&&!!m&&(0,R.jsxs)(a.Fragment,{children:[(0,R.jsx)(F.Z,{headerText:t._('Select and reorder', 'BoardOrganizeToolPage.Heading.SelectAndReorder', 'Title of organize page'),url:(0,L.Z)(m,b)}),(0,R.jsx)(D,{board:m,section:b})]})]}):null}var X=function(){var e=(0,o.HG)(),t=(0,r.Z)(),n=t&&t.isAuth;return e&&n?(0,R.jsx)(W,{}):(0,R.jsx)(i.Z,{})}},90809:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/[username]/[slug]/[section_slug]/_tools/organize",function(){return n(515902).Z}])},20484:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_caterpillar_spot_dark-a2684283.svg"},710815:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_caterpillar_spot_light-4351e2b0.svg"},199414:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_collage_spot_dark-801b6d1e.svg"},636864:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_collage_spot_light-172b7814.svg"},216400:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_drink_spot_dark-e13d8191.svg"},134308:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_drink_spot_light-eba7901c.svg"},557693:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_favorite_spot_dark-86e6efb1.svg"},534898:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_favorite_spot_light-c494804e.svg"},697582:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_fish_spot_dark-eabdd91c.svg"},950382:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_fish_spot_light-68e932f6.svg"},346909:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_gumball_spot_dark-fe6ad7b3.svg"},448125:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_gumball_spot_light-31a9c021.svg"},103446:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_messagebottle_spot_dark-6e62eced.svg"},647049:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_messagebottle_spot_light-6d12e6a6.svg"},108867:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_palette_spot_dark-7184dea0.svg"},527254:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_palette_spot_light-3ec2a5f3.svg"},675577:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinboard_spot_dark-9a1edd2c.svg"},573827:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinboard_spot_light-eac9767f.svg"},429359:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinjar_spot_dark-920f4221.svg"},240769:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_pinjar_spot_light-a4bdf6a8.svg"},350992:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_popsicle_spot_dark-9739cf41.svg"},29086:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_popsicle_spot_light-03d29257.svg"},815774:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_sunglasses_spot_dark-e0aee9e0.svg"},342:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/ill_sunglasses_spot_light-42e9d57e.svg"}},function(e){e.O(0,["11493","12041","19846","22253","25418","30338","30724","33171","34290","38220","38340","39174","39176","41642","43232","43836","51036","51972","73967","75309","8709","88038","88039","88104","92911"],function(){return e(e.s=90809)}),e.O()}]);