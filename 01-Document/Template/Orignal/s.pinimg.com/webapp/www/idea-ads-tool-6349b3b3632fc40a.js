(self.legacyJsonp=self.legacyJsonp||[]).push([["32605"],{551383:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}n.d(t,{Z:function(){return o},v:function(){return i}});var i=function(){return"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator};function o(){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i()){e.next=13;break}return e.prev=1,e.next=4,navigator.getInstalledRelatedApps();case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:e.next=14;break;case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}},e,null,[[1,8]])}),(a=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}},964451:function(e,t,n){"use strict";var r=n(382718);t.Z=(0,r.jsx)("svg",{height:"20",viewBox:"0 0 168 40",width:"83",children:(0,r.jsxs)("g",{fill:"#005062",fillRule:"nonzero",children:[(0,r.jsxs)("g",{transform:"translate(47.213 6.557)",children:[(0,r.jsx)("path",{d:"M18.689 7.721h5.295v16.64h-5.295zM25.098 7.721h5.099V10h.098c1.23-1.787 2.82-2.754 5.131-2.754 3.64 0 5.787 2.606 5.787 6.311v10.82h-5.295v-9.754c0-1.754-.885-2.95-2.607-2.95-1.754 0-2.918 1.458-2.918 3.507v9.197h-5.295V7.721z"}),(0,r.jsx)("circle",{cx:"21.344",cy:"3.279",r:"3.18"}),(0,r.jsx)("path",{d:"M78.459 7.475c-.148-.016-.328-.016-.525-.016-2.016 0-3.377.885-4.557 2.852h-.098v-2.59h-5.066v16.64h5.295v-7.476c0-3.459 1.918-5.065 4.951-4.787V7.475zM104.459 13.869c-2.115-.394-4-.558-4-1.721 0-1.033 1-1.525 2.311-1.525 1.46 0 2.476.459 2.673 1.95h4.868c-.262-3.278-2.786-5.327-7.508-5.327-3.934 0-7.18 1.82-7.18 5.328 0 3.901 3.082 4.672 5.984 5.164 2.213.393 4.23.557 4.23 2.049 0 1.065-1 1.656-2.607 1.656-1.59 0-2.656-.673-2.984-2.05h-5.05c.378 3.427 3.378 5.492 8.066 5.492 4.361 0 7.574-1.885 7.574-5.524-.016-4.263-3.459-5-6.377-5.492zM86.967 21.05c-2.18 0-3.41-1.394-3.737-3.64h11.95c.033-3.377-.934-6.279-2.918-8.099-1.426-1.295-3.311-2.081-5.688-2.081-5.066 0-8.541 3.803-8.541 8.77 0 5.033 3.377 8.836 8.869 8.836 2.114 0 3.803-.557 5.196-1.525 1.46-1 2.443-2.442 2.787-3.934h-5.164c-.442 1.05-1.344 1.672-2.754 1.672zM86.672 11c1.721 0 2.951 1.262 3.148 3.246h-6.558c.361-1.967 1.41-3.246 3.41-3.246zM120.148 20.443c-.246.016-.574.016-.886.016-1.13 0-1.852-.328-1.852-1.623v-7.803h2.738V7.72h-2.738V2.46h-5.164v5.262h-1.623v3.312h1.623v8.934c0 3.574 2.213 4.59 5.295 4.59 1.18 0 2.066-.082 2.607-.196v-3.918zM50.672 20.443c-.213 0-.459.016-.688.016-1.132 0-1.853-.328-1.853-1.623v-7.803h2.541V7.72h-2.54V2.46h-5.165v5.262h-1.721v3.312h1.721v8.934c0 3.574 2.213 4.59 5.295 4.59 1.05 0 1.87-.065 2.41-.164v-3.95z"}),(0,r.jsx)("path",{d:"M50.41 16.016c0-4.967 3.475-8.77 8.54-8.77 2.378 0 4.263.787 5.69 2.082 1.983 1.82 2.95 4.705 2.917 8.098h-11.95c.327 2.246 1.557 3.64 3.737 3.64 1.394 0 2.312-.623 2.754-1.656h5.164c-.36 1.492-1.328 2.918-2.787 3.934-1.393.967-3.082 1.525-5.196 1.525-5.492-.017-8.87-3.82-8.87-8.853zm11.803-1.754c-.197-1.983-1.426-3.246-3.147-3.246-2.017 0-3.05 1.263-3.41 3.246h6.557zM.066 1.131h9.196c2.82 0 4.902.787 6.345 2.148C17.098 4.672 17.95 6.656 17.95 9c0 4.459-3.082 7.607-7.869 7.607H5.426v7.77H.066V1.131zM9.492 12.05c2.082 0 3.246-1.23 3.246-3.082 0-1.852-1.197-2.983-3.246-2.983H5.426v6.082h4.066v-.017z"})]}),(0,r.jsx)("path",{d:"M19.934 0C8.918 0 .016 8.918.016 19.918c0 8.443 5.246 15.656 12.656 18.557-.18-1.573-.328-4 .066-5.72.36-1.558 2.328-9.903 2.328-9.903s-.59-1.196-.59-2.95c0-2.77 1.606-4.836 3.606-4.836 1.705 0 2.525 1.278 2.525 2.803 0 1.705-1.082 4.262-1.656 6.64-.476 1.983 1 3.606 2.95 3.606 3.542 0 6.263-3.738 6.263-9.115 0-4.77-3.426-8.098-8.328-8.098-5.672 0-9 4.246-9 8.639 0 1.705.656 3.541 1.475 4.541.164.197.18.377.132.574-.148.623-.492 1.983-.558 2.262-.082.36-.295.443-.672.262-2.459-1.18-4-4.82-4-7.737 0-6.28 4.557-12.05 13.164-12.05 6.902 0 12.279 4.918 12.279 11.509 0 6.868-4.328 12.393-10.328 12.393-2.017 0-3.918-1.05-4.558-2.295l-1.245 4.738c-.443 1.737-1.656 3.901-2.476 5.23 1.869.573 3.836.884 5.902.884 11 0 19.918-8.918 19.918-19.918C39.852 8.918 30.934 0 19.934 0z"})]})})},936371:function(e,t,n){"use strict";n.d(t,{o$:function(){return i},ty:function(){return o},uH:function(){return a}});var r=(0,n(729434).Z)("inviteContext"),i=r.Provider,o=r.MaybeConsumer,a=r.getMaybe},815861:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(980787),i=n(675973),o=n(15667),a=n(936371),l=n(326687),s=n(672410),c=n(551383),u=n(378888),p=n(603316);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var _="http://play.google.com/store/apps/details?id=com.pinterest",h=["access_token","new_password","new_password_confirm","password","next"],v=function(e,t){return t?(0,u.ru)(e,{invite_code:t}):e},m=function(e,t,n){if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){var r=e.split("/")[2];e="discover_article/".concat(r,"/?is_deeplink=1")}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?v(e,n):"ios"===t||"ipad"===t?v(e.iOS,n):"android"===t?v(e.android,n):null},y=function(e){var t=e.deeplinkUri,n=e.invite_code,r=e.platform,i=e.fallbackUrl,o=e.unauthId,a=e.app_upsell_type;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({deeplink_path:m(t,r,n),current_page_url:(0,u.Gw)("undefined"!=typeof window?window.location.href:"",h),install_id:o,utm_source:140,utm_medium:2152,app_upsell_type:a},i?{af_r:i}:null)},g=function(e){var t=e.deeplinkUri,n=e.invite_code,r=e.platform,i=e.unauthId,o=e.app_upsell_type,a=JSON.stringify({deeplink_path:m(t,r,n),current_page_url:(0,u.Gw)("undefined"!=typeof window?window.location.href:"",h),install_id:i});return{referrer:(0,u.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:o})}},w=function(e){var t=e.unauthId,n=e.app_upsell_type;return{referrer:encodeURI((0,u.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:t,app_upsell_type:n}))}},b=function(){if("undefined"!=typeof window){var e=new URLSearchParams(window.location.search);return e.has("utm_source")&&e.get("utm_source").includes("google_search")}return!1},x=function(e){var t=e.isAuthenticated,n=e.checkExperiment,r=e.deeplinkUri,i=e.fallbackUrl,o=e.invite_code,a=e.logContextEvent,l=e.platform,d=e.redirectToLite,f=e.unauthId,h=e.userAgent,v=e.app_upsell_type,m=e.locale,x=e.isBot;if(null==a||a({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),r){var P=y({isAuthenticated:t,deeplinkUri:r,fallbackUrl:i,invite_code:o,platform:l,unauthId:f,userAgent:h,app_upsell_type:v});if((0,p.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:l}}),o&&(0,p.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,p.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!f}}),d){(0,p.nP)("mweb.deeplink.lite_link",{sampleRate:1}),null==a||a({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}});var j=w({unauthId:f,app_upsell_type:v});window.location.href=(0,u.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",j)}else if("android"===l){var k=g({deeplinkUri:r,invite_code:o,platform:l,unauthId:f,app_upsell_type:v});!x&&!t&&null!=m&&m.toLowerCase().includes("en-us")&&b()&&n&&"enabled"===n("single_tap_unauth_2").group?window.location.href="https://delivers.dtignite.com/v2/delivers/clickAd.jsp?siteId=16686&campaignId=49161&tsti=true&updateApp=false&enablePostInstallAutoLaunch=true&dvURL="+encodeURIComponent("https://app.appsflyer.com/com.pinterest?pid=dtsingletap_int&"+(0,u.XP)({c:"single_tap_unauth",af_c_id:"98888",clickid:(0,s.Z)()})):(0,c.v)()?(0,c.Z)().then(function(e){if(e.length>0){var t=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof r?r:r.android):window.location.href,n=(0,u.ru)(t,P);null==a||a({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),window.open(n)||null==a||a({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}})}else null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),window.location.href=(0,u.ru)(_,k)}).catch(function(){(0,p.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),window.location.href=(0,u.ru)(_,k))}else{if((0,p.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===l&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,u.ru)("https://pinterest.com/pinterest-predicts",P);return}null==a||a({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),window.location.href=(0,u.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",P)}}},P=n(382718);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function S(e){var t,n,a=e.children,s=e.invite_code,c=(0,o.B)(),u=c.locale,p=c.isAuthenticated,d=c.isBot,f=c.unauthId,_=c.userAgent,h=_.platform,v=_.raw,m=(0,r.u)().logContextEvent,y=(0,i.Z)().checkExperiment;return a((t=regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:n}}),x({isAuthenticated:p,checkExperiment:y,deeplinkUri:t,fallbackUrl:r,invite_code:s,logContextEvent:m,platform:h,redirectToLite:(0,l.Rp)({isBot:d,platform:h,userAgent:v}),unauthId:f,userAgent:v,app_upsell_type:n,locale:u,isBot:d});case 2:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){A(o,r,i,a,l,"next",e)}function l(e){A(o,r,i,a,l,"throw",e)}a(void 0)})},function(e,t,r){return n.apply(this,arguments)}))}var I=function(e){return(0,P.jsx)(a.ty,{children:function(t){return(0,P.jsx)(S,O(O({},e),{},{invite_code:t}))}})};I.displayName="DeepLinkNavigator";var z=I},403970:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(586659),i=n(20256),o=n(521009),a=n(815861),l=n(964451),s=n(19585),c=n(382718);function u(e){var t=e.user,n=(0,s.ZP)(),r=t.full_name,o=void 0===r?"":r,a=t.username,l=t.image_large_url,u=t.avatar_color_index,p=o.length<=15?o:"".concat(o.substring(0,15),"...");return(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.HE,{accessibilityLabel:n._('User`s Avatar', 'User`s Avatar', 'User`s Avatar'),collaborators:[{name:o,src:null!=l?l:void 0,color:null!=u?u:void 0}],href:"/".concat(encodeURIComponent(a),"/"),role:"link",size:"xs"})}),(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xv,{size:"200",weight:"bold",children:(0,c.jsx)(i.rU,{href:"/".concat(encodeURIComponent(a),"/"),rounding:2,tapStyle:"compress",children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{color:"#005062"}},children:p})})})})]})}function p(e){var t=e.user,n=(0,s.ZP)();return(0,c.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,c.jsx)(i.xu,{marginTop:1,children:(0,c.jsx)(i.Tg,{accessibilityLabel:n._('Pinterest', 'InviteLandingPageV2.headerLogo.pinterestLogo', 'Pinterest logo to identify that the invite is coming from Pinterest'),href:"/",tapStyle:"none",children:l.Z})}),t&&(0,c.jsx)(u,{user:t})]})}var d=n(793698),f={backgroundColor:"#FFE4C1"},_={fontWeight:"normal"};function h(e){var t=e.titleText,n=e.bodyText,l=e.buttonText,s=e.deeplink,u=(0,o.Z)(),h=(0,d.LO)();(0,r.useEffect)(function(){u({event_type:13,view_type:3594})},[u]);var v=function(){u({event_type:102,view_type:3594,element:12406})};return(0,c.jsx)(i.mh,{children:(0,c.jsx)(i.xu,{"aria-label":t,bottom:!0,dangerouslySetInlineStyle:{__style:f},"data-test-id":"v2-story-pin-invite-landing-page",height:"100%",left:!0,overflow:"auto",position:"fixed",right:!0,role:"dialog",top:!0,children:(0,c.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",minHeight:"100%",children:[(0,c.jsx)(i.xu,{paddingX:5,paddingY:9,children:(0,c.jsx)(p,{user:h})}),(0,c.jsxs)(i.kC,{alignItems:"center",direction:"column",children:[(0,c.jsx)(i.xu,{marginBottom:8,maxWidth:240,children:(0,c.jsx)(i.X6,{accessibilityLevel:1,align:"center",color:"default",size:"600",children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:_},children:t})})}),(0,c.jsx)(i.xu,{marginBottom:12,maxWidth:310,children:(0,c.jsx)(i.xv,{align:"center",color:"default",children:n})}),(0,c.jsx)(a.Z,{children:function(e){return(0,c.jsx)(i.xu,{marginBottom:12,children:(0,c.jsx)(i.zx,{color:"red",onClick:function(){v(),e(s,"app-upsell-story")},size:"lg",text:l})})}})]})]})})})}},326687:function(e,t,n){"use strict";n.d(t,{G3:function(){return d},Rp:function(){return p},kp:function(){return c}});var r=n(111330),i=n(121836),o=n(410156),a=n(753143),l=n(238589),s=14*o.F4,c=function(e,t){var n,c,u,p,d,f,_,h,v,m,y,g,w,b,x=(g=Date.now(),b=Number(null!=(m=(w=(0,a.M0)()).getItem(r.Li))?m:null),{currentTime:g,firstUpsellTime:Number(null!=(y=w.getItem(r.O7))?y:null),lastUpsellTime:b,showedAppUpsellCurrentSession:!!(0,l.Nl)().getItem(i.JO)});return e?(n=o.F4,u=x.currentTime,p=x.firstUpsellTime,d=x.lastUpsellTime,f=x.showedAppUpsellCurrentSession,(c=c||s,!p||u<p+n)?!f:u-d>c&&((0,a.M0)().removeItem(r.O7),!0)):(_=t,h=x.currentTime,v=x.lastUpsellTime,_=_||s,!v||h-v>_)},u=function(e){var t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},p=function(e){var t=e.isBot,n=e.platform,r=e.userAgent;try{return!t&&"android"===n&&7>parseFloat(u(r))}catch(e){return!1}},d=function(e){return(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()}},54945:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(963489),i=n(15667),o=n(647709),a=n(865540),l=n(19585),s=n(403970),c=n(382718);function u(){var e=(0,l.ZP)(),t=(0,a.Z)();return(0,c.jsx)(s.Z,{bodyText:t?e._('The Pinterest app has the tools you need to publish your first Pin. Download, get inspired, then start creating.', 'inviteLandingPageV2.appUpsellPage.description.sce', 'Text explaining that the native app contains tools for publishing Pins'):e._('The Pinterest app has the tools you need to publish your first Idea Pin. Download, get inspired, then start creating.', 'inviteLandingPageV2.appUpsellPage.description', 'Text explaining that the native app contains tools for Idea Pins'),buttonText:e._('Get the app', 'inviteLandingPageV2.appUpsellPage.cta', 'Button to download Pinterest app'),deeplink:"/idea-pin-builder/",titleText:t?e._('Get the app to create Pins', 'inviteLandingPageV2.appUpsellPage.heading.sce', 'Heading to prompt users to download the native Pinterest app'):e._('Get the app to create Idea Pins', 'inviteLandingPageV2.appUpsellPage.heading', 'Heading to prompt users to download the native Pinterest app')})}var p=n(73899);function d(){var e=(0,i.B)(),t=e.isAuthenticated,n=e.userAgent,a=(0,o.HG)(),l=n.isTablet;return!t||l?(0,c.jsx)(r.Fg,{replace:!0,to:"/"}):a?(0,c.jsx)(p.Z,{}):(0,c.jsx)(u,{})}},355914:function(e,t,n){"use strict";t.Z=n(54945).Z},247495:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/idea-ads-tool",function(){return n(355914).Z}])}},function(e){e.O(0,["22244","25418","28155","2944","30338","30724","36313","39797","41642","44920","46174","4744","56275","66125","73967","86875","8709","88038","91110","92911","95202","97365"],function(){return e(e.s=247495)}),e.O()}]);