(self.legacyJsonp=self.legacyJsonp||[]).push([["73546"],{104660:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationMessageActionSheet_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="8a712e19c7a0c55a01d2e95ff7c2413d",t.default=r},633841:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ConversationPageMessageList_conversationMessages",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdMs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageType",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ConversationPageMessage_conversationMessage"}],type:"ConversationMessage",abstractKey:null};o.hash="6ff3235714adeddcc392aed4c207aba4",t.default=o},735611:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,s,u,c,d=(o=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},u=[{kind:"Literal",name:"spec",value:"222x"}],c=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationPageMessage_conversationMessage",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"createdMs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"conversation",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,i,{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},a,l],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ConversationPinV2_pin"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:u,concreteType:"ImageDetails",kind:"LinkedField",name:"contextualPinImageUrls",plural:!0,selections:c,storageKey:'contextualPinImageUrls(spec:"222x")'},r,l,i,a,{alias:null,args:u,concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:c,storageKey:'recentPinImages(spec:"222x")'}],storageKey:null},{alias:null,args:null,concreteType:"UserDidItData",kind:"LinkedField",name:"userDidItData",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:"images150x",args:[{kind:"Literal",name:"spec",value:"150x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!0,selections:c,storageKey:'images(spec:"150x")'}],storageKey:null},{alias:null,args:null,concreteType:"MessageReactions",kind:"LinkedField",name:"reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionText",storageKey:null}],storageKey:null}],type:"ConversationMessage",abstractKey:null});d.hash="f86073e296fab3bc70a5f022fe871222",t.default=d},824092:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationPageMessage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="f41aaed69fbc9da7a0b0721ce09ec5a8",t.default=r},323347:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationPinV2_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};o.hash="b047fba3b23c2e02e60f98ff680ca27c",t.default=o},939672:function(e,t,n){"use strict";n.d(t,{$A:function(){return h},N0:function(){return v},N3:function(){return b},VK:function(){return m},_J:function(){return g},mW:function(){return y}});var r=n(586659),o=n(503246),i=n(603316),a=n(382718);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u={},c={},d=!1,f=0,p=(0,r.createContext)({setMetric:function(){},getMetricForComponent:function(){},getMetricsForPath:function(){},setRmaData:function(){}});function y(e){var t=e.children,n=(0,r.useCallback)(function(e,t,n){u[e]||(u[e]={}),u[e][t]=n},[]),i=(0,r.useCallback)(function(e,t){var n;return null==(n=u[e])?void 0:n[t]},[]),l=(0,r.useCallback)(function(e){return u[e]},[]),s=(0,r.useCallback)(function(e){var t=e.id,n=e.path,r=e.fragmentName,i=e.executionTime,a=e.newData;if(!d){var l="".concat(r,".").concat(t);c[n]||(c[n]={}),c[n][l]||(c[n][l]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});var s=c[n][l];(0,o.ZP)(a,s.previousData)?(s.wastedTime+=i,f+=i):s.resultUpdatedCount+=1,s.totalRenderTime+=i,s.renderCount+=1,s.previousData=a}},[]),y=(0,r.useMemo)(function(){return{setMetric:n,getMetricForComponent:i,getMetricsForPath:l,setRmaData:s}},[n,i,l,s]);return(0,a.jsx)(p,{value:y,children:t})}function m(){return(0,r.use)(p)}function h(e){return u[e]}function b(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function g(e){var t=c[e],n={};d=!0,t&&Object.keys(t).length&&b(e)&&(Object.entries(t).forEach(function(e){var t=l(e,2),r=t[0],o=t[1],a=l(r.split("."),1)[0];a&&!n[a]&&(n[a]=!0,(0,i.QX)("render_stats.rma.".concat(a,".renderCount"),o.renderCount,{sampleRate:1}),(0,i.QX)("render_stats.rma.".concat(a,".resultUpdatedCount"),o.resultUpdatedCount,{sampleRate:1}),(0,i.LY)("render_stats.rma.".concat(a,".renderTime"),o.totalRenderTime,{sampleRate:1}),(0,i.LY)("render_stats.rma.".concat(a,".wastedTime"),o.totalRenderTime,{sampleRate:1}))}),(0,i.LY)("render_stats.rma.totalWastedTime",f,{sampleRate:1,tags:{path:e}}))}function v(){u={},c={},d=!1,f=0}},937805:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(675973),o=n(15667),i=n(647709);function a(){var e=(0,o.B)().isAuthenticated,t=(0,i.ml)(),n=(0,r.Z)().checkExperiment;return{mWebCloseupRedesignEnabled:e&&t&&n("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:n("mweb_closeup_redesign").group}}},369416:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}}),n(981315);var r=n(382718),o=["css","unsafeCSS"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=u(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var c=function(){var e,t;function n(e){if(!(this instanceof n))throw TypeError("Cannot call a class as a function");this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}return e=[{key:"toString",value:function(){return this._private_safe_value}}],t=[{key:"factory",value:function(e){return e instanceof n?e:new n(String(e))}}],e&&s(n.prototype,e),t&&s(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function d(e){var t=e.css,n=e.unsafeCSS,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,o),l=String(t||"")||n||"";return l?(0,r.jsx)("style",a(a({},i),{},{dangerouslySetInnerHTML:{__html:String(c.factory(l))}})):null}},781011:function(e,t,n){"use strict";n.d(t,{$N:function(){return h},Cu:function(){return g},GY:function(){return f},MZ:function(){return s},NR:function(){return p},S9:function(){return l},ar:function(){return u},bC:function(){return b},fm:function(){return r},id:function(){return i},kM:function(){return a},q6:function(){return o},qp:function(){return d},uV:function(){return y},ug:function(){return m},xL:function(){return c}});var r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},i={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY",SUMMARY:"SUMMARY"},l={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},s={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},u={GTM:s.GOOGLE_TAG_MANAGER,SHOPIFY:s.SHOPIFY,WORDPRESS:s.WORDPRESS,WOOCOMMERCE:s.WOO_COMMERCE,TEALIUM:s.TEALIUM},c={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},d={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},f={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},p={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},y="604800",m="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},b="click",g="view"},293565:function(e,t,n){"use strict";n.d(t,{G6:function(){return i},i7:function(){return a},oi:function(){return r},u$:function(){return o},un:function(){return s},vU:function(){return l},w1:function(){return u}});var r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=function(e){return e?e.includes("Chrome")?r.CHROME:e.includes("Safari")?r.SAFARI:e.includes("Firefox")?r.FIREFOX:e.includes("Opera")?r.OPERA:e.includes("IE")?r.IE:e.includes("Edge")?r.EDGE:r.OTHER:r.OTHER};function i(e){return o(e)===r.SAFARI}function a(e){return o(e)===r.CHROME}function l(e){return o(e)===r.FIREFOX}function s(e){return o(e)===r.EDGE}function u(e){return o(e)===r.IE}},503246:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!a(e[r],t[r],n+1))return!1;return!0}function i(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!(r in t)||!a(e[r],t[r],n+1))return!1;return!0}function a(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==r(e)&&"object"!==r(t))return e!=e&&t!=t;var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return o(e,t,n);case"[object Set]":return o(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return i(e,t,n);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function l(e,t){return a(e,t,0)}n.d(t,{ZP:function(){return l},qP:function(){return o}})},118755:function(e,t,n){"use strict";n.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return l},lt:function(){return r},oM:function(){return i}});var r=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},l=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},417162:function(e,t,n){"use strict";n.d(t,{g:function(){return a},t:function(){return i}});var r=n(586659),o=(0,r.createContext)(null),i=o,a=function(){return(0,r.useContext)(o)}},679422:function(e,t,n){"use strict";var r=n(118755),o=n(19585),i=n(848387);t.Z=function(){var e=(0,i.m)(),t=e.loginForMore,n=e.viewer,a=e.limitedLoginModalSubheader,l=(0,o.ZP)();return"AUTH"===n.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,r.lt)(l))}}},722194:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(586659),o=n(413145),i=n(603316);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var p=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");p.prototype=Object.create(e&&e.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),e&&l(p,e);var t,n,r=(t=u(),function(){var e,n=c(p);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function p(){var e;if(!(this instanceof p))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return d(s(e=r.call.apply(r,[this].concat(n))),"state",{error:null,info:null}),d(s(e),"resetError",function(){e.setState({error:null,info:null})}),e}return n=[{key:"componentDidCatch",value:function(e,t){try{var n,r=this.props.name,a=this.props.type||"secondary";(0,o.T)({extraData:null!=(n=e.extraData)?n:{},errorBoundary:r,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,r=t.info;return n&&r?e?e({error:n,info:r,resetError:this.resetError}):null:this.props.children}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(p.prototype,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component)},355940:function(e,t,n){"use strict";t.Z=n(722194).Z},854237:function(e,t,n){"use strict";n.d(t,{$S:function(){return r},V$:function(){return o},_4:function(){return a},iY:function(){return l},mR:function(){return i}});var r="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},935279:function(e,t,n){"use strict";var r=n(382718);t.Z=function(e){var t=e.color;return(0,r.jsx)("svg",{fill:"none",height:"18",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 2C0 .895431.895431 0 2 0h10c1.1046 0 2 .895431 2 2v13.5268c0 1.7288-2.0452 2.6433-3.3336 1.4905L7 13.7368l-3.66641 3.2805C2.04523 18.1701 0 17.2556 0 15.5268V2Z",fill:t})})}},709168:function(e,t,n){"use strict";var r=n(382718);t.Z=function(e){var t=e.color;return(0,r.jsx)("svg",{fill:"none",height:"18",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M7.83349 12.8053 7 12.0595l-.83349.7458-3.66642 3.2805c-.48313.4322-1.25009.0893-1.25009-.559V2c0-.41421.33579-.75.75-.75h10c.4142 0 .75.33579.75.75v13.5268c0 .6483-.767.9912-1.2501.559l-3.66641-3.2805Z",stroke:t,strokeWidth:"2.5"})})}},356052:function(e,t,n){"use strict";var r=n(382718);t.Z=function(e){var t=e.color;return(0,r.jsx)("svg",{"data-test-id":"conversation-reply",display:"block",fill:"none",height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m0 9.99945c0 .55505.45 1.00005 1.005 1.00005s1.005-.45 1.005-1.00005c0-2.07 1.69-3.755 3.765-3.755h2.4l-1.57 1.565c-.39.39-.39 1.025 0 1.415s1.025.39 1.42 0l3.975-3.965-3.97-3.965c-.39-.389997-1.025-.389997-1.42 0-.39.39-.39 1.025 0 1.415l1.53 1.525h-2.365c-3.185 0-5.775 2.585-5.775 5.765z",fill:void 0===t?"#111":t})})}},18468:function(e,t,n){"use strict";n.d(t,{$P8:function(){return _},$rz:function(){return h},A6H:function(){return v},Bz5:function(){return g},CIX:function(){return y},KSH:function(){return T},M25:function(){return E},Mbi:function(){return S},OxT:function(){return m},Ufh:function(){return P},W6M:function(){return i},XqD:function(){return c},Y6X:function(){return u},_ie:function(){return x},bm6:function(){return C},bsG:function(){return o},d9H:function(){return f},gU$:function(){return I},iO$:function(){return r},iiJ:function(){return l},jMQ:function(){return w},ltu:function(){return a},oVN:function(){return O},of3:function(){return j},scJ:function(){return A},t07:function(){return d},te3:function(){return b},wZV:function(){return s},xKT:function(){return p}});var r="var(--base-color-pinterest)",o="var(--base-color-grayscale-0)",i="var(--base-color-grayscale-25)",a="var(--base-color-grayscale-50)",l="var(--base-color-grayscale-100)",s="var(--base-color-grayscale-150)",u="var(--base-color-grayscale-200)",c="var(--base-color-grayscale-250)",d="var(--base-color-grayscale-350)",f="var(--base-color-grayscale-400)",p="var(--base-color-grayscale-500)",y="var(--base-color-red-100)",m="var(--base-color-red-200)",h="var(--base-color-red-300)",b="var(--base-color-red-400)",g="var(--base-color-red-500)",v="var(--base-color-purple-100)",_="var(--base-color-purple-200)",P="var(--base-color-purple-400)",S="var(--base-color-blue-100)",O="var(--base-color-blue-400)",x="var(--base-color-blue-500)",E="var(--base-color-green-100)",w="var(--base-color-green-500)",j="var(--base-color-orange-100)",A="var(--base-font-size-16)",I="var(--base-font-family-default-latin)",T="var(--base-font-family-code)",C="var(--base-motion-easing-expressive)"},702849:function(e,t,n){"use strict";n.d(t,{Et:function(){return o},G0:function(){return l},Ki:function(){return u},PB:function(){return f},Sz:function(){return c},XF:function(){return i},Xq:function(){return d},ZG:function(){return s},iW:function(){return r},s5:function(){return a},tr:function(){return p}});var r="var(--comp-button-color-background-primary-disabled)",o="var(--comp-button-color-background-secondary-default)",i="var(--comp-button-color-background-tertiary-semi-transparent-default)",a="var(--comp-button-color-hover-background-primary-default)",l="var(--comp-button-color-hover-background-secondary-default)",s="var(--comp-button-color-hover-background-tertiary-default)",u="var(--comp-button-color-hover-background-shopping-default)",c="var(--comp-button-color-hover-background-light-default)",d="var(--comp-button-color-hover-background-tertiary-semi-transparent-default)",f="var(--comp-button-color-hover-background-transparent-default)",p="var(--comp-button-color-pressed-background-secondary-default)"},670622:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(410156),o=n(19585),i=n(302148);function a(){var e=(0,o.ZP)();return function(t,n){var o=new Date(t).getTime(),a=Date.now()-o,l=Math.floor(a/r.FS),s=Math.floor(a/r.UK),u=Math.floor(a/r.F4),c=Math.floor(a/r.VL),d=Math.floor(a/r.N9),f=Math.floor(a/r.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),y=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', u, ' - ', ' -- '),h=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),b=e.ngettext('{{ months }} month ago', '{{ months }} months ago', d, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', f, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),_=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),P=e.ngettext('{{ days }}d', '{{ days }}d', u, 'days ago abbreviated', 'days ago abbreviated'),S=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),O=e.ngettext('{{ months }}mo', '{{ months }}mo', d, 'months ago abbreviated', 'months ago abbreviated'),x=e.ngettext('{{ years }}y', '{{ years }}y', f, 'years ago abbreviated', 'years ago abbreviated');return f>0?(0,i.nk)(n?x:g,{years:f}).join(""):d>0?(0,i.nk)(n?O:b,{months:d}).join(""):c>0?(0,i.nk)(n?S:h,{weeks:c}).join(""):u>0?(0,i.nk)(n?P:m,{days:u}).join(""):s>0?(0,i.nk)(n?_:y,{hours:s}).join(""):l>0?(0,i.nk)(n?v:p,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},612647:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"object"===r(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:function(){return o}})},473304:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(586659),o=n(20256),i=n(937805),a=n(667835),l=n(461951),s=n(816358),u=n(516114),c=n(15667),d=n(883379),f=n(382718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e){var t,n,p=e.children,y=e.footerConfig,h=e.headerConfig,b=e.height,g=e.hideOnScroll,v=e.hideOnScrollState,_=v.isHidden,P=v.updateHiddenState,S=e.isFooterHidden,O=e.noPadding,x=e.paddingX,E=e.paddingY,w=void 0===E?u.og:E,j=e.type,A=e.zIndex,I=e.isStoryPin,T=h||{},C=T.headerLimitedOverflow,R=T.ignoreObstructions,k=T.zIndexForGestaltBug,N=y||{},D=N.appUpsellFooterConfig,L=N.footerInLego,M=N.navFooterConfig,z=!!D,F="header"===j?"top":"bottom",U=(0,a.vs)(),Z=(0,c.B)().isRTL,B=(0,i.Z)().mWebCloseupRedesignEnabled,H=(0,r.useRef)(null),G=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!R){var e=H.current;G.current=C&&e&&Array.isArray(e.children)?e.children[0]:e,G.current instanceof HTMLElement&&s.Z.addObstruction(F,G.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!R&&G.current instanceof HTMLElement&&s.Z.removeObstruction(F,G.current)}},[R,C,F,U]);var V="top"===F?"relative":"fixed",Y=O?0:w,W=(null!=b?b:u.R$)+((null==h?void 0:h.overrideTop)||0),$=g||M?m({transition:L||B?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},_||S?{transform:"translateY(".concat("top"===F?-W:W,"px)"),opacity:L||B?0:1}:Object.freeze({})):{},K=2*("relative"===V&&(null==h||!h.noGutter)),q=K?-K:0,X=U?a.k7:"rgba(255,255,255,.95)";U&&("header"===j?t=-1:n=-1);var Q=L?z?void 0:null!=b?b:u.R$:"100%",J=L?u.KJ:void 0,ee=null!=h&&h.isTranslucent&&X||U?X:l.Wmm,et=null!=h&&h.isTransparentBackground&&l.Wyp?l.Wyp:ee,en=(0,r.useMemo)(function(){return m({height:"footer"===j&&B?"calc(".concat(Q," + env(safe-area-inset-bottom))"):Q},B&&"footer"===j?{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(4*(Y||0),"px)")}:Object.freeze({}))},[B,Q,j,Y]),er=(0,d.Z)({skipExpActivation:!0});return(0,f.jsx)(o.xu,{ref:H,bottom:"footer"===j,dangerouslySetInlineStyle:{__style:m(m(m(m(m({top:t,bottomStyle:n},!A||k?{zIndex:k||1}:Object.freeze({})),C?{background:"transparent",overflow:"hidden",paddingBottom:u.UB,marginBottom:-u.UB,pointerEvents:"none"}:Object.freeze({})),null!=h&&h.hasBorder?{borderBottom:u.dS}:Object.freeze({})),null!=y&&y.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),$)},"data-test-id":j,display:z?"flex":void 0,height:b&&!L?b:void 0,left:!0,marginEnd:L?"auto":q,marginStart:L?"auto":q,onTransitionEnd:function(){(g||M)&&G.current&&(_||S?s.Z.removeObstruction(F,G.current):s.Z.addObstruction(F,G.current))},position:V,right:!0,top:"header"===j,width:L||"fixed"!==V?void 0:"100%",zIndex:k?void 0:A,children:(0,f.jsx)(o.xu,{alignItems:null!=y&&y.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:m(m(m({backgroundColor:et,paddingLeft:Z||!er||I?void 0:"8px",paddingRight:Z&&er&&!I?"8px":void 0},en),{},{boxShadow:B&&"footer"===j?"0 10px 0 0 ".concat(et,", ").concat(u.KJ):J,marginBottom:L&&!(null!=M&&M.docked)?16:void 0},C?{pointerEvents:"auto"}:Object.freeze({})),null!=h&&h.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:L||null!=y&&y.alignCenter?"flex":void 0,marginEnd:L?"auto":void 0,marginStart:L?"auto":void 0,paddingX:x||4*("footer"===j&&!O)+K,paddingY:Y,position:"relative",rounding:L&&!(null!=M&&M.docked)?"pill":void 0,width:M?M.footerWidth:z?void 0:"100%",children:"function"==typeof p?p({updateHiddenState:P}):p})})}},588367:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(20256),o=n(516114),i=n(473304),a=n(211887),l=n(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug","isStoryPin"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.hasBorder,n=e.headerLimitedOverflow,s=e.ignoreObstructions,c=e.isTranslucent,f=e.isTransparentBackground,p=e.noGutter,y=e.overrideTop,m=e.useRoundedCorners,h=e.zIndexForGestaltBug,b=e.isStoryPin,g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u),v=g.noPadding,_=g.paddingY,P=void 0===_?o.og:_,S=g.zIndex;return(0,l.jsx)(r.Le,{height:n?o.LV+2*(v?0:P)*4:void 0,top:y||0,zIndex:S||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:g.hideOnScroll,children:function(e){return(0,l.jsx)(i.Z,d(d({},g),{},{headerConfig:{isTranslucent:c,isTransparentBackground:f,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:s,noGutter:p,overrideTop:y,zIndexForGestaltBug:h,useRoundedCorners:m},hideOnScrollState:e,isStoryPin:b,type:"header"}))}})})}},211887:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(586659),o=n(159527);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var t,n,r=(t=s(),function(){var e,n=u(f);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return c(l(t=r.call.apply(r,[this].concat(i))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp)}),c(l(t),"lastScrollPos",0),c(l(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),c(l(t),"handleScroll",(0,o.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,a=window.scrollY,l=a-t.lastScrollPos,s="none",u=document.documentElement||{},c=u.scrollHeight,d=u.clientHeight;Number.isNaN(c)||Number.isNaN(d)||(s=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||c-d)-Math.max(l,20)?"end":"none");var f=null!=o&&o.isModal?0:55;r?l>20&&i&&a>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20&&!i||a<=f)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===s&&!i||a<=f?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(a>f||"end"===s)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20||"start"===s)&&i||a<=f?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l>20||"end"===s)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=a},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(t=e.navFooterConfig)&&t.isDockedNavOnPlp)&&null!=(n=this.props.navFooterConfig)&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(o=this.props.navFooterConfig)&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},516114:function(e,t,n){"use strict";n.d(t,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return i},dS:function(){return s},og:function(){return o}});var r=64,o=3,i=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},55543:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(603316);function o(e,t){return new Promise(function(n,o){if(document.querySelector('script[src="'.concat(e,'"]'))){var i=0;if("FACEBOOK"===t)if(window.FB)n();else var a=setInterval(function(){window.FB||20===i?(clearInterval(a),n()):(i+=1,(0,r.nP)("mweb.loadScript.facebook.tries_".concat(i),{sampleRate:.01}))},100);else if("GSI"===t)if(window.google)n();else var l=setInterval(function(){window.google||20===i?(clearInterval(l),n()):(i+=1,(0,r.nP)("mweb.loadScript.gsi.tries_".concat(i),{sampleRate:.01}))},100);else n()}else{var s=document.createElement("script");s.src=e,s.async=!0,s.addEventListener("load",function(){return n()}),s.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(s)}})}},991384:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,n);return void 0!==l?l:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,r,o){return t[o]=e(t[o],n[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&n&&"object"===o(n)?Object.keys(n).reduce(function(t,r){return t[r]=e(t[r],n[r],a),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},286036:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var i=new(function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}return e=[{key:"setExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=e}},{key:"onSessionResume",value:function(e){return this.onResumeListeners.push(e),this}},{key:"onSessionPause",value:function(e){return this.onPauseListeners.push(e),this}},{key:"removeResumeListener",value:function(e){this.onResumeListeners.filter(function(t){return t!==e})}},{key:"removePauseListener",value:function(e){this.onPauseListeners=this.onPauseListeners.filter(function(t){return t!==e})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()),a=function(e){if(e.isHidden){var t=e.reason;i.windowInFocus=!1,i.onPauseListeners.forEach(function(e){return e(t)})}else i.windowInFocus=!0,i.onResumeListeners.forEach(function(e){return e()})};setTimeout(function(){window.addEventListener("beforeunload",function(){return a({isHidden:!0,reason:"beforeunload"})}),window.addEventListener("focus",function(){return a({isHidden:!1})}),window.addEventListener("blur",function(){return a({isHidden:!0,reason:"blur"})}),window.addEventListener("pageshow",function(){return a({isHidden:!1})}),window.addEventListener("pagehide",function(){return a({isHidden:!0,reason:"pagehide"})}),void 0!==document.hidden?document.addEventListener("visibilitychange",function(){return a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",function(){return a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1)},0),t.Z=i},453179:function(e,t,n){"use strict";n.d(t,{Mt:function(){return S},NK:function(){return g},P6:function(){return l},UE:function(){return x},ZE:function(){return h},Zt:function(){return b},_J:function(){return d},_S:function(){return v},cL:function(){return y},iR:function(){return _},jL:function(){return c},oN:function(){return a},oU:function(){return O},rM:function(){return m},sV:function(){return f},sY:function(){return p},yp:function(){return s}});var r=n(239728);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=5e3,l=5e3/r.gJ,s="Pin page",u=["Uploaded by user"],c=function(e,t){return!!t&&!e},d=function(e){return!!e&&5!==e},f=function(e){return["email","messages","deep_linking"].includes(e)},p=function(e){return!!e&&"gif"===e},y=function(e){var t=e.embedSrc,n=e.embedSubtype,r=e.embedType;return!!t&&!p(r)&&"pinstory"!==n},m=function(e){var t=e.link,n=e.mobileLink,r=e.trackedLink,o=e.utmLink;return!n&&!o&&!r&&!t},h=function(e){return/pin.it/gim.test(e||"")},b=function(e){var t=e.link,n=e.mobileLink,r=e.origImageUrl,o=e.trackedLink,i=e.utmLink;return n||i||o||t||r||""},g=function(e,t){return{deeplinkUri:{android:"pin/".concat(e,"/repin"),iOS:"repin/".concat(e)},mwebUri:{pathname:"/pin/".concat(e,"/repin/"),state:{trackingParams:t.state?t.state.trackingParams:""}}}};function v(e){var t,n=o(u);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}function _(e){if(!e)return!1;var t=e.id,n=e.videos;if(t&&null!=n&&n.id&&n.video_list){var r=n.video_list,i=r.V_720P,a=r.V_HLSV4,l=r.V_HLSV3_MOBILE;if(i&&P(i)||a&&P(a)||l&&P(l))return!0}var s=null==(u=e.story_pin_data)||null==(c=u.pages)||null==(d=c[0])?void 0:d.blocks;if(s){var u,c,d,f,p=o(s);try{for(p.s();!(f=p.n()).done;){var y=f.value;if("story_pin_video_block"===y.type&&null!=y&&y.video)return!0}}catch(e){p.e(e)}finally{p.f()}}return!1}function P(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function S(e){var t,n;return e&&null!=(t=null==(n=/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e))?void 0:n[1])?t:null}function O(e){var t=e.isVideo,n=e.link;return!!t&&!!n&&!!/(youtu(|.)be)/.exec(n)&&!!S(n)}var x=function(e){return"button"in e&&1===e.button}},274320:function(e,t,n){"use strict";n.d(t,{a:function(){return o},r:function(){return i}});var r=(0,n(729434).Z)("ExperimentContext"),o=r.Provider,i=r.get},942230:function(e,t){"use strict";t.Z=function(e){switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},458757:function(e,t,n){"use strict";function r(e){var t,n;return(null==(t=window)||null==(n=t.performance)?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:function(){return r}})},821806:function(e,t,n){"use strict";t.Z=n(782259).Z},940280:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},929915:function(e,t,n){"use strict";n.d(t,{l:function(){return i},r:function(){return a}});var r=n(586659),o=(0,r.createContext)(null),i=function(){return(0,r.useContext)(o)},a=o},417245:function(e,t,n){"use strict";var r=n(97517),o=/\{\{\s*(\w+)\s*\}\}/g;t.Z=function(e,t){return(0,r.Z)(o,e,t)}},897833:function(e,t){"use strict";t.Z=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},97517:function(e,t){"use strict";t.Z=function(e,t,n){return t?t.replace(e,function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""}):""}},473728:function(e,t,n){"use strict";var r=n(417245),o=n(897833);t.Z=function(e,t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]?(0,o.Z)(t[e].toString()):""}),(0,r.Z)(e,n)}},974705:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}n.d(t,{Z:function(){return r}})},998212:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=(0,n(729434).Z)("TimeSpentManagerContext"),o=r.Provider;t.Z=r.getMaybe},741155:function(e,t,n){"use strict";var r=n(586659),o=n(581722),i=n(527728),a=n(675973),l=n(15667),s=n(334536),u=n(994174);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(){var e=(0,o.I0)(),t=(0,a.Z)().checkExperiment,n=(0,l.B)(),c=(0,i.Z)(),d=(0,o.v9)(function(e){var t;return null==(t=e.upsell)?void 0:t.initialSessionContext}),p=(0,r.useMemo)(function(){var e,t=(null==n?void 0:n.countryFromHostName)||(null==n?void 0:n.country)||"",r=(null==n||null==(e=n.userAgent)?void 0:e.raw)||("undefined"!=typeof navigator?navigator.userAgent:"");return{country:t,userAgent:r,referrer:(null==n?void 0:n.referrerFromHeader)||(null==n?void 0:n.referrerFromCookie)||"",unauthID:(null==n?void 0:n.unauthId)||"",region:(0,u.y1)(t),channel:(0,u.qo)(c),iab:(0,u.A4)(r)}},[n,c]);(0,r.useEffect)(function(){!d&&p&&e((0,s.ap)(p))},[e,d,p]);var y=d||p;return(0,r.useCallback)(function(n){"function"==typeof n?e(n({checkExperiment:t,sessionContext:y})):e(f(f({},n),{},{payload:f(f({},"payload"in n?n.payload:{}),{},{checkExperiment:t,sessionContext:y})}))},[e,t,y])}},163404:function(e,t,n){"use strict";var r=n(634737),o=n(215295);t.Z=function(e){var t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,o.Z)(e);if(t.test(n.path)){var i=n.path.match(t);if(i)return(0,r.Z)(i[1]).pinId||void 0}}},576087:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(869273),o=function(e){var t=e.url,n=(0,r.Z)("/");return 0===t.lastIndexOf(n,0)?t.substr(n.length-1):t}},634737:function(e,t,n){"use strict";function r(e){if((e||"").includes("--")){var t=e.split("--"),n=t.pop();return{text:t.join("--"),pinId:n}}return{text:"",pinId:e}}n.d(t,{Z:function(){return r}})},424150:function(e,t,n){"use strict";n.d(t,{GW:function(){return o},RL:function(){return r},s4:function(){return i}});var r="ios",o="android",i="ipad"},792171:function(e,t,n){"use strict";n.d(t,{H:function(){return g},W:function(){return v}});var r=n(586659),o=n(980787),i=n(729434),a=n(675973),l=n(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||y(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,i.Z)("VideoPlayer"),b=h.Provider,g=h.get;function v(e){var t=e.children,n=(0,o.u)(),i=n.logContextEvent,s=n.logImpression,c=(0,a.Z)().checkExperiment,y=p((0,r.useState)(!1),2),m=y[0],h=y[1],g=p((0,r.useState)([]),2),v=g[0],_=g[1],P=p((0,r.useState)([]),2),S=P[0],O=P[1],x=p((0,r.useState)({}),2),E=x[0],w=x[1],j=c("web_ads_mrc_video_impression").anyEnabled,A=function(e){w(function(t){return d(d({},t),{},f({},e,!0))})},I=(0,r.useCallback)(function(e){var t,n;if(18===e.event_type&&null!=(t=e.event_data)&&null!=(n=t.pinImpressions)&&n.length){var r,o=e.event_data.pinImpressions[0].isNativeVideoAndWatchable,i=JSON.stringify((null==(r=e.aux_data)?void 0:r.commerce_data)||"").includes("story_pin_id");j&&(o||i)&&_(function(t){return[].concat(u(t),[e]).slice(-1e3)})}},[j]),T=(0,r.useCallback)(function(e){18===e.eventType&&j&&O(function(t){return[].concat(u(t),[e]).slice(-1e3)})},[j]),C=function(e){var t=e.event_data.pinImpressions[0].time;return d(d({},e),{},{event_data:d(d({},e.event_data),{},{pinImpressions:[d(d({},e.event_data.pinImpressions[0]),{},{isMrcBtr:!0,endTime:t,renderDuration:0})]})})},R=function(e){if(e.eventData){var t=e.eventData.time;return d(d({},e),{},{eventData:d(d({},e.eventData),{},{isMrcBtr:!0,endTime:null!=t?t:0})})}return null};(0,r.useEffect)(function(){var e=v.filter(function(e){return!E[e.event_data.pinImpressions[0].pinIdStr]||!j||(i(C(e)),!1)});e.length!==v.length&&_(e)},[v,j,i,E]),(0,r.useEffect)(function(){var e=S.filter(function(e){var t,n=null==(t=e.eventData)?void 0:t.pinIdStr;if(!n)return!1;if(E[n]&&j){var r=R(e);return r&&s(r),!1}return!0});e.length!==S.length&&O(e)},[S,j,s,E]);var k=(0,r.useMemo)(function(){return{captionsEnabled:m,logMrcVideoAdImpressionOnPlay:T,logMrcVideoAdEventOnPlay:I,setCaptionsEnabled:h,setVideoPlayed:A,videosPlayed:E}},[m,I,T,E]);return(0,l.jsx)(b,{value:k,children:t})}},239728:function(e,t,n){"use strict";n.d(t,{$f:function(){return o},Cy:function(){return s},DR:function(){return r},Fm:function(){return l},bR:function(){return a},gJ:function(){return i},lG:function(){return u}});var r=1,o=2,i=1e3,a=1e3,l=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},821651:function(e,t,n){"use strict";n.d(t,{r:function(){return A},W:function(){return j}});var r=n(586659),o=n(729434),i=n(821342),a=n(886981),l=n(295317),s=n(121836),u=n(238589),c=n(974705);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==p(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,c.Z)(r)]=t[r]:n[(0,c.Z)(r)]=e(t[r]));return n},m=function(e,t){var n=[];for(var r in e)r!==t&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},y(e[r])));var o,i=n.sort(function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)}),a=new Map,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;a.set(s.id,s)}}catch(e){l.e(e)}finally{l.f()}return a};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},P=function(e,t){switch(t.type){case"LOAD_PROFILES":return v(v({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return v(v({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return v(v({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return v(v({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return v(v({},e),{},{disableProfileChanger:t.payload});default:return e}},S=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[n,t]),toggleORBACVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[n,t,l])}},O=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(P,_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],a=S({dispatch:i,isEnabled:e,state:o}),l=o.activeProfile,c=o.orbacVisibility;return(0,r.useEffect)(function(){var e=(0,u.Nl)().getItem(s.Zo)||!1;e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(function(){var e=(0,u.Nl)().getItem(s.ig)||!1;e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(function(){(0,u.Nl)().setItem(s.ig,c)},[c]),(0,r.useEffect)(function(){(0,u.Nl)().setItem(s.Zo,l)},[l]),{state:o,actions:a,receiveProfiles:(0,r.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:m(e,t)})},[i])}},x=n(382718),E=(0,o.Z)("RoleBasedAccessControlContext"),w=E.Provider,j=E.getMaybe,A=function(e){var t=e.children,n=(0,i.Z)(),o=!!(n.isAuth&&n.isPartner),s=O(o),u=s.state,c=s.actions,d=s.receiveProfiles,f=u.activeProfile,p=u.headerVisible,y=u.profiles,m=(0,r.useMemo)(function(){return y?Array.from(y.values()):[]},[y]),h=(0,l.Z)(m),b=!!n.isAuth&&m.length>0&&h,g=n.isAuth?n.id:"",v=n.isAuth?n.username:"",_=c.changeProfile,P=c.toggleORBACVisibility,S=c.toggleDisableProfileChanger,E=c.toggleHeaderVisibility;(0,r.useEffect)(function(){if(o){if("string"==typeof h)return void _(h);f||_(g)}},[h,g,o,_,f]),(0,r.useEffect)(function(){o&&(b&&!p&&E(!0),!b&&p&&E(!1))},[E,b,o,p,y]);var j=(0,a.Z)(o?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,A=null==j?void 0:j.profiles,I=(0,r.useMemo)(function(){return n&&n.isAuth&&f===n.id?{id:n.id,permissions:["OWNER"],user:{username:v,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:f&&y?y.get(f):void 0},[f,y,n,v]);(0,r.useEffect)(function(){A&&d(A,g)},[d,A,g]);var T=(0,r.useMemo)(function(){return{profiles:m,headerVisible:p,activeProfile:I,changeProfile:_,toggleORBACVisibility:P,toggleDisableProfileChanger:S,toggleHeaderVisibility:E}},[m,p,I,_,P,S,E]);return(0,x.jsx)(w,{value:T,children:t})}},448505:function(e,t,n){"use strict";var r=n(586659),o=n(675973),i=n(821651),a=n(295317),l=Object.freeze({});t.Z=function(){var e=(0,o.Z)().checkExperiment,t=(0,i.W)(),n=(t||{}).activeProfile,s=(0,a.Z)((null==t?void 0:t.profiles)||[]),u=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return(0,r.useMemo)(function(){return u&&!s?l:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:l},[u,s,n])}},295317:function(e,t,n){"use strict";var r=n(650533),o=n(963489),i=n(821342),a=n(506662),l=n(169053);function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,u,c,d=(0,o.TH)(),f=(0,i.Z)(),p=(0,l.S6)(),y=(0,r.$B)("/:username"),m=null==y||null==(t=y.params)?void 0:t.username,h=(0,r.$B)("/pin/:id"),b=!!(null!=h&&null!=(n=h.params)&&n.id)&&(null==(u=p(h.params.id))||null==(c=u.pinner)?void 0:c.id);if((0,a.ej)(d))return!1;if((0,a.RU)(d)||(0,a.mY)(d))return!0;var g=[].concat(s(e),s(f.isAuth?[{user:{username:f.username},id:f.id}]:[])).find(function(e){if(!e)return!1;var t=e.user,n=e.id;return(!!t&&"username"in t&&!!t.username&&!!m||!!b&&!!n)&&(t.username===m||b===n)});return!!g&&g.id}},7872:function(e,t,n){"use strict";n.d(t,{D3:function(){return d},DX:function(){return u},Fk:function(){return r},KY:function(){return f},Ms:function(){return o},N1:function(){return p},_P:function(){return s},gJ:function(){return i},lJ:function(){return l},nl:function(){return a},q6:function(){return c}});var r=function(e,t){var n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},o=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=function(e,t){var n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},a=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},l=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},s=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null==(r=e.advertiser)?void 0:r.merchant_id},u=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},c=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},d=function(e,t,n){return!!(c(e,t,n)||e&&e.isAuth&&t===e.id)},f=function(e,t,n){return d(e,t&&t.owner&&t.owner.id||"",n)};function p(e,t,n){return d(e,t?t.id:"",n)}},104659:function(e,t,n){"use strict";n.d(t,{g:function(){return b},G:function(){return h}});var r=n(586659),o=n(729434),i=n(286036),a=n(399573);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{},videoCarouselModuleAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return u(u({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var n=t.payload,r=n.pinId,o=n.isPromoted,i=n.currentTime,l=n.surface,s=e.videosAutoplaying,d=s.currentlyPlayingOrganicVideoId,f=s.promotedVideosAutoplaying,p=s.organicVideosAutoplaying,y=s.videoCarouselModuleAutoplaying,m=(0,a.Z)(f),h=(0,a.Z)(p),b=(0,a.Z)(y);return!o&&d&&"VideoCarouselModule"!==l?e:(o?m[r]={pinId:r,currentTime:i,paused:!1}:"VideoCarouselModule"===l?b[r]={pinId:r,currentTime:i,paused:!1}:h[r]={pinId:r,currentTime:i,paused:!1},u(u({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:o?d:r,promotedVideosAutoplaying:m,organicVideosAutoplaying:h,videoCarouselModuleAutoplaying:b}}))}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return u(u({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var g=t.payload,v=g.pinId,_=g.isPromoted,P=g.currentTime,S=g.surface,O=e.videosAutoplaying,x=O.promotedVideosAutoplaying,E=O.organicVideosAutoplaying,w=O.videoCarouselModuleAutoplaying,j=(0,a.Z)(x),A=(0,a.Z)(E),I=(0,a.Z)(w);return _?j[v]=u(u({},j[v]),{},{paused:!0,currentTime:P}):"VideoCarouselModule"===S?I[v]=u(u({},I[v]),{},{paused:!0,currentTime:P}):A[v]=u(u({},A[v]),{},{paused:!0,currentTime:P}),u(u({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:j,organicVideosAutoplaying:A,videoCarouselModuleAutoplaying:I}})}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return u(u({},e),{},{appInFocus:t.payload});if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return u(u({},e),{},{viewportSize:t.payload});if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return u(u({},e),{},{footerPlusButtonVisible:t.payload});return e},f=n(382718);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=(0,o.Z)("AppUI"),m=y.Provider,h=y.get;function b(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(d,c))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],s=(0,r.useCallback)(function(e){return l({type:"PAUSE_CURRENT_VIDEO",payload:e})},[]),u=(0,r.useCallback)(function(e){return l({type:"SET_APP_FOCUS_STATE",payload:e})},[]),y=(0,r.useCallback)(function(e){return l({type:"SET_CURRENT_VIDEO",payload:e})},[]),h=(0,r.useCallback)(function(e){return l({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})},[]),b=(0,r.useCallback)(function(e){return l({type:"SET_IS_AUTOPLAY",payload:e})},[]),g=(0,r.useCallback)(function(e){return l({type:"SET_VIEWPORT_SIZE",payload:e})},[]),v=(0,r.useCallback)(function(e){return l({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})},[]),_=(0,r.useMemo)(function(){return{pauseAutoplay:s,setCurrentVideo:y,setFooterPlusButtonVisible:h,setIsAutoplay:b,setViewportSize:g,toggleTypeaheadOverlay:v,setAppFocusState:u,appUI:a}},[s,y,h,b,g,v,u,a]);return(0,r.useEffect)(function(){i.Z.onSessionResume(function(){u(!0)}).onSessionPause(function(){u(!1)})},[u]),(0,f.jsx)(m,{value:_,children:n})}},609770:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(199593);function o(e){return(0,r.Z)().conversations.data[e]}},21499:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,o=n(575108),i=n(657043),a=n(199593),l=n(169053);function s(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)})}}var c=(r=0,function(){return r++});function d(){var e,t=(0,a.Z)(),n=t.conversations,r=t.conversationCreate,s=t.pendingMessageSend,d=t.pendingMessageSuccess,f=t.pendingMessageFailure,p=(0,l.S6)();return e=u(regeneratorRuntime.mark(function e(t,a,l,y,m,h){var b,g,v,_,P,S,O,x,E,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O=function(){return(O=u(regeneratorRuntime.mark(function e(){var n,r,a,u,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.Z.create("ConversationMessagesResource",{conversation_id:t,text:b,pin:g,board:v,user:_,user_did_it_data:P,source:l,client_tracking_params:null==(n=p(g||""))?void 0:n.tracking_params,thread_id:m,anchor_message:h,field_set_key:m||h?["default_with_reactions_and_threads"]:["default_with_reactions"]}),a="".concat(c()),s(t,u={text:b,sender:y,created_at:new Date().toString(),created_ms:Date.now(),id:a,thread:{id:m||"",anchor_message:{id:h||""}},type:"tempMessage"}),e.prev=4,e.next=7,r.callCreate();case 7:if(!(S=e.sent.resource_response.data)){e.next=12;break}return d(t,u,S),e.abrupt("return",S);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(4),f(t,a),Error((0,i.Z)(e.t0,"message"));case 18:return e.abrupt("return",void 0);case 19:case"end":return e.stop()}},e,null,[[4,14]])}))).apply(this,arguments)},S=function(){return O.apply(this,arguments)},b=a.text,g=a.pinId,v=a.boardId,_=a.userId,P=a.didItId,n.data[t]){e.next=21;break}return x=o.Z.create("ConversationResource",{conversation_id:t}),e.prev=5,e.next=8,x.callGet();case 8:if(!(E=e.sent.resource_response.data)){e.next=14;break}return r(E),e.next=14,S();case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(5),Error((0,i.Z)(e.t0,"message"));case 19:e.next=25;break;case 21:return e.next=23,S();case 23:return w=e.sent,e.abrupt("return",w);case 25:return e.abrupt("return",void 0);case 26:case"end":return e.stop()}},e,null,[[5,16]])})),function(t,n,r,o,i,a){return e.apply(this,arguments)}}},230543:function(e,t,n){"use strict";n.d(t,{c:function(){return o},t:function(){return i}});var r=n(598849);function o(e){return(0,e.children)((0,r.Z)().height)}function i(){return(0,r.Z)().height}},598849:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=(0,n(729434).Z)("Header"),o=r.Provider;t.Z=r.get},25837:function(e,t,n){"use strict";n.d(t,{WZ:function(){return l},NW:function(){return u},hu:function(){return o},Rz:function(){return d},cI:function(){return i},L1:function(){return a},OZ:function(){return c},fe:function(){return s}});var r=n(20256),o=64,i=80,a=24,l="HeaderContent",s=671,u=new r.Ry(s),c="NagHeaderContent",d={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},314011:function(e,t,n){"use strict";n.d(t,{C:function(){return d},R:function(){return c}});var r=n(586659),o=n(729434),i=n(382718);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,o.Z)("MostRecentPin"),u=s.Provider,c=s.get;function d(e){var t=e.children,n=a((0,r.useState)(),2),o=n[0],l=n[1],s=a((0,r.useState)(),2),c=s[0],d=s[1],f=(0,r.useCallback)(function(e){d([e].concat((c?c.slice(0,10):[]).filter(function(t){return t!==e})))},[c]),p=(0,r.useMemo)(function(){return{id:o,plpImageSignatures:c,setMostRecentPinId:l,setMostRecentPinImage:f}},[o,c,f]);return(0,i.jsx)(u,{value:p,children:t})}},168590:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},b:function(){return i}});var r=n(506662),o=[r.Gl,r.PY,r.jC,r.Xn,r.b_,r.oF,r.dt,r.x7,r.cY,r.bb];function i(e,t){return(t?o:[].concat(o,[r.Ig])).every(function(t){return!t(e)})}function a(e){return o.every(function(t){return!t(e)})}},169053:function(e,t,n){"use strict";n.d(t,{EQ:function(){return u},JC:function(){return s},S6:function(){return c},_S:function(){return d}});var r=n(581722),o=n(729434),i=n(382718),a=(0,o.Z)("Pins"),l=a.Provider,s=a.get,u=a.getMaybe;function c(){var e=s();return function(t){return e[t]}}function d(e){var t=e.children,n=(0,r.v9)(function(e){return e.pins},r.wU);return(0,i.jsx)(l,{value:n,children:t})}},829365:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(586659),o=n(20256),i=n(382718);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&l(d,e);var t,n,c=(t=s(),function(){var e,n=u(d);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function d(){if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){this.anchor&&(!this.props.hash||this.props.hash&&"#".concat(this.props.hash)===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}},{key:"render",value:function(){var e=this,t=this.props.children?r.Children.only(this.props.children):null;return(0,i.jsx)(o.xu,{ref:function(t){e.anchor=t},children:t})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r.key),r)}}(d.prototype,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.Component)},244529:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(963489),o=n(821342),i=n(506662),a=n(168590);function l(){var e=(0,o.Z)(),t=(0,r.TH)();return{enabled:(0,a.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,i.OK)(t)}}},771347:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(675973),o=n(244529);function i(){return!!(0,o.Z)().enabled&&(0,(0,r.Z)().checkExperiment)("web_nav_sidebar").anyEnabled}},77836:function(e,t,n){"use strict";n.d(t,{BO:function(){return O},D5:function(){return j},GC:function(){return I},GJ:function(){return b},L7:function(){return m},Lc:function(){return d},Mf:function(){return E},Mh:function(){return s},Qf:function(){return c},Qq:function(){return A},bT:function(){return _},bd:function(){return v},df:function(){return f},dg:function(){return u},dv:function(){return w},kl:function(){return g},m6:function(){return x},mT:function(){return S},nQ:function(){return T},pS:function(){return P},qM:function(){return R},rB:function(){return C},vg:function(){return k},xp:function(){return y},yg:function(){return p},zz:function(){return h}});var r=n(20256),o=n(18468),i=n(702849),a=n(864289),l=n(25837),s="right",u=s,c=72,d="VerticalNavContent",f=24,p="lg",y="compress",m=16,h=16,b=392,g=12,v=o.iiJ,_=i.ZG,P=new r.H3([l.NW]),S=new r.Ry(l.fe-3),O=new r.H3([P,a.kl]),x=new r.H3([P]),E=x,w=2,j=4,A=3,I=12,T=24,C="200ms left",R={menuItemPadding:"12px",anchorOffset:"16px"},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n={label:e._('Art', 'dweb.sidenav.ideas.art', 'Text for Flyout showing link to /ideas/art/ Page'),value:"961238559656",slug:"art"},r={label:e._('Beauty', 'dweb.sidenav.ideas.beauty', 'Text for Flyout showing link to /ideas/beauty/ Page'),value:"935541271955",slug:"beauty"},o={label:e._('Food & Drink', 'dweb.sidenav.ideas.food', 'Text for Flyout showing link to /ideas/food-and-drink/ Page'),value:"918530398158",slug:"food-and-drink"},i={label:e._('Design', 'dweb.sidenav.ideas.design', 'Text for Flyout showing link to /ideas/design/ Page'),value:"902065567321",slug:"design"},a={label:e._('Women\'s Fashion', 'dweb.sidenav.ideas.womensFashion', 'Text for Flyout showing link to /ideas/womens-fashion/ Page'),value:"948967005229",slug:"womens-fashion"},l={label:e._('Men\'s Fashion', 'dweb.sidenav.ideas.mensFashion', 'Text for Flyout showing link to /ideas/mens-fashion/ Page'),value:"924581335376",slug:"mens-fashion"},s={label:e._('Home Decor', 'dweb.sidenav.ideas.homeDecor', 'Text for Flyout showing link to /ideas/home-decor/ Page'),value:"935249274030",slug:"home-decor"},u={label:e._('DIY', 'dweb.sidenav.ideas.diy', 'Text for Flyout showing link to /ideas/diy-and-crafts/ Page'),value:"934876475639",slug:"diy-and-crafts"},c={label:e._('Fitness', 'dweb.sidenav.ideas.fitness', 'Text for Flyout showing link to /ideas/fitness-and-exercise/ Page'),value:"912503731943",slug:"fitness-and-exercise"},d={label:e._('Pets', 'dweb.sidenav.ideas.pets', 'Text for Flyout showing link to /ideas/animals-and-pets/ Page'),value:"941660492982",slug:"animals-and-pets"},f={label:e._('Quotes', 'dweb.sidenav.ideas.quotes', 'Text for Flyout showing link to /ideas/quotes/ Page'),value:"948192800438",slug:"quotes"},p={label:e._('Travel', 'dweb.sidenav.ideas.travel', 'Text for Flyout showing link to /ideas/travel/ Page'),value:"908182459161",slug:"travel"},y={label:e._('Weddings', 'dweb.sidenav.ideas.wedding', 'Text for Flyout showing link to /ideas/weddings/ Page'),value:"903260720461",slug:"weddings"};return"long"===t?[n,d,r,i,o,a,l,s,u,f,p,c,y]:[n,r,o,s,a,l]}},694103:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=(0,n(729434).Z)("VerticalNav",{width:0,sideBarWidth:0,selectedNav:void 0,isPanelOpen:function(){return!1},sideBarOpen:!1,updatePanelState:function(){},togglePanelState:function(){}}),o=r.Provider;t.Z=r.get},271597:function(e,t,n){"use strict";n.d(t,{AC:function(){return a},FC:function(){return c},FP:function(){return s},M0:function(){return l},SA:function(){return f},Xq:function(){return d},Y_:function(){return i},o2:function(){return o},s0:function(){return r},z9:function(){return u}});var r=44,o=40,i=49,a=69,l=236,s=157,u=320,c=213,d=7,f=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},370347:function(e,t,n){"use strict";n.d(t,{Yg:function(){return f},ib:function(){return y},nF:function(){return h},xX:function(){return m}});var r=n(675973),o=n(15667),i=n(647709),a=n(603316);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=["image"],c=["image","storyPin"],d=function(e){var t=(0,e.checkExperiment)("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return{logStat:function(e,n){return(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({event:e,group:t},n)})}}},f=function(){var e=(0,o.B)().isAuthenticated,t=(0,i.HG)(),n=(0,r.Z)().checkExperiment;return e&&!t?d({checkExperiment:n}):{logStat:function(){}}},p=0,y=function(e){var t=e.checkExperiment;if(e.isAuthMweb){var n=d({checkExperiment:t}).logStat;(p+=1)<10&&n("repin_".concat(p))}};function m(e){var t=e.checkExperiment,n=e.isDesktop;if(!e.isAuthenticated)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:["image"]};if(n){var r=t("auth_dweb_graphql_pin_page").anyEnabled;return{isGraphQLEnabledForRelatedPins:r,isGraphQLEnabledInGeneral:r,validImageTypes:u}}var o=t("auth_mweb_graphql_pin_page"),i=o.anyEnabled;switch(o.group){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,validImageTypes:u};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:u};case"enabled_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:c};case"only_closeup":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:u};case"only_closeup_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:c};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,validImageTypes:u};default:return{isGraphQLEnabledInGeneral:i,isGraphQLEnabledForRelatedPins:i,validImageTypes:u}}}function h(){return m({checkExperiment:(0,r.Z)().checkExperiment,isDesktop:(0,i.HG)(),isAuthenticated:(0,o.B)().isAuthenticated})}},864289:function(e,t,n){"use strict";n.d(t,{Bq:function(){return f},CZ:function(){return s},Db:function(){return c},Lu:function(){return l},kl:function(){return i},rC:function(){return o},sb:function(){return u},t3:function(){return a},to:function(){return d}});var r=n(20256),o="full-height-inbox-panel",i=new r.Ry(700),a="defaultInboxView",l="newMessageView",s="newMessageSelectRecipientsView",u="invitesRequestsView",c="followInviteEducationView",d=64,f="conversationView"},454018:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(20256),o=n(744862),i=n(821342),a=n(793785),l=n(222859),s=n(28386),u=n(382718);function c(e){var t,n,c,d=(0,i.Z)(),f=d.isAuth?d.id:null,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n&&(t=t.filter(function(e){return e.entityId!==n})),t.concat(e.map(function(e){return{fullName:e,username:e,entityId:"",imageLargeUrl:"",imageMediumUrl:"",isDefaultImage:!0}}))}(e.emails,e.users,f);return p.length>0?(1===(c=(n=p.map(function(e){var t,n,r,o,i;return{defaultDisplayName:null!=(t=e.fullName)?t:"",fullName:null!=(n=e.fullName)?n:"",username:null!=(r=e.username)?r:"",src:null!=(o=null!=(i=e.imageLargeUrl)?i:e.imageMediumUrl)?o:""}})).length)?t=(0,u.jsx)(o.qE,{name:p[0].fullName||p[0].username||"",size:"fit",src:p[0].imageLargeUrl||p[0].imageMediumUrl||""}):2===c?t=(0,u.jsx)(a.Z,{collaborators:n,isConvoRepOnInbox:!0}):3===c?t=(0,u.jsx)(s.Z,{collaborators:n}):c>3&&(t=(0,u.jsx)(l.Z,{collaborators:n})),(0,u.jsx)(r.kC,{height:48,width:48,children:t})):null}},497668:function(e,t,n){"use strict";n.d(t,{Q:function(){return x},Z:function(){return E}});var r=n(586659),o=n(20256),i=n(864289),a=n(19585),l=n(15667),s=n(199593),u=n(575108),c=n(475498),d=n(886981),f=n(87853),p=n(382718);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n=e.buttonSize,i=(0,a.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=l[0],h=l[1],b=(0,f.dI)().showOneToast,g=(0,r.useRef)(null),v=(0,s.Z)(),_=v.conversations.newsHubCount,P=v.updateNewsHubCount,S=v.updateUnreadCount,O=i._('Mark all as read', 'InboxHeader.MarkAllAsRead.Flyout', 'accessibility label for mark all as read'),x=(0,d.Z)({name:"ConversationsResource",options:{field_set_key:"default"},noCache:!0}).refresh;return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(o.hU,{ref:g,accessibilityHaspopup:!0,accessibilityLabel:i._('inbox options overflow button', 'Inbox.InboxHeader.OverflowButton', 'accessibility label for overflow button'),icon:"ellipsis",iconColor:"darkGray",onClick:function(){return h(!m)},size:null!=n?n:"lg"}),m&&(0,p.jsx)(o.xu,{position:"relative",zIndex:new o.Ry(1),children:(0,p.jsx)(o.Lt,{anchor:g.current,disableMobileUI:!0,id:"inbox-overflow-menu",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:function(){return h(!m)},children:(0,p.jsx)(o.Lt.Item,{onSelect:function(){u.Z.create("ConversationsResource").callUpdate().then(function(){x(),P(_),S(0),b(function(e){var t=e.hideToast;return(0,p.jsx)(c.Z,{duration:3e3,onHide:t,text:i._('All conversations marked as read', 'Inboxheader.overflowMenu.MarkAllAsRead', 'toast after marking all conversations as read')})}),h(!1)})},option:{label:O,value:O},children:(0,p.jsx)(o.xv,{weight:"bold",children:O})})})})]})}var h=n(244529),b=n(771347),g=n(694103);function v(){var e=(0,a.ZP)(),t=(0,s.Z)().dropdownClose,n=(0,l.B)().isRTL,r=(0,h.Z)().enabled,i=(0,b.Z)(),u=i?"sm":"lg",c=(0,g.Z)().togglePanelState,d=r?e._('Messages', 'messages.defaultHeader.title', 'title for conversation panel'):e._('Inbox', 'messages.defaultHeader.title', 'title for conversation panel'),f=(0,p.jsx)(o.hU,{accessibilityLabel:e._('Close', 'messages.defaultHeader.closeBUtton', 'button to close inbox'),icon:"cancel",iconColor:"darkGray",onClick:i?function(){return c("conversations")}:t,size:u}),y=(0,p.jsx)(o.X6,{accessibilityLevel:2,align:"start",size:"400",children:d}),v=(0,p.jsx)(m,{buttonSize:u});return i?(0,p.jsx)(o.xu,{marginBottom:6,marginStart:6,marginTop:6,children:(0,p.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:[y,(0,p.jsxs)(o.xu,{children:[v,f]})]})}):(0,p.jsxs)(o.xu,{alignItems:"center",display:"flex",height:64,padding:2,children:[(0,p.jsx)(o.xu,{marginEnd:1,children:f}),(0,p.jsx)(o.xu,{flex:"grow",children:y}),(0,p.jsx)(o.xu,{display:"flex",left:n,marginEnd:0,position:"absolute",right:!n,children:v})]})}function _(e){var t=e.onCancelSecondaryView,n=(0,a.ZP)(),r=(0,l.B)().isRTL;return(0,p.jsx)(o.kC,{alignItems:"center",height:i.to,justifyContent:"center",children:(0,p.jsx)(o.xu,{left:!r,marginStart:2,position:"absolute",right:r,children:(0,p.jsx)(o.hU,{accessibilityLabel:n._('Back to inbox', 'Icon to go back to inbox from current view', 'Icon to go back to inbox'),icon:"arrow-back",iconColor:"darkGray",onClick:t,size:"lg"})})})}function P(e){var t=e.onCancelSecondaryView,n=e.onNext,r=e.isNextButtonDisabled,i=(0,a.ZP)(),l=(0,p.jsx)(o.X6,{accessibilityLevel:2,color:"default",size:"400",children:i._('New message', 'title header for new message flow', 'title header for new message flow')});return n?(0,p.jsxs)(o.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,p.jsx)(o.xu,{marginEnd:1,children:(0,p.jsx)(o.hU,{accessibilityLabel:i._('Back to inbox', 'FullHeightInbox.InboxHeader.NewMessageHeaderBackArrow', 'Cancel new message flow (go back to inbox panel view)'),icon:"arrow-back",iconColor:"darkGray",onClick:t,size:"lg"})}),(0,p.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:l}),(0,p.jsx)(o.xu,{id:"new-message-next-button",tabIndex:0,children:(0,p.jsx)(o.zx,{color:"red",disabled:r,onClick:n,text:i._('Next', 'FullHeightInbox.InboxHeader.NewMessageHeaderNextButton', 'Next step for the new message flow')})})]}):(0,p.jsxs)(o.xu,{alignItems:"center",display:"flex",padding:4,children:[(0,p.jsx)(o.xu,{flex:"grow",children:l}),(0,p.jsx)(o.xu,{children:(0,p.jsx)(o.zx,{accessibilityLabel:i._('Back to inbox', 'FullHeightInbox.InboxHeader.NewMessageHeader', 'Cancel new message flow (go back to inbox panel view)'),color:"white",fullWidth:!0,onClick:t,size:"sm",text:i._('Cancel', 'Cancel new message flow (go back to inbox panel view)', 'Cancel new message flow (go back to inbox panel view)')})})]})}function S(e){var t=e.onCancelSecondaryView,n=(0,a.ZP)(),r=(0,l.B)().isRTL;return(0,p.jsxs)(o.kC,{alignItems:"center",height:i.to,justifyContent:"start",children:[(0,p.jsx)(o.xu,{left:!r,marginEnd:1,marginStart:2,right:r,children:(0,p.jsx)(o.hU,{accessibilityLabel:n._('Back to inbox', 'Icon to exit messages feed and go back to inbox', 'Icon to exit messages feed and go back to inbox'),icon:"arrow-back",iconColor:"darkGray",onClick:t,size:"lg"})}),(0,p.jsx)(o.xu,{overflow:"hidden",children:(0,p.jsx)(o.xv,{align:"start",lineClamp:1,size:"400",weight:"bold",children:n._('All requests', 'Heading for the invites and requests feed, which includes contact requests, board invites, and board join requests', 'Heading for the invites and requests feed, which includes contact requests, board invites, and board join requests')})})]})}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function E(e){var t,n=e.currentViewType,a=e.onCancelSecondaryView,l=e.shouldShowShadow,s=e.isNextButtonDisabled,u=e.onNext,c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],f=c[1],y=function(){f(i.t3),a()};return(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:void 0!==l&&l?x:{}},children:function(){switch(d){case i.t3:return(0,p.jsx)(v,{});case i.Lu:return(0,p.jsx)(P,{onCancelSecondaryView:y});case i.CZ:return(0,p.jsx)(P,{isNextButtonDisabled:s,onCancelSecondaryView:y,onNext:u});case i.sb:return(0,p.jsx)(S,{onCancelSecondaryView:y});case i.Db:return(0,p.jsx)(_,{onCancelSecondaryView:y})}return null}()})}},696323:function(e,t){"use strict";t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},526950:function(e,t,n){"use strict";var r=n(35831);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e,t){switch(e=e||{},t.type){case r.zP:case r.aW:var n=t.payload,o=n.response,i=n.resource,l=o.resource_response.data;if("StoryPinDraftsResource"===i){var s=(l||[]).filter(Boolean).reduce(function(e,t){return e[t.id]=t,e},{});return a(a({},e),s)}return e;case"STORY_PIN_DATA_DELETE":var u=t.payload.storyPinDataId,c=a({},e);return delete c[u],c;default:return e}}},588836:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(581722),o=n(963489),i=n(20256),a=n(111330),l=n(521009),s=n(346955),u=n(667835),c=n(19585),d=n(506662),f=n(753143),p=n(941404),y=n(572227),m=n(647709),h=n(382718);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n=e.alignIconLeft,g=e.bgColor,v=e.color,_=e.disableRedirect,P=void 0!==_&&_,S=e.fallbackUrl,O=e.icon,x=void 0===O?"arrow-back":O,E=e.onTouch,w=e.padding,j=e.placement,A=e.shouldUseFallbackUrl,I=e.size,T=void 0===I?"lg":I,C=e.viewParameter,R=e.viewType,k=e.isVisualSearch,N=(0,c.ZP)(),D=(0,o.s0)(),L=(0,o.TH)(),M=(0,m.HG)(),z=(0,r.v9)(function(e){return e.session.isAuthenticated}),F=(0,l.Z)(),U=(0,y.Z)(),Z=(0,u.vs)(),B=(0,s.SU)(),H=B.viewType,G=B.viewParameter,V=function(e){if(Array.isArray(e))return e}(t=R?[R,C]:[H,G])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Y=V[0],W=V[1],$=function(){var e,t=(0,f.M0)().getItem(a.pm);L.key||"/ideas"!==S?(0,p.My)("pinner_conversion.back_button.".concat(String(null==t?void 0:t[0].pageType))):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)("web_back_button_click.".concat(String(j),".is_auth_").concat(String(z))),U({action:"click",item:"back-button"}),Y&&F({view_type:Y,view_parameter:W,element:34,event_type:102}),E&&E(),P||((!L.key||!L.state||(null==(e=L.state)?void 0:e.referrer)==="redirect"||A)&&S?D(S):L.pathname.includes("/password/reset/")&&L.search&&L.search.includes("?nativeShouldDismiss=true")?D("/login/?dismissWebview=true"):D(-1))},K=Z?u.t4:"white",q=(0,d.am)(L)||k||"white"===v;return(0,h.jsx)(i.xu,{"data-test-id":"back-button",children:n?(0,h.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===x?-1:-2,width:48,children:(0,h.jsx)(i.hU,{accessibilityLabel:N._('Back', 'navigation button', 'navigation button'),bgColor:g,icon:x,iconColor:!v&&(!g||["white","lightGray","transparent"].includes(g))?"gray":v,onClick:$,padding:"auto"!==w?w:2,size:T})}):(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:M||q||g?"":K,width:Z&&!q?"fit-content":""}},rounding:"circle",children:(0,h.jsx)(i.hU,{accessibilityLabel:N._('Back', 'navigation button', 'navigation button'),bgColor:g||M?g:"transparent",icon:x,iconColor:!v&&(!g||["white","lightGray","transparent"].includes(g))?"gray":v,onClick:$,padding:"auto"!==w?w:2,size:T})})})}},838068:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(586659),o=n(581722),i=n(440568),a=n(536652),l=n(849233),s=n(382718);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var g=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&f(o,e);var t,n,r=(t=y(),function(){var e,n=m(o);return e=t?Reflect.construct(n,arguments,m(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return h(p(e=r.call.apply(r,[this].concat(n))),"fetch",function(){var t=e.props,n=t.dispatch,r=t.name,o=t.options;n((0,a.U)(r,{options:o}))}),h(p(e),"fetchMore",function(){var t=e.props,n=t.dispatch,r=t.name,o=t.nextBookmark,i=t.options;o&&n((0,a.U)(r,{options:i,bookmark:o}))}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.allowStale,n=e.data;(void 0===t||t)&&n||this.fetch()}},{key:"componentWillUnmount",value:function(){this.interval&&(clearInterval(this.interval),delete this.interval)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.data,r=e.isAtEnd,o=e.isFetching;return t?t({refresh:this.fetch,loadMore:this.fetchMore,data:n,isAtEnd:r,isFetching:o}):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);function v(e){var t=(0,i.Z)(e.options||{}),n=(0,o.v9)(function(n){var r,o;return n.resources&&(null==(r=n.resources[e.name])||null==(o=r[t])?void 0:o.fetching)||!1}),r=(0,o.v9)(function(n){var r,o,i;return n.resources&&null!=(r=n.resources[e.name])&&r[t]?null==(o=n.resources[e.name])||null==(i=o[t])?void 0:i.data:null}),a=(0,o.v9)(function(n){var r,o;return n.resources&&(null==(r=n.resources[e.name])||null==(o=r[t])?void 0:o.nextBookmark)}),u=(0,o.v9)(function(n){var r;return!!n.resources&&null!=(r=n.resources[e.name])&&!!r[t]&&a===l.qx}),c=(0,o.I0)();return(0,s.jsx)(g,d(d({},e),{},{data:r,dispatch:c,isAtEnd:u,isFetching:n,nextBookmark:a}))}},278054:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Z:function(){return p}});var c=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&o(d,e);var t,n,c=(t=a(),function(){var e,n=l(d);return e=t?Reflect.construct(n,arguments,l(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return i(e)}(this,e)});function d(){var e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return s(i(e=c.call.apply(c,[this].concat(n))),"stop",function(){e.interval&&(clearInterval(e.interval),delete e.interval)}),s(i(e),"interval",null),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.cb,n=e.delay;this.interval=setInterval(t,n)}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"render",value:function(){return null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}(d.prototype,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(n(586659).Component),d=n(838068),f=n(382718);function p(e){var t=e.name,n=e.options,r=e.delay;return(0,f.jsx)(d.Z,{allowStale:!1,name:t,options:n,children:function(e){var t=e.refresh;return(0,f.jsx)(c,{cb:t,delay:r})}})}},222859:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(20256),o=n(667835),i=n(744862),a=n(382718),l="100%";function s(e){var t=e.collaborators;if(t.length<4)return null;var n=t[0],s=t[1],u=t[2],c=t[3];return(0,a.jsxs)(r.xu,{height:l,position:"relative",width:l,children:[(0,a.jsx)(r.xu,{bottom:!0,height:"55%",left:!0,position:"absolute",width:"55%",children:(0,a.jsx)(i.qE,{name:s.defaultDisplayName,outline:!0,src:s.src})}),(0,a.jsx)(r.xu,{height:"55%",left:!0,position:"absolute",top:!0,width:"55%",children:(0,a.jsx)(i.qE,{name:n.defaultDisplayName,outline:!0,src:n.src})}),(0,a.jsx)(r.xu,{height:"55%",position:"absolute",right:!0,top:!0,width:"55%",children:(0,a.jsx)(i.qE,{name:u.defaultDisplayName,outline:!0,src:u.src})}),4===t.length?(0,a.jsx)(r.xu,{bottom:!0,height:"55%",position:"absolute",right:!0,width:"55%",children:(0,a.jsx)(i.qE,{name:c.defaultDisplayName,outline:!0,src:c.src})}):(0,a.jsx)(r.xu,{alignItems:"center",color:"secondary",dangerouslySetInlineStyle:{__style:{border:(0,o.Yc)()?"1px solid #000":"1px solid #fff",boxSizing:"content-box",right:"-2px",bottom:"-2px"}},display:"flex",height:"55%",justifyContent:"center",position:"absolute",rounding:"circle",width:"55%",children:(0,a.jsx)(r.xu,{children:(0,a.jsx)(r.xv,{size:"100",children:"+".concat(t.length-3)})})})]})}},215298:function(e,t,n){"use strict";var r=n(410156),o=n(739907),i=n(115886);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e,t){var n=parseInt(e,10),a=Date.now()-n,l=new Date(n),u={hour:"numeric",minute:"numeric"};return a>r.F4&&a<r.VL?u=s(s({},u),{},{weekday:"long"}):a>r.VL&&a<r.N1&&(u=s(s({},u),{},{month:"long",day:"numeric"})),a>r.F4?(0,o.Z)(l,t,u):(0,i.Z)(l,t,u)}},17455:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(410156),o=n(821342);function i(e){var t=e.messages,n=e.isDesktop,i=(0,o.Z)().id,a=function(e){var o=t[e].createdMs;if(!n&&e>=t.length-1||n&&0===e)return!0;var i=n?t[e-1]:t[e+1],a=i&&i.createdMs;return(parseInt(o||"0",10)||0)-parseInt(a||"0",10)>r.UK},l=function(e){if(n){var r=t[e];if(r.threadId&&r.anchorMessageId&&r.entityId){if(r.entityId===r.anchorMessageId)return!1;var o,a,l,s,u=e>0&&t[e-1],c=u&&(null==(o=r.sender)?void 0:o.entityId)===i&&(null==(a=u.sender)?void 0:a.entityId)===i,d=u&&(null==(l=r.sender)?void 0:l.entityId)!==i&&(null==(s=u.sender)?void 0:s.entityId)!==i;return!u||u.threadId!==r.threadId||!c&&!d}}return!1};return{shouldRenderUserAvatarForIndex:function(e){var r,o,s=null==(r=t[e].sender)?void 0:r.entityId;if(s===i)return!1;if(!n&&0===e||n&&e===t.length-1)return!0;var u=n?t[e+1]:t[e-1],c=s!==(u&&(null==(o=u.sender)?void 0:o.entityId)),d=n?a(e+1):a(e-1);if(n){var f=t[e],p=f.anchorMessageId&&f.entityId===f.anchorMessageId,y=l(e)||p,m=f.threadId&&(null==u?void 0:u.threadId)!==f.threadId;return!!(d||c||y||m)}return!!(d||c)},shouldRenderUserFullNameForIndex:function(e,r,o){if(9===t[e].messageType&&t[e].hasPin&&r(o?"sg_mweb_pin_share_land_system_message":"sg_dweb_pin_share_land_system_message").anyEnabled)return!1;var l,s,u=null==(l=t[e].sender)?void 0:l.entityId,c=a(e);if((u===i||e>=t.length-1)&&!n)return!1;var d=n?t[e-1]:t[e+1];return u!==(null==d||null==(s=d.sender)?void 0:s.entityId)||c},shouldRenderTimestampForIndex:a,messageContentMarginBottom:function(e){var n,r,o=e>0&&a(e-1),i=e>0&&(null==(n=t[e].sender)?void 0:n.entityId)!==(null==(r=t[e-1].sender)?void 0:r.entityId);return o?0:i?6:1},shouldRenderAnchorMessageForIndex:l,shouldRenderThreadsLineForIndex:function(e){if(n){var r,o=t[e];if(!o.threadId)return!1;var a=e>0&&t[e-1],s=t[e+1],u=o.entityId===o.anchorMessageId&&(null==(r=o.sender)?void 0:r.entityId)===i&&s&&s.anchorMessageId===o.entityId;return!!(a&&o.threadId===a.threadId||l(e)||u)}return!1},shouldRenderPinLandSystemMessageForIndex:function(e,n,r){return!!(9===t[e].messageType&&t[e].hasPin&&n(r?"sg_mweb_pin_share_land_system_message":"sg_dweb_pin_share_land_system_message").anyEnabled)}}}},666811:function(e,t,n){"use strict";n.d(t,{X:function(){return f},Z:function(){return d}});var r=n(586659),o=n(729434),i=n(453179);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,auxData:t.payload.auxData,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=n(382718);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,o.Z)("ReportData"),c=u.Provider,d=u.get;function f(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(a,null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=o[0],d=o[1],f=(0,r.useCallback)(function(){return d({type:"REPORT_CONTENT_DISMISS"})},[]),p=(0,r.useCallback)(function(e,t,n){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:n,nodeId:null}})},[]),y=(0,r.useCallback)(function(e,t,n){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"conversation",nodeId:null}})},[]),m=(0,r.useCallback)(function(e){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e.id,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:e.viewParameter,viewType:e.viewType,type:"pin",nodeId:e.nodeId}})},[]),h=(0,r.useCallback)(function(e){var t=e.pinId,n=e.isDownstreamPromotion,r=e.hasPromoter,o=e.firstVideoDuration,a=e.isProduct,l=e.viewParameter,s=e.viewType,u=e.isThirdPartyAd,c=e.nodeId;d({type:"REPORT_CONTENT_SHOW",payload:{id:t,auxData:e.auxData,isProduct:a,isPromoted:(0,i.jL)(n,r),videoDuration:o,viewParameter:l,viewType:s,type:"pin",isThirdPartyAd:u,nodeId:c}})},[]),b=(0,r.useMemo)(function(){return{reportData:u,dismiss:f,reportComment:p,reportConversation:y,reportImage:m,reportPin:h}},[u,f,p,y,m,h]);return(0,l.jsx)(c,{value:b,children:n})}},216647:function(e,t,n){"use strict";n.d(t,{Z:function(){return tP}});var r,o,i,a,l,s=n(586659),u=n(581722),c=n(650533),d=n(963489),f=n(20256),p=n(575108),y=n(521009),m=n(657043),h=n(686319),b=n(475498),g=n(821342),v=n(19585),_=n(302148),P=n(914061),S=n(675973),O=n(886981),x=n(782259),E=n(159527),w=n(87853),j=n(647709),A=n(609770),I=n(199593),T=n(881713),C=n(879398),R=n(401450),k=n(16262),N=n(284414),D=n(667835),L=n(356052),M=n(324307),z=n(341742),F=n(509286),U=n(21499),Z=n(138133),B=n(494093),H=n(169053),G=n(777834),V=n(492996),Y=n(30216),W=n(221020),$=n(28427),K=n(821806),q=n(845421),X=n(438556),Q=n(935279),J=n(709168),ee=n(382718);function et(e){var t=e.color,n=void 0===t?"#111":t,r=e.shouldShowSolidIcon;return void 0===r||r?(0,ee.jsx)(Q.Z,{color:n}):(0,ee.jsx)(J.Z,{color:n})}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var er=(0,s.lazy)(function(){return Promise.all([n.e("68281"),n.e("27221")]).then(n.bind(n,826257))}),eo=(void 0!==r||(r=n(323347)).hash&&"b047fba3b23c2e02e60f98ff680ca27c"!==r.hash&&console.error("The definition of 'ConversationPinV2_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function ei(e){var t,n,r=e.inMwebThreadsExp,o=e.isOwnMessage,i=e.pinHasText,a=e.pinKey,l=e.slotIndex,u=a&&"GraphQL"===(0,W.o)(a),c=(0,$.Z)(eo,a),p=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return en(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=p[0],h=p[1],b=(0,X.n)(),g=(0,D.Yc)(),_=(0,y.Z)(),P=(0,d.s0)(),S=(0,d.TH)(),O=(0,v.ZP)(),x=(0,Y.Z)({pinKey:c}),E=function(){_({view_type:42,element:0,event_type:102}),P("/pin/".concat(c.entityId,"/repin"),{state:{from:S}})},w=!!(null!=b&&b.isSaved(c.entityId)&&(null==(n=c.pinnedToBoard)?void 0:n.entityId));function j(){return(0,ee.jsxs)(f.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:4*!!o,marginStart:4*!o,children:[r&&(0,ee.jsx)(f.iP,{accessibilityLabel:O._('Reply to Pin', 'ConversationPage.ConversationPinV2.Pin.ReplyButton', 'Button that allows user to reply to a pin'),children:(0,ee.jsx)(f.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:g?"1px solid #FFFFFF":"1px solid #E9E9E9"}},display:"flex",height:40,justifyContent:"center",marginBottom:2,rounding:"circle",width:40,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"default",icon:"arrow-left-curved",size:16})})}),(0,ee.jsx)(f.iP,{accessibilityLabel:O._('Share Pin', 'ConversationPage.ConversationPinV2.Pin.SendButton', 'Button that allows user to share a pin'),onTap:function(){return h(!m)},children:(0,ee.jsx)(f.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:g?"1px solid #FFFFFF":"1px solid #E9E9E9"}},display:"flex",height:40,justifyContent:"center",marginBottom:2,rounding:"circle",width:40,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"default",icon:"share",size:16})})}),(0,ee.jsx)(f.iP,{accessibilityLabel:O._('Save Pin', 'ConversationPage.ConversationPinV2.Pin.SaveButton', 'Button that allows user to save a pin to their own board'),onTap:E,children:(0,ee.jsx)(f.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:g?"1px solid #FFFFFF":"1px solid #E9E9E9"}},display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:r?(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"default",icon:"angled-pin",size:16}):(0,ee.jsx)(f.xu,{marginTop:1,children:(0,ee.jsx)(et,{color:g?"white":void 0,shouldShowSolidIcon:w})})})})]})}return(0,ee.jsxs)(f.kC,{children:[o&&j(),(0,ee.jsx)(f.xu,{borderStyle:"sm",display:"inlineBlock",marginTop:2*!!i,overflow:"hidden",position:"relative",rounding:4,width:220,zIndex:new f.Ry(1),children:(0,ee.jsx)(q.Z,{componentType:0,disableReaction:!0,duploConversationPin:!0,duploDisablePinCardPadding:!0,duploPinCardDetailsMargin:2,duploQueryRef:u?c:null,objectIdStr:c.entityId,pinId:c.entityId,slotIndex:l,trafficSource:"messages",viewParameter:203,viewType:42})}),!o&&j(),m&&(0,ee.jsx)(K.Z,{children:(0,ee.jsx)(er,{clientTrackingParams:x,component:55,element:98,isOpen:!0,objectId:c.entityId,objectType:1,onDismiss:function(){h(!1)},viewParameter:203,viewType:42})})]})}function ea(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eu=new f.H3([new f.Ry(1)]);function ec(e){var t,n,r,o,i,a,l,u,c,d=e.conversationId,p=e.scrollToBottom,y=e.pauseMessagePolling,h=e.resumeMessagePolling,_=el((0,s.useState)(null),2),P=_[0],S=_[1],O=(0,U.Z)(),x=(0,v.ZP)(),E=(0,w.dI)().showToast,j=(0,g.Z)(),A=(0,I.Z)(),T=A.conversations.objectAttachment,C=A.removeObjectAttachment;(null==T?void 0:T.type)===G.d.PIN&&(null==T?void 0:T.source)===F.A&&(c=T);var R=(0,H.S6)()((null==(o=c)?void 0:o.id)||""),k=c?x._('Replying to this Pin \uD83D\uDCCC', 'ConversationPage.ConversationComposerBar.PrefilledCopyIfPinDraft', 'prefilled copy in composer if this is a response to a shared pin'):"",V=el((0,s.useState)(k),2),Y=V[0],W=V[1];(0,z.Z)(function(){return P&&P.focus(),function(){C()}});var $=(0,D.Yc)(),K=Y.length>0,q=function(){E(function(e){var t=e.hideToast;return(0,ee.jsx)(b.Z,{onHide:t,text:x._('Messages cannot exceed 1000 characters', 'ConversationPage.ConversationComposerBar.Toast.ExeedLimit.ErrorMessage', 'Notify the user that they exceeded the max character limit for a message')})})},X=function(){E(function(e){var t=e.hideToast;return(0,ee.jsx)(b.Z,{onHide:t,text:x._('Please enter a message', 'ConversationPage.ConversationComposerBar.Toast.EmptyText.ErrorMessage', 'Notify the user that they should not send an empty text for a message')})}),W("")},Q=(t=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var o;if(!((o=n=t.trim()).length>B.J?(q(),!1):0!==o.length||(X(),!1))){e.next=25;break}if(y(),W(""),P&&P.focus(),p(),e.prev=7,!c){e.next=13;break}return e.next=11,O(d,{text:n,pinId:c.id},void 0,j);case 11:e.next=15;break;case 13:return e.next=15,O(d,{text:n},void 0,j);case 15:C(),h(),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(7),P&&P.blur(),(r=(0,m.Z)(e.t0,"message_detail")||(0,m.Z)(e.t0,"message"))&&E(function(e){var t=e.hideToast;return(0,ee.jsx)(b.Z,{onHide:t,text:r})}),h();case 25:case"end":return e.stop()}},e,null,[[7,19]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){ea(i,r,o,a,l,"next",e)}function l(e){ea(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),J=(null==(i=c)||null==(a=i.data)?void 0:a.title)||(null==R?void 0:R.grid_title)||(null==R?void 0:R.description)||"",et=(null==(l=c)||null==(u=l.data)?void 0:u.imgUrl)||(null==R?void 0:R.image_medium_url);return(0,ee.jsxs)(f.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:$?"rgba(17,17,17,0.9)":"rgba(255,255,255,0.9)",webkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"}},direction:"column",display:"flex",left:!0,position:"absolute",right:!0,zIndex:eu,children:[c?(0,ee.jsxs)(f.xu,{alignItems:"center",color:"secondary",display:"flex",paddingX:4,paddingY:2,width:"100%",children:[(0,ee.jsx)(f.xu,{marginEnd:4,children:(0,ee.jsx)(f.zd,{height:48,rounding:2,wash:!0,width:36,children:et&&(0,ee.jsx)(f.Ee,{alt:J,color:(null==(r=c.data)?void 0:r.dominantColor)||(null==R?void 0:R.dominant_color)||"",fit:"cover",naturalHeight:48,naturalWidth:36,src:et})})}),(0,ee.jsxs)(f.kC,{direction:"column",flex:"grow",justifyContent:"center",children:[(0,ee.jsxs)(f.kC,{alignItems:"center",justifyContent:"start",children:[(0,ee.jsx)(f.xu,{marginEnd:2,children:(0,ee.jsx)(L.Z,{color:$?"white":void 0})}),(0,ee.jsx)(f.xv,{size:"100",weight:"bold",children:x._('Replying to:', 'mWeb.ConversationPage.ConversationComposerBar.pinAttachmentDraft', 'text that suggests this is a response to a shared pin')})]}),(0,ee.jsx)(f.xu,{children:(0,ee.jsx)(f.xv,{color:"subtle",lineClamp:1,size:"100",children:(0,M.ZP)(J)})})]}),(0,ee.jsx)(f.xu,{children:(0,ee.jsx)(f.hU,{accessibilityLabel:x._('Remove Pin attachment', 'mWeb.ConversationPage.ConversationComposerBar.removePinAttachmentIcon', 'icon that allows user to remove the pin attachment to the message'),icon:"cancel",iconColor:"darkGray",onClick:C,size:"xs"})})]}):null,(0,ee.jsxs)("form",{action:"",autoComplete:"off",onSubmit:function(e){return e.preventDefault(),Q(Y),!1},style:N.Z$,children:[(0,ee.jsx)(f.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:function(){if(K)return $?"1px solid #FFFFFF":"1px solid #E9E9E9"}(),backgroundColor:$?K?"#111111":"#4A4A4A":K?"#FFFFFF":"#E9E9E9"}},display:"flex",marginBottom:2,marginStart:4,marginTop:2,minHeight:44,rounding:6,width:"100%",children:(0,ee.jsx)(Z.Z,{ref:function(e){S(e)},grow:!0,id:"messageDraft",inDarkMode:$,maxHeight:N.wT,onChange:function(e){W(e.value)},placeholder:x._('Type a message...', 'mWeb.ConversationPage.ConversationComposerBar.Placeholder', 'Placeholder for message text input field'),size:"lg",style:{padding:"0px 16px",fontSize:16,caretColor:$?"white":"black",color:$?"white":"black",backgroundColor:"transparent"},value:Y})}),0===Y.length?(0,ee.jsx)(f.xu,{color:$?"dark":"light",dangerouslySetInlineStyle:{__style:{border:$?"1px solid #FFFFFF":"1px solid #E9E9E9"}},display:"flex",flex:"none",marginBottom:2,marginEnd:4,marginStart:2,marginTop:2,padding:3,rounding:"circle",children:(0,ee.jsx)(f.iP,{accessibilityLabel:x._('Send a heart emoji', 'ConversationPage.ConversationComposerBar.SendHeartTapArea', 'Tap area that sends a heart emoji to the recipient(s)'),onTap:function(){Q("")},children:(0,ee.jsx)(f.JO,{accessibilityLabel:x._('Heart', 'ConversationPage.ConversationComposerBar.HeartIcon', 'Accessiblity Label for heart icon'),color:"default",icon:"heart",size:16})})}):(0,ee.jsx)(f.xu,{marginBottom:2,marginEnd:4,marginStart:2,marginTop:2,children:(0,ee.jsx)(f.hU,{accessibilityLabel:x._('Send', 'ConversationPage.ConversationComposerBar.SendIcon', 'Accessiblity Label for Send Icon'),icon:"send",onClick:function(){Q(Y)},selected:!0,size:"md"})})]})]})}var ed=n(516783),ef=n(982166),ep=n(762525),ey=n(25837),em=n(588836),eh=n(744322);function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eg(e){var t=e.fullName,n=e.username,r=(0,d.s0)(),o=(0,ee.jsx)(f.xv,{inline:!0,lineClamp:1,weight:"bold",children:t});return n?(0,ee.jsx)(f.iP,{fullWidth:!1,onTap:function(){return r("/".concat(n,"/"))},children:o}):o}function ev(e){var t,n=e.recipients,r=e.onReport,o=(0,v.ZP)(),i=(0,g.Z)().fullName,a=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eb(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eb(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],u=a[1],c=n.length>0&&(n.length>=2?(0,ee.jsx)(f.xv,{lineClamp:1,weight:"bold",children:n.map(function(e){return e.defaultDisplayName}).join(", ")}):(0,ee.jsx)(eg,{fullName:n[0].fullName,username:n[0].username})),d=n.length>1,p=d?40:32;return(0,ee.jsxs)(f.xu,{alignItems:"center",color:(0,D.Yc)()?"dark":"light",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,D.Yc)()?"rgba(17,17,17,0.9)":"rgba(255,255,255,0.9)",WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"}},"data-test-id":"conversation-page-header",display:"flex",left:!0,paddingX:2,paddingY:1,position:"fixed",right:!0,top:!0,zIndex:new f.Ry(ey.fe),children:[(0,ee.jsx)(f.kC,{flex:"none",children:(0,ee.jsx)(em.Z,{color:"darkGray",icon:"arrow-back",padding:2,size:"lg",viewParameter:202,viewType:42})}),(0,ee.jsx)(f.kC,{alignItems:"center",flex:"none",height:40,justifyContent:"end",width:40,children:(0,ee.jsxs)(f.xu,{height:p,width:p,children:[(0,ee.jsx)(eh.Z,{recipients:n}),(0,ee.jsx)(ep.Z,{text:"Conversation"})]})}),(0,ee.jsx)(f.xu,{direction:"column",display:"flex",flex:"grow",paddingX:2,children:d?(0,ee.jsxs)(f.iP,{accessibilityLabel:o._('see all members in group conversation', 'mWeb.ConversationPage.ConversationHeader.accessibility.groupAllMembers', 'tap to see all members in the group conversation'),onTap:function(){u(!l)},children:[(0,ee.jsx)(f.xu,{width:"100%",children:c}),(0,ee.jsx)(f.xv,{color:"subtle",size:"200",children:(0,_.nk)(o._('{{ allParticipantsCount }} members', 'mWeb.ConversationPage.ConversationHeader.ParticipantsCounter', 'counter to show how many recipients are in this conversation, allParticipantsCount: the number of all users in this conversation '),{allParticipantsCount:n.length+1})})]}):(0,ee.jsx)(f.xu,{width:"100%",children:c})}),r&&(0,ee.jsx)(f.kC,{dataTestId:"conversation-flag-button",flex:"none",width:48,children:(0,ee.jsx)(f.hU,{accessibilityLabel:o._('flag', 'conversationPage.reportflag.accessibility', 'Accessiblity Label for flag icon'),bgColor:"transparent",icon:"flag",iconColor:"darkGray",onClick:function(){return r()},size:"lg"})}),l&&(0,ee.jsx)(ef.ZP,{accessibilityModalLabel:o._('list of all members', 'mWeb.ConversationPage.allMembersModal', 'modal that shows the list of all members in a conversation'),heading:(0,ee.jsx)(f.xv,{align:"center",weight:"bold",children:(0,_.nk)(o._('{{ totalMembersCount }} members', 'mWeb.ConversationPage.allMembersModal.header', 'text that show the total member count in the conversation, totalMembersCount: the number of participants in the chat '),{totalMembersCount:n.length+1})}),isOpen:!0,mobileAccessibilityCloseIconLabel:o._('close members list modal', 'mWeb.ConversationPage.allMembersModal.close', 'close icon to close the all members modal'),mobileAllowScroll:!0,mobileIsSlideUp:!0,onDismiss:function(){return u(!1)},children:(0,ee.jsxs)(f.xu,{maxHeight:"65vh",paddingX:3,paddingY:1,children:[(0,ee.jsx)(f.xu,{marginBottom:4,marginEnd:2,marginStart:2,children:(0,ee.jsx)(f.xv,{inline:!0,lineClamp:1,weight:"bold",children:(0,_.nk)(o._('{{ viewingUserFullName }} (you)', 'mWeb.ConversationPage.allMembersModal.viewingUserFullName', 'text that shows the viewing user in the all members modal,  viewingUserFullName: the full name of viewing user'),{viewingUserFullName:i})})}),n.map(function(e){var t=e.username,n=e.fullName;return(0,ee.jsx)(f.xu,{marginBottom:4,marginEnd:2,marginStart:2,children:(0,ee.jsx)(eg,{fullName:n,username:t})},t)})]})})]})}var e_=n(412007),eP=n(744862),eS=n(15667),eO=n(366859),ex=n(620427),eE=n(829365),ew=n(257815);function ej(e){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=ej(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ej(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ej(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eC(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eC(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eR(e){var t=e.handleReactionTrayClick,n=e.isActionSheet,r=(0,s.useRef)(null),o=eT((0,s.useState)("loading"),2),i=o[0],a=o[1],l=eT((0,s.useState)(""),2),u=l[0],c=l[1],d=eT((0,s.useState)(),2),p=d[0],y=d[1],m=eT((0,s.useState)(!1),2),h=m[0],b=m[1],g=eT((0,s.useState)({}),2),v=g[0],_=g[1],P=(0,s.useRef)(void 0),S=(0,s.useRef)({}),O=function(){b(!0);var e=eI({},v);N.MN.forEach(function(t){S.current[t]&&(e[t]=S.current[t].getBoundingClientRect())}),Object.keys(e).length===N.MN.length&&_(e)},x=function(){var e=eI({},p);N.MN.forEach(function(t){var n=v[t],r=n.left,o=n.top;e[t]={translateX:r,translateY:o}}),y(e)};(0,s.useEffect)(function(){"loading"===i&&(P.current=requestAnimationFrame(function(){return a("loaded")})),h||O(),!p&&h&&x()});var E=function(e){var t;return h&&N.MN.forEach(function(n){var r=v[n];if(r&&r.left&&r.right){var o=r.left,i=r.right;e>=o&&e<=i&&(t=n)}}),t||null},w=function(){document.body&&document.body.style&&(document.body.style.overflow="hidden")},j=function(){document.body&&document.body.style&&(document.body.style.overflow="unset")},A=function(e){if(e.nativeEvent instanceof MouseEvent){O();var r=E(e.clientX);n&&r?t(r):(w(),r!==u&&r&&(c(r),a("clicked"),setTimeout(function(){a("flying"),setTimeout(function(){t(r)},50),j()},0)))}},I=N.MN.map(function(e,t){var r=N.nk[e];return(0,ee.jsx)(eO.Z,{onTouch:A,pressState:"none",children:(0,ee.jsx)(f.xu,{ref:function(t){S.current[e]=t},color:n?"lightWash":"transparent",display:"inlineBlock",height:46,paddingX:n?3:2,paddingY:n?3:2,rounding:"circle",width:n?46:40,children:(0,ee.jsx)(f.Ee,{alt:r.alt,fit:"contain",naturalHeight:r.height,naturalWidth:r.width,src:r.asset})})},e)});return(0,ee.jsx)(f.xu,{ref:r,alignItems:"center",display:"flex",justifyContent:"center",children:(0,ee.jsx)(f.xu,{alignItems:"center",color:"flying"===i?"transparent":"default",display:"flex",flex:n?"grow":"shrink",justifyContent:n?"around":"center",marginBottom:2*!!n,onTouchEnd:function(){n||(u&&(a("flying"),setTimeout(function(){t(u)},325)),j())},onTouchMove:function(e){if(!n){w();var t=E(e.touches[0].clientX);t!==u&&c(t),a("clicked")}},onTouchStart:function(){n||O()},paddingX:2,rounding:"pill",children:I})})}var ek=(void 0!==o||(o=n(104660)).hash&&"8a712e19c7a0c55a01d2e95ff7c2413d"!==o.hash&&console.error("The definition of 'ConversationMessageActionSheet_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function eN(e){var t=e.handleDeleteClick,n=e.handleReactionClick,r=e.handleShareClick,o=e.isOwnMessage,i=e.message,a=e.onDismiss,l=e.pinKey,s=(0,(0,S.Z)().checkExperiment)("sg_mweb_threads").anyEnabled,u=(0,$.Z)(ek,l),c=(0,d.s0)(),p=(0,v.ZP)(),m=(0,y.Z)(),h=i.board,b=i.user,g=i.userDidItData,_=i.text,P=!1,O=!1,x=!1;if(h||u||b||g)x=!0,u&&(O=!0);else{if(!_)return null;P=!0}return(0,ee.jsx)(ef.ZP,{accessibilityModalLabel:p._('Message Actions', 'ConversationPage.ConversationMessageActionSheet.accessibilityModalLabel', 'Accessibility label for the message actions modal'),onDismiss:a,children:(0,ee.jsxs)(f.xu,{paddingX:4,paddingY:4,children:[(0,ee.jsx)(eR,{handleReactionTrayClick:n,isActionSheet:!0}),(0,ee.jsx)(f.iz,{}),(0,ee.jsxs)(f.xu,{paddingY:2,children:[P&&(0,ee.jsx)(f.iP,{accessibilityLabel:p._('Copy Text', 'ConversationPage.ConversationMessageActionSheet.CopyButton', 'Button that allows user to copy text'),onTap:function(){_&&(navigator.clipboard.writeText(_),a())},children:(0,ee.jsxs)(f.xu,{alignItems:"center",display:"flex",flex:"grow",paddingY:3,children:[(0,ee.jsx)(f.xu,{paddingX:2,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"default",icon:"copy-to-clipboard",size:16})}),(0,ee.jsx)(f.xv,{weight:"bold",children:p._('Copy', 'ConversationPage.ConversationMessageActionSheet.Copy', 'Copy this message')})]})}),O&&(0,ee.jsx)(f.iP,{accessibilityLabel:p._('Save Pin', 'ConversationPage.ConversationMessageActionSheet.Pin.SaveButton', 'Button that allows user to save a pin to their own board'),onTap:function(){u&&(m({view_type:42,element:0,event_type:102}),c("/pin/".concat(u.entityId,"/repin")))},children:(0,ee.jsxs)(f.xu,{alignItems:"center",display:"flex",flex:"grow",paddingY:3,children:[(0,ee.jsx)(f.xu,{paddingX:2,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"default",icon:"angled-pin",size:16})}),(0,ee.jsx)(f.xv,{weight:"bold",children:p._('Save', 'ConversationPage.ConversationMessageActionSheet.Save', 'Save this Pin to a board')})]})}),x&&(0,ee.jsx)(f.iP,{accessibilityLabel:p._('Share Message Content', 'ConversationPage.ConversationMessageActionSheet.Content.SendButton', 'Button that allows user to share the object that the message is about'),onTap:function(){r(),a()},children:(0,ee.jsxs)(f.xu,{alignItems:"center",display:"flex",flex:"grow",paddingY:3,children:[(0,ee.jsx)(f.xu,{paddingX:2,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"default",icon:"share",size:16})}),(0,ee.jsx)(f.xv,{weight:"bold",children:p._('Share', 'ConversationPage.ConversationMessageActionSheet.Share', 'Share this Pin/board/user profile')})]})}),s&&(0,ee.jsx)(f.iP,{accessibilityLabel:p._('Reply to message', 'ConversationPage.ConversationMessageActionSheet.ReplyButton', 'Button that allows user to reply to a message'),children:(0,ee.jsxs)(f.xu,{alignItems:"center",display:"flex",flex:"grow",paddingY:3,children:[(0,ee.jsx)(f.xu,{paddingX:2,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"default",icon:"arrow-left-curved",size:16})}),(0,ee.jsx)(f.xv,{weight:"bold",children:p._('Reply', 'ConversationPage.ConversationMessageActionSheet.Reply', 'Reply to this message')})]})}),o&&(0,ee.jsx)(f.iP,{accessibilityLabel:p._('Delete Message', 'ConversationPage.ConversationMessageActionSheet.DeleteButton', 'Button that allows user to delete a message'),onTap:function(){m({view_type:42,element:16212,event_type:102}),t(),a()},children:(0,ee.jsxs)(f.xu,{alignItems:"center",display:"flex",flex:"grow",paddingY:3,children:[(0,ee.jsx)(f.xu,{paddingX:2,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"error",icon:"trash-can",size:16})}),(0,ee.jsx)(f.xv,{color:"error",weight:"bold",children:p._('Delete', 'ConversationPage.ConversationMessageActionSheet.Delete', 'Delete this message')})]})})]})]})})}function eD(e){var t=e.user,n=(0,d.s0)(),r=(0,v.ZP)(),o=t.imageLargeUrl,i=t.fullName,a=t.username||"",l=(0,g.Z)(),s=l.isAuth?null==l?void 0:l.avatar_color_index:void 0;return(0,ee.jsx)(eO.Z,{onTouch:function(){return n("/".concat(a,"/"))},pressState:"none",rounding:4,children:(0,ee.jsxs)(f.kC,{alignItems:"center",direction:"column",height:224,justifyContent:"start",width:236,children:[(0,ee.jsx)(f.xu,{color:"default",height:157,rounding:4,width:236,children:(0,ee.jsx)(f.zd,{rounding:4,children:(0,ee.jsx)(f.gM,{columns:2,gutter:1,height:157,renderImage:function(e){var n=e.index,o=(t.thumbnails||[])[n];return n<2&&(0,ee.jsx)(f.zd,{height:157,width:118,children:o&&o.url?(0,ee.jsx)(f.Ee,{alt:r._('Cover image', 'mweb.converstaion.profileRep.coverImage', 'Cover image in Profile rep\'s collage'),color:"lightGray",fit:"cover",naturalHeight:o.height||0,naturalWidth:o.width||0,src:o.url}):(0,ee.jsx)(f.xu,{color:"secondary",height:"100%",width:"100%"})})},width:236})})}),(0,ee.jsxs)(f.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:-8,position:"relative",children:[(0,ee.jsx)(f.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:1}},height:64,rounding:"circle",width:64,children:(0,ee.jsx)(f.zd,{rounding:"circle",children:(0,ee.jsx)(eP.qE,{accessibilityLabel:"",color:s,name:i||a,outline:!0,size:"fit",src:o||""})})}),(0,ee.jsx)(f.xu,{maxWidth:236,paddingX:1,paddingY:2,children:(0,ee.jsx)(f.xv,{align:"center",lineClamp:1,weight:"bold",children:i||a})})]})]})})}var eL=n(106854);function eM(e){var t=e.text,n=e.isDeleted,r=e.isOwnMessage,o=e.senderName,i=(0,v.ZP)(),a=t;return n&&(a=r?i._('You deleted a message', 'ConversationPageMessage.ConversationText.DeletedMessageText.OwnMessage', 'Replaces the text of a deleted message with a message indicating that the message was deleted by the current user'):(0,_.nk)(i._('{{senderName}} deleted a message', 'ConversationPageMessage.ConversationText.DeletedMessageText.OtherUsersMessage', 'Replaces the text of a deleted message with a message indicating that the message was deleted by another user; senderName: the name of the user who sent the message'),{senderName:o})),""===t?(0,ee.jsx)(f.xu,{paddingY:2,children:(0,ee.jsx)(f.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:48})}):(0,ee.jsx)(f.xu,{maxWidth:264,children:(0,ee.jsx)(f.xu,{borderStyle:!r||n?"sm":"none",color:!r||n?"default":"secondary",dangerouslySetInlineStyle:{__style:{borderStyle:n?"dashed":void 0,padding:"12px 16px",marginStart:40*!!r}},maxWidth:"100%",rounding:6,children:n?(0,ee.jsx)(f.xv,{color:"disabled",children:a}):(0,ee.jsx)(eL.Z,{linkifyTextEnabled:!0,children:(0,ee.jsx)(f.xv,{children:a})})})})}function ez(e){var t,n,r=e.userDidIt,o=(0,d.s0)(),i=(0,v.ZP)(),a=r.entityId,l=r.images150x,s=r.pin,u=r.details;if(!l||0===l.length||!s)return null;var c=l[0];return(0,ee.jsx)(eO.Z,{onTouch:function(){return o("/pin/".concat(s.entityId,"/activity/tried/?featured_did_it_ids=").concat(a))},pressState:"none",rounding:2,children:(0,ee.jsxs)(f.xu,{marginBottom:2,rounding:2,width:160,children:[(0,ee.jsx)(f.zd,{height:c.height||0,rounding:2,width:200,children:c.url&&(0,ee.jsx)(f.Ee,{alt:i._('User did it image', 'Image for a tried it within a conversation', 'Image for a tried it within a conversation'),fit:"cover",naturalHeight:null!=(t=c.height)?t:1,naturalWidth:null!=(n=c.width)?n:1,src:c.url})}),(0,ee.jsx)(f.xu,{paddingX:1,paddingY:2,children:(0,ee.jsx)(f.xv,{lineClamp:1,size:"100",weight:"bold",children:u||i._('People tried this Pin', 'Description for tried it message', 'Description for tried it message')})})]})})}var eF=n(906553),eU={shortform:!0,shortform_maximum_fraction_digits:1},eZ=function(e){var t=e.locale,n=e.pinCount,r=e.sectionCount,o=(0,v.ZP)(),i=(0,eF.Z)(),a=n>0;return(0,ee.jsx)(f.xu,{paddingX:2,children:(0,ee.jsxs)(f.xv,{inline:!0,lineClamp:1,size:"100",children:[(0,_.nk)(o.ngettext('{{ count }} Pin', '{{ count }} Pins', n, 'label for n amount of pins', 'label for n amount of pins'),{count:i(t,n,eU)}),a&&!!r&&" \xb7 ",r?(0,_.nk)(o.ngettext('{{ count }} section ', '{{ count }} sections', r, 'label for n amount of sections', 'label for n amount of sections'),{count:i(t,r,eU)}):null]})})};function eB(e){return function(e){if(Array.isArray(e))return eH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eH(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eH(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eG(e){var t=e.board,n=e.locale,r=(0,d.s0)(),o=t.coverPin,i=t.name,a=t.sectionCount,l=t.url,s=t.imageCoverHdUrl,u=t.pinThumbnailUrls,c=t.pinCount,p=o&&o.imageUrl,y=[].concat(eB(s?[s]:[]),eB((u||[]).slice(+!p,p?2:3)));return(0,ee.jsxs)(eO.Z,{onTouch:function(){return r(null!=l?l:"")},pressState:"none",children:[(0,ee.jsx)(f.zd,{rounding:4,children:(0,ee.jsx)(f.xu,{color:"default",children:(0,ee.jsx)(f.gM,{columns:3,cover:!0,gutter:1,height:157,renderImage:function(e){var t=e.index,n=e.width,r=e.height,o=0===t?157:78;return(0,ee.jsx)(f.zd,{height:r,width:n,children:y[t]&&(0,ee.jsx)(f.Ee,{alt:"cover image",color:"#efefef",fit:"cover",naturalHeight:o,naturalWidth:o,src:y[t]})})},width:236})})}),(0,ee.jsx)(f.xu,{marginTop:1,paddingX:2,paddingY:1,children:(0,ee.jsx)(f.xv,{size:"300",weight:"bold",children:i})}),(0,ee.jsx)(eZ,{locale:n,pinCount:c||0,sectionCount:a||0})]})}var eV=n(215298);function eY(e){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function e$(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eW(i,r,o,a,l,"next",e)}function l(e){eW(i,r,o,a,l,"throw",e)}a(void 0)})}}function eK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||eQ(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eX(e){return function(e){if(Array.isArray(e))return eJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eQ(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eQ(e,t){if(e){if("string"==typeof e)return eJ(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eJ(e,t):void 0}}function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e0=(0,s.lazy)(function(){return Promise.all([n.e("68281"),n.e("27221")]).then(n.bind(n,826257))}),e1=(void 0!==i||(i=n(735611)).hash&&"f86073e296fab3bc70a5f022fe871222"!==i.hash&&console.error("The definition of 'ConversationPageMessage_conversationMessage' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),e2=(void 0!==a||(a=n(824092)).hash&&"f41aaed69fbc9da7a0b0721ce09ec5a8"!==a.hash&&console.error("The definition of 'ConversationPageMessage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),e5=function(e){var t=e.onTap,n=e.endPositionPx,r=e.i18n,o=e.zIndex,i=e.ref,a=(0,eS.B)().isRTL,l=(0,D.Yc)()?"https://s.pinimg.com/webapp/reaction_entrypoint_dark-662f277a.png":"https://s.pinimg.com/webapp/reaction_entry_point_light-10829fa9.png";return(0,ee.jsx)(f.iP,{accessibilityLabel:r._('Open the reaction tray', 'ConversationPage.ConversationPageMessage.OpenReactionTrayTapArea', 'Tap area to open the reaction tray to react to the message'),onTap:t,children:(0,ee.jsx)(f.xu,{ref:i,dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=eY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eY(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({backgroundImage:"url(".concat(l,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",bottom:"-24px"},a?{left:"".concat(n,"px")}:{right:"".concat(n,"px")})},height:32,position:"absolute",width:48,zIndex:o})})};function e6(e){var t,n,r,o,i,a,l,u=e.index,c=e.messageKey,p=e.messageContentMarginBottom,y=e.shouldRenderTimestamp,b=e.shouldRenderUserAvatar,_=e.shouldRenderUserFullName,P=e.shouldRenderPermanentEntryPointForReaction,O=e.shouldRenderPinLandSystemMessage,x=(0,$.Z)(e1,c),E=(0,g.Z)(),A=E.username,T=E.avatar_color_index,C=(0,d.s0)(),R=(0,d.TH)(),k=(0,I.Z)().deleteMessage,D=(0,eS.B)(),L=D.locale,M=D.isRTL,z=(0,w.dI)().showToast,F=x.text,U=x.board,Z=x.user,B=x.userDidItData,H=x.createdMs,G=x.sender,V=x.pin,Y=(0,$.Z)(e2,V),W=G||{},q=W.firstName,X=W.fullName,Q=W.imageLargeUrl,J=W.username,et=J===A,en=(0,(0,S.Z)().checkExperiment)("sg_mweb_threads").anyEnabled,er=eK((0,s.useState)(2===x.deletedBy),2),eo=er[0],ea=er[1],el=eK((0,s.useState)(!1),2),es=el[0],eu=el[1],ec=eK((0,s.useState)(!1),2),ed=ec[0],ef=ec[1],ep=eK((0,s.useState)(!1),2),ey=ep[0],em=ep[1],eh=eK((0,s.useState)(!1),2),eb=eh[0],eg=eh[1],ev=x.reactions&&x.reactions.length>0&&x.reactions[0].reactionText,e_=eK((0,s.useState)(eo?null:ev),2),ej=e_[0],eA=e_[1];(0,s.useEffect)(function(){eo||eA(null!=ev?ev:null)},[ev,eo]);var eI=eK((0,s.useState)(!0),2),eT=eI[0],eC=eI[1],ek=(0,s.useRef)(null),eL=(0,j.ZP)(),eF=(0,s.useRef)(Date.now()),eU=(0,v.ZP)(),eZ=new f.Ry(1),eB=new f.H3([eZ]),eH=new f.H3([eZ]),eY=new f.H3([eZ,eB,eH]),eW=(0,ex.Z)(((null==R?void 0:R.state)||{}).trackingParams),eq=function(){em(!ey)},eQ=ej&&(0,ee.jsx)(f.iP,{accessibilityLabel:eU._('Open the reaction tray from the selected reaction', 'ConversationPage.ConversationPageMessage.OpenReactionTrayFromSelectedReactionTapArea', 'Tap area to open the reaction tray to react to the message when a reaction is already selected'),onTap:eq,children:(0,ee.jsx)(f.xu,{borderStyle:"sm",color:"lightWash",dangerouslySetInlineStyle:{__style:(t="-24px",n=Y?"66px":"8px",r=(null==ek?void 0:ek.current)&&ek.current.offsetWidth<48,(et&&r&&(n="-8px"),M)?et?{right:n,bottom:t}:{left:n,bottom:t}:et?{left:n,bottom:t}:{right:n,bottom:t})},height:32,padding:1,position:"absolute",rounding:6,width:48,zIndex:eH,children:(o=ej&&N.nk[ej])?(0,ee.jsx)(f.Ee,{alt:o.alt,fit:"contain",naturalHeight:o.height,naturalWidth:o.width,src:o.asset}):null})}),eJ="desktop"!==eL&&!eo,e6=function(e){eJ&&(es?eC(!1):(eC(!0),e.preventDefault(),e.stopPropagation(),eu(!0)))},e3=function(e){var t;eJ&&(t=eF.current,Date.now()-t>500)&&e6(e)},e8=[].concat(eX((null==Z?void 0:Z.recentPinImages)||[]),eX((null==Z?void 0:Z.contextualPinImageUrls)||[])).slice(0,2),e4=(0,ee.jsx)(f.xu,{alignItems:et?"end":"start",dangerouslySetInlineStyle:b||et?void 0:{__style:{left:40*!M,right:40*!!M,maxWidth:"calc(100% - 40px)"}},direction:"column",display:"flex",marginBottom:P||ej?6:0,maxWidth:"100%",onContextMenu:e6,onTouchEnd:e3,onTouchMove:e3,onTouchStart:function(e){eJ&&(eF.current=Date.now(),e.preventDefault(),e.stopPropagation())},overflow:P||ej?"visible":"hidden",position:"relative",children:(0,ee.jsxs)(f.xu,{ref:ek,children:[F&&!O&&(0,ee.jsx)(eM,{isDeleted:eo,isOwnMessage:et,senderName:q||J||"",text:F}),O&&(0,ee.jsx)(f.xu,{marginBottom:-2,marginEnd:M&&et?2:0,marginStart:M||et?0:2,children:(0,ee.jsx)(f.xv,{align:et?"end":"start",color:"subtle",size:"100",children:eU._('Shared off Pinterest', 'ConversationPage.ConversationPageMessage.pinLandSystemMessageText', 'Eyebrow text for Pin land system messages')})}),V&&(0,ee.jsx)(ei,{inMwebThreadsExp:en,isOwnMessage:et,pinHasText:!!F,pinKey:V,slotIndex:u}),U&&(0,ee.jsx)(eG,{board:{coverPin:U.coverPin&&{imageUrl:U.coverPin.imageUrl},entityId:U.entityId,imageCoverHdUrl:U.imageCoverHdUrl,name:U.name,pinCount:U.pinCount,pinThumbnailUrls:U.pinThumbnailUrls,sectionCount:U.sectionCount,url:U.url},locale:L}),Z&&(0,ee.jsx)(eD,{user:{entityId:Z.entityId,imageLargeUrl:Z.imageLargeUrl,username:Z.username,fullName:Z.fullName,thumbnails:e8}}),B&&(0,ee.jsx)(ez,{userDidIt:{details:B.details,entityId:B.entityId,pin:B.pin,images150x:null==(l=B.images150x)?void 0:l.map(function(e){return{height:e.height,width:e.width,url:e.url}})}}),P&&(0,ee.jsx)(e5,{endPositionPx:Y?66:8,i18n:eU,onTap:eq,zIndex:eB}),ej&&(0,ee.jsx)(s.Fragment,{children:eQ})]})}),e9=b?(0,ee.jsxs)(f.kC,{alignItems:"end",direction:"row",justifyContent:"start",children:[(0,ee.jsx)(f.xu,{marginEnd:2,children:(0,ee.jsx)(eO.Z,{accessibilityLabel:eU._('View user profile', 'ConversationPage.ConversationPageMessage.ViewUserProfileTapArea', 'Tap area to redirect to the user profile of the message author'),onTouch:function(){J&&C("/".concat(J,"/"))},pressState:"none",rounding:2,children:(0,ee.jsx)(f.xu,{marginBottom:2,children:(0,ee.jsx)(eP.qE,{color:T,name:null!=X?X:"",size:"sm",src:null!=Q?Q:void 0})})})}),e4]}):e4,e7=(i=e$(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return em(!1),eu(!1),n=x.entityId,r=ej,eA(t),e.prev=5,e.next=8,(0,h.Z)({url:"/v3/conversations/messages/".concat(n,"/"),method:"POST",data:{reaction_text:t}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),eA(r);case 13:case"end":return e.stop()}},e,null,[[5,10]])})),function(e){return i.apply(this,arguments)}),te=(a=e$(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ef(!1),t=x.entityId,e.prev=2,e.next=5,(0,h.Z)({url:"/v3/conversations/messages/".concat(t,"/"),method:"DELETE"});case 5:k((null==(n=x.conversation)?void 0:n.entityId)||"",t),ea(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),z(function(t){var n=t.hideToast;return(0,ee.jsx)(eP.FN,{onHide:n,text:(0,m.Z)(e.t0,"message_detail")||(0,m.Z)(e.t0,"message")||eU._('Failed to delete message.', 'ConversationPageMessage.ConfirmDeleteMessage.errorToast.text', 'Error during message deletion'),type:"error"})});case 12:case"end":return e.stop()}},e,null,[[2,9]])})),function(){return a.apply(this,arguments)});return(0,ee.jsxs)(s.Fragment,{children:[0===u&&(0,ee.jsx)(f.xu,{minHeight:N.fc}),ey&&(ey?(0,ee.jsx)(f.mh,{zIndex:eY,children:(0,ee.jsx)(f.J2,{anchor:ek.current,idealDirection:"up",onDismiss:function(){return em(!1)},size:"flexible",children:(0,ee.jsx)(eR,{handleReactionTrayClick:e7})})}):null),es&&(0,ee.jsx)(eN,{handleDeleteClick:function(){ef(!0)},handleReactionClick:e7,handleShareClick:function(){return eg(!0)},isOwnMessage:et,message:x,onDismiss:function(){return eu(!1)},pinKey:V}),ed&&(0,ee.jsx)(ew.Z,{handleCancel:function(){ef(!1)},handleConfirm:te}),(0,ee.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:eT?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},"data-test-id":"message-item-container",direction:"row",display:"flex",marginBottom:p,children:[et&&(0,ee.jsx)(f.xu,{flex:"grow"}),0===u&&et?(0,ee.jsx)(f.xu,{direction:"column",display:"flex",maxWidth:"100%",overflow:ej?"visible":"hidden",position:"relative",children:(0,ee.jsx)(eE.Z,{children:e9})}):e9]}),_&&(0,ee.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{left:40,maxWidth:"calc(100% - 40px)"}},marginBottom:1,maxWidth:"100%",children:(0,ee.jsx)(f.xv,{color:"default",lineClamp:1,size:"100",children:X})}),y&&(0,ee.jsx)(f.xu,{display:"flex",justifyContent:"center",paddingY:8,width:"100%",children:(0,ee.jsx)(f.xv,{color:"subtle",size:"100",children:H&&(0,eV.Z)(H,L)})}),eb&&(Y||U||Z||B)&&function(){var e,t,n;if(Y)e=98,t=Y.entityId,n=1;else if(U)e=1078,t=U.entityId,n=2;else if(Z)e=1079,t=Z.entityId,n=3;else{if(!B)return null;e=1222,t=B.entityId,n=6}return(0,ee.jsx)(K.Z,{children:(0,ee.jsx)(e0,{clientTrackingParams:eW,component:55,element:e,isOpen:!0,objectId:t,objectType:n,onDismiss:function(){eg(!1)},viewParameter:203,viewType:42})})}()]})}var e3=n(17455);function e8(e){return(e8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e9(e){var t=e.messages,n=e.viewerId;if(!n)return null;for(var r=0;r<t.length;r+=1){var o=t[r];if(o){var i,a=null==(i=o.sender)?void 0:i.entityId;if(2!==o.deletedBy&&a!==n)return t[r].entityId.toString()}}return null}var e7=(void 0!==l||(l=n(633841)).hash&&"6ff3235714adeddcc392aed4c207aba4"!==l.hash&&console.error("The definition of 'ConversationPageMessageList_conversationMessages' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function te(e){var t=e.graphqlRef,n=(0,V.useFragment)(e7,t),r=(0,e3.Z)({messages:n.map(function(e){return{createdMs:e.createdMs,sender:e.sender,messageType:e.messageType,hasPin:!!e.pin}})}),o=r.shouldRenderUserAvatarForIndex,i=r.shouldRenderUserFullNameForIndex,a=r.shouldRenderTimestampForIndex,l=r.messageContentMarginBottom,u=r.shouldRenderPinLandSystemMessageForIndex,c=(0,S.Z)().checkExperiment,d=e9({messages:n,viewerId:(0,g.Z)().id});return(0,ee.jsx)(s.Fragment,{children:n.map(function(e,t){return(0,ee.jsx)(e6,{index:t,messageContentMarginBottom:l(t),messageKey:{type:"GraphQL",data:e},shouldRenderPermanentEntryPointForReaction:e.entityId===d,shouldRenderPinLandSystemMessage:u(t,c,!0),shouldRenderTimestamp:a(t),shouldRenderUserAvatar:o(t),shouldRenderUserFullName:i(t,c,!0)},e.entityId)})})}function tt(e){var t,n=e.conversationId,r="222x",o=((null==(t=(0,A.Z)(n))?void 0:t.messages)||[]).slice().reverse().map(function(e){var t,n,o,i,a,l,s,u,c,d,f,p,y,m,h,b,g,v,_,P,S,O,x,E,w,j,A,I,T;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=e8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e8(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({legacyData:e,board:e.board?{coverPin:{imageUrl:null==(t=e.board.cover_pin)?void 0:t.image_url},entityId:null!=(n=e.board.id)?n:"",imageCoverHdUrl:null!=(o=e.board.image_cover_hd_url)?o:null,name:null!=(i=e.board.name)?i:null,pinCount:null!=(a=e.board.pin_count)?a:null,pinThumbnailUrls:null!=(l=e.board.pin_thumbnail_urls)?l:null,sectionCount:null!=(s=e.board.section_count)?s:null,url:null!=(u=e.board.url)?u:null}:null,createdMs:null!=(c=e.created_ms.toString())?c:null,deletedBy:null!=(d=e.deleted_by)?d:null,entityId:null!=(f=e.id)?f:"",pin:null!=(p=null==(y=e.pin)?void 0:y.id)?p:"",hasPin:!!e.pin,messageType:e.message_type,sender:e.sender?{entityId:null!=(m=e.sender.id)?m:"",firstName:null!=(h=e.sender.first_name)?h:null,fullName:null!=(b=e.sender.full_name)?b:null,imageLargeUrl:null!=(g=e.sender.image_large_url)?g:null,username:null!=(v=e.sender.username)?v:null}:null,text:null!=(_=e.text)?_:null,user:e.user?{entityId:null!=(P=e.user.id)?P:"",username:null!=(S=e.user.username)?S:null,fullName:null!=(O=e.user.full_name)?O:null,imageLargeUrl:null!=(x=e.user.image_large_url)?x:null,recentPinImages:null!=(E=e.user.recent_pin_images)&&E[r]?e.user.recent_pin_images[r].map(function(e){var t,n,r;return{height:null!=(t=e.height)?t:null,url:null!=(n=e.url)?n:null,width:null!=(r=e.width)?r:null}}):null,contextualPinImageUrls:null!=(w=e.user)&&null!=(j=w.contextual_pin_image_urls)&&j[r]?e.user.contextual_pin_image_urls[r].map(function(e){var t,n,r;return{height:null!=(t=e.height)?t:null,url:null!=(n=e.url)?n:null,width:null!=(r=e.width)?r:null}}):null}:null,userDidItData:e.user_did_it_data?{details:null!=(A=e.user_did_it_data.details)?A:null,entityId:null!=(I=e.user_did_it_data.id)?I:"",pin:e.user_did_it_data.pin?{entityId:e.user_did_it_data.pin.id}:null,images150x:e.user_did_it_data.images?e.user_did_it_data.images.map(function(e){var t,n,r;return{height:null!=(t=e["150x150"].height)?t:null,width:null!=(n=e["150x150"].width)?n:null,url:null!=(r=e["150x150"].url)?r:null}}):null}:null,reactions:null!=(T=e.reactions)?T:null},e_.tx)}),i=(0,e3.Z)({messages:o.map(function(e){var t,n=e.createdMs,r=e.sender,o=e.messageType,i=e.hasPin;return{createdMs:n,sender:{entityId:null!=(t=null==r?void 0:r.entityId)?t:""},messageType:o,hasPin:i}})}),a=i.shouldRenderUserAvatarForIndex,l=i.shouldRenderUserFullNameForIndex,u=i.shouldRenderTimestampForIndex,c=i.messageContentMarginBottom,d=i.shouldRenderPinLandSystemMessageForIndex,f=(0,S.Z)().checkExperiment,p=e9({messages:o,viewerId:(0,g.Z)().id});return(0,ee.jsx)(s.Fragment,{children:o.map(function(e,t){return(0,ee.jsx)(e6,{index:t,messageContentMarginBottom:c(t),messageKey:{type:"Legacy",data:e.legacyData},shouldRenderPermanentEntryPointForReaction:e.entityId===p,shouldRenderPinLandSystemMessage:d(t,f,!0),shouldRenderTimestamp:u(t),shouldRenderUserAvatar:a(t),shouldRenderUserFullName:l(t,f,!0)},e.entityId)})})}function tn(e){var t=e.dataKey;return"GraphQL"===t.type?(0,ee.jsx)(te,{graphqlRef:t.data}):(0,ee.jsx)(tt,{conversationId:t.data})}var tr=n(278054);function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ti(e){return function(e){if(Array.isArray(e))return ta(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ta(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ta(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tl(e,t){return(tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ts(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tu=function(){return!!e})()}function tc(e){return(tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function td(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){ty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ty(e,t,n){return(t=tm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tm(e){var t=function(e,t){if("object"!=to(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=to(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==to(t)?t:t+""}var th=new f.H3([new f.Ry(1)]);function tb(e){var t=e.conversationId,n=e.user,r=e.isPreview,o=e.handleCancel,i=(0,v.ZP)(),a=(0,u.I0)(),l=(0,w.dI)().showToast,s=(0,I.Z)().conversationDelete,c=(0,d.s0)(),f=(0,y.Z)();return(0,ee.jsx)(k.Z,tp(tp({},{handleBlock:function(){a((0,R.Ge)({id:n.id,blockSource:"message_report",blockContext:t,logContextEvent:f})),r||s(null!=t?t:"")},handleCancel:o,handleReport:function(e){p.Z.create("ConversationReportResource",{conversation_id:t,reason:e}).callCreate().then(function(){var e=i._('Thanks! Your feedback helps keep Pinterest safe.', 'conversationPage.UserReportedToast', 'Confirmation toast after user is report');l(function(t){var n=t.hideToast;return(0,ee.jsx)(b.Z,{onHide:n,text:e})})},function(){})},handleSubmit:function(){c("/inbox/")}}),{},{conversationId:t,userToBlock:{blockedByMe:n.blocked_by_me,fullName:n.full_name,id:n.id,username:n.username||""}}))}function tg(e){var t,n,r=e.inviteItem,o=e.firstUsername,i=e.countOfOtherUsers,a=(0,v.ZP)(),l=(0,w.dI)().showToast,s=(0,d.s0)(),c=r.id||"",p=(0,u.I0)(),y=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Z)({url:"/v3/contact_requests/".concat(c,"/accept/"),method:"POST"});case 3:p((0,T.A)([c])),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(function(t){var n,r=t.hideToast;return(0,ee.jsx)(b.Z,{onHide:r,text:null!=(n=(0,m.Z)(e.t0,"message"))?n:""})});case 9:case"end":return e.stop()}},e,null,[[0,6]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){td(i,r,o,a,l,"next",e)}function l(e){td(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,ee.jsx)(f.xu,{bottom:!0,position:"absolute",width:"100%",zIndex:th,children:(0,ee.jsxs)(f.xu,{borderStyle:"shadow",color:"default",direction:"column",display:"flex",marginBottom:4,marginEnd:4,marginStart:4,paddingX:6,rounding:4,children:[(0,ee.jsx)(f.xu,{paddingY:4,children:(0,ee.jsx)(f.xv,{align:"center",size:"300",children:(0,_.nk)(a._('It looks like this is the first time you\u2019ve heard from {{firstName}}{{otherUsersString}} \u2013 be careful if they ask for confidential information.', 'mobile_contact_request_modal_header', 'Mobile modal header text in conversation page warning users before accepting or declining a contact request from {{firstName}}'),{firstName:o,otherUsersString:i>0?" + ".concat(i):null})})}),(0,ee.jsx)(f.xu,{marginBottom:6,children:(0,ee.jsx)(f.xu,{marginEnd:2,children:(0,ee.jsxs)(f.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,ee.jsx)(f.zx,{accessibilityLabel:a._('Decline', 'InviteSubSection.InviteSubSectionItem.declineButton', 'Button when pressed declines request'),onClick:function(){c&&(p((0,T.O)(c,!0,!1)),p((0,C.C)(c)),s("/inbox/"))},size:"lg",text:a._('Decline', 'InviteSubSection.InviteSubSectionItem.declineButton', 'Button when pressed declines request')}),(0,ee.jsx)(f.zx,{accessibilityLabel:a._('Accept', 'InviteSubSection.InviteSubSectionItem.acceptButton', 'Button when pressed accepts request'),color:"red",onClick:function(){y()},size:"lg",text:a._('Accept', 'InviteSubSection.InviteSubSectionItem.acceptButton', 'Button when pressed accepts request')})]})})})]})})}var tv=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&tl(o,e);var t,n,r=(t=tu(),function(){var e,n=tc(o);return e=t?Reflect.construct(n,arguments,tc(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==to(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ts(e)}(this,e)});function o(e){var t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return ty(ts(t=r.call(this,e)),"state",{displayReportModal:!1,shouldPollNewMessages:!0}),t.scrollerRef=(0,s.createRef)(),t}return n=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isResourceLoaded,n=e.conversation,r=e.resetConversationPosition,o=e.conversationId,i=e.checkExperiment,a=e.navigate;if(t&&!n?a("/inbox/"):t&&(i("social_experience_holdout_2025_h1"),i("social_experience_holdout_2025_h2"),i("ce_project_habit_holdout_2025_h1"),i("inclusive_holdout_2025")),n){var l=n.position,s=this.scrollerRef.current;s&&"number"==typeof l&&(s.scrollTop=l,r(o))}}},{key:"componentWillUnmount",value:function(){var e,t=this.props,n=t.conversationId,r=t.saveConversationPosition,o=null==(e=this.scrollerRef.current)?void 0:e.scrollTop;"number"==typeof o&&r(n,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.conversation,r=t.conversationId,o=t.emails,i=t.inviteItem,a=t.users,l=t.hasNext,s=t.loadMore,u=t.isLoadingNext,c=this.state,d=c.displayReportModal,p=c.shouldPollNewMessages,y=[].concat(ti(a.map(function(e){var t=e.first_name,n=e.full_name,r=e.image_large_url,o=e.is_default_image,i=e.username;return{defaultDisplayName:null!=t?t:"",fullName:null!=n?n:"",username:null!=i?i:"",src:o?"":null!=r?r:void 0}})),ti(o.map(function(e){return{defaultDisplayName:e,fullName:e,username:"",src:void 0}})));return(0,ee.jsx)(P.default,{hasFixedHeader:!0,children:(0,ee.jsxs)(f.xu,{bottom:!0,left:!0,maxHeight:"100vh",position:"fixed",right:!0,top:!0,children:[n&&(0,ee.jsx)(ev,{onReport:a.length>0?function(){return e.setState({displayReportModal:!d})}:null,recipients:y}),p&&(0,ee.jsx)(tr.Z,{delay:N.yc,name:"ConversationMessagesResource",options:{conversation_id:r,page_size:25,refresh:!1,hide_sys_msg:!0,field_set_key:["default_with_reactions_and_deleted_by"]}}),(0,ee.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column-reverse"}},display:"flex",flex:"grow",maxHeight:"100%",paddingX:2,children:(0,ee.jsxs)(f.xu,{ref:this.scrollerRef,dangerouslySetInlineStyle:{__style:{flexDirection:"column-reverse",border:"1px solid transparent"}},"data-test-id":"messages-container",display:"flex",maxHeight:"100%",onScroll:(0,E.Z)(function(){var t=e.scrollerRef.current;if(t){var n=t.scrollHeight,r=t.scrollTop,o=t.clientHeight;!u&&l&&r+n<=o+N.gq&&s()}},N.DE),overflow:"scrollY",paddingX:2,width:"100%",children:[(0,ee.jsx)(tn,{dataKey:{type:"Legacy",data:r}}),(0,ee.jsxs)(f.xu,{direction:"column",display:"flex",justifyContent:"center",padding:2,children:[u&&l&&(0,ee.jsx)(f.xu,{height:N.br}),(0,ee.jsx)(f.xH,{accessibilityLabel:this.props.i18n._('Loading More Conversation Messages', 'ConversationPage.ConversationMessages.Spinner', 'Spinner that shows when users scroll up to fetch more messages'),show:u&&l})]}),!u&&!l&&(0,ee.jsx)(ed.Z,{recipients:y})]})}),n&&i?(0,ee.jsx)(tg,{countOfOtherUsers:a.length-1,firstUsername:a[0]&&a[0].username||"",inviteItem:i}):(0,ee.jsx)(ec,{conversationId:r,pauseMessagePolling:function(){return e.setState({shouldPollNewMessages:!1})},resumeMessagePolling:function(){return e.setState({shouldPollNewMessages:!0})},scrollToBottom:function(){var t;return null==(t=e.scrollerRef.current)?void 0:t.scrollIntoView({behavior:"smooth"})}}),d&&!!a[0]&&(0,ee.jsx)(tb,{conversationId:r,handleCancel:function(){return e.setState({displayReportModal:!1})},isPreview:!!(n&&i),user:a[0]})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tm(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.PureComponent);function t_(){var e=(0,v.ZP)(),t=(0,d.s0)(),n=(0,g.Z)().id,r=(0,S.Z)().checkExperiment,o=(0,c.$B)().params.conversation_id||"",i=(0,O.Z)({name:"ContactRequestsResource",options:{current_user:!0}}).isFetching,a=(0,O.Z)({name:"ConversationResource",options:{conversation_id:o}}).isFetching,l=(0,O.Z)({name:"ConversationMessagesResource",options:{conversation_id:o,page_size:25,hide_sys_msg:!0,field_set_key:["default_with_reactions_and_deleted_by"]}}).isFetching,s=(0,u.v9)(function(e){return Object.values(e.contactRequests||{}).find(function(e){return e.conversation&&e.conversation.id===o})}),f=(0,A.Z)(o),p=(0,I.Z)(),y=p.saveConversationPosition,m=p.resetConversationPosition,h=(null==f?void 0:f.emails)||[],b=((null==f?void 0:f.users)||[]).filter(Boolean).filter(function(e){return e.id!==n}),_=(0,O.Z)({name:"ConversationMessagesResource",options:{conversation_id:o,page_size:25,hide_sys_msg:!0,field_set_key:["default_with_reactions_and_deleted_by"]}}),P=_.isFetching,E=_.fetchMore,w=_.isAtEnd;return(0,ee.jsx)(x.Z,{children:(0,ee.jsx)(tv,{checkExperiment:r,conversation:f,conversationId:o,emails:h,hasNext:!w,i18n:e,inviteItem:s,isLoadingNext:P,isResourceLoaded:!a&&!i&&!l,loadMore:E,navigate:t,resetConversationPosition:m,saveConversationPosition:y,users:b})})}var tP=function(){var e=(0,j.HG)();return!(0,g.Z)().isAuth||e?(0,ee.jsx)(d.Fg,{replace:!0,to:"/"}):(0,ee.jsx)(t_,{})}},418672:function(e,t,n){"use strict";var r=n(72010),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return r.isMemo(e)?a:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(y){var o=p(n);o&&o!==y&&e(t,o,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var l=s(t),m=s(n),h=0;h<a.length;++h){var b=a[h];if(!i[b]&&!(r&&r[b])&&!(m&&m[b])&&!(l&&l[b])){var g=f(n,b);try{u(t,b,g)}catch(e){}}}}return t}},357291:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116;function b(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case y:return e;default:switch(e=e&&e.$$typeof){case c:case p:case u:return e;default:return t}}case h:case m:case i:return t}}}function g(e){return b(e)===f}t.typeOf=b,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=h,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=y,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===y||"object"===n(e)&&null!==e&&(e.$$typeof===h||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||b(e)===d},t.isConcurrentMode=g,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===h},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===l},t.isSuspense=function(e){return b(e)===y}},72010:function(e,t,n){"use strict";e.exports=n(357291)},625733:function(e,t,n){"use strict";var r=n(368245);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},64654:function(e,t,n){e.exports=n(625733)()},368245:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},807462:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,P=r?Symbol.for("react.scope"):60119;function S(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case y:return e;default:switch(e=e&&e.$$typeof){case c:case p:case b:case h:case u:return e;default:return t}}case i:return t}}}function O(e){return S(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=b,t.Memo=h,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=y,t.isAsyncMode=function(e){return O(e)||S(e)===d},t.isConcurrentMode=O,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===b},t.isMemo=function(e){return S(e)===h},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===l},t.isSuspense=function(e){return S(e)===y},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===y||e===m||"object"===n(e)&&null!==e&&(e.$$typeof===b||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===_||e.$$typeof===P||e.$$typeof===g)},t.typeOf=S},637520:function(e,t,n){"use strict";e.exports=n(807462)},956998:function(e,t){"use strict";function n(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}t.Z=function(e,t){void 0===t&&(t="");var o,i=e&&e.split("/")||[],a=t&&t.split("/")||[],l=e&&n(e),s=t&&n(t),u=l||s;if(e&&n(e)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var c=a[a.length-1];o="."===c||".."===c||""===c}else o=!1;for(var d=0,f=a.length;f>=0;f--){var p=a[f];"."===p?r(a,f):".."===p?(r(a,f),d++):d&&(r(a,f),d--)}if(!u)for(;d--;)a.unshift("..");!u||""===a[0]||a[0]&&n(a[0])||a.unshift("");var y=a.join("/");return o&&"/"!==y.substr(-1)&&(y+="/"),y}},921825:function(e,t,n){"use strict";n.d(t,{$:function(){return b},G:function(){return g}});var r=n(586659),o=n(872555),i=n(650533),a=n(963489),l=n(274320),s=n(15667);function u(e){var t={result:{kind:"Pending",promise:e},read:function(){var e=t.result;switch(e.kind){case"Pending":throw e.promise;case"Ok":return e.value;case"Err":throw e.error;default:throw Error("Unexpected case")}}};return e.then(function(e){t.result={kind:"Ok",value:e}}).catch(function(e){t.result={kind:"Err",error:e}}),t}var c={"/collage-creation-tool":{loader:function(){return Promise.all([n.e("38611"),n.e("50444")]).then(n.bind(n,31156)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("70253"),n.e("14656"),n.e("16914"),n.e("38611"),n.e("32060"),n.e("97569"),n.e("9610"),n.e("1773"),n.e("1671"),n.e("55653"),n.e("76201")]).then(n.bind(n,298742)).then(function(e){return e.default})}},"/ideas":{loader:function(){return Promise.all([n.e("25418"),n.e("996")]).then(n.bind(n,589382)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("79159"),n.e("57308"),n.e("47336")]).then(n.bind(n,671804)).then(function(e){return e.default})}},"/pin/:id/analytics":{loader:function(){return n.e("62315").then(n.bind(n,540803)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("46174"),n.e("59098"),n.e("97061"),n.e("50031"),n.e("16829")]).then(n.bind(n,743936)).then(function(e){return e.default})}},"/today/":{loader:function(){return n.e("42207").then(n.bind(n,489815)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("55176"),n.e("79159"),n.e("14512"),n.e("84326"),n.e("91678")]).then(n.bind(n,682910)).then(function(e){return e.default})}}};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=n(603316),p=n(382718),y=(0,r.createContext)(null),m=/(^\/)|:|(\/$)/g,h=/\//g,b=function(e){var t=e.children,n=(0,o.useRelayEnvironment)(),u=(0,l.r)().checkExperiment,c=(0,s.B)(),d=(0,r.useRef)({}),b=(0,r.useCallback)(function(e){var t=_(v(d.current,e),e,"Both",n,u,c),r=t.rootComponent,o=t.loadedValueState;return"NotYetRendered"===o.performanceLoggingState.kind&&(o.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:r,onEntrypointDataLoaded:function(t){if("InitiallyRendered"===o.performanceLoggingState.kind){var n=Date.now();(0,f.LY)("entrypointRouter.routeTiming."+e.kind.replace(m,"").replace(h,"_"),n-o.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:null!=t?t:{}}),o.performanceLoggingState={kind:"Complete"}}},loadedValue:o.loadedValue}},[u,n,c]),g=(0,a.s0)(),P=(0,r.useCallback)(function(e){_(v(d.current,e),e,"Both",n,u,c),g((0,i.Gn)(e.kind,e.routeParams))},[g,u,n,c]),S=(0,r.useCallback)(function(e,t){var r=v(d.current,e);"Both"===t&&_(r,e,t,n,u,c)},[u,n,c]),O=(0,r.useMemo)(function(){return{loadAndReadDuringRender__INTERNAL:b,preload:S,imperativelyNavigate:P}},[b,P,S]);return(0,p.jsx)(y,{value:O,children:t})};function g(){var e=(0,r.useContext)(y);if(null==e)throw Error("Missing entrypoint context");return e}function v(e,t){var n,r,o=c[t.kind];if(null==o)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return null!=(r=e[n=t.kind])?r:e[n]={rootComponent:u(o.rootComponent()),loadedValueStates:{},loader:u(o.loader())}}function _(e,t,n,r,o,i){var a,l,s=JSON.stringify(function e(t){if(!t||"object"!==d(t))return t;if(Array.isArray(t))return t.map(e);for(var n=Object.keys(t).sort(),r={},o=0;o<n.length;o++)r[n[o]]=e(t[n[o]]);return r}(t.routeParams)),c=e.loadedValueStates,p=e.rootComponent,y=e.loader;return{rootComponent:p,loadedValueState:null!=(l=c[s])?l:c[s]=(a=t.kind,setTimeout(function(){var e=c[s];null!=e&&(0,f.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:a,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){var n,r,o=e.result;switch(o.kind){case"Pending":return u(o.promise.then(t));case"Ok":return{result:{kind:"Ok",value:n=t(o.value)},read:function(){return n}};case"Err":return{result:{kind:"Err",error:r=o.error},read:function(){throw r}};default:throw Error("Unexpected case")}}(y,function(e){return e({routeParams:t.routeParams,relayEnvironment:r,checkExperiment:o,requestContext:i})}),performanceLoggingState:{kind:"NotYetRendered"}})}}},934041:function(e,t,n){"use strict";n.d(t,{I:function(){return a},t:function(){return i}});var r=n(586659),o=n(963489),i=(0,r.createContext)(null);function a(){return(0,o.TH)()===(0,r.useContext)(i)}},723203:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/conversation/[conversation_id]",function(){return n(216647).Z}])},621576:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},448006:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},350402:function(e,t,n){var r=n(399368);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},399368:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},325275:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(949621);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},846616:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{Z:function(){return r}})},90102:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(342075);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},655347:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(325275);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},336834:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{Z:function(){return r}})},342075:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},949621:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(115670);function o(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,r.Z)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},115670:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},325786:function(e,t,n){"use strict";function r(e,t){if(!e)throw Error("Invariant failed")}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,["12041","25418","27861","30338","33171","38340","39174","41642","43836","44801","51972","5827","73967","8709","88038","92911"],function(){return e(e.s=723203)}),e.O()}]);