(self.legacyJsonp=self.legacyJsonp||[]).push([["89608"],{576140:function(e,t,n){"use strict";n.d(t,{q:function(){return y}});var r=n(586659),o=n(581722),i=n(963489),u=n(400267),a=n(821342),c=n(274320),l=n(378888),s=n(469817),f=n(76086),d=n(261228);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(){var e=(0,c.r)().checkExperiment,t=e("ap_dweb_nux_in_sync_closeup_request",{dangerouslySkipActivation:!0}).group,n="control_baseline"===t||"enabled_closeup"===t,p=e("ap_dweb_nux_revamp_v3_iteration",{dangerouslySkipActivation:!0}).anyEnabled,m=e("activation_foundation_dweb_autofollow_v2",{dangerouslySkipActivation:!0}).anyEnabled,y=(0,i.TH)(),_=(0,a.Z)(),v=(0,o.I0)(),g=(0,f.u)(),h=g.getNuxSignals,w=g.selectedUseCases,P=g.selectedPins,S=g.shouldUseNewReducerState?h():(0,s.rQ)(w,P);return(0,r.useCallback)(function(){var e,t=_.isAuth&&_.firstHomeFeedRequestAfterNux,r=(0,u.Z)({viewerIsPartner:_.isAuth&&_.isPartner,inNux:(t&&v((0,d.H5)(!1)),t),staticFeed:!!(y&&(y.pathname.includes("pwt_performance_testing")||void 0!==(0,l.mB)(y.search).pwt_performance_testing)),inNewsHub:null!=(e=null==y?void 0:y.pathname.includes("news_hub"))&&e});return{name:"UserHomefeedResource",options:(n||p||m)&&S.length>0?b(b({},r),{},{nux_signals_map:S}):r}},[v,_,y,n,p,m,S])}},822464:function(e,t,n){"use strict";n.d(t,{P:function(){return c},Z:function(){return l}});var r=n(963489),o=n(121836),i=n(238589);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=["/","/homefeed/"];function c(){var e=(0,i.Nl)().getItem(o.Qt);return e&&"object"===u(e)&&"time"in e&&"scrollPosition"in e?e:null}function l(){var e=(0,r.TH)().pathname,t=(0,r.ur)();if(a.includes(e)&&"POP"!==t){var n=c(),o=null!=n&&n.time?Date.now()-n.time:0;return{shouldMaintainHomefeed:o>0&&o/6e4<2.5,lastHFScrollPosition:null==n?void 0:n.scrollPosition}}return{shouldMaintainHomefeed:!1}}},230543:function(e,t,n){"use strict";n.d(t,{c:function(){return o},t:function(){return i}});var r=n(598849);function o(e){return(0,e.children)((0,r.Z)().height)}function i(){return(0,r.Z)().height}},598849:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=(0,n(729434).Z)("Header"),o=r.Provider;t.Z=r.get},652030:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(15667),o=n(647709),i=n(446372),u=n(737427),a=n(78762),c=n(382718),l=(0,a.Z)(function(){return Promise.all([n.e("64955"),n.e("2167")]).then(n.bind(n,170180))},void 0,function(e){return 170180},"UnauthHomePage",function(e){return ["64955","2167"]});function s(){var e=(0,o.ZP)();return(0,r.B)().isAuthenticated?"desktop"===e?(0,c.jsx)(i.Z,{}):(0,c.jsx)(u.Z,{}):(0,c.jsx)(l,{})}},261228:function(e,t,n){"use strict";n.d(t,{H5:function(){return d},Nq:function(){return f},Q_:function(){return p},bJ:function(){return m}});var r=n(575108),o=n(657043),i=n(600861),u=n(979922);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t,n,a=e.updateUserData,l={},f=null;if(a.gender&&[u.W1,u.UV].includes(a.gender)?l.gender=a.gender:a.custom_gender&&(l.custom_gender=a.custom_gender,l.customGender=a.custom_gender,l.gender=u.vF),a.age?l.age=a.age:a.birthdate&&(l.birthdate=a.birthdate),a.locale&&(l.locale=a.locale),a.country&&(l.country=a.country),a.business_vertical&&(l.businessVertical=a.business_vertical),a.business_vertical_other&&(l.businessVerticalOther=a.business_vertical_other),a.number_employees&&(l.numberEmployees=a.number_employees),a.first_name&&(l.firstName=a.first_name),a.last_name&&(l.lastName=a.last_name),a.full_name&&(l.fullName=a.full_name),a.parent_email&&(l.parentEmail=a.parent_email),a.website_url&&(l.websiteUrl=a.website_url),a.listed_website_url&&(l.listedWebsiteUrl=a.listed_website_url),void 0!==a.allow_analytic_cookies&&(l.allow_analytic_cookies=a.allow_analytic_cookies),void 0!==a.allow_analytic_cookies&&(l.allow_marketing_cookies=a.allow_marketing_cookies),void 0!==a.allow_analytic_cookies&&(l.allow_personalization_cookies=a.allow_personalization_cookies),a.advertising_intent||a.business_name||a.account_type||a.business_goals||a.selected_ecommerce_platforms||a.enable_profile_message||a.enable_profile_address){var d=a.account_type,p=a.advertising_intent,m=a.business_name,b=a.business_goals,y=a.enable_profile_message,_=a.enable_profile_address,v=a.selected_ecommerce_platforms;f=s(s(s(s(s(s(s({},p?{advertising_intent:p}:{}),d?{account_type:d}:{}),m?{business_name:m}:{}),b?{business_goals:b}:{}),y?{enable_profile_message:y}:{}),_?{enable_profile_address:_}:{}),v?{selected_ecommerce_platforms:v}:{})}f&&(l.partner=f,f.business_name&&(l.firstName=f.business_name));var g=r.Z.create("UserSettingsResource",s(s({},a),{},{surface_tag:i.i.NUX})).callUpdate();return t=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g;case 3:return n=e.sent,t({type:"UPDATE_USER_SET",payload:l}),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(Error((0,o.Z)(e.t0,"message"))));case 11:case"end":return e.stop()}},e,null,[[0,8]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function u(e){c(i,r,o,u,a,"next",e)}function a(e){c(i,r,o,u,a,"throw",e)}u(void 0)})},function(e){return n.apply(this,arguments)}}function d(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function p(e,t){return function(){r.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}}},266303:function(e,t,n){"use strict";n(586659),t.Z=n(652030).Z},921825:function(e,t,n){"use strict";n.d(t,{$:function(){return _},G:function(){return v}});var r=n(586659),o=n(872555),i=n(650533),u=n(963489),a=n(274320),c=n(15667);function l(e){var t={result:{kind:"Pending",promise:e},read:function(){var e=t.result;switch(e.kind){case"Pending":throw e.promise;case"Ok":return e.value;case"Err":throw e.error;default:throw Error("Unexpected case")}}};return e.then(function(e){t.result={kind:"Ok",value:e}}).catch(function(e){t.result={kind:"Err",error:e}}),t}var s={"/collage-creation-tool":{loader:function(){return Promise.all([n.e("38611"),n.e("50444")]).then(n.bind(n,31156)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("70253"),n.e("14656"),n.e("16914"),n.e("38611"),n.e("32060"),n.e("97569"),n.e("9610"),n.e("1773"),n.e("1671"),n.e("55653"),n.e("76201")]).then(n.bind(n,298742)).then(function(e){return e.default})}},"/ideas":{loader:function(){return Promise.all([n.e("25418"),n.e("996")]).then(n.bind(n,589382)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("79159"),n.e("57308"),n.e("47336")]).then(n.bind(n,671804)).then(function(e){return e.default})}},"/pin/:id/analytics":{loader:function(){return n.e("62315").then(n.bind(n,540803)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("46174"),n.e("59098"),n.e("97061"),n.e("50031"),n.e("16829")]).then(n.bind(n,743936)).then(function(e){return e.default})}},"/today/":{loader:function(){return n.e("42207").then(n.bind(n,489815)).then(function(e){return e.default})},rootComponent:function(){return Promise.all([n.e("25418"),n.e("55176"),n.e("79159"),n.e("14512"),n.e("84326"),n.e("91678")]).then(n.bind(n,682910)).then(function(e){return e.default})}}};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=n(603316),p=n(382718),m=(0,r.createContext)(null),b=/(^\/)|:|(\/$)/g,y=/\//g,_=function(e){var t=e.children,n=(0,o.useRelayEnvironment)(),l=(0,a.r)().checkExperiment,s=(0,c.B)(),f=(0,r.useRef)({}),_=(0,r.useCallback)(function(e){var t=h(g(f.current,e),e,"Both",n,l,s),r=t.rootComponent,o=t.loadedValueState;return"NotYetRendered"===o.performanceLoggingState.kind&&(o.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:r,onEntrypointDataLoaded:function(t){if("InitiallyRendered"===o.performanceLoggingState.kind){var n=Date.now();(0,d.LY)("entrypointRouter.routeTiming."+e.kind.replace(b,"").replace(y,"_"),n-o.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:null!=t?t:{}}),o.performanceLoggingState={kind:"Complete"}}},loadedValue:o.loadedValue}},[l,n,s]),v=(0,u.s0)(),w=(0,r.useCallback)(function(e){h(g(f.current,e),e,"Both",n,l,s),v((0,i.Gn)(e.kind,e.routeParams))},[v,l,n,s]),P=(0,r.useCallback)(function(e,t){var r=g(f.current,e);"Both"===t&&h(r,e,t,n,l,s)},[l,n,s]),S=(0,r.useMemo)(function(){return{loadAndReadDuringRender__INTERNAL:_,preload:P,imperativelyNavigate:w}},[_,w,P]);return(0,p.jsx)(m,{value:S,children:t})};function v(){var e=(0,r.useContext)(m);if(null==e)throw Error("Missing entrypoint context");return e}function g(e,t){var n,r,o=s[t.kind];if(null==o)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return null!=(r=e[n=t.kind])?r:e[n]={rootComponent:l(o.rootComponent()),loadedValueStates:{},loader:l(o.loader())}}function h(e,t,n,r,o,i){var u,a,c=JSON.stringify(function e(t){if(!t||"object"!==f(t))return t;if(Array.isArray(t))return t.map(e);for(var n=Object.keys(t).sort(),r={},o=0;o<n.length;o++)r[n[o]]=e(t[n[o]]);return r}(t.routeParams)),s=e.loadedValueStates,p=e.rootComponent,m=e.loader;return{rootComponent:p,loadedValueState:null!=(a=s[c])?a:s[c]=(u=t.kind,setTimeout(function(){var e=s[c];null!=e&&(0,d.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:u,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){var n,r,o=e.result;switch(o.kind){case"Pending":return l(o.promise.then(t));case"Ok":return{result:{kind:"Ok",value:n=t(o.value)},read:function(){return n}};case"Err":return{result:{kind:"Err",error:r=o.error},read:function(){throw r}};default:throw Error("Unexpected case")}}(m,function(e){return e({routeParams:t.routeParams,relayEnvironment:r,checkExperiment:o,requestContext:i})}),performanceLoggingState:{kind:"NotYetRendered"}})}}},405503:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/index",function(){return n(266303).Z}])}},function(e){e.O(0,["12041","14512","15813","25418","27471","2764","30338","33171","33364","34290","38340","39174","39176","41642","43836","51036","51972","55176","6275","73967","82823","84326","8709","88038","88039","88104","92911"],function(){return e(e.s=405503)}),e.O()}]);