(self.legacyJsonp=self.legacyJsonp||[]).push([["34940"],{764227:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="76b22cc5d658befe1dc27454d3aee77f",n.default=r},853213:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="69ffcdea57a7778d2ebbcd41c276c0d0",n.default=i},645632:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};r.hash="60ba8f292ef82335c3d4cbce50f362d8",n.default=r},148281:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="b3ec14d29962e56f80dd52e7e6d7a6d9",n.default=i},205725:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};i.hash="475036dcb56a51d3552313200b8c9d45",n.default=i},727382:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null}],type:"Pin",abstractKey:null};i.hash="1612c2df94f42990b3d4f6ccede72a70",n.default=i},252031:function(e,n,t){"use strict";t.r(n);var r,i,o,a,l,s,c,u=(r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],i=[{kind:"Variable",name:"pin",variableName:"pinId"}],a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},a,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s,a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:c,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:c,storageKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"07d289e6c922ebc4ed21efcdd6fb425983d982a2c8a0484ddaf1b91db1391adf",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});u.hash="76093586a269ca0330e25a57bd33f665",n.default=u;var d=u.default||u;if("query"===d.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(d);else{let e=[d.params.name,d.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=d}},713443:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};r.hash="b1432f4e80d112c155f930f7ed3760cd",n.default=r},428988:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="f0b2fbadfba92480a2077999a000a308",n.default=i},182522:function(e,n,t){"use strict";t.r(n);var r,i,o,a,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l],storageKey:null}]},params:{id:"dfccee15ebd4af4563083cc11670f30e6390ba0f2d1317da3d908269f01eadba",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};s.hash="a8967078f1de7ce3a263a224d0d0e710",n.default=s;var c=s.default||s;if("query"===c.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(c);else{let e=[c.params.name,c.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=c}},377654:function(e,n,t){"use strict";t.d(n,{Rq:function(){return r},Vf:function(){return i},jd:function(){return o},oy:function(){return a}});var r=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},i=28,o=function(e){return window.innerHeight>=748&&r(e)},a=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)}},473304:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(586659),i=t(20256),o=t(937805),a=t(667835),l=t(461951),s=t(816358),c=t(516114),u=t(15667),d=t(883379),f=t(382718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==p(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function m(e){var n,t,p=e.children,h=e.footerConfig,m=e.headerConfig,y=e.height,v=e.hideOnScroll,b=e.hideOnScrollState,_=b.isHidden,x=b.updateHiddenState,P=e.isFooterHidden,S=e.noPadding,w=e.paddingX,j=e.paddingY,I=void 0===j?c.og:j,k=e.type,O=e.zIndex,T=e.isStoryPin,A=m||{},B=A.headerLimitedOverflow,E=A.ignoreObstructions,C=A.zIndexForGestaltBug,R=h||{},F=R.appUpsellFooterConfig,Z=R.footerInLego,z=R.navFooterConfig,L=!!F,D="header"===k?"top":"bottom",N=(0,a.vs)(),M=(0,u.B)().isRTL,K=(0,o.Z)().mWebCloseupRedesignEnabled,H=(0,r.useRef)(null),U=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!E){var e=H.current;U.current=B&&e&&Array.isArray(e.children)?e.children[0]:e,U.current instanceof HTMLElement&&s.Z.addObstruction(D,U.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!E&&U.current instanceof HTMLElement&&s.Z.removeObstruction(D,U.current)}},[E,B,D,N]);var W="top"===D?"relative":"fixed",G=S?0:I,V=(null!=y?y:c.R$)+((null==m?void 0:m.overrideTop)||0),Y=v||z?g({transition:Z||K?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},_||P?{transform:"translateY(".concat("top"===D?-V:V,"px)"),opacity:Z||K?0:1}:Object.freeze({})):{},q=2*("relative"===W&&(null==m||!m.noGutter)),X=q?-q:0,Q=N?a.k7:"rgba(255,255,255,.95)";N&&("header"===k?n=-1:t=-1);var J=Z?L?void 0:null!=y?y:c.R$:"100%",$=Z?c.KJ:void 0,ee=null!=m&&m.isTranslucent&&Q||N?Q:l.Wmm,en=null!=m&&m.isTransparentBackground&&l.Wyp?l.Wyp:ee,et=(0,r.useMemo)(function(){return g({height:"footer"===k&&K?"calc(".concat(J," + env(safe-area-inset-bottom))"):J},K&&"footer"===k?{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(4*(G||0),"px)")}:Object.freeze({}))},[K,J,k,G]),er=(0,d.Z)({skipExpActivation:!0});return(0,f.jsx)(i.xu,{ref:H,bottom:"footer"===k,dangerouslySetInlineStyle:{__style:g(g(g(g(g({top:n,bottomStyle:t},!O||C?{zIndex:C||1}:Object.freeze({})),B?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({})),null!=m&&m.hasBorder?{borderBottom:c.dS}:Object.freeze({})),null!=h&&h.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),Y)},"data-test-id":k,display:L?"flex":void 0,height:y&&!Z?y:void 0,left:!0,marginEnd:Z?"auto":X,marginStart:Z?"auto":X,onTransitionEnd:function(){(v||z)&&U.current&&(_||P?s.Z.removeObstruction(D,U.current):s.Z.addObstruction(D,U.current))},position:W,right:!0,top:"header"===k,width:Z||"fixed"!==W?void 0:"100%",zIndex:C?void 0:O,children:(0,f.jsx)(i.xu,{alignItems:null!=h&&h.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:g(g(g({backgroundColor:en,paddingLeft:M||!er||T?void 0:"8px",paddingRight:M&&er&&!T?"8px":void 0},et),{},{boxShadow:K&&"footer"===k?"0 10px 0 0 ".concat(en,", ").concat(c.KJ):$,marginBottom:Z&&!(null!=z&&z.docked)?16:void 0},B?{pointerEvents:"auto"}:Object.freeze({})),null!=m&&m.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:Z||null!=h&&h.alignCenter?"flex":void 0,marginEnd:Z?"auto":void 0,marginStart:Z?"auto":void 0,paddingX:w||4*("footer"===k&&!S)+q,paddingY:G,position:"relative",rounding:Z&&!(null!=z&&z.docked)?"pill":void 0,width:z?z.footerWidth:L?void 0:"100%",children:"function"==typeof p?p({updateHiddenState:x}):p})})}},394962:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(473304),i=t(211887),o=t(382718);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["alignCenter","appUpsellFooterConfig","footerInLego","hasTopShadow","navFooterConfig"];function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e){var n=e.alignCenter,t=e.appUpsellFooterConfig,a=e.footerInLego,s=e.hasTopShadow,u=e.navFooterConfig,d=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,l);return(0,o.jsx)(i.Z,{appUpsellFooterConfig:t,hideOnScroll:d.hideOnScroll,navFooterConfig:null==u?void 0:u.scrollConfig,children:function(e){return(0,o.jsx)(r.Z,c(c({},d),{},{footerConfig:{alignCenter:n,appUpsellFooterConfig:t,footerInLego:a,hasTopShadow:s,navFooterConfig:u},hideOnScrollState:e,type:"footer"}))}})}},588367:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(20256),i=t(516114),o=t(473304),a=t(211887),l=t(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug","isStoryPin"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e){var n=e.hasBorder,t=e.headerLimitedOverflow,s=e.ignoreObstructions,u=e.isTranslucent,f=e.isTransparentBackground,p=e.noGutter,h=e.overrideTop,g=e.useRoundedCorners,m=e.zIndexForGestaltBug,y=e.isStoryPin,v=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,c),b=v.noPadding,_=v.paddingY,x=void 0===_?i.og:_,P=v.zIndex;return(0,l.jsx)(r.Le,{height:t?i.LV+2*(b?0:x)*4:void 0,top:h||0,zIndex:P||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:v.hideOnScroll,children:function(e){return(0,l.jsx)(o.Z,d(d({},v),{},{headerConfig:{isTranslucent:u,isTransparentBackground:f,headerLimitedOverflow:t,hasBorder:n,ignoreObstructions:s,noGutter:p,overrideTop:h,zIndexForGestaltBug:m,useRoundedCorners:g},hideOnScrollState:e,isStoryPin:y,type:"header"}))}})})}},211887:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(586659),i=t(159527);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,n,t){return(n=d(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var n,t,r=(n=s(),function(){var e,t=c(f);return e=n?Reflect.construct(t,arguments,c(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==o(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var e,n,t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return u(l(n=r.call.apply(r,[this].concat(o))),"state",{isHidden:!!n.props.appUpsellFooterConfig||!!(null!=(e=n.props.navFooterConfig)&&e.isDockedNavOnPlp)}),u(l(n),"lastScrollPos",0),u(l(n),"updateHiddenState",function(e){n.reqAnimationId=window.requestAnimationFrame(function(){n.setState({isHidden:e})})}),u(l(n),"handleScroll",(0,i.Z)(function(){var e,t=n.props,r=t.appUpsellFooterConfig,i=t.navFooterConfig,o=n.state.isHidden,a=window.scrollY,l=a-n.lastScrollPos,s="none",c=document.documentElement||{},u=c.scrollHeight,d=c.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(s=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||u-d)-Math.max(l,20)?"end":"none");var f=null!=i&&i.isModal?0:55;r?l>20&&o&&a>=500?r.shouldShowAfterScroll()&&(n.updateHiddenState(!1),null==i||i.onScroll(!1)):(l<-20&&!o||a<=f)&&(n.updateHiddenState(!0),null==i||i.onScroll(!0)):null!=(e=n.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===s&&!o||a<=f?(n.updateHiddenState(!0),null==i||i.onScroll(!0)):(a>f||"end"===s)&&o&&(n.updateHiddenState(!1),null==i||i.onScroll(!1)):(l<-20||"start"===s)&&o||a<=f?(n.updateHiddenState(!1),null==i||i.onScroll(!1)):(l>20||"end"===s)&&!o&&(n.updateHiddenState(!0),null==i||i.onScroll(!0)),n.lastScrollPos=a},30)),n}return t=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var n,t,r,i;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(n=e.navFooterConfig)&&n.isDockedNavOnPlp)&&null!=(t=this.props.navFooterConfig)&&t.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(i=this.props.navFooterConfig)&&i.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.navFooterConfig,r=this.state.isHidden;return n({isHidden:!(null!=t&&t.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},914061:function(e,n,t){"use strict";t.r(n);var r=t(20256),i=t(93966),o=t(377654),a=t(657389),l=t(15667),s=t(382718);n.default=function(e){var n=e.children,t=e.dataLayoutShiftBoundaryId,c=e.hasFixedHeader,u=e.hasGutter,d=void 0===u||u,f=e.height,p=e.showKeychainError,h=e.useViewport,g=(0,l.B)(),m=(0,o.jd)(g.userAgent.platform)?o.Vf:0;return(0,s.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:void 0!==h&&h?"calc(100vh - ".concat(m,"px)"):f,paddingX:d?i.D6:void 0,paddingY:void 0!==c&&c||void 0!==p&&p?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:n})})}},516114:function(e,n,t){"use strict";t.d(n,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return o},dS:function(){return s},og:function(){return i}});var r=64,i=3,o=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},978417:function(e,n,t){"use strict";t.d(n,{AS:function(){return c},Ps:function(){return o},Q6:function(){return f},le:function(){return p},qe:function(){return u},yU:function(){return d}});var r=t(503246),i=t(734215),o=function(e,n){return e.length===n.length&&e.every(function(e,t){return(0,i.Z)(e,n[t])})},a=function(e,n){return e.length===n.length&&e.every(function(e,t){return e===n[t]})},l=function(e){return e};function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return function(r){var i=[];return function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var s=i.find(function(e){return n(e.args,t(a))});if(s)return s.result;var c=r.apply(void 0,a);return i.push({args:t(a),result:c}),e&&i.length>e&&i.shift(),c}}}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=[];return{memoize:function(i){return function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var s=t(a),c=r.find(function(e){return n(e.args,s)});if(c)return c.result;var u=i.apply(void 0,a);return r.push({args:s,result:u}),e&&r.length>e&&r.shift(),u}},clearCache:function(){r=[]}}}n.ZP=s();var u=s(1),d=s(void 0,a,function(e){return[JSON.stringify(e)]}),f=s(0,o),p=s(0,function(e,n){return e.length===n.length&&e.every(function(e,t){return(0,r.ZP)(e,n[t])})})},461920:function(e,n,t){"use strict";function r(e,n){var t;if(e.error){var r=e.error,i=r.httpStatus,o=r.api_error_code,a=r.redirectUrl;(404===i||401===i&&7===o)&&(t={pathname:n?"/ideas/":"/",state:{showError:!0}}),301===i&&a&&(t={pathname:a})}return t}t.d(n,{Z:function(){return r}})},444185:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(849233),i=t(943257);function o(e){var n=null!=e?e:{name:r.fY,options:null},t=n.enabledRouteRefresh,o=n.headers,a=n.name,l=n.noCache,s=n.options,c=n.schema,u=!e,d=(0,i.Z)({enabledRouteRefresh:t,headers:o,name:a,noCache:l,options:s,schema:c},u,!1),f=d.fetchResource,p=d.ref,h=d.fetchMore,g=d.isFetching,m=d.isLoaded,y=d.isRefreshing,v=d.refresh;return u||f(),{ref:p,fetchMore:h,isFetching:g,isLoaded:m,isRefreshing:y,refresh:v}}},374078:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(963489),i=t(821342),o=t(506662),a=t(461920),l=t(886981);function s(e){var n=(0,r.s0)(),t=(0,r.TH)(),s=!(0,i.Z)().isAuth&&(0,o.L6)(t),c=(0,l.Z)(e),u=(0,a.Z)(c,s);return u&&n(u.pathname,{replace:!0,state:u.state}),c}},762525:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(20256),i=t(382718);function o(e){var n=e.text;return(0,i.jsx)(r.xu,{display:"visuallyHidden",children:(0,i.jsx)(r.X6,{accessibilityLevel:1,children:n})})}},629315:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(20256),i=t(19585),o=t(588367),a=t(914061),l=t(477213),s=t(588836),c=t(382718);function u(e){var n=(0,i.ZP)(),t=e.backButtonIcon,u=e.errorMessage,d=e.name,f=e.onNextButtonTouch,p=e.onNameChange,h=e.selectedPinIds,g=void 0===h?[]:h,m=e.useRoundedCorners,y=g.length>0?130:64;return(0,c.jsxs)(a.default,{hasFixedHeader:!0,children:[(0,c.jsxs)(o.default,{height:y,paddingY:3,useRoundedCorners:m,children:[(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(s.Z,{color:"darkGray",icon:t||"cancel",padding:3,size:"sm"}),(0,c.jsx)(r.X6,{accessibilityLevel:1,size:"300",children:n._('Add section', 'for add board section page', 'for add board section page')}),(0,c.jsx)(r.xu,{"data-test-id":"create-section-button",children:(0,c.jsx)(r.zx,{accessibilityLabel:n._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===d.trim(),onClick:f,size:"lg",text:n._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),g&&(0,c.jsx)(l.Z,{selectedPinIds:g})]}),(0,c.jsx)(r.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,c.jsx)(r.nv,{errorMessage:u||"",id:"section-name-input",label:n._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:function(e){return p(e.event)},size:"lg",value:d})})]})}},791694:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(586659),i=t(581722),o=t(20256),a=t(821342),l=t(19585),s=t(886981),c=t(435289),u=t(214239),d=t(145127),f=t(482633),p=t(993127),h=t(382718);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function m(e){var n,t,m=e.excludeBoardId,y=e.hideSectionPickerList,v=e.onRepin,b=(0,l.ZP)(),_=(0,a.Z)(),x=(n=_.isAuth?_.username:"",(0,s.Z)({name:"BoardsResource",options:u.O.options({username:n,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,i.v9)(function(e){return(0,d.Z)(e)||[]})),P=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,n){if(e){if("string"==typeof e)return g(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=P[0],w=P[1],j=function(e,n){if(!y&&e&&n)return void w(n);v(n)};return x.length>0&&(S&&!y?(0,h.jsx)(p.Z,{boardId:null==S?void 0:S.id,repin:function(e,n){S&&v(S,n)},showSectionRep:!0}):(0,h.jsxs)(o.xu,{"data-test-id":"board-picker-row-container",children:[(0,h.jsx)(o.xu,{marginTop:3,children:(0,h.jsx)(o.xv,{children:b._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,h.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(c.T,"px")}},paddingY:3,children:x.filter(function(e){return e.id!==m}).map(function(e){return(0,h.jsx)(f.Z,{boardId:e.id,onBoardSelected:function(n){return j(n,e)}},e.id)})})]}))}},701523:function(e,n,t){"use strict";t.d(n,{Wx:function(){return L},ZP:function(){return N}});var r=t(586659),i=t(581722),o=t(963489),a=t(20256),l=t(475498),s=t(19585),c=t(394962),u=t(588367),d=t(914061),f=t(87853),p=t(435289),h=t(791694),g=t(477213),m=t(366859),y=t(60101),v=t(575108),b=t(72918),_=t(388023),x=function(e){return function(n){var t=e.source,r=e.target,i=e.pinIds;if(n({type:"PINS_MOVE",payload:e}),t.boardlessPins||r.boardId!==t.boardId){var o={board_id:r.boardId,pin_ids:i,section_id:r.sectionId};return v.Z.create("BulkEditResource",o).callUpdate()}if(r.sectionId){var a={section_id:r.sectionId,pins:i},l="BoardSectionEditResource";return v.Z.create(l,a).callUpdate().then(function(e){var t=(0,y.Fv)(e.resource_response.data,_.Z[l]);return n((0,b.XM)(l,a,e,t)),e})}var s={section_id:t.sectionId,pins:i};return v.Z.create("BoardSectionPinsResource",s).callDelete()}},P=t(987782),S=t(588836),w=t(993127),j=t(382718);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach(function(n){F(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function T(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function A(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){T(o,r,i,a,l,"next",e)}function l(e){T(o,r,i,a,l,"throw",e)}a(void 0)})}}function B(e,n){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,n,t){return(n=Z(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){var n=function(e,n){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==I(n)?n:n+""}function z(e,n,t){return e?t._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):n?t._('Saved to section!', ' - ', ' -- '):t._('Saved to board!', ' - ', ' -- ')}function L(e){var n=e.onAddNewSection,t=e.useIconWithBackground,r=(0,s.ZP)();return(0,j.jsx)(c.Z,{alignCenter:t,height:t?p.y:p.T,children:(0,j.jsx)(m.Z,{onTouch:n,pressState:"none",children:(0,j.jsxs)(a.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,j.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,j.jsx)(a.JO,{accessibilityLabel:r._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,j.jsx)(a.JO,{accessibilityLabel:r._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,j.jsx)(a.xu,{marginStart:2,children:(0,j.jsx)(a.xv,{size:"400",weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,j.jsx)(a.xu,{marginStart:3,children:(0,j.jsx)(a.xv,{weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var D=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&B(i,e);var n,t,r=(n=C(),function(){var e,t=R(i);return e=n?Reflect.construct(t,arguments,R(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==I(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return F(E(e=r.call.apply(r,[this].concat(t))),"onRepinToBoard",function(n){n.section_count?e.props.onRepinToBoardWithSections(n):e.props.repinToOtherBoard(n.id,e.props.i18n)}),e}return t=[{key:"render",value:function(){var e=this.props,n=e.boardId,t=e.boardSectionId,r=e.orginalBoardId,i=e.onAddNewSection,o=e.repin,l=e.hideBoardPickerRow,s=e.selectedPinIds,c=e.isCollaborative,f=r===n;return(0,j.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,j.jsxs)(u.default,{hasBorder:!0,height:140,children:[(0,j.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(a.xu,{column:2,children:(0,j.jsx)(S.Z,{})}),(0,j.jsx)(a.xu,{column:8,children:(0,j.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,j.jsx)(a.xu,{column:2})]}),(0,j.jsx)(g.Z,{selectedPinIds:s})]}),n&&(0,j.jsx)(w.Z,{boardId:n,hideBoardPickerRow:f&&l,originalBoardId:r,repin:o,sectionId:t}),f&&(0,j.jsxs)(a.xu,{children:[!c&&(0,j.jsx)(h.Z,{excludeBoardId:n,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,j.jsx)(L,{onAddNewSection:i})]})]})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent),N=function(e){var n,t,r=e.inSelectAll,a=e.pinIds,c=e.orginalBoardId,u=e.boardSectionId,d=e.onRefreshBoardSection,p=e.url,h=(0,f.dI)().showToast,g=(0,s.ZP)(),m=(0,o.s0)(),y=(0,i.I0)(),v=(n=A(regeneratorRuntime.mark(function e(n,t,i){var o,s,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t&&t.id,s={boardId:c,sectionId:u},f={boardId:n,sectionId:o},g=r?(0,P.Z)({source:s,target:f,excludePinIds:a}):x({source:s,target:f,pinIds:a}),c===n){e.next=10;break}return e.next=7,y(g);case 7:m(p,{}),e.next=15;break;case 10:return e.next=12,y(g);case 12:if(!d){e.next=15;break}return e.next=15,d();case 15:h(function(e){var n=e.hideToast;return(0,j.jsx)(l.Z,{onHide:n,text:z(r,o,i)})});case 16:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),b=(t=A(regeneratorRuntime.mark(function e(n,t){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={boardId:c,sectionId:u},o={boardId:n,sectionId:void 0},h(function(e){var n=e.hideToast;return(0,j.jsx)(l.Z,{onHide:n,text:z(r,void 0,t)})}),e.next=5,y(r?(0,P.Z)({source:i,target:o,excludePinIds:a}):x({source:i,target:o,pinIds:a}));case 5:m(-2);case 6:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)});return(0,j.jsx)(D,O(O({},e),{},{i18n:g,repin:v,repinToOtherBoard:b}))}},477213:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(586659),i=t(20256),o=t(19585),a=t(169053),l=t(382718);function s(e){var n=e.selectedPinIds,t=(0,o.ZP)(),s=(0,r.useRef)(null),c=(0,a.JC)(),u=(n||[]).map(function(e){return c[e]}).filter(Boolean);(0,r.useEffect)(function(){var e=s.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[u]);var d=u.map(function(e,n){var r,o,a,s=e.description,c=e.images,u=null==c?void 0:c["236x"];return(0,l.jsx)(i.xu,{marginEnd:1,children:(0,l.jsx)(i.zd,{height:65,rounding:2,wash:!0,width:50,children:(null==u?void 0:u.url)&&(0,l.jsx)(i.Ee,{alt:!!(null!=s&&s.trim())&&(null==s?void 0:s.trim())||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:null!=(r=e.dominant_color)?r:"",fit:"contain",naturalHeight:null!=(o=null==u?void 0:u.height)?o:1,naturalWidth:null!=(a=null==u?void 0:u.width)?a:1,src:u.url})})},n)});return(0,l.jsx)(i.xu,{ref:s,display:"flex",marginTop:2,overflow:"scroll",children:d})}},435289:function(e,n,t){"use strict";t.d(n,{T:function(){return r},y:function(){return i}});var r=70,i=80},156618:function(e,n,t){"use strict";t.d(n,{Bb:function(){return g},Bx:function(){return l},F4:function(){return a},Qj:function(){return s},_6:function(){return h},gv:function(){return o},hg:function(){return c},is:function(){return f},jP:function(){return p},lt:function(){return i},oM:function(){return u},wI:function(){return d}});var r=t(378888),i=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},o=function(e){var n=e.firstName,t=e.i18n;return n?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",n):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board')},a=function(e){var n=(0,r.mB)(e.search).board_url;if(n){var t=(0,r.Jx)(n),i=(0,r.XP)({accept_invite:!0,seamless:!0});return t.includes("?")?"".concat(t,"&").concat(i):"".concat(t,"?").concat(i)}return e.pathname},l=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},s=function(e){var n=e.pathname;if(n.startsWith("/pin/")){var t=n.split("/");if(t.length>2)return"/".concat(t[1],"/").concat(t[2],"/repin/")}return n},c=function(e){return e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.')},u=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},d=function(e){var n=e.pathname;if(n.startsWith("/pin/")){var t=n.split("/");if(t.length>2)return"/".concat(t[1],"/").concat(t[2],"/edit/")}return n},f=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},p=function(e){return e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.')},h=function(e){return e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.')},g=function(e){return e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')}},753830:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(19585),i=t(156618),o=t(848387),a=t(382718);function l(e){var n=e.children,t=e.callbackFunction,l=e.modalHeader,s=e.nextLocation,c=(0,r.ZP)(),u=(0,o.m)(),d=u.viewer,f=u.loginForMore,p=u.limitedLoginModalSubheader,h=u.limitedLoginModalNextLocation,g="LIMITED_LOGIN"===d.type;return(0,a.jsx)("div",{onClickCapture:function(e){g&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==f||f.setVisible(!0),null==p||p.setText(l||(0,i.lt)(c)),s&&(null==h||h.setRoute(s)))},children:n})}},979922:function(e,n,t){"use strict";t.d(n,{BT:function(){return Z},Du:function(){return L},Fh:function(){return A},HY:function(){return z},HZ:function(){return E},IY:function(){return F},Jw:function(){return v},Kp:function(){return H},L7:function(){return r},LT:function(){return d},Lj:function(){return M},Nw:function(){return j},Q_:function(){return w},Qc:function(){return i},R5:function(){return k},RA:function(){return I},Tt:function(){return T},UF:function(){return c},UV:function(){return a},VB:function(){return _},W1:function(){return o},Ws:function(){return f},X5:function(){return O},Yt:function(){return R},ZW:function(){return s},cK:function(){return x},cy:function(){return y},fA:function(){return N},fn:function(){return C},gm:function(){return b},h7:function(){return S},k:function(){return g},mE:function(){return K},o4:function(){return h},oL:function(){return D},qf:function(){return p},tr:function(){return u},uD:function(){return P},uO:function(){return m},vF:function(){return l},wJ:function(){return B}});var r=1,i=2,o="female",a="male",l="unspecified",s="en-US",c="US",u=3,d="Welcome",f="Gender",p="CountryLocale",h="InterestPicker",g="UseCase",m="PinPicker",y="LoadingStep",v="AppInstall",b="NUX_PIN_PICKER_STEP_STATUS",_="NUX_USE_CASE_STEP_STATUS",x={NUX_GENDER_STEP_NAME:f,NUX_COUNTRY_LOCALE_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_USE_CASE_STEP_NAME:g,NUX_PIN_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:y,NUX_APP_INSTALL_STEP_NAME:v},P=2,S=3,w=6,j=112,I=160,k=60,O=1e3,T=2500,A=1900,B=2e3,E=3,C=5,R=1,F=2,Z=3,z=3,L=5e3,D=250,N=1e10,M=507641,K=300,H=200},96105:function(e,n,t){"use strict";t.d(n,{Z:function(){return M}});var r=t(586659),i=t(961780),o=t(20256),a=t(980787),l=t(19585),s=t(32937),c=t(341742),u=t(369416),d=t(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(e){var n,t=e.addedStyles,i=e.button,a=e.headerText,l=e.icon,s=e.iconOverride,c=e.minHeight,h=e.subHeaderText;return(0,d.jsx)(o.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,d.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==f(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(".concat(-20,"px)")},t)},display:"flex",minHeight:c||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(n=s||(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(u.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,d.jsx)(o.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,d.jsx)(o.JO,{accessibilityLabel:l.accessibilityLabel,color:l.color,dangerouslySetSvgPath:l.dangerouslySetSvgPath,icon:l.icon,inline:l.inline,size:l.size})})]}),(0,d.jsx)(o.xu,{marginEnd:4,children:n})),(0,d.jsxs)(o.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,d.jsx)(o.xv,{color:"default",weight:"bold",children:a}),!!h&&(0,d.jsx)(o.xu,{paddingY:1,children:(0,d.jsx)(o.xv,{color:"default",size:"300",children:h})})]}),(0,d.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:i})]})})}var g=t(783556);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach(function(n){j(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return _(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,n,t){return(n=I(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e){var n=function(e,n){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==m(n)?n:n+""}var k=function(e,n){return(e-n)/2},O=k(68,68),T=k(68,66),A=k(68,60),B="cubicBezier(0.25, 0.1, 0.25, 1)",E="encourageToastIconContainer",C="encourageToastIconRadiateBg",R="encourageToastIconRadiateRing",F={targets:"#".concat(E),duration:300,scale:1.4,easing:B},Z={targets:"#".concat(E),duration:300,scale:1,easing:B,endDelay:1e3},z={targets:"#".concat(E),duration:300,scale:.42,easing:B},L={targets:"#".concat(C),duration:400,opacity:0,scale:1.6,easing:B},D={targets:"#".concat(R),duration:650,opacity:0,scale:2,easing:B},N=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&x(a,e);var n,t,r=(n=S(),function(){var e,t=w(a);return e=n?Reflect.construct(t,arguments,w(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==m(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),l=0;l<n;l++)t[l]=arguments[l];return j(P(e=r.call.apply(r,[this].concat(t))),"delayTimer",null),j(P(e),"requestAnimationFrameId",null),j(P(e),"playAnimation",function(){e.requestAnimationFrameId=window.requestAnimationFrame(function(){(0,i.Z)(L),(0,i.Z)(D),(0,i.Z)(F).finished.then(function(){(0,i.Z)(Z).finished.then(function(){i.Z.set("#".concat(E),{transformOrigin:"top right"}),(0,i.Z)(z)})})})}),j(P(e),"getHeaderText",function(){var n=e.props.text;return Array.isArray(n)?n[0]:n}),j(P(e),"getIconProps",function(){return{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}}),j(P(e),"getSubHeaderText",function(){var n=e.props.text;return n instanceof Array&&n.length>1&&n[1]?n[1]:""}),j(P(e),"renderAnimatedIcon",function(){return(0,d.jsxs)(o.xu,{height:68,position:"relative",width:68,children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:"".concat(A,"px"),top:"".concat(A,"px")}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:e.props.thumbnail}),(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:E,position:"absolute",width:68,children:[(0,d.jsx)(o.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"".concat(O,"px"),top:"".concat(O,"px"),transform:"scale(0)"}},height:68,id:C,position:"absolute",rounding:"circle",width:68}),(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"".concat(T,"px"),top:"".concat(T,"px"),transform:"scale(0)"}},height:66,id:R,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,d.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,d.jsx)(o.JO,{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})}),e}return t=[{key:"componentDidMount",value:function(){this.delayTimer=setTimeout(this.playAnimation,700)}},{key:"componentWillUnmount",value:function(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}},{key:"render",value:function(){var e=this.props,n=e.isRepinToExistingBoard,t=e.button;return(0,d.jsx)(h,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}(a.prototype,t),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function M(e){var n,t,i=e.duration,u=e.onHide,f=e.isQuickSave,p=(0,l.ZP)(),h=b((0,r.useState)(!1),2),m=h[0],y=h[1],_=b((0,r.useState)(!1),2),x=_[0],P=_[1],S=(0,r.useRef)(void 0),w=(0,a.u)().logContextEvent,j=function(){y(!0),S.current=setTimeout(u,200)},I=function(){S.current&&clearTimeout(S.current)},k=function(){S.current=setTimeout(j,i||g.w)};(0,c.Z)(function(){return setTimeout(function(){return P(!0)},100),k(),I});var O=(0,d.jsx)(N,v(v({},e),{},{i18n:p}));return e.href&&(O=(0,d.jsx)(o.rU,{href:e.href,onClick:function(){f&&w({event_type:102,component:14409}),j()},rounding:"pill",tapStyle:"none",children:O})),(0,d.jsx)(s.Z,{children:(0,d.jsx)(o.mh,{children:(0,d.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:v({},(t=(n={hiding:m,visible:x}).hiding,n.visible?t?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s",pointerEvents:"none"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})))},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:g.k,children:O})})})}},810008:function(e,n,t){"use strict";t.d(n,{_:function(){return p},Z:function(){return h}});var r=t(586659),i=t(20256),o=t(19585),a=t(298097),l=t(169053),s=t(382718);function c(e){var n,t,r=e.pinId,i=(0,l.S6)()(r);if(!i)return null;var o=[{url:null==(n=i.images)||null==(t=n["236x"])?void 0:t.url,name:i.grid_title||""}].filter(function(e){return e.url});return(0,s.jsx)(a.Z,{images:o})}var u=(0,r.lazy)(function(){return Promise.resolve().then(t.bind(t,222401))}),d=function(){return (0, o.ZP)()._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},f=function(){return (0, o.ZP)()._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')},p=function(e){return(0,s.jsx)(i.zd,{rounding:4,children:(0,s.jsxs)(i.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,s.jsx)(i.sg,{span:8,children:(0,s.jsx)(i.xu,{"data-test-id":"pin-save-toast",height:36,width:36,children:e?(0,s.jsx)(i.Ee,{alt:"",color:"secondary",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,s.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,s.jsx)(i.sg,{span:5,children:(0,s.jsxs)(i.xu,{height:"100%",children:[(0,s.jsx)(i.xu,{height:"49%",position:"relative",children:(0,s.jsx)(i.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,s.jsx)(i.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})}),(0,s.jsx)(i.xu,{height:"3%",position:"relative",children:(0,s.jsx)(i.xu,{color:"transparent",overflow:"hidden",width:"100%",children:(0,s.jsx)(i.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(i.xu,{color:"transparent",height:"100%",width:"100%"})})})}),(0,s.jsx)(i.xu,{height:"49%",position:"relative",children:(0,s.jsx)(i.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,s.jsx)(i.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})})]})})]})})},h=function(e){var n=e.boardId,t=e.getReduxBoard,o=e.isFBC,a=e.pinId,l=e.viewType,p=t(n);return{duration:5e3,thumbnail:(0,s.jsx)(i.xu,{"data-test-id":"pin-save-toast",children:(0,s.jsx)(r.Suspense,{children:a?(0,s.jsx)(c,{pinId:a}):(0,s.jsx)(u,{boardKey:p?{type:"Legacy",data:p}:null,type:"thumbnail",viewType:l})})}),text:o?[(0,s.jsx)(d,{},"0"),(0,s.jsx)(f,{},"1")]:void 0}}},782251:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(586659),i=t(581722),o=t(87853),a=t(979922),l=t(258644);function s(){var e=(0,i.I0)(),n=(0,o.dI)(),t=n.showToast,s=n.showOneToast,c=(0,i.oR)(),u=(0,r.useCallback)(function(n,r){r||e((0,l.a5)()),t(n)},[e,t]);return{showToast:t,showOneToast:s,showRepinConfirmation:function(n,t){t||e((0,l.WF)()),setTimeout(function(){c.getState().session.isShowingRepinConfettiAnimation?setTimeout(function(){u(n,t)},a.wJ):u(n,t)},a.Tt)}}}},128061:function(e,n,t){"use strict";t.d(n,{ZP:function(){return n6},vY:function(){return n5}});var r,i,o,a,l,s,c,u,d,f=t(586659),p=t(581722),h=t(492996),g=t(650533),m=t(861293),y=t(963489),v=t(672410),b=t(20256),_=t(575108),x=t(521009),P=t(937392),S=t(877956),w=t(982166),j=t(678213),I=t(475498),k=t(821342),O=t(28427),T=t(801082),A=t(19585),B=t(302148),E=t(377654),C=t(226967),R=t(13020),F=t(588367),Z=t(914061),z=t(675973),L=t(444185),D=t(374078),N=t(647709),M=t(341742),K=t(701523),H=t(762525),U=t(620427);function W(e,n){return!!(e&&e.placement_id&&e.experience_id===n)}var G=t(156618),V=t(753830),Y=t(469526),q=t(978417),X=t(382718);function Q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return J(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?J(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var $="cubic-bezier(0.66, 0.025, 0.33, 0.975)",ee=(0,q.qe)(function(e,n,t,r,i){var o=e,a=n,l=0,s=0,c="",u=Math.floor(n/3);if("shrinkToPin"===t&&(l="24px",s=1,o=Math.floor(3*u/2),a=u),"pinToGrid"===t&&r&&i){var d=r.getBoundingClientRect(),f=i.getBoundingClientRect(),p=f.x+f.width/2-(d.x+d.width/2),h=f.y+f.height/2-(d.y+d.height/2);c="translate(".concat(p,"px, ").concat(h,"px)"),l="24px 0px 0px 24px",s=1,o=u,a=u}return{borderRadius:l,height:o,opacity:s,overflow:"hidden",width:a,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:c,transform:c,WebkitTransition:"all .42s ".concat($),transition:"all .42s ".concat($)}}),en=(0,q.qe)(function(e){return{opacity:+!!e,WebkitTransition:"opacity .42s ".concat($),transition:"opacity .42s ".concat($)}}),et=(0,q.qe)(function(e){return{opacity:+!e,WebkitTransition:"all .25s ".concat($),transition:"all .25s ".concat($),zIndex:3}});function er(e){var n,t,r,i,o=e.completeExperience,a=e.pinDominantColor,l=e.pinImageHeight,s=e.pinImageWidth,c=e.pinImageUrl,u=(0,A.ZP)(),d=Q((0,f.useState)("visible"),2),p=d[0],h=d[1],g=Q((0,f.useState)("none"),2),m=g[0],y=g[1],v=window.innerWidth,_=Math.floor(v/3),x=Math.floor(v/6);(0,f.useEffect)(function(){c&&"none"===m&&(n=setTimeout(function(){y("shrinkToPin")},85)),c&&"shrinkToPin"===m&&(t=setTimeout(function(){y("pinToGrid")},2e3)),"pinToGrid"===m&&"visible"===p&&(r=setTimeout(function(){h("hidden")},2e3)),"hidden"===p&&(i=setTimeout(function(){h("none"),o()},300))}),(0,f.useEffect)(function(){return function(){clearTimeout(n),clearTimeout(t),clearTimeout(r),clearTimeout(i)}},[]);var P=(0,f.useRef)(null),S=(0,f.useRef)(null);return(0,X.jsxs)(b.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:et("hidden"===p)},direction:"column",display:"none"===p?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,X.jsxs)(b.xu,{alignItems:"center",display:"flex",height:v/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,X.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:en("pinToGrid"===m)},position:"absolute",children:(0,X.jsx)(b.zd,{height:_,rounding:6,width:_+x+1,children:(0,X.jsxs)(b.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,X.jsx)(b.xu,{ref:S,color:"transparent",height:_,width:_}),(0,X.jsxs)(b.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,X.jsx)(b.xu,{color:"secondary",height:x,width:x}),(0,X.jsx)(b.xu,{color:"secondary",height:x,width:x})]})]})})}),(0,X.jsx)(b.xu,{ref:P,dangerouslySetInlineStyle:{__style:ee(l/s*v,v,m,P.current,S.current)},position:"absolute",children:(0,X.jsx)(b.Ee,{alt:u._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:a,fit:"cover",naturalHeight:l,naturalWidth:s,src:c})})]}),(0,X.jsx)(b.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,X.jsx)(b.X6,{align:"center",size:"600",children:u._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var ei=t(810008),eo=t(96105),ea=t(516114);function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,n){return(es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function ec(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eu=function(){return!!e})()}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,n,t){return(n=ep(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ep(e){var n=function(e,n){if("object"!=el(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=el(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==el(n)?n:n+""}var eh=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],eg=function(e,n){return Math.random()*((e||1)-(n||0))+(n||0)},em=function(e){return Math.PI/180*e},ey=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&es(i,e);var n,t,r=(n=eu(),function(){var e,t=ed(i);return e=n?Reflect.construct(t,arguments,ed(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==el(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return ec(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return ef(ec(e=r.call.apply(r,[this].concat(t))),"animationTimer",null),ef(ec(e),"canvasRemovalTimer",null),ef(ec(e),"childrenContainerRef",(0,f.createRef)()),ef(ec(e),"containerRef",(0,f.createRef)()),ef(ec(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var n=window.innerWidth,t=e.containerRef.current.getBoundingClientRect(),r=t.height,i=t.top,o=document.createElement("canvas");return o.style.position="absolute",o.style.left="0px",o.style.top="".concat(i-(n-r)/2,"px"),o.style.pointerEvents="none",o.style.width="".concat(n,"px"),o.style.height="".concat(n,"px"),o.width=n,o.height=n,o}),ef(ec(e),"explode",function(){var n=e.buildCanvas();if(n){var t=e.containerRef.current,r=e.childrenContainerRef.current,i=n.getContext("2d");null==t||t.insertBefore(n,r);var o=Array.from(Array(120)).map(function(){return{x:n.width/2,y:n.height/2,radius:Math.round(eg(10,30)),color:eh[Math.floor(Math.random()*eh.length)],degree:Number(eg(0,360).toFixed(1)),speed:Math.round(eg(0,25)),friction:.9,opacity:Number(eg(0,.5).toFixed(1)),yVel:0,gravity:.04}});i&&function e(n,t,r,i){window.requestAnimationFrame(function(){return e(n,t,r,i)}),t.clearRect(0,0,r,i),n.forEach(function(e){e.x+=e.speed*Math.cos(em(e.degree)),e.y+=e.speed*Math.sin(em(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})}(o,i,n.width,n.height),e.canvasRemovalTimer=setTimeout(function(){null==t||t.removeChild(n)},(e.props.delay||0)+1e3)}}),e}return t=[{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.delay,r=n.startAnimation,i=e.startAnimation;r&&i!==r&&(this.animationTimer=setTimeout(this.explode,t))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,X.jsx)(b.xu,{ref:this.containerRef,children:(0,X.jsx)(b.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ep(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(f.PureComponent);function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function e_(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eb(Object(t),!0).forEach(function(n){eI(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eb(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ex(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function eP(e,n){return(eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function eS(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ew=function(){return!!e})()}function ej(e){return(ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eI(e,n,t){return(n=ek(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ek(e){var n=function(e,n){if("object"!=ev(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=ev(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==ev(n)?n:n+""}ef(ey,"defaultProps",{delay:0});var eO=function(e,n,t){var r,i,o=[],a=null==(r=n.current)?void 0:r.getBoundingClientRect(),l=null==(i=t.current)?void 0:i.getBoundingClientRect();if(a&&l){var s={x:l.left-a.left,y:l.top-a.top},c={x:l.width/a.width,y:l.height/a.height};o.push("translate(".concat(s.x,"px, ").concat(s.y,"px)")),o.push("scale(".concat(c.x,", ").concat(c.y,")"))}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?o.join(" "):"none",transform:e?o.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},eT=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eP(i,e);var n,t,r=(n=ew(),function(){var e,t=ej(i);return e=n?Reflect.construct(t,arguments,ej(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==ev(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return eS(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return eI(eS(e=r.call.apply(r,[this].concat(t))),"state",{startAnimation:!1}),eI(eS(e),"dismissTimer",null),eI(eS(e),"pinRef",(0,f.createRef)()),eI(eS(e),"pinDestinationRef",(0,f.createRef)()),eI(eS(e),"handleAnimationAndCompletion",function(){var n=e.props,t=n.onComplete,r=n.savePin,i=n.selectedBoardName;if(i){var o=e.startAnimation();Promise.all([o,r(i)]).then(function(e){t((function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,2)||function(e,n){if(e){if("string"==typeof e)return ex(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ex(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],i)}).catch(function(e){o.then(function(){var n;null==e||null==(n=e.onError)||n.call(e)})})}}),eI(eS(e),"startAnimation",function(){return new Promise(function(n){e.setState({startAnimation:!0},function(){e.dismissTimer=setTimeout(function(){n()},2600)})})}),e}return t=[{key:"componentWillUnmount",value:function(){this.dismissTimer&&clearTimeout(this.dismissTimer)}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedBoardName,n=this.state.startAnimation;e&&!n&&this.handleAnimationAndCompletion()}},{key:"render",value:function(){var e=this,n=this.props,t=n.pinDominantColor,r=n.pinImageUrl,i=n.selectedBoardName,o=this.state.startAnimation;return(0,X.jsxs)(f.Fragment,{children:[(0,X.jsx)(b.Le,{top:ea.R$,zIndex:new b.Ry(3),children:(0,X.jsx)(b.xu,{alignItems:"center",color:o?"transparent":"default",display:"flex",justifyContent:"center",children:(0,X.jsx)(b.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:eO(o,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,X.jsx)(b.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:t,fit:"cover",naturalHeight:84,naturalWidth:84,src:r})})})}),(0,X.jsx)(b.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!o,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,X.jsxs)(b.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,X.jsx)(ey,{delay:1200,startAnimation:o,children:(0,X.jsx)(b.zd,{rounding:2,width:148,children:(0,X.jsx)(b.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map(function(n,t){var r=t<=1,i=t%2,o=0===t?e.pinDestinationRef:null;return(0,X.jsx)(b.xu,{ref:o,color:0===t?"transparent":"secondary",height:72,marginBottom:+!!r,marginEnd:+!i,width:72},t)})})})}),(0,X.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!o,WebkitTransform:o?"translateY(0)":"translateY(20%)",transform:o?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,X.jsx)(b.X6,{children:(0,B.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:i})})})]})})]})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ek(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(f.PureComponent),eA=function(e){var n=(0,A.ZP)();return(0,X.jsx)(eT,e_(e_({},e),{},{i18n:n}))},eB=t(782251),eE=t(310916),eC=t(548286),eR=t(282919),eF=t(373950),eZ=t(428725),ez=t(145127),eL=t(975740),eD=t(793698),eN=t(588836),eM=t(681721),eK=t(87853),eH=t(629315),eU=t(978857),eW=t(744557),eG=t(438556);function eV(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return eY(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eY(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eY(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var eq=(void 0!==r||(r=t(148281)).hash&&"b3ec14d29962e56f80dd52e7e6d7a6d9"!==r.hash&&console.error("The definition of 'RepinAddSection_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function eX(e){var n=e.createSectionAndRepin,t=e.errorMessage,r=e.i18n,i=e.pin,o=e.setErrorMessage,a=e.useRoundedCorners,l=eV((0,f.useState)(""),2),s=l[0],c=l[1];return(0,X.jsx)(eH.Z,{backButtonIcon:"arrow-back",errorMessage:t,name:s,onNameChange:function(e){o(""),c(e.target.value)},onNextButtonTouch:function(){n(s,r)},selectedPinIds:[i.entityId],useRoundedCorners:a})}function eQ(e){var n=e.boardId,t=e.isEditingPin,r=e.onSuccess,i=e.pinKey,o=e.pinBoardId,a=e.pinSectionId,l=e.trackingParams,s=e.useRoundedCorners,c=(0,O.Z)(eq,i),u=(0,p.I0)(),d=(0,y.s0)(),h=(0,A.ZP)(),g=(0,eK.dI)().showToast,m=(0,x.Z)(),v=(0,eG.n)(),b=(0,z.Z)().checkExperiment,_=(0,P.cO)(),S=eV((0,f.useState)(""),2),w=S[0],j=S[1],k=(0,eB.Z)().showRepinConfirmation,T=function(e){return d(e)};return(0,X.jsx)(eX,{createSectionAndRepin:function(e){var i=function(e){return j(e.message_detail||e.message)};u((0,eU.Z)(n,[],e,m)).then(function(e){g(function(e){var n=e.hideToast;return(0,X.jsx)(I.Z,{onHide:n,text:h._('Section added!', ' - ', ' -- ')})});var s,f=e.resource_response.data;u((0,eR.w)({checkExperiment:b,i18n:h,logContextEvent:m,pinId:c.entityId,boardId:n,onSuccess:t?void 0:function(){_("Save",{pin_id:c.entityId}),r()},showRepinConfirmation:k,section:f,trackingParams:{clientTrackingParams:l,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:""},historyPush:T,savePinId:null!=(s=null==v?void 0:v.save)?s:function(){}})).then(function(){c&&o&&u((0,eW.q)({pinId:c.entityId,boardId:o,boardSectionId:a,clientTrackingParams:l})).then(function(){var e;return c.pinnedToBoard?d(null!=(e=c.pinnedToBoard.url)?e:"",{replace:!0}):void 0})}).catch(i)}).catch(i)},errorMessage:w,i18n:h,pin:c,setErrorMessage:j,useRoundedCorners:s})}var eJ=t(30216),e$=t(841982),e0=t(657043),e1=t(536652),e2=t(72918),e3=t(448505),e8=t(7872),e5=t(370347),e6=t(352908),e7=t(189976),e4=t(831786),e9=t(936705),ne=t(206459),nn=t(696323),nt=t(482633);function nr(e){var n=e.pinId,t=e.handleSelected,r=e.surfaceOriginViewParameter,i=(0,A.ZP)(),o=(0,x.Z)();return(0,f.useEffect)(function(){o({view_parameter:3990,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:r,pin_id:n}})},[]),(0,X.jsx)(b.iP,{onTap:function(){t(!1,null)},rounding:2,children:(0,X.jsxs)(b.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,X.jsx)(b.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,X.jsx)(b.JO,{accessibilityLabel:i._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,X.jsx)(b.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,X.jsx)(b.xv,{lineClamp:1,size:"400",weight:"bold",children:i._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var ni=t(872555);function no(){var e=(0,ni.useRelayEnvironment)();return(0,f.useCallback)(function(n){e&&(0,ni.commitLocalUpdate)(e,function(e){var t;null==(t=e.get(n))||t.invalidateRecord()})},[e])}var na=function(e){return e.map(function(e){var n,t;return{board_title_id:String(e.id),board_title_kind:JSON.parse(null!=(n=e.recommendation_reason)?n:"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(null!=(t=e.recommendation_reason)?t:"{}").score}})},nl=function(e){return"profile"===e?3990:"topChoices"===e?3988:3989};function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nc(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function nu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nu(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=ns(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=ns(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==ns(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nf=(void 0!==i||(i=t(764227)).hash&&"76b22cc5d658befe1dc27454d3aee77f"!==i.hash&&console.error("The definition of 'BoardPickerList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),np=function(e,n,t){return nd({field_set_key:"detailed",id:e,preserve_component_state:n},t?{orbac_subject_id:t}:Object.freeze({}))};function nh(e){var n,t,r=e.boards,i=e.boardsShortlist,o=void 0===i?[]:i,a=e.closeModal,l=e.dismissFlyout,s=e.navigate,c=e.isEditingPin,u=e.isFromToast,d=e.logContextEvent,h=e.onSelect,g=e.originalPinId,m=e.pinKey,v=e.pinBoardId,x=e.saveToProfileEnabled,S=e.surfaceOriginViewParameter,w=e.trackingParams,j=(0,A.ZP)(),T=(0,y.TH)(),B=(0,O.Z)(nf,m),E=no(),C=(0,p.I0)(),R=(0,e6.Z)(),F=(0,eG.n)(),Z=(0,Y.m)(),L=(0,P.cO)(),D=T.state&&T.state.isOneTapSave,N=(0,z.Z)().checkExperiment,K=(0,eB.Z)(),H=K.showRepinConfirmation,U=K.showToast,W=function(e){return s(e)},V=o.map(function(e){return e.id});x&&V.unshift("PROFILE_PINS");var q=(0,e3.Z)(),Q=(0,k.Z)(),J=(0,e8.lJ)(Q,q),$=(0,e5.Yg)().logStat,ee=x&&N("mweb_curation_board_picker_reorder_profile_option").anyEnabled;(0,M.Z)(function(){V&&d({event_type:13,clientTrackingParams:w.clientTrackingParams,component:7,element:1001,view_type:3,aux_data:{pin_id:B.entityId,suggested_boards:V}})}),(0,f.useEffect)(function(){d({view_parameter:3988,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:S,pin_id:B.entityId,board_picker_suggested_boards:JSON.stringify(na(o))}})},[o]);var en=function(e){var n=e.boardId,t=e.i18n,r=e.isQuickSave;return l(),$("main_pin_repin"),C((0,eR.w)({checkExperiment:N,i18n:t,isQuickSave:r,logContextEvent:d,pinId:B.entityId,boardId:n,onSuccess:function(){L("Save",{pin_id:B.entityId,is_promoted:B.isPromoted}),s(-1)},originalPinId:g,showRepinConfirmation:H,trackingParams:w,historyPush:W,suggestedBoardIds:V,savePinId:function(e,n){return null==Z||Z.save(e),null==F?void 0:F.save(e,n)}}))},et=function(e){return C((0,eC.Br)(e))},er=R({fn:(n=regeneratorRuntime.mark(function e(n,t,r){var i,o,l,d,f,p,g,m,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&t)){e.next=4;break}h(t,r),e.next=17;break;case 4:if(e.prev=4,c){e.next=11;break}return i=!(null!=t&&t.id),e.next=9,en({boardId:null==t?void 0:t.id,i18n:j,isQuickSave:i});case 9:if(o=e.sent)if(d=null==(l=o)?void 0:l.id,D){var x;x={boardId:null==t?void 0:t.id,localPinId:d,pinId:B.entityId,nodeId:B.__id},C((0,e9.a)(nd({},x)))}else null!=B&&B.entityId&&C((0,ne.Ur)({id:B.entityId,nodeId:B.__id,boardId:t.id,title:null!=(f=t.name)?f:"",url:null!=(p=t.url)?p:"",localPinId:d}));case 11:c&&(g=v,y=nd({board_id:m=null==t?void 0:t.id,id:B.entityId},J?{orbac_subject_id:J}:Object.freeze({})),b=g!==m,_.Z.create("PinResource",y).callUpdate().then(function(e){var n,t,r,i;b&&m&&g&&(n={selectedPinIds:[B.entityId],source:{boardId:g,sectionId:void 0},target:{boardId:m,sectionId:void 0}},C((0,e4.S)(n)),et({boardId:m,sectionId:void 0,increment:1}),et({boardId:g,sectionId:void 0,increment:-1}),Q.isAuth&&Q.id&&!g&&(t=Q.id,r=B.entityId,C((0,e7.EX)({feedId:t,feedType:nn.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))),C((0,e1.b)("PinResource",{options:y})),i=B.entityId,C((0,e2.jB)("PinResource",np(i,!0,J))),E(B.__id),C((0,e2.Sr)("PinResource",np(e.resource_response.data.id,!1,J),e)),s(-1)}),u&&a()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),U(function(n){var t=n.hideToast;return(0,X.jsx)(I.Z,{onHide:t,text:(0,e0.Z)(e.t0,"message")||j._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"})});case 17:case"end":return e.stop()}},e,null,[[4,14]])}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){nc(o,r,i,a,l,"next",e)}function l(e){nc(o,r,i,a,l,"throw",e)}a(void 0)})},function(e,n,r){return t.apply(this,arguments)}),modalHeader:(0,G.Bx)(j)}),ei=(0,X.jsx)(nr,{handleSelected:function(e,n){return er(e,nd(nd({},n),{},{gridIndex:0}),"profile")},pinId:B.entityId,surfaceOriginViewParameter:S});return(0,X.jsxs)(b.kC,{direction:"column",gap:4,children:[(0,X.jsxs)(b.xu,{children:[x&&!ee&&ei,o.length>0&&(0,X.jsx)(b.xu,{marginBottom:4,marginTop:2,children:(0,X.jsx)(b.X6,{accessibilityLevel:3,size:"300",children:(0,X.jsx)(b.xv,{inline:!0,children:j._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})})}),o.map(function(e,n){return(0,X.jsx)(nt.Z,{boardId:e.id,onBoardSelected:function(t){return er(t,nd(nd({},e),{},{gridIndex:n}),"topChoices")},showSingleBoardRep:!0},e.id)})]}),(0,X.jsxs)(b.xu,{"data-test-id":"all-boards-list",children:[(0,X.jsx)(b.xu,{marginBottom:4,children:(0,X.jsx)(b.X6,{accessibilityLevel:3,size:"300",children:(0,X.jsx)(b.xv,{inline:!0,children:j._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})})}),r.map(function(e,n){return(0,X.jsx)(nt.Z,{boardId:e.id,onBoardSelected:function(t){return er(t,nd(nd({},e),{},{gridIndex:n}),"allBoards")},showSingleBoardRep:!0},e.id)}),ee&&ei]})]})}var ng=t(366859),nm=function(){return(0,X.jsx)(b.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,X.jsxs)(f.Fragment,{children:[(0,X.jsx)(b.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,X.jsx)(b.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})})},ny=t(611251),nv=t(890774);function nb(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}var n_=(void 0!==o||(o=t(853213)).hash&&"69ffcdea57a7778d2ebbcd41c276c0d0"!==o.hash&&console.error("The definition of 'BoardTitleSuggestionList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),nx=function(e){var n=e.allSuggestions,t=e.handleCreateBoard,r=e.index,i=e.isFBC,o=e.logContextEvent,a=e.pinViewParameter;t(),o({aux_data:{board_title_list:JSON.stringify(n),is_fbc:i.toString(),selected_board_title_index:r},component:7,element:23,event_type:102,view_parameter:a,view_type:3})};function nP(e){var n,t,r,i,o,a=e.isEditingPin,l=e.isFirstBoard,s=e.isFromToast,c=e.navigate,u=e.onFirstBoardCreate,d=e.originalPinId,h=e.pinBoardId,g=e.pinKey,m=e.pinSectionId,y=e.surfaceOriginViewParameter,v=e.titleSuggestions,_=e.clientTrackingParams,P=(0,x.Z)(),S=(0,nv.Z)(),w=(0,A.ZP)(),j=(0,e6.Z)(),I=(0,eB.Z)().showRepinConfirmation,k=(0,p.I0)(),T=(0,O.Z)(n_,g),B=T.entityId,E=(0,ny.A)({hasRichMetadata:!!T.richMetadata,hasRichMetadataProducts:!!(null!=(r=T.richMetadata)&&r.products),hasRichMetadataArticle:!!(null!=(i=T.richMetadata)&&i.article),hasRichMetadataRecipe:!!(null!=(o=T.richMetadata)&&o.recipe)}),C=(0,eG.n)(),R=(0,Y.m)(),F=(0,eL.gC)(),Z=(0,U.Z)(_,T.trackingParams),L=function(e){return c(e)},D=(0,z.Z)().checkExperiment;(0,f.useEffect)(function(){P({view_parameter:3992,component:13282,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:y,pin_id:B,board_title_suggestions:v}})},[]);var N=function(e){k((0,eW.q)({pinId:B,boardId:h||"",boardSectionId:m,clientTrackingParams:e}))},M=(n=regeneratorRuntime.mark(function e(){var n,t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Z);case 2:t=null==(n=T.pinnedToBoard)?void 0:n.url,T.section?c(null!=(i="".concat(null!=t?t:"").concat(null!=(r=T.section.slug)?r:"","/"))?i:"",{replace:!0}):c(null!=t?t:"",{replace:!0});case 4:case"end":return e.stop()}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){nb(o,r,i,a,l,"next",e)}function l(e){nb(o,r,i,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)}),K=function(e){S({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[_],privacy:"public"}}).then(function(n){var t=n||{},r=t.url,i=void 0===r?"":r,o=t.id;k((0,eR.w)({checkExperiment:D,i18n:w,logContextEvent:P,originalPinId:d,pinId:B,boardId:o,trackingParams:{clientTrackingParams:Z,pinnedToBoardId:o},historyPush:L,savePinId:function(e,n){return null==R||R.save(e),null==C?void 0:C.save(e,n)}})).then(function(){a?s?c(-1):M():c(-1);var n=(0,eM.Z)(i,e,w),t=n.href,r=n.text,l=(0,ei.Z)({boardId:o,getReduxBoard:F,pinId:B,viewType:3}),u=l.duration,d=l.text,f=l.thumbnail;I(function(e){var n=e.hideToast;return(0,X.jsx)(eo.Z,{duration:u,href:t,onHide:n,text:d||r,thumbnail:f})})})})},H=j({fn:function(e,n,t){P({view_parameter:3992,component:13282,element:23,event_type:101,view_type:91,aux_data:{board_picker_surface_origin:y,pin_id:B,board_title_suggestions:v}}),nx({allSuggestions:t,handleCreateBoard:function(){l?u(n):K(n)},index:e,isFBC:l,logContextEvent:P,pinViewParameter:E})},modalHeader:(0,G.Bb)(w)});return v?v.map(function(e,n,t){return(0,X.jsx)(b.xu,{children:(0,X.jsx)(ng.Z,{dataTestId:"board-suggestion-row-button",onTouch:function(){return H(n,e,t)},pressState:"none",rounding:2,children:(0,X.jsxs)(b.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,X.jsx)(nm,{}),(0,X.jsx)(b.xu,{column:10,marginStart:3,children:(0,X.jsx)(b.X6,{size:"400",children:e})})]})},n)},n)}):null}var nS=(void 0!==a||(a=t(182522)).hash&&"a8967078f1de7ce3a263a224d0d0e710"!==a.hash&&console.error("The definition of 'useFetchBoardTitleSuggestionsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),nw=function(e){var n,t,r,i=(0,h.useLazyLoadQuery)(nS,{pinId:e}).v3GetPinQuery;if(null==i||null==(n=i.error)?void 0:n.message)throw null==i?void 0:i.error;return(null==i||null==(t=i.data)||null==(r=t.boardTitleSuggestions)?void 0:r.map(function(e){return e.title}).filter(Boolean))||[]},nj=(void 0!==l||(l=t(205725)).hash&&"475036dcb56a51d3552313200b8c9d45"!==l.hash&&console.error("The definition of 'RepinBoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function nI(e){var n=e.allBoards,t=e.saveToProfileEnabled,r=e.boardsShortlist,i=e.closeModal,o=e.dismissFlyout,a=e.navigate,l=e.isEditingPin,s=e.isFromToast,c=e.onSelect,u=e.originalPinId,d=e.shouldUseSaveToProfileBehavior,p=e.pin,h=e.pinBoardId,g=e.pinSectionId,m=e.trackingParams,y=(0,x.Z)();return(0,X.jsx)(f.Fragment,{children:(0,X.jsx)(nh,{boards:n,boardsShortlist:r,closeModal:i,dismissFlyout:o,isEditingPin:l,isFromToast:s,logContextEvent:y,navigate:a,onSelect:c,originalPinId:u,pinBoardId:h,pinKey:p,pinSectionId:g,saveToProfileEnabled:t||d,trackingParams:m})})}function nk(e){var n=e.allBoards,t=e.boardsShortlist,r=e.closeModal,i=e.saveToProfileEnabled,o=e.dismissFlyout,a=e.navigate,l=e.isEditingPin,s=e.isFirstRepinExperience,c=e.isFromToast,u=e.onFirstBoardCreate,d=e.originalPinId,f=e.onSelect,p=e.shouldUseSaveToProfileBehavior,h=e.pin,g=e.pinBoardId,m=e.pinSectionId,y=e.trackingParams,v=e.titleSuggestions,_=(0,A.ZP)(),P=s||0===n.length&&!i,S=(0,x.Z)(),w=function(){return(0,X.jsx)(nP,{clientTrackingParams:y.clientTrackingParams,isEditingPin:l,isFirstBoard:P,isFromToast:c,navigate:a,onFirstBoardCreate:u,originalPinId:d,pinBoardId:g,pinKey:h,pinSectionId:m,titleSuggestions:v})};return P&&!p?(0,X.jsxs)(b.xu,{paddingX:1,children:[(0,X.jsx)(b.xu,{marginBottom:4,children:(0,X.jsx)(b.xv,{children:_._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),w()]}):(0,X.jsxs)(b.xu,{marginBottom:4,children:[(0,X.jsx)(nh,{boards:n,boardsShortlist:t,closeModal:r,dismissFlyout:o,isEditingPin:l,isFromToast:c,logContextEvent:S,navigate:a,onSelect:f,originalPinId:d,pinBoardId:g,pinKey:h,pinSectionId:m,saveToProfileEnabled:i||p,trackingParams:y}),v?(0,X.jsxs)(b.xu,{children:[(0,X.jsx)(b.xu,{paddingY:1,children:(0,X.jsx)(e$.Z,{children:(0,X.jsx)(b.iz,{})})}),(0,X.jsx)(b.xu,{paddingY:4,children:(0,X.jsx)(b.xv,{children:_._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),w()]}):(0,X.jsx)(b.xu,{paddingY:6,children:(0,X.jsx)(b.xH,{accessibilityLabel:_._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function nO(e){var n,t=e.allBoards,r=e.boardsShortlist,i=e.closeModal,o=e.saveToProfileEnabled,a=e.dismissFlyout,l=e.navigate,s=e.isEditingPin,c=e.isFetchingBoards,u=e.isFirstRepinExperience,d=e.isFromToast,f=e.onFirstBoardCreate,p=e.onSelect,h=e.originalPinId,g=e.shouldUseSaveToProfileBehavior,m=e.pinKey,y=e.pinBoardId,v=e.pinDescription,_=e.pinSectionId,P=e.surfaceOriginViewParameter,S=e.saveSessionId,w=(0,O.Z)(nj,m),j=nw(w.entityId),I=(0,A.ZP)(),k=(0,x.Z)(),T={clientTrackingParams:(0,eJ.Z)({pinKey:w}),pinnedToBoardId:w.pinnedToBoard?w.pinnedToBoard.entityId:""},B=function(e,n){k({event_type:101,component:13282,clientTrackingParams:T.clientTrackingParams,object_id_str:e.id,view_type:91,view_parameter:nl(n),aux_data:{board_id:e.id,board_component:nl(n),board_picker_surface_origin:P,board_picker_suggested_boards:JSON.stringify(na(r)),board_title_suggestions:j,board_index:e.gridIndex,is_profile_save:"profile"===n,pin_id:w.entityId,save_session_id:S}}),p(e,n)};if(0===t.length&&c)return(0,X.jsx)(b.xu,{paddingY:2,children:(0,X.jsx)(b.xH,{accessibilityLabel:I._('Loading repin page content', ' - ', ' -- '),show:!0})});switch((0,(0,z.Z)().checkExperiment)("mweb_curation_board_picker_tune_complex_board_picker").group){case"enabled_8":n=8;break;case"enabled_9":n=9;break;case"enabled_11":n=11;break;case"enabled_12":n=12;break;default:n=10}return t.length>=n?(0,X.jsx)(nI,{allBoards:t,boardsShortlist:r,closeModal:i,dismissFlyout:a,isEditingPin:s,isFromToast:d,navigate:l,onSelect:B,originalPinId:h,pin:w,pinBoardId:y,pinDescription:v,pinSectionId:_,saveToProfileEnabled:o,shouldUseSaveToProfileBehavior:g,trackingParams:T}):(0,X.jsx)(nk,{allBoards:t,boardsShortlist:r,closeModal:i,dismissFlyout:a,isEditingPin:s,isFirstRepinExperience:u,isFromToast:d,navigate:l,onFirstBoardCreate:f,onSelect:B,originalPinId:h,pin:w,pinBoardId:y,pinDescription:v,pinSectionId:_,saveToProfileEnabled:o,shouldUseSaveToProfileBehavior:g,titleSuggestions:j,trackingParams:T})}var nT=t(394962),nA=t(611282),nB=(void 0!==s||(s=t(727382)).hash&&"1612c2df94f42990b3d4f6ccede72a70"!==s.hash&&console.error("The definition of 'RepinCreateBoardButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function nE(e){var n=e.isEditingPin,t=e.isFirstBoardCreateActive,r=e.pinKey,i=e.pinBoardId,o=e.pinDescription,a=e.pinSectionId,l=e.trackingParams,s=e.onTouch,c=e.useIconWithBackground,u=(0,A.ZP)(),d=(0,O.Z)(nB,r),f=(0,nA.Z)({href:{pathname:"/board/create/".concat(d.entityId,"/"),state:{isFirstBoardCreateActive:t,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:"",pinDescription:o,trackingParams:l,isEditingPin:n,pinBoardId:i,pinSectionId:a}}});return(0,X.jsx)(nT.Z,{hasTopShadow:c,height:c?void 0:70,children:(0,X.jsx)(b.iP,{onTap:function(e){var n=e.event;null==s||s(),f({event:n})},children:(0,X.jsxs)(b.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:+!!c,paddingY:+!c,children:[c?(0,X.jsx)(b.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,X.jsx)(b.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,X.jsx)(b.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,X.jsx)(b.xu,{marginStart:c?2:3,children:(0,X.jsx)(b.xv,{weight:"bold",children:u._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var nC=t(120651),nR=t(993127);function nF(e){return(nF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nZ(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function nz(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nL(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nz(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nF(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nF(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nz(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nD=(void 0!==c||(c=t(428988)).hash&&"f0b2fbadfba92480a2077999a000a308"!==c.hash&&console.error("The definition of 'RepinSectionPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),nN=function(e,n,t){return nL({field_set_key:"detailed",id:e,preserve_component_state:n},t?{orbac_subject_id:t}:Object.freeze({}))};function nM(e){var n,t,r,i,o=e.boardId,a=e.navigate,l=e.location.search,s=e.showSectionRep,c=e.pinKey,u=e.onSuccess,d=e.trackingParams,h=e.dismissFlyout,g=e.boardViewParameterType,m=e.surfaceOriginViewParameter,y=(0,p.I0)(),v=(0,A.ZP)(),b=(0,O.Z)(nD,c),S=no(),w=new URLSearchParams(l),j=w.get("isEditingPin"),I=null!=(r=w.get("pinBoardId"))?r:"",T=null!=(i=w.get("pinSectionId"))?i:"",B=(0,U.Z)(d,b.trackingParams),E=(0,x.Z)(),C=(0,eG.n)(),R=(0,z.Z)().checkExperiment,F=function(e){return a(e)},Z=(0,e3.Z)(),L=(0,k.Z)(),D=(0,e8.lJ)(L,Z),N=(0,P.cO)(),M=(0,eB.Z)().showRepinConfirmation;(0,f.useEffect)(function(){E({event_type:13,clientTrackingParams:B,component:13282,object_id_str:o,view_type:275,aux_data:{board_id:o,board_picker_surface_origin:m,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:b.entityId,board_component:g}})});var K=function(e){var n;h(),y((0,eR.w)({checkExperiment:R,i18n:v,logContextEvent:E,pinId:b.entityId,boardId:o,onSuccess:j?void 0:function(){N("Save",{pin_id:b.entityId,is_promoted:b.isPromoted}),u()},showRepinConfirmation:M,section:e,trackingParams:{clientTrackingParams:B,pinnedToBoardId:b.pinnedToBoard?b.pinnedToBoard.entityId:""},historyPush:F,savePinId:null!=(n=null==C?void 0:C.save)?n:function(){}})).then(function(){if(e){var n;y((0,nC.Z)(null!=(n=e.id)?n:""))}})},H=function(e){return y((0,eC.Br)(e))},W=(n=regeneratorRuntime.mark(function e(n,t){var r,i,o,l,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&E({event_type:101,clientTrackingParams:B,component:13282,element:36,object_id_str:n,view_type:91,view_parameter:3133,aux_data:{board_id:n,board_picker_surface_origin:m,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:b.entityId,section_id:null!=(r=null==t?void 0:t.id)?r:"",board_component:g}}),j){e.next=4;break}return e.next=4,K(t);case 4:j&&(i=I,o=n,l=T,c=nL({board_id:o,board_section_id:s=null==t?void 0:t.id,id:b.entityId},D?{orbac_subject_id:D}:Object.freeze({})),u=i!==o,d=l!==s,_.Z.create("PinResource",c).callUpdate().then(function(e){var n,t,r,f;(u||d)&&(n={selectedPinIds:[b.entityId],source:{boardId:i,sectionId:l||null},target:{boardId:o,sectionId:s}},y((0,e4.S)(n)),H({boardId:o,sectionId:s,increment:1}),H({boardId:i,sectionId:l,increment:-1}),L.isAuth&&L.id&&!i&&(t=L.id,r=b.entityId,y((0,e7.EX)({feedId:t,feedType:nn.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))),y((0,e1.b)("PinResource",{options:c})),f=b.entityId,y((0,e2.jB)("PinResource",nN(f,!0,D))),S(b.__id),y((0,e2.Sr)("PinResource",nN(e.resource_response.data.id,!1,D),e)),a(-2)}));case 5:case"end":return e.stop()}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){nZ(o,r,i,a,l,"next",e)}function l(e){nZ(o,r,i,a,l,"throw",e)}a(void 0)})},function(e,n){return t.apply(this,arguments)});return(0,X.jsx)(nR.Z,{boardId:o,repin:W,showSectionRep:s})}function nK(e){return(nK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nH(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function nU(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){nH(o,r,i,a,l,"next",e)}function l(e){nH(o,r,i,a,l,"throw",e)}a(void 0)})}}function nW(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nG(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nW(Object(t),!0).forEach(function(n){nQ(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nW(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nV(e,n){return(nV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function nY(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nq=function(){return!!e})()}function nX(e){return(nX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nQ(e,n,t){return(n=nJ(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function nJ(e){var n=function(e,n){if("object"!=nK(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nK(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nK(n)?n:n+""}var n$=(void 0!==u||(u=t(713443)).hash&&"b1432f4e80d112c155f930f7ed3760cd"!==u.hash&&console.error("The definition of 'RepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u),n0=(void 0!==d||(d=t(252031)).hash&&"76093586a269ca0330e25a57bd33f665"!==d.hash&&console.error("The definition of 'RepinPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function n1(e){var n=e.children,t=(0,p.v9)(function(e){var n=e.session;return 72+((0,E.Rq)(n.userAgentPlatform)?E.Vf:0)});return(0,X.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:n})}var n2=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&nV(i,e);var n,t,r=(n=nq(),function(){var e,t=nX(i);return e=n?Reflect.construct(t,arguments,nX(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==nK(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return nY(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return nQ(nY(e=r.call.apply(r,[this].concat(t))),"state",{boardType:"allBoards",dupeWarningDismissed:!1,pinDescription:(e.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(e.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0,saveSessionId:(0,v.Z)()}),nQ(nY(e),"saved",function(){return e.setState({saved:!0})}),nQ(nY(e),"onResize",function(){e.setState({windowInnerHeight:window.innerHeight})}),nQ(nY(e),"handleBackButtonTouch",function(){var n=e.props;(0,n.logContextEvent)({view_type:21,view_parameter:87,component:7,element:n.match.params.boardId?34:75,event_type:102})}),nQ(nY(e),"handleDismissWarningFlyout",function(){return e.setState({dupeWarningDismissed:!0})}),nQ(nY(e),"handleFirstBoardCreateOnSuccess",function(n,t){var r=e.props,i=r.closeupExperience,o=r.completeExperience,a=r.getReduxBoard,l=r.navigate,s=r.i18n,c=r.pinId,u=r.repinExperience,d=r.showRepinConfirmation,f=r.mountAfterActionPlacement,p=n.boardId,h=n.boardUrl,g=(0,eM.Z)(h,t,s),m=g.href,y=g.text,v=(0,ei.Z)({boardId:p,getReduxBoard:a,isFBC:!0,pinId:c,viewType:21}),b=v.duration,_=v.text,x=v.thumbnail;l(-1),d(function(e){var n=e.hideToast;return(0,X.jsx)(eo.Z,{duration:b,href:m,onHide:n,text:_||y,thumbnail:x})}),i&&i.placement_id&&503459===i.experience_id&&o(i.placement_id,i.experience_id),u&&W(u,501032)&&o(u.placement_id,u.experience_id),f("Save",{pin_id:e.props.pin.entityId,is_promoted:e.props.pin.isPromoted})}),nQ(nY(e),"handleSetSelectedBoard",function(n){var t,r=e.props,i=r.navigate,o=r.pin,a=r.location,l=e.state.trackingParams;e.isFirstBoardCreateActive()||i("/board/create/".concat(o.entityId,"/").concat(n,"/"),{state:{trackingParams:l},from:null==(t=a.state)?void 0:t.from}),e.setState({suggestedBoardName:n})}),nQ(nY(e),"handleFirstBoardCreate",function(n){var t,r=e.props,i=r.checkExperiment,o=r.createBoard,a=r.dispatch,l=r.navigate,s=r.location,c=r.logContextEvent,u=r.i18n,d=r.match,f=r.notifDetailRepinContext,p=r.pin,h=r.repinContext,g=r.showToast,m=e.state.trackingParams,y=d.params.id,v=(0,U.Z)((s.state||{}).trackingParams),b=null!=(t=new URLSearchParams(s.search).get("originalPinId"))?t:"",_=(0,U.Z)(m,p.trackingParams);return o({boardCreateOptions:{name:n,initial_pin_client_tracking_params:[v],privacy:"public"},deprecatedSchemaForNormalization:eZ.IY}).then(function(e){var n=e||{},t=n.url,r=n.id;return y&&a((0,eR.w)({checkExperiment:i,i18n:u,logContextEvent:c,originalPinId:b,pinId:y,boardId:r,trackingParams:{clientTrackingParams:_,pinnedToBoardId:r},historyPush:function(e){return l(e)},savePinId:function(e,n){return null==f||f.save(e),null==h?void 0:h.save(e,n)}})),{boardId:r,boardUrl:void 0===t?"":t}},function(n){throw{onError:function(){l(-1),g(function(t){var r=t.hideToast;return(0,X.jsx)(I.Z,{onHide:r,text:n.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"})})}}})}),nQ(nY(e),"handleSelectBoard",function(n,t){var r,i,o,a,l=e.props,s=l.navigate,c=l.pin,u=l.location,d=u.search,f=e.state.trackingParams,p=new URLSearchParams(d),h=!!p.get("isEditingPin"),g=null!=(r=p.get("pinBoardId"))?r:"",m=null!=(i=p.get("pinSectionId"))?i:"";e.setState(function(){return{boardType:t}}),h?s("/pin/".concat(c.entityId,"/repin/").concat(n.id,"/?isEditingPin=true&pinBoardId=").concat(g,"&pinSectionId=").concat(m),{trackingParams:f,from:null==(o=u.state)?void 0:o.from}):s("/pin/".concat(c.entityId,"/repin/").concat(n.id,"/"),{},{trackingParams:f,from:null==(a=u.state)?void 0:a.from})}),nQ(nY(e),"handleClickAddSectionButton",function(){var n,t,r,i,o=e.props,a=o.pin,l=o.navigate,s=o.match.params.boardId,c=o.location,u=o.logContextEvent,d=o.boardsShortlist,f=o.titleSuggestions;if(s){var p=new URLSearchParams(c.search),h=!!p.get("isEditingPin"),g=null!=(n=p.get("pinBoardId"))?n:"",m=null!=(t=p.get("pinSectionId"))?t:"";u({view_type:91,view_parameter:3132,component:13282,element:10306,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:f||[],pin_id:a.entityId,board_component:3132,board_picker_suggested_boards:JSON.stringify(na(d))}}),h?l("/pin/".concat(a.entityId,"/repin/").concat(s,"/add/?isEditingPin=true&pinBoardId=").concat(g,"&pinSectionId=").concat(m),{from:null==(r=c.state)?void 0:r.from}):l("/pin/".concat(a.entityId,"/repin/").concat(s,"/add/"),{state:{from:null==(i=c.state)?void 0:i.from}})}}),nQ(nY(e),"handleRepinToExistingSectionSuccess",function(){e.props.navigate(-2)}),nQ(nY(e),"handleRepinToNewSectionSuccess",function(){e.props.navigate(-3)}),nQ(nY(e),"handleRepinCreateBoardButtonTouch",function(){var n=e.props,t=n.pin,r=n.logContextEvent,i=n.boardsShortlist;r({view_type:91,view_parameter:87,component:13282,element:249,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:n.titleSuggestions||[],pin_id:t.entityId,board_component:87,board_picker_suggested_boards:JSON.stringify(na(i))}})}),nQ(nY(e),"renderCreateScreen",function(){var n,t,r=e.props,i=r.pin,o=r.location.search,a=r.match.params.boardId,l=e.state.trackingParams,s=new URLSearchParams(o),c=!!s.get("isEditingPin"),u=null!=(n=s.get("pinBoardId"))?n:"",d=null!=(t=s.get("pinSectionId"))?t:"";return!!a&&(0,X.jsx)(eQ,{boardId:a,isEditingPin:c,onSuccess:e.handleRepinToNewSectionSuccess,pinBoardId:u,pinKey:i,pinSectionId:d,trackingParams:l,useRoundedCorners:!0})}),nQ(nY(e),"isFirstBoardCreateActive",function(){var n=e.props,t=n.allBoards,r=n.isFetchingBoards,i=n.saveToProfileEnabled;return!!W(n.repinExperience,501032)||!r&&0===t.length&&!i}),nQ(nY(e),"isBoardCreateEduActive",function(){return W(e.props.repinExperience,501021)}),nQ(nY(e),"completeBoardCreateEduExperience",function(){var n=e.props,t=n.completeExperience,r=n.repinExperience;r&&e.isBoardCreateEduActive()&&t(r.placement_id,r.experience_id)}),nQ(nY(e),"renderPicker",function(){var n,t,r,i,o,a=e.props,l=a.allBoards,s=a.saveToProfileEnabled,c=a.boardsShortlist,u=a.navigate,d=a.isFetchingBoards,f=a.location,p=a.shouldUseSaveToProfileBehavior,h=a.pin,g=a.match.params.boardId,m=a.location.search,y=e.state,v=y.pinDescription,_=y.dupeWarningDismissed,x=y.saved,P=y.suggestedBoardName,S=y.trackingParams,w=y.warningAnchor,j=y.boardType,I=y.saveSessionId,k=v.trim(),O=h.pinnedToBoard,T=O?(0,B.nk)(e.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:O.name}).join(" "):null,A=h.dominantColor,E=h.imageSpec_236x,C=E?E.url:"",R=new URLSearchParams(m),z=!!R.get("isEditingPin"),L=null!=(n=R.get("pinBoardId"))?n:"",D=null!=(t=R.get("pinSectionId"))?t:"",N=!!R.get("isFromToast"),M=null!=(r=R.get("originalPinId"))?r:"",U=e.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),W=new b.Ry(2),Y=e.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),q=e.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),Q=g?U:0!==l.length||d||s?q:Y;return(0,X.jsxs)(Z.default,{hasFixedHeader:!0,children:[(0,X.jsx)(H.Z,{text:Q}),(0,X.jsx)(F.default,{useRoundedCorners:!0,zIndex:W,children:(0,X.jsxs)(b.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,X.jsx)(b.xu,{column:2,children:(0,X.jsx)(eN.Z,{alignIconLeft:!0,color:"darkGray",icon:g?"arrow-back":"cancel",onTouch:e.handleBackButtonTouch,size:"sm"})}),(0,X.jsx)(b.xu,{column:8,children:(0,X.jsx)(b.xu,{"data-test-id":"repin-page-title",children:(0,X.jsx)(b.X6,{accessibilityLevel:2,align:"center",size:"300",children:(0,X.jsx)(b.xv,{inline:!0,weight:"bold",children:Q})})})}),(0,X.jsx)(b.xu,{column:2})]})}),h.imageSpec_236x&&(e.isFirstBoardCreateActive()?(0,X.jsx)(eA,{onComplete:e.handleFirstBoardCreateOnSuccess,pinDominantColor:null!=A?A:"",pinImageUrl:null!=C?C:"",savePin:e.handleFirstBoardCreate,selectedBoardName:P}):null),(0,X.jsx)(n1,{children:g?(0,X.jsx)(nM,{boardId:g,boardViewParameterType:nl(j),dismissFlyout:e.saved,location:f,navigate:u,onSuccess:e.handleRepinToExistingSectionSuccess,pinKey:h,showSectionRep:!0,surfaceOriginViewParameter:153,trackingParams:S}):(0,X.jsx)(nO,{allBoards:l,boardsShortlist:c,closeModal:e.handleBackButtonTouch,dismissFlyout:e.saved,isEditingPin:z,isFetchingBoards:d,isFirstRepinExperience:e.isFirstBoardCreateActive(),isFromToast:N,navigate:u,onFirstBoardCreate:e.handleSetSelectedBoard,onSelect:e.handleSelectBoard,originalPinId:M,pinBoardId:L,pinDescription:k,pinKey:h,pinSectionId:D,saveSessionId:I,saveToProfileEnabled:s,shouldUseSaveToProfileBehavior:p,surfaceOriginViewParameter:153})}),g?(0,X.jsx)(K.Wx,{onAddNewSection:e.handleClickAddSectionButton,useIconWithBackground:!0}):(0,X.jsx)(V.Z,{modalHeader:(0,G.Bb)(e.props.i18n),nextLocation:"/board/create/".concat(h.entityId,"/"),children:(0,X.jsx)(nE,{isEditingPin:z,isFirstBoardCreateActive:e.isFirstBoardCreateActive(),onTouch:e.handleRepinCreateBoardButtonTouch,pinBoardId:L,pinDescription:k,pinKey:h,pinSectionId:D,trackingParams:S,useIconWithBackground:!0})}),E&&e.isBoardCreateEduActive()&&(0,X.jsx)(er,{completeExperience:e.completeBoardCreateEduExperience,pinDominantColor:null!=A?A:"",pinImageHeight:null!=(i=E.height)?i:1,pinImageUrl:null!=C?C:"",pinImageWidth:null!=(o=E.width)?o:1}),w&&!x&&h.pinnedToBoard&&!_&&T&&(0,X.jsx)(b.J2,{anchor:w,idealDirection:"down",onDismiss:e.handleDismissWarningFlyout,shouldFocus:!1,children:(0,X.jsx)(b.xu,{padding:3,children:(0,X.jsx)(b.xv,{weight:"bold",children:(0,X.jsx)("span",{children:T})})})})]})}),e}return t=[{key:"componentDidMount",value:function(){var e=this.props,n=e.logContextEvent,t=e.repinExperience,r=e.triggerExperimentsForPlacement,i=e.viewExperience,o=e.pin,a=this.state.saveSessionId;n({view_type:21,event_type:13,aux_data:{board_picker_surface_origin:153,pin_id:o.entityId,save_session_id:a}}),r(1000153),t&&i(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){return(0,X.jsx)(w.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:function(){},type:"repinPage",children:(0,X.jsx)(b.xu,{height:this.state.windowInnerHeight-j.i_,paddingX:2,paddingY:0,children:(0,X.jsxs)(g.rs,{children:[(0,X.jsx)(m.lt,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,X.jsx)(m.lt,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,X.jsx)(m.lt,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nJ(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(f.PureComponent),n3=function(e,n){var t,r,i={field_set_key:"repin"},o=(0,T.Z)({strategy:n?"GraphQL":"Legacy",query:n0,variables:{pinId:e},useGetLegacyData:function(e){var n=e.pinId;return(0,D.Z)({name:"PinResource",options:nG(nG({},i),{},{id:n})}).data}}),a=(null==o||null==(t=o.v3GetPinQuery)?void 0:t.__typename)==="V3GetPin"?null==(r=o.v3GetPinQuery)?void 0:r.data:null;return(0,O.Z)(n$,a)},n8=function(e){var n=(0,p.v9)(function(e){return e.session.userId}),t=(0,D.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:2,shortlist_suggestions:3,user_id:n}}),r=t.isFetching,i=t.data,o=(null==i?void 0:i.all_boards)||[];return{isFetching:r,allBoards:(0,p.v9)(function(e){return(0,ez.Z)(nG(nG({},e),{},{boards:o}))||[]}),boardsShortlist:(null==i?void 0:i.boards_shortlist)||[]}};function n5(){return(0,X.jsx)(n6,{})}function n6(e){var n,t=e.shouldFetchPinFromGraphQL,r=(0,y.s0)(),i=(0,g.TH)(),o=(0,g.$B)(),a=null!=(n=o.params.id)?n:"",l=(0,A.ZP)(),s=(0,x.Z)(),c=(0,S.be)(),u=(0,S.Ig)(),d=(0,nv.Z)(),f=(0,eD.LO)(),h=(0,eL.gC)(),m=(0,k.Z)().isAuth,v=(0,N.HG)(),b=n3(a,t),w=n8(a),j=w.isFetching,I=w.allBoards,O=w.boardsShortlist,T=(0,z.Z)().checkExperiment,B=(0,Y.m)(),E=(0,eG.n)(),F=nw(a);(0,L.Z)({name:"UserResource",options:{user_id:null==f?void 0:f.id,field_set_key:"quicksave"}});var Z=(0,p.I0)(),D=(0,p.v9)(function(e){return e.experiences}),K=(0,P.cO)(),H=(0,eB.Z)(),U=H.showToast,W=H.showRepinConfirmation,G=(0,eE.ZP)((null==f?void 0:f.id)||"").showEnabledSaveBehavior,V=(0,k.Z)(),q=function(){if(!V.isAuth)return null;var e=V.pinCount&&V.pinCount>0||V.boardCount&&V.boardCount>0||!1;return(0,C.Z)(V.createdAt)?T("ap_mweb_new_user_disable_quick_save",{dangerouslySkipActivation:e}).group:(0,R.Z)(null,V)?T("ap_mweb_res_user_disable_quick_save",{dangerouslySkipActivation:e}).group:null}(),Q="enabled_remove_quick_save"===q;return((0,M.Z)(function(){if(Q&&f&&!0!==f.has_quicksave_board){var e,n,t={name:l._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"quick_save"}},r=(e=nU(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.Z.create("BoardResource",t).callCreate());case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});(n=nU(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:n=e.sent.resource_response.data,Z((0,eC.oL)(t,n)),Z((0,eF.Z)(!0));case 6:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})()}}),!m||v)?(0,X.jsx)(y.Fg,{replace:!0,to:"/pin/".concat(a,"/")}):b?(0,X.jsx)(n2,{allBoards:I,boardsShortlist:O,checkExperiment:T,closeupExperience:D[1000112],completeExperience:function(e,n){return Z(c(e,n))},createBoard:d,dispatch:Z,getReduxBoard:h,i18n:l,isFetchingBoards:j,location:i,logContextEvent:s,match:o,mountAfterActionPlacement:K,navigate:r,notifDetailRepinContext:B,pin:b,pinId:a,repinContext:E,repinExperience:D[1000153],saveToProfileEnabled:G&&"enabled_remove_all_boardless_saves"!==q,shouldUseSaveToProfileBehavior:Q,showRepinConfirmation:W,showToast:U,titleSuggestions:F,triggerExperimentsForPlacement:function(e){return Z((0,S.kd)(e))},viewExperience:function(e,n){return Z(u(e,n))}}):null}},889229:function(e,n,t){"use strict";function r(e,n){return{type:"SECTION_ADDED",payload:{boardId:e,section:n}}}function i(e,n){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:n}}}t.d(n,{HG:function(){return i},OQ:function(){return o},hd:function(){return r}});var o=function(e,n){return{type:"BOARD_SECTION_EDIT",payload:n}}},978857:function(e,n,t){"use strict";var r=t(60101),i=t(575108),o=t(72918),a=t(889229),l=t(189976),s=t(388023),c=t(696323);n.Z=function(e,n,t,u){return function(d){var f={board_id:e,initial_pins:n,name:t},p="BoardSectionResource";return i.Z.create(p,f).callCreate().then(function(t){var i=t.resource_response.data,h=(0,r.Fv)(i,s.Z[p]);return u({event_type:7100,object_id_str:i.id}),d((0,o.XM)(p,f,t,h)),d((0,a.hd)(e,i)),d((0,l.vX)({feedId:e,feedType:c.Z.BOARD_SECTIONS,itemIds:[i.id],itemType:"boardsection"})),n.length&&d({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:i.id},pinIds:n}}),t})}}},987782:function(e,n,t){"use strict";var r=t(575108);n.Z=function(e){return function(n){n({type:"PINS_MOVE_ALL",payload:e});var t=e.source,i=e.target,o=e.excludePinIds,a={board_id:t.boardId,new_board_id:i.boardId,pin_ids:o,old_section_id:t.sectionId,new_section_id:i.sectionId};return r.Z.create("BulkEditSelectAllResource",a).callUpdate()}}},120651:function(e,n,t){"use strict";var r=t(575108),i=t(889229);n.Z=function(e){return function(n){return r.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(t){var r=t.resource_response.data||{id:"",title:""};return n((0,i.OQ)(e,r)),t})}}},74105:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(536652);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e,n,t){return(0,r.U)("BoardResource",{options:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({board_id:e,field_set_key:n},t?{orbac_subject_id:t}:{})})}},831786:function(e,n,t){"use strict";t.d(n,{S:function(){return p},Z:function(){return h}});var r=t(575108),i=t(74105),o=t(225013),a=t(189976),l=t(686231),s=t(696323),c=t(697063),u=function(e){return function(n){c.Z.showError(function(e,n){switch(e.api_error_code){case 2171:case 2172:case 2173:return n._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(n,e))}},d=function(e){return(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId)};function f(e,n){var t=e.source,r=e.target;r.boardId!==t.boardId?(n((0,i.Z)(t.boardId,"pin_count")),n((0,i.Z)(r.boardId,"pin_count"))):t.sectionId&&r.sectionId||n((0,i.Z)(r.boardId,"pin_count")),t.sectionId&&n((0,o.Z)(t.sectionId)),r.sectionId&&n((0,o.Z)(r.sectionId))}function p(e){return function(n){var t=e.selectedPinIds,r=e.source,i=e.target;n((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:t,itemType:"pin"})),n((0,a.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:t,itemType:"pin"})),t.forEach(function(e){n((0,l.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),f(e,n)}}function h(e,n){return function(t){var i=e.selectedPinIds,o=e.target;return i.forEach(function(e){t((0,l.Vp)({pinId:e,boardId:o.boardId,sectionId:o.sectionId||void 0,title:o.name||""}))}),(function(e,n,t){var i=e.inverseSelection,o=e.selectedPinIds,l=e.source,c=e.target,f=e.orbacSubjectId;if(l.boardId===c.boardId&&(l.sectionId||null)===(c.sectionId||null))return Promise.reject();if(i){var p={board_id:l.boardId,new_board_id:c.boardId,old_section_id:l.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:f};return r.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([n(d(l)),n(d(c))])}).catch(u(t))}var h=function(e,t){n((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),n((0,a.vX)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"}))};h(l,c);var g=function(){return h(c,l)};if(c.boardId===l.boardId)if(c.sectionId){var m={section_id:c.sectionId,pins:o,orbac_subject_id:f};return r.Z.create("BoardSectionEditResource",m).callUpdate({showError:!1}).catch(function(e){g(),u(t)(e)})}else{var y={section_id:l.sectionId,pins:o,orbac_subject_id:f};return r.Z.create("BoardSectionPinsResource",y).callDelete({showError:!1}).catch(function(e){g(),u(t)(e)})}var v={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:f};return r.Z.create("BulkEditResource",v).callUpdate({showError:!1}).catch(function(e){g(),u(t)(e)})})(e,t,n).then(function(){return f(e,t)})}}},936705:function(e,n,t){"use strict";t.d(n,{a:function(){return r},k:function(){return i}});var r=function(e){return{type:"ONE_TAP_SAVE",payload:e}},i=function(e){return{type:"ONE_TAP_UNSAVE",payload:e}}},282919:function(e,n,t){"use strict";t.d(n,{w:function(){return a}});var r=t(370347),i=t(611251);function o(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}var a=function(e){var n,a,l=e.pinId,s=e.boardId,c=e.checkExperiment,u=e.i18n,d=e.isQuickSave,f=e.logContextEvent,p=e.onSuccess,h=e.originalPinId,g=e.showNewUserSavetoProfileAnimation,m=e.showRepinConfirmation,y=e.showToast,v=e.section,b=e.trackingParams,_=e.isOneTapSave,x=e.viewParameter,P=e.viewType,S=e.historyPush,w=e.suggestedBoardIds,j=e.savePinId;return n=regeneratorRuntime.mark(function e(n,o){var a,I,k,O,T,A,B,E,C,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A=(T=o()).pins,B=T.session,E=A[l],C=function(e){return m?m(e):y?y(e):void 0},e.next=5,t.e("20019").then(t.bind(t,116856));case 5:return R=new e.sent.default({boardId:s,dispatch:n,i18n:u,isOneTapSave:_,isQuickSave:d,onSuccess:p,originalPinId:h,pinId:E.id,section:v,showNewUserSavetoProfileAnimation:g,showRepinToasts:C,trackingParams:b,userId:B.userId,viewParameter:x,viewType:P,historyPush:S,suggestedBoardIds:w,savePinId:j,pinData:{trackingParams:E.tracking_params,viewParameter:(0,i.A)({hasRichMetadata:!!E.rich_metadata,hasRichMetadataProducts:!!(null!=(a=E.rich_metadata)&&a.products),hasRichMetadataArticle:!!(null!=(I=E.rich_metadata)&&I.article),hasRichMetadataRecipe:!!(null!=(k=E.rich_metadata)&&k.recipe)}),pinnedToBoardId:null==(O=E.pinned_to_board)?void 0:O.id}}),(0,r.ib)({checkExperiment:c,isAuthMweb:B.isAuthenticated&&(B.isMobile||B.isTablet)}),e.abrupt("return",R.processRepin(f));case 10:case"end":return e.stop()}},e)}),a=function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})},function(e,n){return a.apply(this,arguments)}}},373950:function(e,n,t){"use strict";function r(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}t.d(n,{Z:function(){return r}})},145127:function(e,n,t){"use strict";n.Z=(0,t(209257).createSelector)(function(e){var n=e.users,t=e.boards,r=n[e.session.userId]||null;return Object.keys(t).reduce(function(e,n){var i,o=t[n];return!o.archived_by_me_at&&((null==(i=o.owner)?void 0:i.id)===(null==r?void 0:r.id)||o.collaborating_users&&o.collaborating_users.map(function(e){return e.id}).includes(null==r?void 0:r.id))&&o.cover_images?e.concat([o]):e},[])},function(e){return e.sort(function(e,n){var t,r,i;return null!=(t=null==e||null==(r=e.name)?void 0:r.localeCompare(null!=(i=null==n?void 0:n.name)?i:""))?t:0})})},588836:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(581722),i=t(963489),o=t(20256),a=t(111330),l=t(521009),s=t(346955),c=t(667835),u=t(19585),d=t(506662),f=t(753143),p=t(941404),h=t(572227),g=t(647709),m=t(382718);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function v(e){var n,t=e.alignIconLeft,v=e.bgColor,b=e.color,_=e.disableRedirect,x=void 0!==_&&_,P=e.fallbackUrl,S=e.icon,w=void 0===S?"arrow-back":S,j=e.onTouch,I=e.padding,k=e.placement,O=e.shouldUseFallbackUrl,T=e.size,A=void 0===T?"lg":T,B=e.viewParameter,E=e.viewType,C=e.isVisualSearch,R=(0,u.ZP)(),F=(0,i.s0)(),Z=(0,i.TH)(),z=(0,g.HG)(),L=(0,r.v9)(function(e){return e.session.isAuthenticated}),D=(0,l.Z)(),N=(0,h.Z)(),M=(0,c.vs)(),K=(0,s.SU)(),H=K.viewType,U=K.viewParameter,W=function(e){if(Array.isArray(e))return e}(n=E?[E,B]:[H,U])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return y(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),G=W[0],V=W[1],Y=function(){var e,n=(0,f.M0)().getItem(a.pm);Z.key||"/ideas"!==P?(0,p.My)("pinner_conversion.back_button.".concat(String(null==n?void 0:n[0].pageType))):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)("web_back_button_click.".concat(String(k),".is_auth_").concat(String(L))),N({action:"click",item:"back-button"}),G&&D({view_type:G,view_parameter:V,element:34,event_type:102}),j&&j(),x||((!Z.key||!Z.state||(null==(e=Z.state)?void 0:e.referrer)==="redirect"||O)&&P?F(P):Z.pathname.includes("/password/reset/")&&Z.search&&Z.search.includes("?nativeShouldDismiss=true")?F("/login/?dismissWebview=true"):F(-1))},q=M?c.t4:"white",X=(0,d.am)(Z)||C||"white"===b;return(0,m.jsx)(o.xu,{"data-test-id":"back-button",children:t?(0,m.jsx)(o.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===w?-1:-2,width:48,children:(0,m.jsx)(o.hU,{accessibilityLabel:R._('Back', 'navigation button', 'navigation button'),bgColor:v,icon:w,iconColor:!b&&(!v||["white","lightGray","transparent"].includes(v))?"gray":b,onClick:Y,padding:"auto"!==I?I:2,size:A})}):(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:z||X||v?"":q,width:M&&!X?"fit-content":""}},rounding:"circle",children:(0,m.jsx)(o.hU,{accessibilityLabel:R._('Back', 'navigation button', 'navigation button'),bgColor:v||z?v:"transparent",icon:w,iconColor:!b&&(!v||["white","lightGray","transparent"].includes(v))?"gray":b,onClick:Y,padding:"auto"!==I?I:2,size:A})})})}},482633:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(581722),i=t(20256),o=t(19585),a=t(302148),l=t(352908),s=t(786942),c=t(382718);function u(e){var n,t=e.boardId,u=e.onBoardSelected,d=e.noArrowIcon,f=e.showSingleBoardRep,p=(0,o.ZP)(),h=(0,r.v9)(function(e){return e.boards})[t],g=h.section_count,m=!!g&&g>0,y=(0,l.Z)(),v=null!=(n=h.name)?n:"this board";return(0,c.jsx)(i.iP,{accessibilityLabel:(0,a.Wc)("".concat(p._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')),{boardName:v}),onTap:y({fn:function(){return u(m)}}),rounding:2,tapStyle:"compress",children:(0,c.jsx)(s.Z,{boardId:t,noArrowIcon:d,showSingleBoardRep:f})})}},786942:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(586659),i=t(581722),o=t(20256),a=t(19585),l=t(302148),s=t(134475),c=t(734263),u=t(222401),d=t(382718);function f(e){var n=e.boardId,t=e.navigateToBoard,f=e.noArrowIcon,p=e.showCollaborators,h=e.showSingleBoardRep,g=e.shouldShowPinAndSectionCount,m=(0,a.ZP)(),y=(0,i.v9)(function(e){return e.boards})[n],v=(y.collaborating_users||[]).map(function(e){var n,t;return{name:null!=(n=e.username)?n:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!=(t=e.image_medium_url)?t:""}}),b="",_=v.slice(0,3).map(function(e){return e.name});switch(v.length){case 3:b=(0,l.Wc)("".concat(m._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(_[0]),second:"".concat(_[1]),last:"".concat(_[2])});break;case 2:b=(0,l.Wc)("".concat(m._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(_[0]),second:"".concat(_[1])});break;default:b=_.join(", ")}var x=v.length>3?(0,l.Wc)(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', v.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:b,leftCount:"".concat(v.length-3)}):(0,l.Wc)("".concat(m._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:b}),P=new o.Ry(0),S=y.pin_count,w=y.section_count,j=(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(o.xu,{"data-test-id":w?"boardWithSection":"boardWithoutSection",children:(0,d.jsxs)(o.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4*!!h,rounding:2,children:[(0,d.jsx)(o.xu,{paddingY:2*!h,children:h?(0,d.jsx)(o.xu,{height:48,overflow:"hidden",width:48,children:(0,d.jsx)(o.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:y.image_cover_url||" "})})}):(0,d.jsx)(o.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,d.jsx)(u.default,{boardKey:{type:"Legacy",data:y},fullSize:!0,hideSecretBoardIcon:!0,type:"thumbnail",viewType:void 0})})}),(0,d.jsxs)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsxs)(o.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:h?2:4,overflow:h?"hidden":"auto",width:"100%",children:[(0,d.jsx)(o.xv,{lineClamp:h?1:void 0,size:"400",weight:"bold",children:y.name}),g&&(0,d.jsxs)(o.kC,{children:[(0,d.jsx)(o.xv,{inline:!0,children:!!S&&(0,l.nk)(m.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', null != S ? S : 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:S})}),!!S&&!!w&&(0,d.jsx)(c.Z,{}),(0,d.jsx)(o.xv,{inline:!0,children:!!w&&(0,l.nk)(m.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', null != w ? w : 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:w})})]})]}),(0,d.jsxs)(o.kC,{alignItems:h?"center":"start",justifyContent:"start",children:["secret"===y.privacy&&(0,d.jsx)(o.xu,{marginStart:h?3:1,children:(0,d.jsx)(o.JO,{accessibilityLabel:m._('secret board icon', ' - ', ' -- '),color:h?"default":"subtle",icon:"lock"})}),y.is_collaborative&&(h||p)&&v.length>0?(0,d.jsx)(o.xu,{zIndex:P,children:(0,d.jsx)(o.HE,{accessibilityLabel:s.U+x,collaborators:v,size:1===v.length?"sm":"xs"})}):y.is_collaborative&&(0,d.jsx)(o.xu,{marginStart:1,children:(0,d.jsx)(o.JO,{accessibilityLabel:m._('group board icon', ' - ', ' -- '),icon:"people"})}),!f&&!!y.section_count&&(0,d.jsx)(o.xu,{"data-test-id":"boardSectionPicker",marginStart:3*!!h,children:(0,d.jsx)(o.JO,{accessibilityLabel:m._('board section board picker icon', ' - ', ' -- '),color:h?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return t&&y.url?(0,d.jsx)(o.Tg,{href:y.url,rounding:2,tapStyle:"compress",children:j}):j}},993127:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(581722),i=t(963489),o=t(20256),a=t(19585),l=t(374078),s=t(975740),c=t(482633),u=t(302148),d=t(366859),f=t(382718);function p(e){var n,t,i=e.onSectionSelected,l=e.sectionId,s=e.showSectionRep,c=(0,r.v9)(function(e){return e.boardsections[l]}),p=(0,a.ZP)(),h=c&&(null==(n=c.preview_pins)?void 0:n[0])&&c.preview_pins[0].image_medium_url,g=null!=(t=null==c?void 0:c.title)?t:"";return(0,f.jsx)(d.Z,{onTouch:i,pressState:"none",rounding:2,children:(0,f.jsxs)(o.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!s,rounding:2,children:[s&&(0,f.jsx)(o.xu,{height:48,width:51,children:(0,f.jsx)(o.zd,{height:"100%",rounding:2,width:"100%",children:h&&(0,f.jsx)(o.Ee,{alt:(0,u.Wc)(p._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:g}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:h})})}),!s&&(0,f.jsx)(o.xu,{column:1,paddingY:2}),(0,f.jsx)(o.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:s?(0,f.jsx)(o.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,f.jsx)(o.xv,{lineClamp:1,size:"400",weight:"bold",children:null==c?void 0:c.title})}):(0,f.jsx)(o.xu,{marginStart:2,children:(0,f.jsx)(o.xv,{weight:"bold",children:null==c?void 0:c.title})})})]})})}var h=function(e,n){var t=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}).isFetching,i=(0,r.v9)(function(n){return(n.feeds["board-sections:".concat(e)]||[]).reduce(function(e,n){if("boardsection"===n.type){var t={type:"boardsection",id:n.id};e.push(t)}return e},[])}),o=(0,r.v9)(function(t){return i.map(function(e){return e.id}).reduce(function(r,i){var o=t.boardsections[null!=i?i:""];return i!==n&&o&&r.push({board:{id:e},id:o.id,title:o.title,type:"boardsection",slug:o.slug}),r},[])});return{isFetching:t,boardSections:i,filteredBoardSections:o}};function g(e){var n=e.boardId,t=e.originalBoardId,r=e.sectionId,l=e.repin,u=e.hideBoardPickerRow,d=e.showSectionRep,g=(0,a.ZP)(),m=h(n,r),y=m.isFetching,v=m.boardSections,b=m.filteredBoardSections,_=(0,i.s0)(),x=(0,s.gC)()(t||"");return(0,f.jsxs)(o.xu,{children:[v.length>0&&(0,f.jsxs)(o.xu,{paddingY:3*!d,children:[d&&(0,f.jsx)(o.xu,{paddingY:2,children:(0,f.jsx)(o.xu,{marginBottom:2,children:(0,f.jsx)(o.X6,{accessibilityLevel:3,size:"300",children:(0,f.jsx)(o.xv,{inline:!0,children:g._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!u&&(0,f.jsx)(c.Z,{boardId:n,noArrowIcon:!0,onBoardSelected:function(){return l(n,void 0,g)},showSingleBoardRep:d},n),d&&(0,f.jsx)(o.xu,{paddingY:4,children:(0,f.jsx)(o.X6,{accessibilityLevel:3,size:"300",children:(0,f.jsx)(o.xv,{inline:!0,children:g._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),b.map(function(e){var r;return(0,f.jsx)(p,{onSectionSelected:function(){if(l(n,e,g),t){var r;_(null!=(r=null==x?void 0:x.url)?r:"")}},sectionId:null!=(r=e.id)?r:"",showSectionRep:d},e.id)})]}),(0,f.jsx)(o.xH,{accessibilityLabel:g._('Loading board section for repin flow', ' - ', ' -- '),show:y})]})}},681721:function(e,n,t){"use strict";var r=t(302148);n.Z=function(e,n,t){return{text:n?(0,r.nk)(t._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:n}).join(" "):t._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found'),href:e}}},783556:function(e,n,t){"use strict";t.d(n,{k:function(){return a},w:function(){return o}});var r=t(20256),i=t(252564),o=2e3,a=new r.H3([i.Z])},890774:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(581722),i=t(60101),o=t(575108),a=t(877956),l=t(440568),s=t(536652),c=t(72918);function u(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function d(){var e,n,t=(0,r.I0)(),d=(0,r.v9)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(n){var r,u,f,p,h,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.boardCreateOptions,f=n.deprecatedSchemaForNormalization,e.next=3,o.Z.create("BoardResource",u).callCreate();case 3:return h=(p=e.sent).resource_response.data,g=f?(0,i.Fv)(h,f):void 0,t((0,c.XM)("BoardResource",u,p,g)),t((0,a.fO)({event_type:20})),null!=(r=h.owner)&&r.id&&t((0,s.b)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}})),m=d.BoardsResource||{},y=d.BoardsFeedResource||{},Object.keys(m).forEach(function(e){var n;(0,l.k)(e).username===(null==(n=h.owner)?void 0:n.username)&&t((0,c.jB)("BoardsResource",e))}),Object.keys(y).forEach(function(e){var n;(0,l.k)(e).username===(null==(n=h.owner)?void 0:n.username)&&t((0,c.jB)("BoardsFeedResource",e))}),e.abrupt("return",h);case 14:case"end":return e.stop()}},e)}),n=function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}}},867576:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r,i=t(650533),o=t(963489),a=t(15667),l=t(647709);t(492996);var s=t(561692),c=t(889144),u=t(28427),d=t(394887),f=t(382718),p=(void 0!==r||(r=t(645632)).hash&&"60ba8f292ef82335c3d4cbce50f362d8"!==r.hash&&console.error("The definition of 'CloseupRepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function h(e){var n=e.pinKey,t=(0,u.Z)(p,n);return t?(0,f.jsx)(d.Z,{type:"authDesktop",children:t.isEligibleForPdp?(0,f.jsx)(c.Z,{showRepin:!0}):(0,f.jsx)(s.ZP,{showRepin:!0})}):null}var g=t(128061),m=t(169053),y=function(){var e=(0,i.UO)().id,n=(0,l.ZP)(),t=(0,a.B)().isAuthenticated,r=(0,m.S6)(),s=e?r(e):null;return t?"desktop"===n?(0,f.jsx)(h,{pinKey:null!=s?{type:"Legacy",data:s}:null}):(0,f.jsx)(g.ZP,{shouldFetchPinFromGraphQL:!0}):(0,f.jsx)(o.Fg,{replace:!0,to:"/pin/".concat(null!=e?e:"","/")})}},961780:function(e,n){"use strict";var t,r,i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l={},s={};function c(e,n,t){return Math.min(Math.max(e,n),t)}function u(e,n){return e.indexOf(n)>-1}function d(e,n){return e.apply(null,n)}var f={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return f.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||f.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return f.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return f.hex(e)||f.rgb(e)||f.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function p(e){var n=/\(([^)]+)\)/.exec(e);return n?n[1].split(",").map(function(e){return parseFloat(e)}):[]}function h(e,n){var t=p(e),r=c(f.und(t[0])?1:t[0],.1,100),i=c(f.und(t[1])?100:t[1],.1,100),o=c(f.und(t[2])?10:t[2],.1,100),a=c(f.und(t[3])?0:t[3],.1,100),l=Math.sqrt(i/r),u=o/(2*Math.sqrt(i*r)),d=u<1?l*Math.sqrt(1-u*u):0,h=u<1?(u*l+-a)/d:-a+l;function g(e){var t=n?n*e/1e3:e;return(t=u<1?Math.exp(-t*u*l)*(+Math.cos(d*t)+h*Math.sin(d*t)):(1+h*t)*Math.exp(-t*l),0===e||1===e)?e:1-t}return n?g:function(){var n=s[e];if(n)return n;for(var t=1/6,r=0,i=0;;)if(1===g(r+=t)){if(++i>=16)break}else i=0;var o=r*t*1e3;return s[e]=o,o}}function g(e){return void 0===e&&(e=10),function(n){return Math.ceil(c(n,1e-6,1)*e)*(1/e)}}var m=function(){function e(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e}function n(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n}return function(t,r,i,o){if(0<=t&&t<=1&&0<=i&&i<=1){var a=new Float32Array(11);if(t!==r||i!==o)for(var l=0;l<11;++l)a[l]=e(.1*l,t,i);return function(l){return t===r&&i===o||0===l||1===l?l:e(function(r){for(var o=0,l=1;10!==l&&a[l]<=r;++l)o+=.1;var s=o+(r-a[--l])/(a[l+1]-a[l])*.1,c=n(s,t,i);if(c>=.001){for(var u=s,d=0;d<4;++d){var f=n(u,t,i);if(0===f)break;var p=e(u,t,i)-r;u-=p/f}return u}return 0===c?s:function(n,t,r,i,o){var a,l,s=0;do(a=e(l=t+(r-t)/2,i,o)-n)>0?r=l:t=l;while(Math.abs(a)>1e-7&&++s<10);return l}(r,o,o+.1,t,i)}(l),r,o)}}}}(),y=(t={linear:function(){return function(e){return e}}},r={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var n,t=4;e<((n=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*n-2)/22-e,2)}},Elastic:function(e,n){void 0===e&&(e=1),void 0===n&&(n=.5);var t=c(e,1,10),r=c(n,.1,2);return function(e){return 0===e||1===e?e:-t*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-r/(2*Math.PI)*Math.asin(1/t))/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,n){r[e]=function(){return function(e){return Math.pow(e,n+2)}}}),Object.keys(r).forEach(function(e){var n=r[e];t["easeIn"+e]=n,t["easeOut"+e]=function(e,t){return function(r){return 1-n(e,t)(1-r)}},t["easeInOut"+e]=function(e,t){return function(r){return r<.5?n(e,t)(2*r)/2:1-n(e,t)(-2*r+2)/2}},t["easeOutIn"+e]=function(e,t){return function(r){return r<.5?(1-n(e,t)(1-2*r))/2:(n(e,t)(2*r-1)+1)/2}}}),t);function v(e,n){if(f.fnc(e))return e;var t=e.split("(")[0],r=y[t],i=p(e);switch(t){case"spring":return h(e,n);case"cubicBezier":return d(m,i);case"steps":return d(g,i);default:return d(r,i)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function _(e,n){for(var t=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<t;o++)if(o in e){var a=e[o];n.call(r,a,o,e)&&i.push(a)}return i}function x(e){return e.reduce(function(e,n){return e.concat(f.arr(n)?x(n):n)},[])}function P(e){return f.arr(e)?e:(f.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function S(e,n){return e.some(function(e){return e===n})}function w(e){var n={};for(var t in e)n[t]=e[t];return n}function j(e,n){var t=w(e);for(var r in e)t[r]=n.hasOwnProperty(r)?n[r]:e[r];return t}function I(e,n){var t=w(e);for(var r in n)t[r]=f.und(e[r])?n[r]:e[r];return t}function k(e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(n)return n[1]}function O(e,n){return f.fnc(e)?e(n.target,n.id,n.total):e}function T(e,n){return e.getAttribute(n)}function A(e,n,t){if(S([t,"deg","rad","turn"],k(n)))return n;var r=l[n+t];if(!f.und(r))return r;var i=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+t;var a=100/i.offsetWidth;o.removeChild(i);var s=a*parseFloat(n);return l[n+t]=s,s}function B(e,n,t){if(n in e.style){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[n]||getComputedStyle(e).getPropertyValue(r)||"0";return t?A(e,i,t):i}}function E(e,n){return f.dom(e)&&!f.inp(e)&&(!f.nil(T(e,n))||f.svg(e)&&e[n])?"attribute":f.dom(e)&&S(a,n)?"transform":f.dom(e)&&"transform"!==n&&B(e,n)?"css":null!=e[n]?"object":void 0}function C(e){if(f.dom(e)){for(var n,t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;n=r.exec(t);)i.set(n[1],n[2]);return i}}function R(e,n,t,r){switch(E(e,n)){case"transform":var i,o;return i=u(n,"scale")?1:0+(u(n,"translate")||"perspective"===n?"px":u(n,"rotate")||u(n,"skew")?"deg":void 0),o=C(e).get(n)||i,r&&(r.transforms.list.set(n,o),r.transforms.last=n),t?A(e,o,t):o;case"css":return B(e,n,t);case"attribute":return T(e,n);default:return e[n]||0}}function F(e,n){var t=/^(\*=|\+=|-=)/.exec(e);if(!t)return e;var r=k(e)||0,i=parseFloat(n),o=parseFloat(e.replace(t[0],""));switch(t[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function Z(e,n){if(f.col(e)){var t,r,i;return f.rgb(e)?(t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+t[1]+",1)":e:f.hex(e)?(r=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,n,t,r){return n+n+t+t+r+r}),"rgba("+parseInt((i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r))[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"):f.hsl(e)?function(e){var n,t,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100,s=i[4]||1;function c(e,n,t){return(t<0&&(t+=1),t>1&&(t-=1),t<1/6)?e+(n-e)*6*t:t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e}if(0==a)n=t=r=l;else{var u=l<.5?l*(1+a):l+a-l*a,d=2*l-u;n=c(d,u,o+1/3),t=c(d,u,o),r=c(d,u,o-1/3)}return"rgba("+255*n+","+255*t+","+255*r+","+s+")"}(e):void 0}if(/\s/g.test(e))return e;var o=k(e),a=o?e.substr(0,e.length-o.length):e;return n?a+n:a}function z(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function L(e){for(var n,t=e.points,r=0,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(r+=z(n,o)),n=o}return r}function D(e){var n;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*T(e,"r");case"rect":return 2*T(e,"width")+2*T(e,"height");case"line":return z({x:T(e,"x1"),y:T(e,"y1")},{x:T(e,"x2"),y:T(e,"y2")});case"polyline":return L(e);case"polygon":return n=e.points,L(e)+z(n.getItem(n.numberOfItems-1),n.getItem(0))}}function N(e,n){var t=n||{},r=t.el||function(e){for(var n=e.parentNode;f.svg(n)&&f.svg(n.parentNode);)n=n.parentNode;return n}(e),i=r.getBoundingClientRect(),o=T(r,"viewBox"),a=i.width,l=i.height,s=t.viewBox||(o?o.split(" "):[0,0,a,l]);return{el:r,viewBox:s,x:s[0]/1,y:s[1]/1,w:a,h:l,vW:s[2],vH:s[3]}}function M(e,n){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Z(f.pth(e)?e.totalLength:e,n)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:f.str(e)||n?r.split(t):[]}}function K(e){return _(e?x(f.arr(e)?e.map(P):P(e)):[],function(e,n,t){return t.indexOf(e)===n})}function H(e){var n=K(e);return n.map(function(e,t){return{target:e,id:t,total:n.length,transforms:{list:C(e)}}})}var U={css:function(e,n,t){return e.style[n]=t},attribute:function(e,n,t){return e.setAttribute(n,t)},object:function(e,n,t){return e[n]=t},transform:function(e,n,t,r,i){if(r.list.set(n,t),n===r.last||i){var o="";r.list.forEach(function(e,n){o+=n+"("+e+") "}),e.style.transform=o}}};function W(e,n){H(e).forEach(function(e){for(var t in n){var r=O(n[t],e),i=e.target,o=k(r),a=R(i,t,o,e),l=F(Z(r,o||k(a)),a);U[E(i,t)](i,t,l,e.transforms,!0)}})}function G(e,n){var t=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=t?Math.max.apply(Math,e.map(function(e){return r(e)+e.duration})):n.duration,i.delay=t?Math.min.apply(Math,e.map(function(e){return r(e)+e.delay})):n.delay,i.endDelay=t?i.duration-Math.max.apply(Math,e.map(function(e){return r(e)+e.duration-e.endDelay})):n.endDelay,i}var V=0,Y=[],q=function(){var e;function n(t){for(var r=Y.length,i=0;i<r;){var o=Y[i];o.paused?(Y.splice(i,1),r--):(o.tick(t),i++)}e=i>0?requestAnimationFrame(n):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){Q.suspendWhenDocumentHidden&&(X()?e=cancelAnimationFrame(e):(Y.forEach(function(e){return e._onDocumentVisibility()}),q()))}),function(){e||X()&&Q.suspendWhenDocumentHidden||!(Y.length>0)||(e=requestAnimationFrame(n))}}();function X(){return!!document&&document.hidden}function Q(e){void 0===e&&(e={});var n,t,r,a,l,s,u,d,p,g=0,m=0,y=0,b=0,P=null;function S(e){var n=window.Promise&&new Promise(function(e){return P=e});return e.finished=n,n}var T=(t=j(i,n=e),a=function(e,n){var t=[],r=n.keyframes;for(var i in r&&(n=I(function(e){for(var n=_(x(e.map(function(e){return Object.keys(e)})),function(e){return f.key(e)}).reduce(function(e,n){return 0>e.indexOf(n)&&e.push(n),e},[]),t={},r=0;r<n.length;r++)!function(r){var i=n[r];t[i]=e.map(function(e){var n={};for(var t in e)f.key(t)?t==i&&(n.value=e[t]):n[t]=e[t];return n})}(r);return t}(r),n)),n)f.key(i)&&t.push({name:i,tweens:function(e,n){var t=w(n);if(/^spring/.test(t.easing)&&(t.duration=h(t.easing)),f.arr(e)){var r=e.length;2!==r||f.obj(e[0])?f.fnc(n.duration)||(t.duration=n.duration/r):e={value:e}}var i=f.arr(e)?e:[e];return i.map(function(e,t){var r=f.obj(e)&&!f.pth(e)?e:{value:e};return f.und(r.delay)&&(r.delay=t?0:n.delay),f.und(r.endDelay)&&(r.endDelay=t===i.length-1?n.endDelay:0),r}).map(function(e){return I(e,t)})}(n[i],e)});return t}(r=j(o,n),n),u=G(s=_(x((l=H(n.targets)).map(function(e){return a.map(function(n){var t=e,r=n,i=E(t.target,r.name);if(i){var o,a=r.tweens.map(function(e){var n=function(e,n){var t={};for(var r in e){var i=O(e[r],n);f.arr(i)&&1===(i=i.map(function(e){return O(e,n)})).length&&(i=i[0]),t[r]=i}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}(e,t),i=n.value,a=f.arr(i)?i[1]:i,l=k(a),s=R(t.target,r.name,l,t),c=o?o.to.original:s,u=f.arr(i)?i[0]:c,d=k(u)||k(s),p=l||d;return f.und(a)&&(a=c),n.from=M(u,p),n.to=M(F(a,u),p),n.start=o?o.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=v(n.easing,n.duration),n.isPath=f.pth(i),n.isPathTargetInsideSVG=n.isPath&&f.svg(t.target),n.isColor=f.col(n.from.original),n.isColor&&(n.round=1),o=n,n}),l=a[a.length-1];return{type:i,property:r.name,animatable:t,tweens:a,duration:l.end,delay:a[0].delay,endDelay:l.endDelay}}})})),function(e){return!f.und(e)}),r),d=V,V++,I(t,{id:d,children:[],animatables:l,animations:s,duration:u.duration,delay:u.delay,endDelay:u.endDelay}));function A(){var e=T.direction;"alternate"!==e&&(T.direction="normal"!==e?"normal":"reverse"),T.reversed=!T.reversed,p.forEach(function(e){return e.reversed=T.reversed})}function B(e){return T.reversed?T.duration-e:e}function C(){g=0,m=B(T.currentTime)*(1/Q.speed)}function Z(e,n){n&&n.seek(e-n.timelineOffset)}function z(e){for(var n=0,t=T.animations,r=t.length;n<r;){var i=t[n],o=i.animatable,a=i.tweens,l=a.length-1,s=a[l];l&&(s=_(a,function(n){return e<n.end})[0]||s);for(var u=c(e-s.start-s.delay,0,s.duration)/s.duration,d=isNaN(u)?1:s.easing(u),f=s.to.strings,p=s.round,h=[],g=s.to.numbers.length,m=void 0,y=0;y<g;y++){var v=void 0,b=s.to.numbers[y],x=s.from.numbers[y]||0;v=s.isPath?function(e,n,t){function r(t){void 0===t&&(t=0);var r=n+t>=1?n+t:0;return e.el.getPointAtLength(r)}var i=N(e.el,e.svg),o=r(),a=r(-1),l=r(1),s=t?1:i.w/i.vW,c=t?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*s;case"y":return(o.y-i.y)*c;case"angle":return 180*Math.atan2(l.y-a.y,l.x-a.x)/Math.PI}}(s.value,d*b,s.isPathTargetInsideSVG):x+d*(b-x),p&&!(s.isColor&&y>2)&&(v=Math.round(v*p)/p),h.push(v)}var P=f.length;if(P){m=f[0];for(var S=0;S<P;S++){f[S];var w=f[S+1],j=h[S];isNaN(j)||(w?m+=j+w:m+=j+" ")}}else m=h[0];U[i.type](o.target,i.property,m,o.transforms),i.currentValue=m,n++}}function L(e){T[e]&&!T.passThrough&&T[e](T)}function D(e){var n=T.duration,t=T.delay,r=n-T.endDelay,i=B(e);T.progress=c(i/n*100,0,100),T.reversePlayback=i<T.currentTime,p&&function(e){if(T.reversePlayback)for(var n=b;n--;)Z(e,p[n]);else for(var t=0;t<b;t++)Z(e,p[t])}(i),!T.began&&T.currentTime>0&&(T.began=!0,L("begin")),!T.loopBegan&&T.currentTime>0&&(T.loopBegan=!0,L("loopBegin")),i<=t&&0!==T.currentTime&&z(0),(i>=r&&T.currentTime!==n||!n)&&z(n),i>t&&i<r?(T.changeBegan||(T.changeBegan=!0,T.changeCompleted=!1,L("changeBegin")),L("change"),z(i)):T.changeBegan&&(T.changeCompleted=!0,T.changeBegan=!1,L("changeComplete")),T.currentTime=c(i,0,n),T.began&&L("update"),e>=n&&(m=0,T.remaining&&!0!==T.remaining&&T.remaining--,T.remaining?(g=y,L("loopComplete"),T.loopBegan=!1,"alternate"===T.direction&&A()):(T.paused=!0,!T.completed&&(T.completed=!0,L("loopComplete"),L("complete"),!T.passThrough&&"Promise"in window&&(P(),S(T)))))}return S(T),T.reset=function(){var e=T.direction;T.passThrough=!1,T.currentTime=0,T.progress=0,T.paused=!0,T.began=!1,T.loopBegan=!1,T.changeBegan=!1,T.completed=!1,T.changeCompleted=!1,T.reversePlayback=!1,T.reversed="reverse"===e,T.remaining=T.loop,b=(p=T.children).length;for(var n=b;n--;)T.children[n].reset();(T.reversed&&!0!==T.loop||"alternate"===e&&1===T.loop)&&T.remaining++,z(T.reversed?T.duration:0)},T._onDocumentVisibility=C,T.set=function(e,n){return W(e,n),T},T.tick=function(e){y=e,g||(g=y),D((y+(m-g))*Q.speed)},T.seek=function(e){D(B(e))},T.pause=function(){T.paused=!0,C()},T.play=function(){T.paused&&(T.completed&&T.reset(),T.paused=!1,Y.push(T),C(),q())},T.reverse=function(){A(),T.completed=!T.reversed,C()},T.restart=function(){T.reset(),T.play()},T.remove=function(e){$(K(e),T)},T.reset(),T.autoplay&&T.play(),T}function J(e,n){for(var t=n.length;t--;)S(e,n[t].animatable.target)&&n.splice(t,1)}function $(e,n){var t=n.animations,r=n.children;J(e,t);for(var i=r.length;i--;){var o=r[i],a=o.animations;J(e,a),a.length||o.children.length||r.splice(i,1)}t.length||r.length||n.pause()}Q.version="3.2.1",Q.speed=1,Q.suspendWhenDocumentHidden=!0,Q.running=Y,Q.remove=function(e){for(var n=K(e),t=Y.length;t--;)$(n,Y[t])},Q.get=R,Q.set=W,Q.convertPx=A,Q.path=function(e,n){var t=f.str(e)?b(e)[0]:e,r=n||100;return function(e){return{property:e,el:t,svg:N(t),totalLength:D(t)*(r/100)}}},Q.setDashoffset=function(e){var n=D(e);return e.setAttribute("stroke-dasharray",n),n},Q.stagger=function(e,n){void 0===n&&(n={});var t=n.direction||"normal",r=n.easing?v(n.easing):null,i=n.grid,o=n.axis,a=n.from||0,l="first"===a,s="center"===a,c="last"===a,u=f.arr(e),d=u?parseFloat(e[0]):parseFloat(e),p=u?parseFloat(e[1]):0,h=k(u?e[1]:e)||0,g=n.start||0+(u?d:0),m=[],y=0;return function(e,n,f){if(l&&(a=0),s&&(a=(f-1)/2),c&&(a=f-1),!m.length){for(var v=0;v<f;v++){if(i){var b=s?(i[0]-1)/2:a%i[0],_=s?(i[1]-1)/2:Math.floor(a/i[0]),x=v%i[0],P=Math.floor(v/i[0]),S=b-x,w=_-P,j=Math.sqrt(S*S+w*w);"x"===o&&(j=-S),"y"===o&&(j=-w),m.push(j)}else m.push(Math.abs(a-v));y=Math.max.apply(Math,m)}r&&(m=m.map(function(e){return r(e/y)*y})),"reverse"===t&&(m=m.map(function(e){return o?e<0?-1*e:-e:Math.abs(y-e)}))}return g+(u?(p-d)/y:d)*(Math.round(100*m[n])/100)+h}},Q.timeline=function(e){void 0===e&&(e={});var n=Q(e);return n.duration=0,n.add=function(t,r){var i=Y.indexOf(n),a=n.children;function l(e){e.passThrough=!0}i>-1&&Y.splice(i,1);for(var s=0;s<a.length;s++)l(a[s]);var c=I(t,j(o,e));c.targets=c.targets||e.targets;var u=n.duration;c.autoplay=!1,c.direction=n.direction,c.timelineOffset=f.und(r)?u:F(r,u),l(n),n.seek(c.timelineOffset);var d=Q(c);l(d),a.push(d);var p=G(a,e);return n.delay=p.delay,n.endDelay=p.endDelay,n.duration=p.duration,n.seek(0),n.reset(),n.autoplay&&n.play(),n},n},Q.easing=v,Q.penner=y,Q.random=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},n.Z=Q},555871:function(e,n,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return t(867576).Z}])}},function(e){e.O(0,["11154","12041","24629","25418","30338","32060","33171","33364","34290","36313","38340","39174","39176","40690","41642","43836","45591","51036","51972","73967","75830","77250","8709","88038","88039","88104","88252","92184","92911","97569","9885"],function(){return e(e.s=555871)}),e.O()}]);