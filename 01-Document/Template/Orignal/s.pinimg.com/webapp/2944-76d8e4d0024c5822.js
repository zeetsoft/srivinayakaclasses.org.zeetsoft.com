"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["2944"],{608747:function(e,r,t){t.r(r);var n,a,o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:a},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="7005ce437a6a6ff33741ab44aa02cf61",r.default=o},479699:function(e,r,t){t.r(r);var n,a,o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:a},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="40ae8061007ba5f53a4570e43e4ca864",r.default=o},296485:function(e,r,t){t.r(r);var n,a,o,l,i={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"ban"},a={defaultValue:null,kind:"LocalArgument",name:"boardId"},o={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:l=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,o,n],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:l},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};i.hash="c62e5df78917dd238b70f366f358d487",r.default=i},579965:function(e,r,t){t.r(r);var n,a,o,l,i,s,c,u,d={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},c],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};d.hash="2c3e1508650962adfff1171e950fa419",r.default=d},336997:function(e,r,t){t.r(r);var n,a,o,l,i,s,c,u,d,h,b=(n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],a=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},h=[l,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:i,storageKey:null},s,c,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:h,storageKey:null},s,c,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:h,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},d],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});b.hash="9aa22a7713214239538142ad2c957cc3",r.default=b},868455:function(e,r,t){t.r(r);var n,a,o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_emails_Mutation",selections:a},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};o.hash="de392a939a95d05f7ee889fe77a9e52d",r.default=o},800679:function(e,r,t){t.r(r);var n,a,o,l,i={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"boardId"},a={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},o={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:l=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,o],kind:"Operation",name:"collab_users_Mutation",selections:l},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};i.hash="850c5de9834cac0edfdd5652a78bffbf",r.default=i},10594:function(e,r){r.Z=function(e){return{isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}}},10423:function(e,r){var t=function(e,r){this.uid=e,this.item=r,this.next=null,this.prev=null},n=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};n.prototype.set=function(e,r){var n=this._uidToData[e];n||(n=new t(e,r),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},n.prototype.get=function(e){var r=this._uidToData[e];return r?(this._moveToFront(r),r.item):null},n.prototype.remove=function(e){var r=this._uidToData[e];r&&(delete this._uidToData[e],this._firstData===r&&(this._firstData=r.next),this._lastData===r&&(this._lastData=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),this._numItems-=1)},n.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},n.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},r.Z=n},10972:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(586659),a=t(490193);function o(e){var r=e.allowSearchOnMount,t=e.children,o=e.onTypeaheadSuggestionsChange,l=e.resourceName,i=e.resourceOptions,s=e.value,c=(0,a.Z)({allowSearchOnMount:r,resourceName:l,resourceOptions:i,value:s});return(0,n.useEffect)(function(){null!=c&&c.length&&o(c)},[c]),t||null}},490193:function(e,r,t){t.d(r,{Z:function(){return b}});var n=t(586659),a=t(10423),o=t(791948),l=["bookmarks"];function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r,t,n,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void t(e)}i.done?r(s):Promise.resolve(s).then(n,a)}function u(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var o=e.apply(r,t);function l(e){c(o,n,a,l,i,"next",e)}function i(e){c(o,n,a,l,i,"throw",e)}l(void 0)})}}function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach(function(r){var n,a;n=r,a=t[r],(n=function(e){var r=function(e,r){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==i(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function b(e){var r,t,i,c,d,b,m,f,p,_,g,v,y,x,C=e.allowSearchOnMount,j=void 0!==C&&C,k=e.resourceName,P=e.resourceOptions,w=void 0===P?{}:P,S=e.value,A=(0,n.useRef)(!1),O=(0,n.useRef)({}),E=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)([]))||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o,l,i=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(n=o.call(t)).done)&&(i.push(n.value),2!==i.length);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(r,2)||function(e,r){if(e){if("string"==typeof e)return s(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=E[0],B=E[1],F=(i=(t={resourceName:k,resourceOptions:w}).resourceName,c=t.resourceOptions,d=(0,o.vL)(),(b=(0,n.useRef)(void 0)).current||(p=(0,(m={resourceCreator:d,resourceName:i,resourceOptions:c}).resourceCreator)(m.resourceName,h(h({},f=m.resourceOptions),{},{count:"count"in f?f.count:5})),_=new a.Z,g=function(){p.abort()},v=u(regeneratorRuntime.mark(function e(r,t){var n,a,o,i,s,c,u,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.isCalling()){e.next=8;break}if(o=null==(n=p.options)?void 0:n.term,i=null==(a=p.options)?void 0:a.pin_scope,r!==o||t!==i){e.next=7;break}return e.abrupt("return",void 0);case 7:g();case 8:return(s=p.options||{}).bookmarks,p.options=h(h({},function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],-1===r.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(s,l)),{},{term:r,pin_scope:t}),e.next=12,p.callGet({showError:!1});case 12:return u=null==(c=e.sent.resource_response.data)?void 0:c.items,b={hint:d=(null==c?void 0:c.hint)||{},items:u},_.set("".concat(t,"-").concat(r),b),e.abrupt("return",{term:r,items:u,hint:d});case 19:case"end":return e.stop()}},e)})),y=function(e,r){return v.apply(this,arguments)},x=u(regeneratorRuntime.mark(function e(r,t){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=_.get("".concat(t,"-").concat(r)))||!((a=n.items)&&a.length)){e.next=7;break}return g(),o=n.hint,e.abrupt("return",{hint:o,items:a,term:r});case 7:if(!(r.length>=0)){e.next=11;break}return e.abrupt("return",y(r,t));case 11:return e.abrupt("return",{hint:{},items:[],term:r});case 12:case"end":return e.stop()}},e)})),b.current=function(e,r){return x.apply(this,arguments)}),b.current),T=w.pin_scope||"pins",z="".concat(T,"-").concat(S);return(0,n.useEffect)(function(){u(regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=S&&""!==S&&(j||A.current))){e.next=17;break}if(!(z in O.current)){e.next=5;break}B(O.current[z]),e.next=17;break;case 5:return e.prev=5,e.next=8,F(S,T);case 8:(r=e.sent)&&(t=r.items,O.current[z]=t,B(t)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:A.current||(A.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[S,T,z]),I}},968842:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(647709),a=t(183152);function o(){var e={deviceType:(0,n.ZP)(),site:(0,a.uo)()},r=e.deviceType;switch(e.site){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===r||"tablet"===r)}}},277454:function(e,r){var t=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;r.Z=function(e){return t.test(e)}},742723:function(e,r,t){t.d(r,{l:function(){return c}});var n=t(586659),a=t(10594),o=t(15667),l=t(968842),i=t(821651),s=t(448505),c=(0,n.createContext)(void 0);r.Z=function(){var e,r,t,u=(0,o.B)().advertiser,d=(e=(0,a.Z)((0,l.Z)()).isSterlingSite,null!=(r=(0,n.useContext)(c))?r:e),h=(0,s.Z)(),b=((null==(t=(0,i.W)())?void 0:t.profiles)||[]).find(function(e){return(null==e?void 0:e.id)===(null==u?void 0:u.owner_user_id)});return d&&b||h}},947810:function(e,r,t){var n=t(821342),a=t(448505),o=t(7872);r.Z=function(){var e=(0,n.Z)(),r=(0,a.Z)();return(0,o.lJ)(e,r)}},789302:function(e,r,t){t.d(r,{Z:function(){return S}});var n=t(586659),a=t(581722),o=t(20256),l=t(918920),i=t(821342),s=t(19585),c=t(675973),u=t(742723),d=t(7872),h=t(931267),b=t(415602),m=t(890774),f=t(382718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach(function(r){k(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function y(e,r){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,r,t){return(r=P(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function P(e){var r=function(e,r){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==p(r)?r:r+""}var w=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&y(a,e);var r,t,n=(r=C(),function(){var e,t=j(a);return e=r?Reflect.construct(t,arguments,j(this).constructor):t.apply(this,arguments),function(e,r){if(r&&("object"==p(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];return k(x(e=n.call.apply(n,[this].concat(t))),"handleSubmit",function(r){var t=e.props,n=t.advertiserId,a=t.boardCreateSource,o=t.createBoard,l=t.onBoardCreate,i=t.viewer,s=t.orbacActingAs,c=t.shouldShowAddCollaborators,u=t.handleInviteSelectedCollaborators,h=(0,d.lJ)(i,s);return o({boardCreateOptions:v(v({name:r.name,description:r.description,privacy:r.privacy,collab_board_email:r.collab_board_email,collaborator_invites_enabled:r.collaborator_invites_enabled,aux_data:{source:a}},n?{advertiser_id:n}:{}),h?{orbac_subject_id:h}:Object.freeze({}))}).then(function(e){c&&u(e.id),l(e)})}),k(x(e),"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:e.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,d.Ms)(e.props.viewer,e.props.orbacActingAs)},pin_count:0}),e}return t=[{key:"render",value:function(){var e=this.props,r=e.advertiserId,t=e.isAdAccountOwner,n=e.i18n,a=e.onClose,i=e.privacy,s=e.useModalWithNoLayer,c=e.showSecretBoardCreateToggle,u=e.shouldShowAddCollaborators,b=e.setSelectedContacts,m=e.selectedContacts,p=e.shouldUseOverlayPanel,_=e.orbacActingAs,g=e.viewer,y=(0,d.lJ)(g,_),x=n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading');return(0,f.jsx)(h.Z,{board:v(v({},this.emptyBoardData),{privacy:t?i:l.ZP.BoardPrivacy.PROTECTED}),currentUserIsOwner:!0,isAdAccount:!!r,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!y,onClose:a,onSubmit:this.handleSubmit,overlayPanelHeadingText:x,selectedContacts:m,setSelectedContacts:b,shouldShowAddCollaborators:u,shouldUseOverlayPanel:p,showSecretBoardCreateToggle:c,submitText:this.props.i18n._('Create', ' - ', ' -- '),title:(0,f.jsx)(o.xu,{paddingY:8,width:"100%",children:(0,f.jsx)(o.X6,{align:"center",size:"600",children:x})}),useModalWithNoLayer:s})}}],function(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}(a.prototype,t),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function S(e){var r,t=(0,m.Z)(),o=(0,s.ZP)(),l=(0,c.Z)().checkExperiment,d=(0,i.Z)(),h=(0,a.v9)(function(e){var r=e.advertiser;return r?r.id:void 0}),p=(0,u.Z)(),g=(0,a.v9)(function(e){var r=e.advertiser;return!r||d.isAuth&&r.owner_user_id===d.id}),y=(0,b.zC)(),x=(0,b.DK)(),C=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)([]))||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o,l,i=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(n=o.call(t)).done)&&(i.push(n.value),2!==i.length);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(r,2)||function(e,r){if(e){if("string"==typeof e)return _(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=C[0],k=C[1];return(0,f.jsx)(w,v(v({},e),{},{advertiserId:h,createBoard:t,dispatch:(0,a.I0)(),handleInviteSelectedCollaborators:function(e){var r=j.filter(function(e){return"email"===e.type||"email_share_suggestion"===e.type}),t=j.filter(function(e){return"user"===e.type||"user_share_suggestion"===e.type});t.length>0&&x(e,t.map(function(e){return e.id})),r.length>0&&y(e,r.map(function(e){return e.id}))},i18n:o,isAdAccountOwner:g,orbacActingAs:p,selectedContacts:j,setSelectedContacts:k,shouldUseOverlayPanel:l("web_board_create_overlay_panel").anyEnabled,viewer:d}))}k(w,"defaultProps",{privacy:l.ZP.BoardPrivacy.PUBLIC})},931267:function(e,r,t){t.d(r,{Z:function(){return ef}});var n=t(586659),a=t(20256),o=t(918920),l=t(657043),i=t(982166),s=t(678213),c=t(19585),u=t(302148),d=t(675973),h=t(15667),b=t(782259),m=t(473728),f=t(87853),p=t(647709),_=t(640924),g=t(271597),v=t(744862),y=t(821342),x=t(886981),C=t(10972),j=t(277454),k=t(382718);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach(function(r){var n,a;n=r,a=t[r],(n=function(e){var r=function(e,r){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=P(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==P(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function O(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o,l,i=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(i.push(n.value),i.length!==r);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(e,r)||E(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,r){if(e){if("string"==typeof e)return I(e,r);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,r):void 0}}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function B(e){var r=e.selectedContacts,t=void 0===r?[]:r,o=e.setSelectedContacts,l=(0,c.ZP)(),i=(0,y.Z)(),s=i.isAuth?null==i?void 0:i.avatar_color_index:void 0,u=(0,x.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).data,d=O((0,n.useState)([]),2),h=d[0],b=d[1];(0,n.useEffect)(function(){u&&b(u.map(function(e){return"email_share_suggestion"===e.type?A(A({},e),{},{id:e.email||""}):e}))},[u]);var m=O((0,n.useState)(""),2),f=m[0],p=m[1],_=t.map(function(e){return e.id}),g=(0,j.Z)(f)&&!_.includes(f)?{id:f,type:"email"}:null,P=[].concat(w(t),[g],w(h.filter(function(e){return!_.includes(e.id)}))).filter(Boolean),S=function(e){_.includes(e.id)?null==o||o((t||[]).filter(function(r){return r.id!==e.id})):null==o||o([].concat(w(t),[e]))};return(0,k.jsxs)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,k.jsx)(a.xu,{paddingY:2,children:(0,k.jsx)(a.xv,{size:"100",children:l._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,k.jsx)(a.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,k.jsx)(a.xu,{children:(0,k.jsx)(C.Z,{onTypeaheadSuggestionsChange:function(e){b(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:f,children:(0,k.jsx)(a.Um,{accessibilityLabel:l._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:function(e){p(e.value)},placeholder:l._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:f})})})}),(0,k.jsx)(a.xu,{children:P.map(function(e){return(0,k.jsxs)(a.xu,{display:"flex",paddingY:2,children:[(0,k.jsxs)(a.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,k.jsx)(a.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,k.jsx)(a.JO,{accessibilityLabel:l._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,k.jsx)(a.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,k.jsx)(v.qE,{color:s,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,k.jsx)(a.kC,{alignItems:"center",children:(0,k.jsx)(a.xu,{children:(0,k.jsx)(a.xv,{size:"300",children:e.id})})}):(0,k.jsxs)(a.kC,{direction:"column",justifyContent:"center",children:[(0,k.jsx)(a.xu,{marginBottom:1,tabIndex:0,children:(0,k.jsx)(a.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,k.jsx)(a.xu,{tabIndex:0,children:(0,k.jsx)(a.xv,{size:"200",children:"@".concat(e.username||"")})})]})]}),(0,k.jsx)(a.kC,{flex:"none",children:(0,k.jsx)(a.zx,{onClick:function(){return S(e)},selected:_.includes(e.id),size:"lg",text:_.includes(e.id)?l._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):l._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id)})})]})}var F=t(476482),T=t(509120),z=function(e){var r=e.label,t=e.labelId;return t?(0,k.jsx)(a.__,{htmlFor:t,children:(0,k.jsx)(a.xv,{size:"100",children:r})}):(0,k.jsx)(n.Fragment,{children:r})};function D(e){var r=e.children,t=e.label,o=e.labelId;return(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(a.xu,{marginBottom:2,children:(0,k.jsx)(z,{label:t,labelId:o})}),r]})}function R(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function L(e){var r,t=e.coverPin,o=e.handleShowBoardCoverEditModal,l=(0,c.ZP)(),i=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(!1))||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o,l,i=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(n=o.call(t)).done)&&(i.push(n.value),2!==i.length);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(r,2)||function(e,r){if(e){if("string"==typeof e)return R(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],u=i[1],d=(0,h.B)().isRTL;return(0,k.jsx)(D,{label:(0,k.jsx)(a.X6,{accessibilityLevel:3,size:"100",children:(0,k.jsx)(a.xv,{inline:!0,size:"100",children:l._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover')})}),children:(0,k.jsx)(a.xu,{position:"relative",width:138,children:(0,k.jsx)(a.iP,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTap:o,rounding:4,children:null!=t&&t.custom_cover?(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(a.zd,{height:138,rounding:4,width:138,children:(0,k.jsx)(T.Z,{alt:t.image_url,color:"gray",customCover:t.custom_cover,height:138,imgPos:function(e){var r=e||{},t=r.crop,n=r.size;if(Array.isArray(t)&&Array.isArray(n))return{x:t[0]||0,y:t[1]||0,width:n[0]||0,height:n[1]||0}}(t),imgUrl:t.image_url||"",renderAsImage:!0,width:138})}),(0,k.jsx)(a.xu,{bottom:!0,left:d,padding:2,position:"absolute",right:!d,children:(0,k.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:s?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,k.jsx)(a.JO,{accessibilityLabel:l._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,k.jsx)(a.xu,{alignItems:"center",color:s?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,k.jsx)(a.JO,{accessibilityLabel:l._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function M(e){var r=e.children,t=e.label,o=e.labelId,l=e.subtext;return(0,k.jsx)(n.Fragment,{children:(0,k.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginBottom:10,children:[r,(0,k.jsxs)(a.xu,{marginStart:2,children:[(0,k.jsx)(a.__,{htmlFor:o,children:(0,k.jsx)(a.xv,{size:"300",weight:"bold",children:t})}),l]})]})})}function K(e){var r=e.hasCollabBoardEmail,t=e.isCollaborative,n=e.onCheckboxChange,o=(0,c.ZP)();return t&&(0,k.jsx)(M,{label:o._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,k.jsx)(a.xv,{color:"subtle",size:"300",children:o._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,k.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,k.jsx)(a.xu,{marginEnd:1,children:(0,k.jsx)(a.XZ,{checked:r,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var Z=t(734263),N=t(812577);function V(e){var r,t=e.board,n=e.onCollaboratorInviteClick,o=(0,c.ZP)(),l=(0,N.Z)({boardId:t.id,ownerName:null!=(r=t.owner.full_name)?r:"",ownerUsername:t.owner.username,ownerImgSrc:t.owner.image_medium_url||t.owner.image_small_url||""}),i=l.slice(0,3).map(function(e){return e.name}),s="";switch(l.length){case 3:s=(0,u.Wc)("".concat(o._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(i[0]),second:"".concat(i[1]),last:"".concat(i[2])});break;case 2:s=(0,u.Wc)("".concat(o._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(i[0]),second:"".concat(i[1])});break;default:s=i.join(", ")}var d=l.length>3?(0,u.Wc)(o.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', l.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:s,leftCount:"".concat(l.length-3)}):(0,u.Wc)("".concat(o._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:s});return(0,k.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,k.jsx)(a.HE,{accessibilityLabel:d,collaborators:l.map(function(e){var r=e.name,t=e.src,n=e.color;return{src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:r,color:n}}),size:"md"}),(0,k.jsx)(a.hU,{accessibilityLabel:o._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:n,size:"lg"})]})}function U(e){var r=e.board,t=e.onCollaboratorInviteClick,n=(0,c.ZP)(),o=(0,k.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,k.jsx)(a.X6,{accessibilityLevel:3,size:"100",children:(0,k.jsx)(a.xv,{inline:!0,size:"100",children:n._('Collaborators', ' - ', ' -- ')})}),(0,k.jsx)(Z.Z,{}),(0,k.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,k.jsx)(a.rU,{accessibilityLabel:n._('Learn more about creating and managing group boards.', 'BoardForm.BoardFormCollaboratorsInviteList', 'Accessibility label for link to learn more about group boards'),display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:n._('Learn more', ' - ', ' -- ')})})]});return(0,k.jsx)(D,{label:o,children:(0,k.jsx)(V,{board:r,onCollaboratorInviteClick:t})})}function H(e){var r=e.collaboratorInvitesEnabled,t=e.isCollaborative,n=e.onCheckboxChange,o=(0,c.ZP)();return t&&(0,k.jsx)(M,{label:o._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,k.jsx)(a.XZ,{checked:r,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function q(e){var r=e.description,t=e.descriptionValidatorErrors,n=e.onChange,o=(0,c.ZP)(),l="boardEditDescription";return(0,k.jsx)(D,{label:o._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:l,children:(0,k.jsx)(a.Kx,{errorMessage:t.join(", "),id:l,name:"description",onChange:n,placeholder:o._('What\'s your board about?', ' - ', ' -- '),value:r})})}var W=function(e){var r=e.children;return(0,k.jsx)(a.xu,{paddingX:8,role:"list",children:n.Children.map(r,function(e,t){return e&&(0,k.jsx)(a.xu,{marginBottom:t===n.Children.count(r)-1?1:8,role:"listitem",children:e},t)})})};function X(e){var r=e.name,t=e.nameValidatorErrors,n=e.onChange,o=e.disabled,l=(0,c.ZP)();return(0,k.jsx)(D,{label:l._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,k.jsx)(a.nv,{disabled:o,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:l._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:r})})}var J=function(e){var r=e.board,t=e.collabBoardEmail,n=e.collaboratorInvitesEnabled,o=e.coverPin,l=e.currentUserIsOwner,i=e.description,s=e.descriptionValidatorErrors,u=e.handleBoardLeave,d=e.isCollaborative,h=e.showCoverEdit,b=e.name,m=e.nameValidatorErrors,f=e.handleShowBoardCoverEditModal,p=e.handleChangeName,_=e.handleChangeDescription,g=e.handleShowCollaboratorsModal,v=e.handleChangeCollabBoardEmail,y=e.handleChangeCollaboratorInvitesEnabled,x=e.shouldShowCollaboratorsInviteToggle,C=(0,c.ZP)();return(0,k.jsxs)(W,{children:[h&&(0,k.jsx)(L,{coverPin:o,handleShowBoardCoverEditModal:f}),(0,k.jsx)(X,{disabled:!0,name:b,nameValidatorErrors:m,onChange:p}),(0,k.jsx)(q,{description:i,descriptionValidatorErrors:s,onChange:_}),l&&!!u&&(0,k.jsx)(U,{board:r,onCollaboratorInviteClick:g}),d&&(0,k.jsx)(a.xu,{marginBottom:-7,children:(0,k.jsx)(a.xv,{size:"100",children:C._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,k.jsx)(K,{hasCollabBoardEmail:t,isCollaborative:d,onCheckboxChange:v}),x&&(0,k.jsx)(H,{collaboratorInvitesEnabled:n,isCollaborative:d,onCheckboxChange:y})]})};function G(e){var r=e.isProtectedToggler,t=e.isToggleDisable,l=e.onChange,i=e.onCheckboxChange,s=e.privacy,u=(0,c.ZP)();if(!0===r)return(0,k.jsx)(M,{label:u._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,k.jsx)(a.xu,{paddingY:2,children:(0,k.jsx)(a.rs,{disabled:t,id:"protected",onChange:l,switched:s===o.ZP.BoardPrivacy.PROTECTED})})});if(s!==o.ZP.BoardPrivacy.PROTECTED){var d=u._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),h=(0,k.jsx)(n.Fragment,{children:(0,k.jsxs)(a.xv,{color:"subtle",inline:!0,size:"300",children:[u._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,k.jsx)(a.rU,{accessibilityLabel:u._('Learn more about secret boards.', 'BoardForm.BoardFormPrivacyToggle.Link', 'Accessibility label for link to learn more about secret boards'),display:"inline",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",children:u._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,k.jsx)(M,{label:d,labelId:"secret",subtext:h,children:(0,k.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,k.jsx)(a.XZ,{checked:s===o.ZP.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:i})})})}return null}function Y(e){var r=e.allowHomefeedRecommendations,t=e.onCheckboxChange,n=(0,c.ZP)();return(0,k.jsx)(M,{label:n._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,k.jsx)(a.xv,{color:"subtle",size:"300",children:n._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,k.jsx)(a.XZ,{checked:r,id:"recommendation",name:"recommendation",onChange:t})})}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ee(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Q(Object(t),!0).forEach(function(r){el(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function er(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ei(n.key),n)}}function et(e,r){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function en(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ea=function(){return!!e})()}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function el(e,r,t){return(r=ei(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ei(e){var r=function(e,r){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==$(r)?r:r+""}var es=(0,n.lazy)(function(){return Promise.all([t.e("25418"),t.e("48858")]).then(t.bind(t,284484))}),ec=(0,n.lazy)(function(){return Promise.all([t.e("59420"),t.e("54796"),t.e("29670"),t.e("52626")]).then(t.bind(t,826654))}),eu=function(e,r){return(0,_.Gy)({max:e,maxErrorString:(0,m.Z)(r._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})})},ed=function(e){return[eu(o.ZP.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},eh=function(e){return[(0,_.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),eu(o.ZP.MAX_CHARS_FOR_BOARD_TITLE,e)]},eb=function(e){var r=e.condition,t=e.children;return r?(0,k.jsx)(a.xu,{position:"absolute",zIndex:s.b7,children:t}):t},em=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&et(d,e);var r,t,o,c=(r=ea(),function(){var e,t=eo(d);return e=r?Reflect.construct(t,arguments,eo(this).constructor):t.apply(this,arguments),function(e,r){if(r&&("object"==$(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return en(e)}(this,e)});function d(e){if(!(this instanceof d))throw TypeError("Cannot call a class as a function");el(en(r=c.call(this,e)),"handleChangeName",function(e){var t=e.value,n=(0,_.FU)(eh(r.props.i18n),t);r.setState({name:t,nameValidatorErrors:n})}),el(en(r),"handleChangeDescription",function(e){var t=e.value,n=(0,_.FU)(ed(r.props.i18n),t);r.setState({description:t,descriptionValidatorErrors:n})}),el(en(r),"handleChangePrivacyToggle",function(e){var t=e.value,n="public";t&&(n=r.props.isAdAccount?"protected":"secret"),r.state.privacy!==n&&r.setState({privacy:n})}),el(en(r),"handleEnableSecret",function(){r.setState({privacy:"secret",showSecretConfirmation:!1})}),el(en(r),"handleHideSecretConfirmation",function(){r.setState({showSecretConfirmation:!1})}),el(en(r),"handleChangeRecommendationToggle",function(e){var t=e.value;r.setState({allowHomefeedRecommendations:t})}),el(en(r),"handleChangeCollabBoardEmail",function(e){var t=e.value;r.setState({collab_board_email:t})}),el(en(r),"handleChangeCollaboratorInvitesEnabled",function(e){var t=e.value;r.setState({collaboratorInvitesEnabled:t})}),el(en(r),"handleCheckboxChange",function(e){return function(r){return e({event:r.event,value:r.checked})}}),el(en(r),"handleSubmit",function(e){var t=r.props,n=t.onSubmit,a=t.shouldShowCollaboratorsInviteToggle,o=r.state,i=o.collab_board_email,s=o.collaboratorInvitesEnabled,c=o.description,u=o.name,d=o.privacy,h=o.allowHomefeedRecommendations;if("preventDefault"in e&&e.preventDefault&&e.preventDefault(),!r.submitDisabled()){var b=u.trim(),m=c.trim();r.setState({submitting:!0,submitError:""}),n(a?{name:b,collab_board_email:i,collaborator_invites_enabled:s,description:m,privacy:d,allow_homefeed_recommendations:h}:{name:b,collab_board_email:i,description:m,privacy:d,allow_homefeed_recommendations:h}).then(function(){r.setState({submitting:!1})}).catch(function(e){var t=r.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- '),n=(0,l.Z)(e,"message");if(n){var a=(0,l.Z)(e,"message_detail");t=a?"".concat(n," ").concat(a):n}else"string"==typeof e&&(t=e);r.setState({submitting:!1,submitError:t})})}}),el(en(r),"handleShowBoardCoverEditModal",function(){r.setState({showBoardCoverEdit:!0})}),el(en(r),"handleHideBoardCoverEditModal",function(){r.setState({showBoardCoverEdit:!1})}),el(en(r),"handleShowCollaboratorsModal",function(){r.setState({showCollaboratorsModal:!0})}),el(en(r),"handleHideCollaboratorsModal",function(){r.setState({showCollaboratorsModal:!1})}),el(en(r),"handleSaveBoardCoverEditModal",function(e){r.handleHideBoardCoverEditModal();var t=r.props.onCropChange;t&&t(e)});var r,t=e.board,n=t.collab_board_email,a=t.collaborator_invites_enabled,o=t.description,i=t.name,s=t.pin_count,u=t.privacy;return r.state={collab_board_email:n,description:o,name:i,pin_count:s,privacy:u,allowHomefeedRecommendations:t.allow_homefeed_recommendations,collaboratorInvitesEnabled:a,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:i,previousDescription:o,previousPrivacy:u},r}return t=[{key:"getFormFooter",value:function(){var e=this.props.submitText,r=this.state.submitError;return(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(a.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,k.jsx)(a.xu,{children:(0,k.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,k.jsx)(a.xu,{height:48,children:(0,k.jsx)(a.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),r&&(0,k.jsx)(a.xu,{"aria-live":"polite",paddingX:1,tabIndex:0,children:(0,k.jsx)(a.xv,{color:"error",children:r})})]})}},{key:"submitDisabled",value:function(){var e=this.state,r=e.descriptionValidatorErrors,t=e.name,n=e.nameValidatorErrors,a=e.submitting;return!t||n.length>0||r.length>0||a}},{key:"render",value:function(){var e=this.props,r=e.board,t=e.board,o=t.archived_by_me_at,l=t.cover_pin,c=t.id,d=t.is_collaborative,h=e.coverImageHeight,m=e.coverImageWidth,f=e.currentUserIsOwner,p=e.handleBoardLeave,_=e.isAdAccount,v=e.isAdAccountOwner,y=e.isDeletable,x=e.isDesktop,C=e.isEditable,j=e.isNameAndSecretView,P=e.onClose,w=e.onDeleteButtonClick,S=e.requestContext,A=e.title,O=e.useModalWithNoLayer,E=e.showSecretBoardCreateToggle,I=e.shouldShowAddCollaborators,T=e.shouldShowCollaboratorsInviteToggle,z=e.setSelectedContacts,D=e.selectedContacts,R=e.isProfilePublisher,M=e.shouldUseOverlayPanel,Z=this.state,N=Z.allowHomefeedRecommendations,V=Z.collab_board_email,$=Z.collaboratorInvitesEnabled,Q=Z.description,ee=Z.descriptionValidatorErrors,er=Z.name,et=Z.nameValidatorErrors,en=Z.pin_count,ea=Z.privacy,eo=Z.showBoardCoverEdit,el=Z.showCollaboratorsModal,ei=Z.showSecretConfirmation,eu=C&&en>0,ed=r.is_ads_only,eh=(0,k.jsxs)(W,{children:[eu&&(0,k.jsx)(L,{coverPin:l,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,k.jsx)(X,{disabled:ed,name:er,nameValidatorErrors:et,onChange:this.handleChangeName}),(0,k.jsx)(q,{description:Q,descriptionValidatorErrors:ee,onChange:this.handleChangeDescription}),f&&!!p&&(0,k.jsx)(U,{board:r,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,k.jsxs)(a.pg,{legend:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form'),children:[(0,k.jsx)(G,{isProtectedToggler:!!_,isToggleDisable:!!_&&!v&&!R,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ea}),!o&&(0,k.jsx)(Y,{allowHomefeedRecommendations:N,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,k.jsx)(K,{hasCollabBoardEmail:V,isCollaborative:d,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),T&&(0,k.jsx)(H,{collaboratorInvitesEnabled:$,isCollaborative:d,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)})]}),y&&(0,k.jsxs)(a.xu,{marginTop:-15,paddingY:4,children:[(0,k.jsx)(a.X6,{accessibilityLevel:3,size:"100",children:(0,k.jsx)(a.xv,{inline:!0,size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')})}),(0,k.jsxs)(a.iP,{onTap:w,children:[(0,k.jsx)(a.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,k.jsx)(a.X6,{accessibilityLevel:4,size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,k.jsx)(a.xv,{color:"subtle",size:"300",children:(0,u.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:g.Xq})})]})]})]});f?j&&(eh=(0,k.jsxs)(W,{children:[(0,k.jsx)(X,{disabled:ed,name:er,nameValidatorErrors:et,onChange:this.handleChangeName}),!E&&(0,k.jsx)(G,{isProtectedToggler:!!_,isToggleDisable:!!_&&!v&&!R,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ea}),I&&(0,k.jsx)(B,{selectedContacts:D,setSelectedContacts:z})]})):eh=(0,k.jsxs)(W,{children:[!!p&&(0,k.jsx)(U,{board:r,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,k.jsx)(K,{hasCollabBoardEmail:V,isCollaborative:d,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!o&&ed&&(0,k.jsx)(Y,{allowHomefeedRecommendations:N,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,k.jsx)(a.xv,{color:"subtle",size:"300",children:(0,u.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,k.jsx)(a.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:r.owner.full_name})})})]});var em=O?a.u_:i.ZP,ef=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),ep=(0,k.jsxs)(a.xu,{paddingY:8,position:"relative",children:[(0,k.jsx)(a.X6,{align:"center",size:"600",children:ef}),(0,k.jsx)(a.xu,{left:S.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!S.isRTL,top:!0,children:(0,k.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]}),e_=this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),eg=(0,k.jsx)(a.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,k.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ed&&eh,ed&&(0,k.jsx)(J,{board:r,collabBoardEmail:V,collaboratorInvitesEnabled:$,coverPin:l,currentUserIsOwner:f,description:Q,descriptionValidatorErrors:ee,handleBoardLeave:p,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:d,name:er,nameValidatorErrors:et,shouldShowCollaboratorsInviteToggle:T,showCoverEdit:eu})]})}),ev=M?(0,k.jsx)(a.mh,{zIndex:s.b7,children:(0,k.jsx)(a.To,{accessibilityLabel:e_,closeOnOutsideClick:!0,footer:this.getFormFooter(),heading:this.props.overlayPanelHeadingText,onDismiss:P,size:"sm",children:eg})}):(0,k.jsx)(eb,{condition:!!O,children:(0,k.jsx)(em,{accessibilityModalLabel:e_,footer:this.getFormFooter(),heading:A,onDismiss:P,size:"sm",children:eg})});return(0,k.jsxs)(n.Fragment,{children:[!eo&&!el&&ev,eo&&x&&(0,k.jsx)(b.Z,{children:(0,k.jsx)(es,{boardId:c,boardName:er,coverPinId:null==l?void 0:l.pin_id,frameHeight:h,frameWidth:m,heading:ep,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ei&&(0,k.jsx)(F.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),el&&(0,k.jsx)(b.Z,{children:(0,k.jsx)(ec,{board:r,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}],o=[{key:"getDerivedStateFromProps",value:function(e,r){var t={};return e.board.name&&e.board.name!==r.previousName&&(t.previousName=e.board.name,t.nameValidatorErrors=(0,_.FU)(eh(e.i18n),e.board.name)),e.board.description&&e.board.description!==r.previousDescription&&(t.previousDescription=e.board.description,t.descriptionValidatorErrors=(0,_.FU)(ed(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==r.previousPrivacy&&(t.previousPrivacy=e.board.privacy),t}}],t&&er(d.prototype,t),o&&er(d,o),Object.defineProperty(d,"prototype",{writable:!1}),d}(n.Component);function ef(e){var r=(0,c.ZP)(),t=(0,p.ZP)(),n=!(0,(0,d.Z)().checkExperiment)("sg_hide_collab_invite_on_edit_modal").anyEnabled;return(0,k.jsx)(em,ee(ee({},e),{},{i18n:r,isDesktop:"desktop"===t,requestContext:(0,h.B)(),shouldShowCollaboratorsInviteToggle:n,toastManagerContext:(0,f.dI)()}))}el(em,"defaultProps",{isNameAndSecretView:!1})},476482:function(e,r,t){t.d(r,{Z:function(){return i}});var n=t(20256),a=t(982166),o=t(19585),l=t(382718);function i(e){var r=e.cancelButtonLabel,t=e.confirmButtonLabel,i=e.heading,s=e.message,c=e.onCancel,u=e.onConfirm,d=(0,o.ZP)(),h=i||d._('Are you sure?', ' - ', ' -- '),b=r||d._('Cancel', ' - ', ' -- ');return(0,l.jsx)(a.ZP,{accessibilityModalLabel:h,footer:(0,l.jsxs)(n.xu,{marginEnd:-1,marginStart:-1,children:[(0,l.jsx)(n.xu,{"data-test-id":"cancel-button",padding:1,children:(0,l.jsx)(n.zx,{fullWidth:!0,onClick:c,size:"lg",text:b})}),(0,l.jsx)(n.xu,{"data-test-id":"confirm-button",padding:1,children:(0,l.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:u,size:"lg",text:t})})]}),heading:h,onDismiss:c,role:"alertdialog",children:(0,l.jsx)(n.xu,{padding:4,children:(0,l.jsx)(n.xv,{children:s})})})}},415602:function(e,r,t){t.d(r,{A8:function(){return S},CQ:function(){return F},Cf:function(){return P},DK:function(){return C},GJ:function(){return B},RZ:function(){return A},SD:function(){return O},aN:function(){return T},h6:function(){return k},tV:function(){return I},xx:function(){return w},yC:function(){return z},zC:function(){return j}});var n,a,o,l,i,s,c,u=t(581722),d=t(492996),h=t(575108),b=t(980787),m=t(686319);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach(function(r){var n,a;n=r,a=t[r],(n=function(e){var r=function(e,r){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==f(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function g(e,r,t,n,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void t(e)}i.done?r(s):Promise.resolve(s).then(n,a)}function v(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var o=e.apply(r,t);function l(e){g(o,n,a,l,i,"next",e)}function i(e){g(o,n,a,l,i,"throw",e)}l(void 0)})}}function y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o,l,i=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(i.push(n.value),i.length!==r);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return x(e,r);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,r):void 0}}(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var C=function(){var e,r=(void 0!==n||(n=t(800679)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==n.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),a=y((0,d.useMutation)(r),1)[0],o=(0,b.u)().logContextEvent;return e=v(regeneratorRuntime.mark(function e(r,t,n){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={boardId:r,collaboratorIds:t,message:n||""},e.next=3,new Promise(function(e,t){a({variables:_({},l),onCompleted:function(n,a){a&&t(a[0]),o({event_type:28,object_id_str:r}),e()},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(r,t,n){return e.apply(this,arguments)}},j=function(){var e,r=(void 0!==a||(a=t(868455)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==a.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),n=y((0,d.useMutation)(r),1)[0],o=(0,b.u)().logContextEvent;return e=v(regeneratorRuntime.mark(function e(r,t,a){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={boardId:r,emails:t,message:a||""},e.next=3,new Promise(function(e,t){n({variables:_({},l),onCompleted:function(n,a){a&&t(a[0]),o({event_type:28,object_id_str:r}),e()},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(r,t,n){return e.apply(this,arguments)}},k=function(){var e,r=(void 0!==o||(o=t(479699)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==o.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),n=y((0,d.useMutation)(r),1)[0],a=(0,b.u)().logContextEvent;return e=v(regeneratorRuntime.mark(function e(r,t){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:r,userId:t},e.next=3,new Promise(function(e,t){n({variables:_({},o),onCompleted:function(n,o){o&&t(o[0]),a({event_type:32,object_id_str:r}),e(n)},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(r,t){return e.apply(this,arguments)}};function P(e,r){var t;return t=v(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.Z)({url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),method:"POST",data:{collaborator:r}});case 2:n({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:r}});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}function w(e,r){var t;return t=v(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.Z)({url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),method:"DELETE",data:{collaborator:r}});case 2:n({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}var S=function(e,r){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:r}}},A=function(){var e,r=(void 0!==l||(l=t(608747)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==l.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),n=y((0,d.useMutation)(r),1)[0],a=(0,b.u)().logContextEvent;return e=v(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={boardId:r},e.next=3,new Promise(function(e,o){n({variables:_({},t),onCompleted:function(t,n){n&&o(n[0]),a({event_type:32,object_id_str:r}),e(t)},onError:function(e){return o(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(r){return e.apply(this,arguments)}},O=function(e,r,t){var n;return n=v(regeneratorRuntime.mark(function n(a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(S(e,r)),n.next=3,h.Z.create("BoardInviteResource",{board_id:e,invited_user_id:r.id}).callUpdate();case 3:n.sent.resource_response.error||t({event_type:32,object_id_str:e});case 5:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}};function E(e,r){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:r}}}var I=function(){var e,r=(void 0!==i||(i=t(336997)).hash&&"9aa22a7713214239538142ad2c957cc3"!==i.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),n=y((0,d.useMutation)(r),1)[0],a=(0,u.I0)();return e=v(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={boardId:r},e.next=3,new Promise(function(e,o){n({variables:_({},t),onCompleted:function(t,n){n&&(a(E(r,!1)),o(n[0])),a(E(r,!0)),e(t)},onError:function(e){a(E(r,!1)),o(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(r){return e.apply(this,arguments)}};function B(e,r){return function(t){(0,m.Z)({url:"/v3/boards/".concat(e,"/collaborators/invite/").concat(r,"/"),method:"DELETE",data:{board:e,user:r}}).catch(function(){t(E(e,!0))}),t(E(e,!1))}}var F=function(){var e,r=(void 0!==s||(s=t(296485)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),n=y((0,d.useMutation)(r),1)[0],a=(0,b.u)().logContextEvent;return e=v(regeneratorRuntime.mark(function e(r,t,o){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={boardId:r,userId:t,ban:o||!1},e.next=3,new Promise(function(e,t){n({variables:_({},l),onCompleted:function(n,o){o&&t(o[0]),a({event_type:29,object_id_str:r}),e(n)},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(r,t,n){return e.apply(this,arguments)}},T=function(){var e,r=(void 0!==c||(c=t(579965)).hash&&"2c3e1508650962adfff1171e950fa419"!==c.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),n=y((0,d.useMutation)(r),1)[0],a=(0,b.u)().logContextEvent;return e=v(regeneratorRuntime.mark(function e(r,t){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={board:r,collaboratorIds:[t]},e.next=3,new Promise(function(e,t){n({variables:_({},o),onCompleted:function(n,o){o&&t(o[0]),a({event_type:29,object_id_str:r}),e(n)},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(r,t){return e.apply(this,arguments)}},z=function(){var e=F(),r=T();return function(t,n,a){return v(regeneratorRuntime.mark(function n(){var o,l,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.invited_user,l=t.status,i=t.board.id,!o){n.next=9;break}if("accepted"!==l){n.next=7;break}return n.next=5,r(i,o.id);case 5:n.next=9;break;case 7:return n.next=9,e(i,o.id,a);case 9:case"end":return n.stop()}},n)}))}}},812577:function(e,r,t){t.d(r,{I:function(){return c}});var n=t(886981),a=t(947810),o=["children"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var s=function(e){var r=e.boardId,t=e.ownerUsername,o=e.ownerName,s=e.ownerImgSrc,c=(0,a.Z)(),u=(0,n.Z)({name:"BoardInvitesResource",options:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach(function(r){var n,a;n=r,a=t[r],(n=function(e){var r=function(e,r){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==l(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({board_id:r,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},c?{orbac_subject_id:c}:{})}),d=u.data,h=u.isLoaded,b=[{name:o,src:s,href:"/".concat(t,"/"),isDim:!1}];return h&&d&&d.length>0&&d.forEach(function(e){b.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),b};function c(e){return(0,e.children)(s(function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],-1===r.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,o)))}r.Z=s},890774:function(e,r,t){t.d(r,{Z:function(){return d}});var n=t(581722),a=t(60101),o=t(575108),l=t(877956),i=t(440568),s=t(536652),c=t(72918);function u(e,r,t,n,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void t(e)}i.done?r(s):Promise.resolve(s).then(n,a)}function d(){var e,r,t=(0,n.I0)(),d=(0,n.v9)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(r){var n,u,h,b,m,f,p,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=r.boardCreateOptions,h=r.deprecatedSchemaForNormalization,e.next=3,o.Z.create("BoardResource",u).callCreate();case 3:return m=(b=e.sent).resource_response.data,f=h?(0,a.Fv)(m,h):void 0,t((0,c.XM)("BoardResource",u,b,f)),t((0,l.fO)({event_type:20})),null!=(n=m.owner)&&n.id&&t((0,s.b)("UserResource",{options:{user_id:m.owner.id,field_set_key:"save_behavior"}})),p=d.BoardsResource||{},_=d.BoardsFeedResource||{},Object.keys(p).forEach(function(e){var r;(0,i.k)(e).username===(null==(r=m.owner)?void 0:r.username)&&t((0,c.jB)("BoardsResource",e))}),Object.keys(_).forEach(function(e){var r;(0,i.k)(e).username===(null==(r=m.owner)?void 0:r.username)&&t((0,c.jB)("BoardsFeedResource",e))}),e.abrupt("return",m);case 14:case"end":return e.stop()}},e)}),r=function(){var r=this,t=arguments;return new Promise(function(n,a){var o=e.apply(r,t);function l(e){u(o,n,a,l,i,"next",e)}function i(e){u(o,n,a,l,i,"throw",e)}l(void 0)})},function(e){return r.apply(this,arguments)}}}}]);