"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["39811"],{636208:function(e,r,t){function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function o(e,r,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(-1===r||-1===t||r===t)return e;var i=t+o,a=r+o;if(i<0||i>=e.length||a<0||a>=e.length)return e;for(var c=function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return n(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[a],d=a<i?1:-1,s=a;s!==i;s+=d)c[s]=e[s+d];return c[i]=u,c}t.d(r,{Z:function(){return o}})},474147:function(e,r,t){t.d(r,{J:function(){return A}});var n=t(636208),o=t(35831),i=t(712064),a=t(356299),c=t(388023),u=t(428725),d=t(696323),s=t(339618);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){if(e){if("string"==typeof e)return y(e,r);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,r):void 0}}function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach(function(r){v(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function v(e,r,t){var n;return(n=function(e,r){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==p(n)?n:n+"")in e)?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var R=new Set(["PinResource","RepinResource"]),I={ApiResource:function(e){var r,t,n,o;return(null==e?void 0:e.url)==="/v3/orientation/nux_creator_recommendations/"?"nux-creator-recommendations":(null==e?void 0:e.url)==="/v3/users/me/interests/"?"recommended-interests:".concat(null==(n=e.data)?void 0:n.blend_type):(null==e?void 0:e.url)==="/v3/usecases/".concat(null==(r=e.data)?void 0:r.use_case_id,"/feed/")?"useCaseFeed":(null==e?void 0:e.url)==="/v3/boards/".concat(null==(t=e.data)?void 0:t.board_id,"/automagical/pins/")?"automagical-board-feed:".concat(null==(o=e.data)?void 0:o.board_id):""},AggregatedActivityFeedResource:function(e){return"trieditfeed:".concat(e.aggregated_pin_data_id)},AggregatedCommentFeedResource:function(e){return"aggregated-comments:".concat(e.objectId)},AggregatedCommentReplyFeedResource:function(e){return"".concat(d.Z.AGGREGATED_COMMENT_REPLIES,":").concat(e.objectId)},BoardlessPinsResource:function(e){return"boardless-pins:".concat(e.userId)},BestPinsFeedAltResource:function(e){return"idea-page-best-pins:".concat(e.interest)},BoardArchiveResource:function(){return"archived-boards"},BoardContentRecommendationResource:function(e){return"recommendation-feed:".concat(e.id)},BoardFeedResource:function(e){return"boardfeed:".concat(e.board_id)},BoardSectionsRepinResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionsResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionPinsResource:function(e){return"board-section-pins:".concat(e.section_id)},BoardsFeedResource:function(e){return"profile-boards:".concat(e.username)},BoardToolsFeedResource:function(e){return"board-tools:".concat(e.boardId)},ConversationsResource:function(){return"conversations"},DidItLikedByResource:function(e){return"triedit-likes:".concat(e.didItDataId)},DidItUserFeedResource:function(e){return"profile-tried:".concat(e.username)},InterestResource:function(e){return"klp-pins:".concat(e.interest)},MoreIdeasTabsBoardsResource:function(){return"homefeed-more-ideas-tabs"},NewsHubResource:function(){return"notifications"},NewsHubDetailsResource:function(e){return"newshubdetail:".concat(e.news_id)},NuxInterestsResource:function(){return"nuxTopics"},PinsFromBrandResource:function(e){return"brand-pins:".concat(e.pin)},ReactionsResource:function(e){return"reactions:".concat(e.pin_id)},RelatedArticlesResource:function(e){return"related-articles:".concat(e.article_id)},RelatedModulesResource:function(e){return"related-modules:".concat(e.pin_id)},RelatedPinFeedResource:function(e){return"related-pins:".concat(e.pin)},RelatedStreamResource:function(e){return"related-story-pins:".concat(e.pinId)},SearchResource:function(e){var r="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.article||"");return e.auto_correction_disabled?"".concat(r,":auto-correction-disabled"):r},BaseSearchResource:function(e){var r=e.appliedProductFilters,t=e.article,n=e.auto_correction_disabled,o=e.filters,i=e.journey_depth,a=e.query,c=e.scope,u=e.selected_one_bar_modules,d=e.source_id,p=e.source_module_id,l=e.top_pin_ids;return"search:".concat((0,s.Z)({appliedFilters:r,article:t,autoCorrectionDisabled:n,filters:o,journeyDepth:i,query:a,scope:c,selectedOneBarModules:u,sourceId:d,sourceModuleId:p,topPinIds:l}))},SectionToolsFeedResource:function(e){return"section-tools:".concat(e.sectionId)},ShareSuggestionsTypeaheadResource:function(e){return"share-suggestions:".concat(e.board||e.user,":").concat(e.term)},StoryFeedResource:function(e){return"story-feed:".concat(e.feed_type,":").concat(e.request_params)},StoryPinTaggedProductsResource:function(){return"story-pin-tagged-products"},TodayArticleFeedResource:function(e){return"today-article:".concat(e.id)},TodayTabInterestFeedResource:function(e){return"today-article-interestfeed:".concat(e.interest_id)},TodayTabResource:function(){return"today-tab"},SeoTier1CandidateResource:function(){return"tier1-feed"},UnifiedCommentsResource:function(e){return"unified-comments:".concat(e.aggregated_pin_id)},UserActivityPinsResource:function(e){return"profile-pins-feed:".concat(e.user_id)},UserHomefeedResource:function(e){return e.pin_quiz?"pin-quiz":"homefeed"},UserFollowingResource:function(e){return"user-following:".concat(e.username)},UserRecentActivityResource:function(e){return"user-recent-activity:".concat(e.filter_type)},UserStoryPinsFeedResource:function(e){return"story-pins-feed:".concat(e.user_id)},VisualLiveSearchResource:function(e){return"visual-search:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualLiveSearchProductFeedResource:function(e){return"visual-search-products:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualSearchFlashlightUnifiedResource:function(e){return"related-products-unified:".concat(e.pin_id)},InterestFollowingResource:function(e){return"topic-following:".concat(e.username)},UserPinsResource:function(e){return"profile-pins:".concat(e.username)},TopicFeedResource:function(e){return e.best_pins?"best-topic-pins:".concat(e.interest):"topic-pins:".concat(e.interest)}},b={AggregatedActivityFeedResource:function(e){var r=e.options.aggregated_pin_data_id;return{type:d.Z.TRIED_IT_FEED,id:r}},AggregatedCommentFeedResource:function(e){var r=e.options.objectId;return{type:d.Z.AGGREGATED_COMMENTS,id:r}},AggregatedCommentReplyFeedResource:function(e){var r=e.options,t=r.isUnifiedComment,n=r.objectId;return{type:t?d.Z.AGGREGATED_COMMENT_REPLIES:d.Z.AGGREGATED_COMMENTS,id:n,reversed:!0}},ApiResource:function(e){var r=e.options,t=r.url,n=r.data;return t==="/v3/usecases/".concat(null==n?void 0:n.use_case_id,"/feed/")?{type:d.Z.USE_CASE_TAB,id:n.use_case_id}:t==="/v3/boards/".concat(null==n?void 0:n.board_id,"/automagical/pins/")?{type:d.Z.AUTOMAGICAL_BOARD_FEED,id:n.board_id}:null},BoardFeedResource:function(e){var r=e.options.board_id;return{type:d.Z.BOARDFEED,id:r}},BoardlessPinsResource:function(e){var r=e.options.userId;return{type:d.Z.BOARDLESS_PINS,id:r}},BoardSectionPinsResource:function(e){var r=e.options.section_id;return{type:d.Z.BOARD_SECTION_PINS,id:r}},BoardSectionsResource:function(e){var r=e.options.board_id;return{type:d.Z.BOARD_SECTIONS,id:r}},BoardsResource:function(e){var r=e.options,t=r.username,n=r.sort,o=r.filter_types;return{type:d.Z.PROFILE_BOARDS,id:(0,a.Z)(t,n,o)}},BaseSearchResource:function(e){var r,t=e.options,n=t.appliedProductFilters,o=t.appliedUnifiedFilters,a=t.auto_correction_disabled,c=t.filters,u=t.journey_depth,s=t.query_pin_sigs,p=t.query,l=t.rs,f=t.scope,y=t.selected_one_bar_modules,_=t.source_id,m=t.source_module_id,v=t.top_pin_ids,R=t.user,I=e.response;return{type:d.Z.SEARCH_PINS,id:(0,i.Tb)({appliedProductFilters:n,appliedUnifiedFilters:o,autoCorrectionDisabled:a,filters:c,journeyDepth:u,query:p,rs:l,scope:f,selectedOneBarModules:y,selectedPinImgSig:s,sourceId:_,sourceModuleId:m,topPinIds:v,user:R}),items:(null==(r=I.resource_response.data)?void 0:r.results)||[]}},DidItCommentsResource:function(e){var r=e.options.objectId;return{type:d.Z.AGGREGATED_COMMENTS,id:r,reversed:!0}},DidItUserFeedResource:function(e){var r=e.options.username;return{type:d.Z.TRIED_IT_FEED,id:r}},RelatedArticlesResource:function(e){var r=e.options.article_id;return{type:d.Z.TODAY_TAB,id:r}},StoryPinDraftsResource:function(e){var r=e.options.userId;return{type:d.Z.STORY_PIN_DATA,id:r}},TodayTabInterestFeedResource:function(e){var r=e.options.interest_id;return{type:d.Z.TODAY_ARTICLE_INTEREST_FEED,id:r}},TodayTabResource:function(){return{type:d.Z.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var r=e.options.aggregated_pin_id;return{type:d.Z.UNIFIED_COMMENTS,id:r}},UnifiedCommentsResource:function(e){var r=e.options,t=r.aggregated_pin_id,n=r.is_reversed;return{type:d.Z.UNIFIED_COMMENTS,id:t,reversed:n}},UserActivityPinsResource:function(e){var r=e.options.user_id;return{type:d.Z.PROFILE_PINS_FEED,id:r}},UserStoryPinsFeedResource:function(e){var r=e.response,t=e.options.user_id;return{type:d.Z.STORY_PINS_FEED,id:t,items:r.resource_response.data||[]}}},E=function(e,r){var t=r.pinId,n=r.feedId;return e[n]?m(m({},e),{},v({},n,e[n].filter(function(e){return"pin"!==e.type||e.id!==t}))):e},g=function(e,r){var t=r.pinId,n=r.feedId;return e[n]?m(m({},e),{},v({},n,[{type:"pin",id:t}].concat(l(e[n])))):e},S=function(e,r){var t=r.pinId,n=r.oldFeedId,o=r.newFeedId;return n===o?e:g(E(e,{pinId:t,feedId:n}),{pinId:t,feedId:o})},A=function(e,r){return e in I?I[e](r):null},T=function(e,r){var t,n,o;switch(e.type){case"story":return{id:null!=(t=e.id)?t:"",type:"story",story_type:null!=(n=e.story_type)?n:""};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return r===d.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:var i="useCaseFeed"===r&&"tracking_params"in e;return m({type:"pin",id:null!=(o=e.id)?o:""},i&&{trackingParams:e.tracking_params})}},D=function(e,r){return r?"board-section-pins:".concat(r):"boardfeed:".concat(e)},O=function(e,r,t){var n=t||c.Z[e];if(n===u.LR)return r.result;if(n===u.sN)return r.result.map(function(e){return{id:e,schema:"board"}});if(n===u.Gn)return r.result.map(function(e){return{id:e,schema:"user"}});if(n===u.Ht)return r.result.map(function(e){return{id:e,schema:"invite"}});if(n===u.fE)return r.result.map(function(e){return{id:e,schema:"reaction"}});if("object"===p(n)){var o=Object.entries(n).find(function(e){return(function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,c=[],u=!0,d=!1;try{for(i=(t=t.call(e)).next;!(u=(n=i.call(t)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}(e,2)||f(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===u.LR});if(o)return r.result[o[0]]}return null},P=function(e,r){return e.map(function(e){var t=e.id,n=e.schema;return"home_feed_tabs"===e.type?e:n?{id:t,type:n,trackingParams:"pin"===n?r.pins[t].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean)},h=function(e,r,t){return Object.keys(e).reduce(function(n,o){var i=e[o]||[],a=i.filter(function(e){if(e.type!==r)return!0;if("reaction"===r){var n=e.id.lastIndexOf(":");return e.id.substring(0,n)!==t}return e.id!==t});return i.length!==a.length&&(n[o]=a),n},m({},e))};r.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case o.zP:case o.aW:var t=r.payload,i=t.resource,a=t.options,c=t.normalizedResponse,u=t.schema;if(c&&i in I){var s=O(i,c,u);if(s&&Array.isArray(s)){var p=I[i](a);if("BoardToolsFeedResource"===i||"SectionToolsFeedResource"===i)return m(m({},e),{},v({},p,s));if("UnifiedCommentsResource"===i){var f=P(s,c.entities);if(e[p]&&(o.zP||o.aW===r.type))return m(m({},e),{},v({},p,[].concat(l(e[p]),l(f))));return m(m({},e),{},v({},p,f))}var y=[].concat(l(r.type===o.aW&&e[p]||[]),l(P(s,c.entities)));return m(m({},e),{},v({},p,y))}}else{var _,E=t.response.resource_response.data;if(!(null!=(_=t.options)&&_.redux_normalize_feed))return e;var g=b[t.resource]({options:t.options,response:t.response});if(g){var A=g.type,F=g.id,N=g.items,Z=g.reversed,B=(N||E||[]).filter(Boolean).map(function(e){return T(e,A)});Z&&(B=B.reverse());var C="".concat(A,":").concat(F),M=e[C];if(M||r.type!==o.aW){var j=M||[],w=B;return r.type===o.aW&&(w=Z?B.concat(j):j.concat(B)),m(m({},e),{},v({},C,w))}}}break;case"FEED_ITEM_REORDERED":var G=r.payload,U=G.feedType,L=G.feedId,k=G.itemType,z=G.targetItemId,x=G.sourceItemId,q="".concat(U,":").concat(L),V=e[q]||[],Y=-1,H=-1;if([d.Z.BOARDFEED,d.Z.BOARD_SECTION_PINS,d.Z.BOARD_SECTIONS,"profileBoards"].includes(U)&&(Y=V.findIndex(function(e){return e.type===k&&e.id===x}),H=V.findIndex(function(e){return e.type===k&&e.id===z})),-1!==Y&&-1!==H)return m(m({},e),{},v({},q,(0,n.Z)(V,Y,H)));break;case"FEED_ITEMS_REMOVED":var W=r.payload,J=W.feedType,$=W.feedId,K=W.inverseSelection,Q=W.itemType,X=W.itemIds,ee=void 0===X?[]:X,er="".concat(J,":").concat($),et=e[er]||[];if(et&&et.length>0&&(J===d.Z.BOARD_SECTION_PINS||J===d.Z.BOARDFEED)){var en=et.filter(function(e){var r=ee.includes(e.id);return!(e.type===Q&&(K&&!r||!K&&r))}),eo=!!en.find(function(e){return"pin"===e.type});return m(m({},e),{},v({},er,eo?en:[]))}if(et&&et.length>0&&J===d.Z.BOARD_SECTIONS){var ei=et.filter(function(e){var r=ee.includes(e.id);return!(e.type===Q&&r)});return m(m({},e),{},v({},er,ei))}if(et&&et.length>0&&(J===d.Z.AGGREGATED_COMMENTS||J===d.Z.BOARDLESS_PINS||J===d.Z.PROFILE_PINS_FEED||J===d.Z.STORY_PINS_FEED||J===d.Z.UNIFIED_COMMENTS||J===d.Z.TRIED_IT_FEED||J===d.Z.STORY_PIN_DATA)){var ea=et.filter(function(e){var r=ee.includes(e.id);return!(e.type===Q&&r)});return m(m({},e),{},v({},er,ea))}break;case"FEED_ITEMS_ADDED":var ec=r.payload,eu=ec.feedType,ed=ec.feedId,es=ec.itemType,ep=ec.itemIds,el=void 0===ep?[]:ep,ef=ec.prepend,ey="".concat(eu,":").concat(ed),e_=e[ey]||[];if(e_&&(eu===d.Z.BOARD_SECTION_PINS||eu===d.Z.BOARDFEED||eu===d.Z.BOARDLESS_PINS)){var em=el.map(function(e){return{id:e,type:es}}),ev=0;"story"===(e_[0]||{}).type&&(ev=1),"story"===(e_[1]||{}).type&&(ev=2);var eR=[].concat(l(e_.slice(0,ev)),l(em),l(e_.slice(ev)));return m(m({},e),{},v({},ey,eR))}if(e_&&eu===d.Z.BOARD_SECTIONS){var eI=l(el).reverse().map(function(e){return{id:e,type:"boardsection"}}),eb=e_?[].concat(l(eI),l(e_)):l(eI);return m(m({},e),{},v({},ey,eb))}if(eu===d.Z.AGGREGATED_COMMENTS||eu===d.Z.AGGREGATED_COMMENT_REPLIES||eu===d.Z.PROFILE_PINS_FEED||eu===d.Z.STORY_PINS_FEED||eu===d.Z.UNIFIED_COMMENTS){var eE=el.map(function(e){return{id:e,type:es}}),eg=e_?[].concat(l(ef?eE:e_),l(ef?e_:eE)):eE;return m(m({},e),{},v({},ey,eg))}if(eu===d.Z.TRIED_IT_FEED){var eS=el.map(function(e){return{id:e,type:es}}),eA=e_?[].concat(l(eS),l(e_)):eS;return m(m({},e),{},v({},ey,eA))}break;case"FEED_INVALIDATE":var eT=r.payload,eD=eT.feedType,eO=eT.feedId,eP="".concat(eD,":").concat(eO);return e[eP],m(m({},e),{},v({},eP,null));case"APPEND_FEED_ITEMS":var eh,eF=r.payload,eN=eF.id,eZ=eF.items,eB=eF.options,eC=e[eN];if(eC)return eh=eB.isPrepend?eC[0]&&"story"===eC[0].type?[].concat(eC[0],eZ,eC.slice(1)):eZ.concat(eC):eC.concat(eZ),m(m({},e),{},v({},eN,eh));return m(m({},e),{},v({},eN,eZ));case"PIN_DELETE":return h(e,"pin",r.payload.pinId);case"BOARD_ARCHIVE":var eM=r.payload,ej=eM.boardId,ew=eM.username,eG="profile-boards:".concat(null!=ew?ew:"");if(e[eG])return m(m({},e),{},v({},eG,e[eG].filter(function(e){return e.id!==ej})));break;case"BOARD_UNARCHIVE":var eU=r.payload.boardId,eL="archived-boards";if(e[eL])return m(m({},e),{},v({},eL,e[eL].filter(function(e){return e.id!==eU})));break;case"BOARD_DELETE":return h(e,"board",r.payload.boardId);case"BOARD_SECTION_DELETE":return h(e,"boardsection",r.payload.boardSectionId);case"PINS_MOVE":var ek=r.payload,ez=ek.source,ex=ek.target,eq=ek.pinIds,eV=ek.userId,eY=ez.boardlessPins&&eV&&"boardless-pins:".concat(eV)||ez.boardId&&D(ez.boardId,ez.sectionId),eH=D(ex.boardId,ex.sectionId);return eq.reduce(function(e,r){return S(e,{pinId:r,oldFeedId:eY,newFeedId:eH})},e);case"PINS_MOVE_ALL":var eW=r.payload,eJ=eW.source,e$=eW.target,eK=eW.excludePinIds,eQ=D(eJ.boardId,eJ.sectionId),eX=D(e$.boardId,e$.sectionId),e0=m(m({},e),{},v({},eQ,eK.map(function(e){return{type:"pin",id:e}})));return delete e0[eX],e0;case"PIN_EDIT":var e1=r.payload,e3=e1.pinId,e2=e1.boardId,e8=e1.sectionId,e6=e1.source;return S(e,{pinId:e3,oldFeedId:D(e6.boardId,e6.sectionId),newFeedId:D(e2,void 0===e8?"":e8)});case o.AF:if(R.has(r.payload.resource)){var e9,e4=r.payload.response.resource_response.data,e7=e4.board;if("quick_saves"===e7.layout)e9="boardless-pins:".concat(r.payload.options.user_id);else{var e5=r.payload.options.section;e9=e5?"board-section-pins:".concat(e5):"boardfeed:".concat(e7.id)}if(e[e9]){var re=m({},e),rr={id:e4.id,type:"pin",trackingParams:null==e4?void 0:e4.tracking_params};return re[e9]=[rr].concat(e[e9]),re}}if("BoardSectionResource"===r.payload.resource&&r.payload.normalizedResponse){var rt=r.payload.normalizedResponse.result,rn=r.payload.normalizedResponse.entities.boardsections[rt].board,ro="board-sections:".concat(rn);if(e[ro]){var ri=m({},e);return ri[ro]=[{id:rt,type:"boardsection"}].concat(e[ro]),ri}}if("AggregatedCommentResource"===r.payload.resource&&r.payload.normalizedResponse){for(var ra={id:r.payload.normalizedResponse.result,type:"aggregatedcomment"},rc=m({},e),ru=0,rd=["aggregated-comments","unified-comments"];ru<rd.length;ru++){var rs=rd[ru],rp="".concat(rs,":").concat(r.payload.options.objectId);e[rp]&&(rc=m(m({},rc),{},v({},rp,[ra].concat(rc[rp]))))}return rc}if("AggregatedCommentReplyResource"===r.payload.resource&&r.payload.normalizedResponse){var rl="".concat(d.Z.AGGREGATED_COMMENT_REPLIES,":").concat(r.payload.options.objectId);return m(m({},e),{},v({},rl,[].concat(l(e[rl]||[]),[{id:r.payload.normalizedResponse.result,type:"aggregatedComment"}])))}if("ReactionsResource"===r.payload.resource&&r.payload.normalizedResponse){var rf=r.payload.options,ry=rf.reaction_pin_id,r_=rf.reaction_type;if("reaction"===r.payload.options.action_type){var rm="reactions:".concat(r.payload.options.pin_id),rv=m({},e),rR={id:"".concat(ry,":").concat(r.payload.options.user_id,":").concat(r_),type:"reaction",trackingParams:void 0};return rv[rm]=[rR].concat(e[rm]),rv}if("unreaction"===r.payload.options.action_type)return h(e,"reaction","".concat(ry,":").concat(r.payload.options.user_id))}break;case"COMPLETE_STORY":return h(e,"story",r.payload.storyId)}return e}},339618:function(e,r,t){t.d(r,{Z:function(){return n}});function n(e){var r=e.appliedFilters,t=e.article,n=e.autoCorrectionDisabled,o=e.filters,i=e.journeyDepth,a=e.query,c=e.scope,u=e.selectedOneBarModules,d=[c,a,o,r,t,e.sourceId,e.sourceModuleId,i,e.topPinIds].map(function(e){return null!=e?e:""}).join(":");return n&&(d+=":auto-correction-disabled"),u&&(d+=":".concat(u)),d}}}]);