"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["32889"],{121366:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(667016);function r(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function i(e,t){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.t)().api,i=(0,s.u)(),e.prev=2,i.attempt("setMultipleBizEntityPropertiesFullUpdate",n),o=new Date().getTime(),e.next=8,r.put("/ads/v4/business_entities",t,!1);case 8:return a=e.sent,i.success("setMultipleBizEntityPropertiesFullUpdate",n),i.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-o,n),e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(2),i.failure("setMultipleBizEntityPropertiesFullUpdate",n),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(o=function(){var t=this,n=arguments;return new Promise(function(s,i){var o=e.apply(t,n);function a(e){r(o,s,i,a,l,"next",e)}function l(e){r(o,s,i,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}(0,s.u)()},561267:function(e,t,n){n.d(t,{OC:function(){return h},Hz:function(){return d},Xt:function(){return m},O:function(){return c},uk:function(){return _},g$:function(){return b},ts:function(){return p},jY:function(){return l}});var s=[1,2,3,4,5,6,7,8],r=n(302148),i=n(830992);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){var s;return(s=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=o(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(s)?s:s+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return null!=e&&s.includes(Number(e))}function c(e,t){return 7===e?t._('Shopify collection', 'catalogs.productGroups.productGroupType', 'Shopify product Group Type'):l(e)?t._('Auto-created', 'catalogs.productGroups.productGroupType', 'Product Group Type'):""}var u=function(e){var t,n;return a(n={},3,a({},1,{defaultName:"All Pins",translation:e._('All Pins', 'catalogs.productGroups.overviewTable.nameCell.allPinsCPG', '[Catalogs] Name for auto generated product group that holds all creative asset Pins uploaded by a merchant')})),a(n,2,a({},1,{defaultName:"All listings",translation:e._('All listings', 'catalogs.productGroups.overviewTable.nameCell.allListingsCPG', '[Catalogs] Name for auto generated product group that holds all hotel listings uploaded by a merchant')})),a(n,1,(a(t={},1,{defaultName:"All Products",translation:e._('All Products', 'catalogs.productGroups.overviewTable.nameCell.allProductsCPG', '[Catalogs] Name for auto generated product group that holds all products uploaded by a merchant')}),a(t,5,{defaultName:"Back in Stock",translation:e._('Back in Stock', 'catalogs.productGroups.overviewTable.nameCell.backInStockCPG', '[Catalogs] Name for auto generated product group that holds all back in stock products uploaded by a merchant')}),a(t,2,{defaultName:"Best Deals",translation:e._('Best Deals', 'catalogs.productGroups.overviewTable.nameCell.bestDealsCPG', '[Catalogs] Name for auto generated product group that holds products uploaded by a merchant that fall into Best Deals category')}),a(t,6,{defaultName:"New Arrivals",translation:e._('New Arrivals', 'catalogs.productGroups.overviewTable.nameCell.newArrivalsCPG', '[Catalogs] Name for auto generated product group that holds all new arrival products uploaded by a merchant')}),a(t,4,{defaultName:"Top Sellers",translation:e._('Top Sellers', 'catalogs.productGroups.overviewTable.nameCell.topSellersCPG', '[Catalogs] Name for auto generated product group that holds all top selling products uploaded by a merchant')}),a(t,3,{defaultName:"Most Popular",translation:e._('Most Popular', 'catalogs.productGroups.overviewTable.nameCell.mostPopularCPG', '[Catalogs] Name for auto generated product group that holds the most popular products uploaded by a merchant')}),t)),n},d=function(e,t){return(0,i.le)(e)?"":0===e?t._('Manual', 'catalogs.ProductGroupFiltersList.manual', 'Manually created product group'):7===e?t._('Shopify collection', 'catalogs.productGroups.nameCell.subtitle.shopifyCollections', 'Subtitle text informs the merchant that this product group was created as a part of a Shopify collection'):t._('Auto-created', 'catalogs.productGroups.nameCell.subtitle.autoCreated', 'Subtitle text informs the merchant that this product group was auto created')},_=function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(3===e)if(n)return t._('Pins', 'catalogsV3.ProductGroups.itemEntityName', 'The name of the plural item entity that can be grouped for the selected catalog');else return t._('Pin', 'catalogsV3.ProductGroups.itemEntityName', 'The name of the singular item entity that can be grouped for the selected catalog');if(2===e)if(n)return t._('listings', 'catalogsV3.ProductGroups.itemEntityName', 'The name of the plural item entity that can be grouped for the selected catalog');else return t._('listing', 'catalogsV3.ProductGroups.itemEntityName', 'The name of the singular item entity that can be grouped for the selected catalog');return n?t._('products', 'catalogsV3.ProductGroups.itemEntityName', 'The name of the plural item entity that can be grouped for the selected catalog'):t._('product', 'catalogsV3.ProductGroups.itemEntityName', 'The name of the singular item entity that can be grouped for the selected catalog')},h=function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(3===e)if(n)return t._('Pin groups', 'catalogsV3.ProductGroups.itemGroupName', 'The plural name of the item group for the selected catalog');else return t._('Pin group', 'catalogsV3.ProductGroups.itemGroupName', 'The singular name of the item group for the selected catalog');return n?t._('product groups', 'catalogsV3.ProductGroups.itemGroupName', 'The plural name of the item group for the selected catalog'):t._('product group', 'catalogsV3.ProductGroups.itemGroupName', 'The singular name of the item group for the selected catalog')},m=function(e,t){return(0,r.nk)(t._('All {{groupName}}', 'catalogsV3.ProductGroups.productGroupsHeading', 'The product group header title for the selected catalog. groupName: Name of the entity that groups items'),{groupName:h(e,t)}).join("")},p=function(e,t,n,s){var r=u(s)[e];return"number"==typeof t&&r&&Object.keys(r).includes(String(t))&&r[t].defaultName===n?r[t].translation:n},b=function(e,t){return 2===e?t._('Listings', 'catalogsV3.ProductGroups.hotelListingsName', 'The name of the total available listings for the product group in a hotel catalog'):1===e?t._('Products in stock', 'catalogsV3.ProductGroups.retailListingsName', 'The name of the total available listings for the product group in a retail catalog'):""}},818674:function(e,t,n){var s=n(20256),r=n(382718);t.Z=function(e){return(0,r.jsxs)(s.xu,{children:[(0,r.jsx)(s.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:e.zIndex+1}},display:"flex",justifyContent:"center",left:!0,opacity:1,position:"absolute",right:!0,top:!0,children:e.children}),(0,r.jsx)(s.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{zIndex:e.zIndex}},left:!0,opacity:.7,position:"absolute",right:!0,top:!0})]})}},584210:function(e,t,n){var s=n(586659),r=n(20256),i=n(382718);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=o(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}t.Z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");m.prototype=Object.create(e&&e.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),e&&a(m,e);var t,n,h=(t=c(),function(){var e,n=u(m);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function m(e){var t;if(!(this instanceof m))throw TypeError("Cannot call a class as a function");return d(l(t=h.call(this,e)),"state",{isTooltipOpen:!1,hasFocus:!1}),d(l(t),"onDismiss",function(){t.setState({isTooltipOpen:!1,hasFocus:!1})}),d(l(t),"onTooltipShow",function(){t.setState({isTooltipOpen:!0}),t.props.onShow&&t.props.onShow()}),d(l(t),"onFocus",function(){t.setState({isTooltipOpen:!0,hasFocus:!0}),t.props.onShow&&t.props.onShow()}),t.anchorRef=(0,s.createRef)(),t}return n=[{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.children,s=e.icon,o=e.customIconColor,a=e.size,l=e.displayAsIcon,c=void 0!==l&&l,u=e.direction,d=e.zIndex;return(0,i.jsxs)(r.xu,{children:[(0,i.jsx)(r.xu,{ref:this.anchorRef,alignItems:"center","aria-label":t,color:o||c?"transparent":"tertiary","data-test-id":"tooltip-button-trigger",display:"flex",height:16,justifyContent:"center",onBlur:this.onDismiss,onFocus:this.onFocus,onMouseEnter:this.state.hasFocus?void 0:this.onTooltipShow,onMouseLeave:this.state.hasFocus?void 0:this.onDismiss,rounding:"circle",tabIndex:0,width:16,children:(0,i.jsx)(r.xu,{children:(0,i.jsx)(r.JO,{accessibilityLabel:t,color:o||(c?"subtle":"inverse"),icon:void 0===s?"question-mark":s,size:void 0===a?10:a})})}),this.state.isTooltipOpen&&(0,i.jsx)(r.mh,{zIndex:d||void 0,children:(0,i.jsx)(r.J2,{anchor:this.anchorRef.current,color:"darkGray",idealDirection:void 0===u?"up":u,onDismiss:this.onDismiss,positionRelativeToAnchor:!1,shouldFocus:!1,size:"md",children:(0,i.jsx)(r.xu,{column:12,"data-test-id":"tooltip-button-flyout",padding:3,children:n})})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_(s.key),s)}}(m.prototype,n),Object.defineProperty(m,"prototype",{writable:!1}),m}(s.Component)},539398:function(e,t,n){var s=n(20256),r=n(86295),i=n(789877),o=n(233519),a=n(937392),l=n(19585),c=n(805205),u=n(464876),d=n(382718),_=function(e){var t=e.displayData,n=e.businessId,a=e.showCompleteBtn,u=e.complete,_=e.dismiss,h=e.marginBottom,m=e.marginTop,p=(0,l.ZP)(),b=(0,o.ZP)(),f=null!=t&&t.limit_reached?p._('1 or more ad accounts have reached their monthly spend limit. To continue running campaigns, adjust limits in Ad Accounts', '[m10n]bizAccess.monthlySpendCap.banner.limitReachedMessage', 'Banner message to let advertiser know their spend has reached the monthly limit(s)'):p._('1 or more ad accounts have reached 90% of their monthly spending limits. Their campaigns will be paused when reached.', '[m10n]bizAccess.monthlySpendCap.banner.nearLimitMessage', 'Banner message to let advertiser know their spend is close to monthly limit(s)');return(0,d.jsx)(s.xu,{marginBottom:null!=h?h:2,marginTop:null!=m?m:0,paddingY:2,children:(0,d.jsx)(s.he,{message:f,onDismiss:_,primaryAction:a?{accessibilityLabel:p._('View ad accounts', '[m10n]bizAccess.monthlySpendCap.banner.navBtnAccessibilityLabel', 'Button accessibility label to navigate to ad accounts page'),label:p._('View ad accounts', '[m10n]bizAccess.monthlySpendCap.banner.navBtnLabel', 'Button label to navigate to ad accounts page'),role:"button",onClick:function(){b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"ad-spend-cap-bizmgr-banner",element:"BUSINESS_ACCESS_BUTTON",elementId:"ad-spend-cap-bizmgr-banner-primary-action-button"});var e=(0,c.Z)({site:"www",path:(0,i.Z)(r.Q6.AD_ACCOUNTS,n)});u(),window.location.href=e}}:void 0,type:null!=t&&t.limit_reached?"warning":"info"},"bizmgr_adSpendLimitBanner")},"bizmgr_adSpendLimitBannerContainer")};t.Z=function(e){var t=e.placementId,n=e.businessId,s=e.marginBottom,r=e.marginTop,i=(0,u.KJ)(!0)||n;return(0,a.Ow)(t,{business_id:i}),(0,d.jsx)(a.a3,{eligibleIds:[507503],placementId:t,children:function(e){var n=e.experience,o=e.complete,a=e.dismiss;return(0,d.jsx)(_,{businessId:i||"",complete:o,dismiss:a,displayData:n.display_data,marginBottom:s,marginTop:r,showCompleteBtn:1000512!==t})}})}},634327:function(e,t,n){var s=n(586659),r=n(20256),i=n(86295),o=n(789877),a=n(233519),l=n(654937),c=n(937392),u=n(564325),d=n(873651),_=n(19585),h=n(302148),m=n(15667),p=n(805205),b=n(464876),f=n(382718);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,n){var s;return(s=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=g(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==g(s)?s:s+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){var t,n=e.type,c=e.displayData,d=e.businessId,b=e.marginBottom,g=e.marginTop,y=(0,_.ZP)(),A=(0,m.B)(),v=(0,a.ZP)(),x=(0,s.useRef)(v),P=(0,u.Z)().setObserverRef;x.current=v;var S=c&&c.num_eligible_ad_accounts?c.num_eligible_ad_accounts:0,w=(0,l.ZP)(A.locale,i.xw,l.kH.YEAR_SHORT_MONTH_DAY,!1);(0,s.useEffect)(function(){return x.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-".concat(n,"-banner"),element:"BUSINESS_ACCESS_TOOLTIP",elementId:"cee-migration-".concat(n,"-banner-open")}),function(){x.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-".concat(n,"-banner"),element:"BUSINESS_ACCESS_TOOLTIP",elementId:"cee-migration-".concat(n,"-banner-close")})}},[x,n]);var j=function(){v({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"cee-migration-".concat(n,"-banner"),element:"BUSINESS_ACCESS_BUTTON",elementId:"cee-migration-".concat(n,"-banner-primary-action-button")});var e=(0,o.Z)(i.Q6.AD_ACCOUNTS_CEE_MIGRATION,d),t=(0,p.Z)({site:"www",path:e});window.location.href=t},I="";return"BusinessManager"===n?(I=(0,f.jsx)(r.xv,{inline:!0,children:(0,h.nk)(y._('Pinterest has decided to work exclusively with {{ resellerName }} as their sales partner in select markets that they advertise in.  Access enhanced advertising services with Pinterest\'s new partnership with {{ resellerName }} today!', '[m10n]businessAccess.ceeMigration.bizHub.businessManager.banner.message', 'Warning the ad account there is a marketing partner to work with and take action for CEE migration by a specific date, marketName: is the market name, resellerName: Business name of reseller'),{resellerName:i.p})},"BusinessManagerBannerText"),t={accessibilityLabel:y._('View details', '[m10n]businessAccess.ceeMigration.businessManager.banner.primaryAction.label', 'CTA to view details'),label:y._('View details', '[m10n]businessAccess.ceeMigration.businessManager.banner.primaryAction.label', 'CTA to view details'),onClick:j}):"AdsManager"===n?(I=(0,f.jsx)(r.xv,{inline:!0,children:(0,h.nk)(y.ngettext('Pinterest is now working exclusively with {{ resellerName }} as their sales partner in select markets that you advertise in. Take action on {{ totalAdAccounts }} ad account by {{ migrationEndDate }} to partner with {{ resellerName }}.', 'Pinterest is now working exclusively with {{ resellerName }} as their sales partner in select markets that you advertise in. Take action on {{ totalAdAccounts }} ad accounts by {{ migrationEndDate }} to partner with {{ resellerName }}.', S, '[m10n]businessAccess.ceeMigration.bizHub.adsManager.banner.message', 'Banner informing the user there is an exclusive marketing partner to work with and to take action for on a given number of ad accounts by a specific date, marketName: is the market name, resellerName: Business name of reseller, totalAdAccounts: Number of affected ad accounts, migrationEndDate: Planned end date of the migration'),{totalAdAccounts:S,migrationEndDate:w,resellerName:i.p})},"AdsManagerBannerText"),t={accessibilityLabel:y._('View Business Manager', '[m10n]businessAccess.ceeMigration.bizHub.singleAdAccount.banner.primaryAction.label', 'CTA to view business manager'),label:y._('View Business Manager', '[m10n]businessAccess.ceeMigration.bizHub.singleAdAccount.banner.primaryAction.label', 'CTA to view business manager'),onClick:j}):"Employee"===n&&(I=(0,f.jsx)(r.xv,{inline:!0,children:(0,h.nk)(y._('Pinterest has decided to work exclusively with {{ resellerName }} as their sales partner in select markets that they advertise in.  Please remind your account owner to take action by {{ migrationEndDate }}, in order to access this enhanced service.', '[m10n]businessAccess.ceeMigration.employee.banner.message', 'Banner informing the employee there is an exclusive marketing partner to work with and to inform account owner, resellerName: Business name of reseller, migrationEndDate: Planned end date of the migration'),{migrationEndDate:w,resellerName:i.p})},"employeeText")),(0,f.jsx)(r.xu,{ref:P,marginBottom:null!=b?b:2,marginTop:null!=g?g:0,paddingY:2,children:(0,f.jsx)(r.he,{message:I,primaryAction:t,type:"info"},"".concat(n,"_ceeMigrationBanner"))},"".concat(n,"_ceeMigrationBannerContainer"))};t.Z=function(e){var t,n=e.placementId,s=e.businessId,r=e.marginBottom,i=e.marginTop,o=(0,b.KJ)(!0)||s,a=(0,d.Z)(n,{rollout_experiment:1}),l=a.enableExperienceSession,u=a.endOnSurfaceChange;(0,c.Ow)(n,{business_id:o});var _=(y(t={},1000303,"BusinessManager"),y(t,1000512,"BusinessManager"),y(t,1000264,"AdsManager"),y(t,1000477,"AdsManager"),y(t,1000235,"AdsManager"),y(t,1000088,"AdsManager"),t);return(0,f.jsx)(c.a3,{customExperienceSession:!0,eligibleIds:[506469],enableExperienceSession:l,placementId:n,sessionEndOnSurfaceChange:u,children:function(e){var t=e.experience,s=t.display_data&&t.display_data.viewing_user_is_employee;return(0,f.jsx)(A,{businessId:o||"",displayData:t.display_data,marginBottom:r,marginTop:i,type:s?"Employee":_[n]})}})}},985817:function(e,t,n){var s=n(586659),r=n(20256),i=n(785873),o=n(86295),a=n(233519),l=n(654937),c=n(937392),u=n(19585),d=n(302148),_=n(15667),h=n(694955),m=n(464876),p=n(382718),b=function(e,t,n){if(t)return"EmployeeView";switch(e){case 1000303:return"BusinessLevel";case 1000512:if(n)return"AdAccountLevel";return"BusinessLevel";case 1000477:case 1000587:if(n)return"AdAccountLevel";return"Unknown";default:return"Unknown"}},f=function(e){var t,n=e.type,c=e.displayData,m=e.marginBottom,b=e.marginTop,f=(0,u.ZP)(),g=(0,_.B)(),y=(0,a.ZP)(),A=(0,s.useRef)(y);A.current=y;var v=(0,l.ZP)(g.locale,o.xw,l.kH.YEAR_SHORT_MONTH_DAY,!1);(0,s.useEffect)(function(){return A.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"post-cee-migration-alert-".concat(n,"-banner"),element:"BUSINESS_ACCESS_TOOLTIP",elementId:"post-cee-migration-alert-".concat(n,"-banner-open")}),function(){A.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"post-cee-migration-alert-".concat(n,"-banner"),element:"BUSINESS_ACCESS_TOOLTIP",elementId:"post-cee-migration-alert-".concat(n,"-banner-close")})}},[A,n]);var x=(0,p.jsx)(r.xv,{inline:!0,children:(0,p.jsx)(r.rU,{display:"inlineBlock",href:h.iFA,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:f._('Pinterest Help Center', '[m10n]businessAccess.ceeMigration.adsManager.postMigrationbanner.helpCenterLink', 'Linked text description for the Pinterest Ads Overview Help Center URL')})},"adsOverviewLinkText"),P=(0,p.jsx)(r.xv,{inline:!0,children:(0,p.jsx)(r.rU,{display:"inlineBlock",href:h.RfW,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:f._('Pinterest Business Marketing Site', '[m10n]businessAccess.ceeMigration.adsManager.postMigrationbanner.pinterestBusinessLink', 'Linked text description for the Pinterest Business Site Link')})},"businessLinkText"),S="";if("BusinessLevel"===n)S=(0,p.jsx)(r.xv,{inline:!0,children:(0,d.nk)(f._('As of {{ migrationEndDate }}, your ad accounts will now be required to be managed independently on a self-serve basis on Pinterest.', '[m10n]businessAccess.ceeMigration.businessManager.postMigrationbanner.message', 'Banner informing the user that their ad accounts will now be required to be managed independently on a self-serve basis. migrationEndDate: Date the CEE migration ended'),{migrationEndDate:v})},"BusinessManagerBannerText"),t={accessibilityLabel:f._('Learn more', '[m10n]businessAccess.ceeMigration.businessManager.postMigrationbanner.accessibilityLabel', 'CTA to learn more'),label:f._('Learn more', '[m10n]businessAccess.ceeMigration.businessManager.postMigrationbanner.label', 'CTA to learn more'),onClick:function(){y({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"post-cee-migration-alert-".concat(n,"-banner"),element:"BUSINESS_ACCESS_BUTTON",elementId:"post-cee-migration-alert-".concat(n,"-banner-primary-action-button")}),(0,i.Z)(h.iFA)}};else if("AdAccountLevel"===n)S=(0,p.jsx)(r.xv,{inline:!0,children:(0,d.nk)(f._('As of {{ migrationEndDate }}, this ad account will now be required to be managed independently on a self-serve basis. Access the {{ helpCenterLink }} and {{ businessLink }} to get the latest news and help to answer your questions. If this ad account would like to work with Httpool by Aleph in the future, share the ad account details with this email alias, {{ resellerContactEmail }}.', '[m10n]businessAccess.ceeMigration.adsManager.postMigrationbanner.message', 'Banner informing the user that their ad accounts will now be required to be managed independently on a self-serve basis. migrationEndDate: Date the CEE migration ended. resellerContactEmail: Email alias to share ad account details with. helpCenterLink: Link to the Pinterest Help Center Ads Overview Page. businessLink: Link to the Pinterest Business Site page'),{migrationEndDate:v,helpCenterLink:x,businessLink:P,resellerContactEmail:c.reseller_contact_email||o.oQ})},"AdsManagerBannerText");else if("EmployeeView"===n)S=(0,p.jsx)(r.xv,{inline:!0,children:(0,d.nk)(f._('As of {{ migrationEndDate }}, this ad account will now be required to be managed independently on a self-serve basis. Be sure to share the {{ helpCenterLink }} and {{ businessLink }} with the account owner to support their transition to the self-serve model. If this ad account would like to work with Httpool by Aleph in the future, share the ad account details with this email alias, {{ resellerContactEmail }}.', '[m10n]businessAccess.ceeMigration.adsManager.postMigrationbanner.employeeMessage', 'Banner informing the employee that their account owner\'s ad accounts will now be required to be managed independently on a self-serve basis. migrationEndDate: Date the CEE migration ended. resellerContactEmail: Email alias to share ad account details with. helpCenterLink: Link to the Pinterest Help Center Ads Overview Page. businessLink: Link to the Pinterest Business Site page\''),{migrationEndDate:v,helpCenterLink:x,businessLink:P,resellerContactEmail:c.reseller_contact_email||o.oQ})},"employeeText");else if("Unknown"===n)return null;return(0,p.jsx)(r.xu,{marginBottom:null!=m?m:2,marginTop:null!=b?b:0,paddingY:2,children:(0,p.jsx)(r.he,{message:S,primaryAction:t,type:"info"},"".concat(n,"_postCeeMigrationAlertBanner"))},"".concat(n,"_postCeeMigrationAlertBannerContainer"))};t.Z=function(e){var t=e.placementId,n=e.businessId,s=e.viewingAdAccountId,r=e.marginBottom,i=e.marginTop,o=(0,m.KJ)(!0)||n;return(0,c.Ow)(t,{business_id:o}),(0,p.jsx)(c.a3,{eligibleIds:[506920],placementId:t,children:function(e){var n=e.experience,a=n.display_data&&n.display_data.viewing_user_is_employee,l=n.display_data&&n.display_data.ad_account_ids;return s&&!(l&&l.includes(s))?null:(0,p.jsx)(f,{businessId:o||"",displayData:n.display_data,marginBottom:r,marginTop:i,type:b(t,a,!!s)})}})}},814369:function(e,t,n){var s=n(20256),r=n(86295),i=n(233519),o=n(475498),a=n(19585),l=n(87853),c=n(382718);t.Z=function(e){var t=e.text,n=e.page,u=e.tooltipText,d=e.accessibilityLabel,_=e.elementId,h=e.dangerouslySetSmallMarginTop,m=e.dangerouslySetSmallMarginBottom,p=(0,i.ZP)((0,i.QK)(n)),b=(0,l.dI)().showToast,f=(0,a.ZP)();return(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:m||h?{__style:{marginTop:h,marginBottom:m,marginLeft:2}}:void 0,children:(0,c.jsx)(s.hU,{accessibilityLabel:d,icon:"copy-to-clipboard",iconColor:"gray",onClick:function(){navigator.clipboard.writeText(t),p({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"copy-to-clip-board-icon",element:"BUSINESS_ACCESS_BUTTON",elementId:_}),b(function(e){var t=e.hideToast;return(0,c.jsx)(o.Z,{duration:r.QE,onHide:t,text:f._('Copied!', '[m10n].bizAccess.copyToClipBoardIcon.toast', 'message in toast after text copied'),type:"success"})})},size:"xs",tooltip:{text:u,accessibilityLabel:d}})})}},707152:function(e,t,n){n.d(t,{O:function(){return s},i:function(){return r}});var s=Object.freeze({AD_ACCOUNT_ID:"AD_ACCOUNT_ID",BUSINESS_ID:"BUSINESS_ID",HIERARCHY_ID:"HIERARCHY_ID",TAG_ID:"TAG_ID",ASSET_GROUP_ID:"ASSET_GROUP_ID",AUDIENCE_ID:"AUDIENCE_ID",EMAIL:"EMAIL",OWNER_EMAIL:"OWNER_EMAIL",ADMIN_EMAIL:"ADMIN_EMAIL",CATALOG_ID:"CATALOG_ID"}),r=function(e,t){switch(e){case s.AD_ACCOUNT_ID:return{elementId:"copy-ad-account-id",accessibilityLabel:t._('Copy ad account ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.adAccount.a11y', 'a11y for icon button to copy ad account id'),tooltipText:t._('Copy ad account ID', '[m10n].bizAccess.copyToClipBoardIcon.adAccount', 'tooltip text for icon button to copy ad account id')};case s.BUSINESS_ID:return{elementId:"copy-business-id",accessibilityLabel:t._('Copy business ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.businessId.a11y', 'a11y for icon button to copy business id'),tooltipText:t._('Copy business ID', '[m10n].bizAccess.copyToClipBoardIcon.businessId', 'tooltip text for icon button to copy business id')};case s.HIERARCHY_ID:return{elementId:"copy-hierarchy-id",accessibilityLabel:t._('Copy hierarchy ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId.a11y', 'a11y for icon button to copy hierarchy id'),tooltipText:t._('Copy hierarchy ID', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId', 'tooltip text for icon button to copy hiearchy id')};case s.TAG_ID:return{elementId:"copy-tag-id",accessibilityLabel:t._('Copy tag ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.tag.a11y', 'a11y for icon button to copy tag id'),tooltipText:t._('Copy tag ID', '[m10n].bizAccess.copyToClipBoardIcon.tag', 'tooltip text for icon button to copy tag id')};case s.ASSET_GROUP_ID:return{elementId:"copy-asset-group-id",accessibilityLabel:t._('Copy asset group ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup.a11y', 'a11y for icon button to copy asset group id'),tooltipText:t._('Copy asset group ID', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup', 'tooltip text for icon button to copy asset group id')};case s.AUDIENCE_ID:return{elementId:"copy-audience-id",accessibilityLabel:t._('Copy ad audience ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.audience.a11y', 'a11y for icon button to copy audience id'),tooltipText:t._('Copy audience ID', '[m10n].bizAccess.copyToClipBoardIcon.audience', 'tooltip text for icon button to copy audience id')};case s.CATALOG_ID:return{elementId:"copy-catalog-id",accessibilityLabel:t._('Copy catalog ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.catalog.a11y', 'a11y for icon button to copy catalog id'),tooltipText:t._('Copy catalog ID', '[m10n].bizAccess.copyToClipBoardIcon.catalog', 'tooltip text for icon button to copy catalog id')};case s.EMAIL:return{elementId:"copy-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.email.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.email', 'tooltip text for icon button to copy email address')};case s.OWNER_EMAIL:return{elementId:"copy-owner-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner', 'tooltip text for icon button to copy email address')};case s.ADMIN_EMAIL:return{elementId:"copy-admin-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin', 'tooltip text for icon button to copy email address')};default:return{elementId:"",accessibilityLabel:"",tooltipText:""}}}},566470:function(e,t,n){var s=n(20256),r=n(233519),i=n(19585),o=n(979658),a=n(464876),l=n(382718);t.Z=function(e){var t=e.page,n=e.shouldUseSlimBanner,c=(0,a.KJ)(),u=(0,i.ZP)(),d=(0,r.ZP)(t),_=(0,o.y)().openSheet,h=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.accessibilityLabel', 'Accessibility label for ad account request callout'),m=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.message', 'Message providing details to the advertiser about the ad account request.'),p={accessibilityLabel:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.accessibilityLabel', 'Accessbility label for view requests banner link'),label:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.label', 'View requests banner link'),onClick:function(){d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"aoaa-pending-incoming-requests-banner",element:"BUSINESS_ACCESS_LINK",elementId:"aoaa-pending-incoming-requests-banner-link",business_id:c}),_("RESPOND_AOAA_REQUESTS",{id:c})}};return void 0!==n&&n?(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.he,{iconAccessibilityLabel:h,message:m,primaryAction:p,type:"info"})}):(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.ci,{iconAccessibilityLabel:h,message:m,primaryAction:p,type:"info"})})}},700597:function(e,t,n){var s=n(20256),r=n(86295),i=n(789877),o=n(233519),a=n(19585),l=n(382718);t.Z=function(e){var t=e.businessId,n=e.page,c=(0,a.ZP)(),u=(0,o.ZP)(n?(0,o.QK)(n):"BUSINESS_ACCESS_DASHBOARD");return(0,l.jsx)(s.ci,{iconAccessibilityLabel:c._('you have new assets shared with you', '[m10n]businessAccess.NewRmnAssetSharedBanner.PartnerBanner.Title', 'accessibility label for partner callout'),message:(0,l.jsx)(s.xv,{children:(0,l.jsx)(s.xu,{maxWidth:n===r.Q6.PARTNERS_DETAIL?600:void 0,children:(0,l.jsx)(s.xv,{children:c._('A retail media network partner has shared an asset with you. View pending assets to review.', '[m10n]businessAccess.NewRmnAssetSharedBanner.Subtext', 'Subtext providing more details to the user about the request.')})})},"2"),primaryAction:{accessibilityLabel:c._('View new assets', '[m10n]businessAccess.NewRmnAssetSharedBanner.AccessibilityLabel', 'accessibility label for view partners'),label:c._('View pending assets', '[m10n]businessAccess.NewRmnAssetSharedBanner.Label', 'View pending assets banner link'),href:(0,i.Z)(r.Q6.PARTNERS_PENDING_TAB,t),onClick:function(){u({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"new-rmn-partner-assets-banner",element:"BUSINESS_ACCESS_LINK",elementId:"new-rmn-partner-assets-banner-link",business_id:t})},role:"link"},title:c._('You have a new asset from a partner', '[m10n]businessAccess.NewRmnAssetSharedBanner.Title', 'Text informing user they have a new asset from a partner.'),type:"info"})}},84672:function(e,t,n){var s=n(20256),r=n(982166),i=n(19585),o=n(382718),a=function(e){var t=e.bulletPoint,n=(0,i.ZP)();return(0,o.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[!t.noBulletPoint&&(0,o.jsx)(s.xu,{width:30,children:t.icon||(0,o.jsx)(s.JO,{accessibilityLabel:n._('bullet point icon', '[m10n].bizAccess.baseFeatureIntro.bulletPoint.a11y', 'accessibilityLabel for third bullet point on ad accounts introduction modal'),color:"dark",icon:"check-circle",size:24})}),(0,o.jsx)(s.xu,{children:t.content})]})};t.Z=function(e){var t=e.modalAccessibilityLabel,n=e.dismiss,l=e.image,c=e.heading,u=e.subtext,d=e.bulletPoints,_=e.primaryButton,h=e.secondaryButton,m=(0,i.ZP)();return(0,o.jsx)(r.ZP,{accessibilityModalLabel:t,onDismiss:function(){},size:832,children:(0,o.jsxs)(s.kC,{width:"100%",children:[(0,o.jsx)(s.kC.Item,{flexBasis:l.width||320,children:(0,o.jsx)(s.xu,{height:l.height||480,children:l.image})}),(0,o.jsx)(s.kC.Item,{flex:"grow",flexBasis:0,children:(0,o.jsxs)(s.xu,{direction:"column",display:"flex",height:l.height||480,justifyContent:"between",padding:6,children:[(0,o.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,o.jsxs)(s.kC,{alignItems:"center",gap:4,justifyContent:"between",children:[(0,o.jsx)(s.X6,{size:"600",children:c}),(0,o.jsx)(s.hU,{accessibilityLabel:m._('Cancel button to close this modal', '[m10n]bizAccess.baseFeatureIntro.cancel', '[m10n] Experience modal cancel button accessibilityLabel'),dataTestId:"dismiss-bm-intro-modal",icon:"cancel",onClick:n,size:"lg"})]}),(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(s.xu,{marginBottom:4*!!u,marginTop:6,children:u}),(0,o.jsx)(s.kC,{direction:"column",gap:4,children:d.map(function(e,t){return(0,o.jsx)(a,{bulletPoint:e},t)})})]})]}),(0,o.jsxs)(s.kC,{alignItems:"center",gap:2,height:48,justifyContent:"end",children:[h&&(0,o.jsx)(s.zx,{color:"gray",onClick:h.onClick,text:h.text}),(0,o.jsx)(s.zx,{color:"red",onClick:_.onClick,text:_.text})]})]})})]})})}},750891:function(e,t,n){var s=n(15667);t.Z=function(e){var t=e.children;return(0,s.B)().sterlingOnSteroidsLdap?null:t}},192194:function(e,t,n){var s=n(586659),r=n(581722),i=n(963489),o=n(20256),a=n(86295),l=n(789877),c=n(233519),u=n(654937),d=n(166379),_=n(937392),h=n(877956),m=n(564325),p=n(873651),b=n(19585),f=n(302148),g=n(15667),y=n(385634),A=n(932047),v=n(464876),x=n(382718);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var w=function(e){var t,n,s=e.experience,r=e.i18n,i=e.handleModalDismiss,l=e.handleViewBusinessManager,c=e.formattedDate,u=e.dismissModalCheckbox,d=e.setDismissModalCheckbox,_=(t=s.display_data,n=[],Object.entries(t).forEach(function(e){var t=P(e,2),s=t[0],r=t[1],i=r.name,o=r.country;n.push({id:s,name:i,billingCountry:o})}),n),h=(0,m.Z)().setObserverRef;return(0,x.jsx)(o.xu,{ref:h,"data-test-id":"cee-migration-modal",children:(0,x.jsx)(y.Z,{accessibilityLabel:r._('Take action', '[m10n]businessAccess.ceeMigration.modal.label', 'Heading text of the modal'),hideCancelAction:!0,onDismiss:i,primaryAction:(0,x.jsx)(o.xu,{"data-test-id":"cee-migration-modal-submit-button",children:(0,x.jsx)(o.zx,{color:"red",onClick:l,size:"lg",text:r._('View Business Manager', '[m10n]businessAccess.ceeMigration.modal.button.viewBusinessManager', 'CTA Button to view business manager')})}),size:720,style:{footer:{marginEnd:0}},title:(0,f.nk)(r._('Take action by {{ actionDate }}', '[m10n]businessAccess.ceeMigration.modal.title', 'Heading text of the modal, actionDate: action date for the cee migration'),{actionDate:c}).join(""),children:(0,x.jsxs)(o.xu,{"data-test-id":"cee-migration-modal-content",marginTop:2,children:[(0,x.jsx)(o.xu,{children:(0,x.jsx)(o.xv,{size:"400",weight:"bold",children:(0,f.nk)(r._('Pinterest will be working exclusively with {{ resellerName }} in select markets where you advertise today', '[m10n]businessAccess.ceeMigration.bizHub.businessManager.banner.message', 'Warning the ad account there is a marketing partner to work with and take action for CEE migration by a specific date, marketName: is the market name, resellerName: Business name of reseller'),{resellerName:a.p})})}),(0,x.jsx)(o.xu,{marginTop:2,paddingY:2,children:(0,x.jsx)(o.xv,{children:r._('This new partnership will offer you in-market representation, local language support and deeper expertise to help you drive performance on Pinterest.', '[m10n]businessAccess.ceeMigration.modal.text.partnerBenefits', 'Partner benefits text text')})}),(0,x.jsx)(o.xu,{paddingY:2,children:(0,x.jsx)(o.xv,{children:r._('The affected ad accounts are as follows:', '[m10n]businessAccess.ceeMigration.modal.text.eligibleAdAccounts', 'Affected ad accounts text')})}),(0,x.jsx)(o.xu,{paddingY:2,children:(0,x.jsx)(A.Z,{adAccounts:_})}),(0,x.jsx)(o.xu,{paddingY:2,children:(0,x.jsx)(o.xv,{children:r._('All invoices will bill-to Httpool by Aleph once you agree to work with them. In order to begin the process to work with Httpool by Aleph, you will be required to fill out your name and business email address within Pinterest Business Manager. Httpool by Aleph will then review before agreeing to the partnership. ', '[m10n]businessAccess.ceeMigration.modal.text.billingInformation', 'Reseller billing information text')})}),(0,x.jsx)(o.xu,{paddingY:2,children:(0,x.jsx)(o.iz,{})}),(0,x.jsx)(o.xu,{paddingY:2,children:(0,x.jsx)(o.XZ,{checked:u,id:"cee-migration-modal-dont-show-again-checkbox",label:r._('Don\u2019t show this to me again', '[m10n]businessAccess.ceeMigration.modal.text.dontThisToMeAgain', 'Checkbox to decide whether or not to show the CEE migration modal again'),onChange:function(e){return d(e.checked)}})})]})})})};t.Z=function(e){var t=e.placementId,n=e.optionalBusinessId,o=(0,c.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION"),m=(0,g.B)(),f=(0,b.ZP)(),y=(0,v.KJ)(!0)||n,A=P((0,s.useState)(!0),2),S=A[0],j=A[1],I=P((0,s.useState)(!1),2),z=I[0],C=I[1],E=(0,i.s0)(),O=(0,h.Am)(),T=(0,r.I0)(),D=(0,p.Z)(t,{rollout_experiment:1}),R=D.enableExperienceSession,N=D.endOnSurfaceChange;(0,_.Ow)(t,{business_id:y});var L=function(){o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"cee-migration-modal-dismiss-button"}),j(!1),z&&T(O(t,506473,!1,void 0,{business_id:y}))},B=function(){o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"cee-migration-modal-view-business-manager-button"}),E((0,l.Z)("AD_ACCOUNTS_CEE_MIGRATION",y))};(0,s.useEffect)(function(){o({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_MODAL",component_id:"cee-migration-modal"})},[o]);var k=(0,u.ZP)(m.locale,a.xw,d.k.LONG,!1);return(0,x.jsx)(s.Fragment,{children:S&&(0,x.jsx)(_.a3,{customExperienceSession:!0,eligibleIds:[506473],enableExperienceSession:R,placementId:t,sessionEndOnSurfaceChange:N,children:function(e){var t=e.experience;return(0,x.jsx)(w,{dismissModalCheckbox:z,experience:t,formattedDate:k,handleModalDismiss:L,handleViewBusinessManager:B,i18n:f,setDismissModalCheckbox:C})}})})}},496194:function(e,t,n){var s=n(586659),r=n(581722),i=n(20256),o=n(86295),a=n(233519),l=n(937392),c=n(877956),u=n(894199),d=n(564325),_=n(19585),h=n(302148),m=n(694955),p=n(385634),b=n(464876),f=n(382718);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var A=function(e){var t,n=e.experience,s=e.i18n,r=e.handleModalDismiss,a=e.adsOverviewHelpCenterLink,l=e.pinterestBusinessLink,c=e.dismissModalCheckbox,u=e.setDismissModalCheckbox,_=(0,d.Z)().setObserverRef,m=(null==(t=n.display_data)?void 0:t.reseller_contact_email)||o.oQ;return(0,f.jsx)(i.xu,{ref:_,"data-test-id":"post-cee-migration-self-serve-alert-modal",children:(0,f.jsxs)(p.Z,{accessibilityLabel:s._('You are now a self-serve account on Pinterest', '[m10n]bizAccess.postMigrationSelfServeAlertModal.accessibilityLabel', 'Title explaining the ad account is now a self-serve account'),hideCancelAction:!0,onDismiss:r,primaryAction:(0,f.jsx)(i.xu,{"data-test-id":"post-cee-migration-alert-modal-okay-button",children:(0,f.jsx)(i.zx,{accessibilityLabel:s._('Close alert modal', '[m10n]bizAccess.postMigrationSelfServeAlertModal.okay.accessibilityLabel', 'Primary button label to close the modal'),color:"red",onClick:r,size:"lg",text:s._('Okay', '[m10n]bizAccess.postMigrationSelfServeAlertModal.okay.title', 'Primary button text to close the modal')})}),size:"md",title:s._('You are now a self-serve account on Pinterest', '[m10n]bizAccess.postMigrationSelfServeAlertModal.title', 'Title saying reseller accepted the invite'),children:[(0,f.jsxs)(i.xu,{children:[(0,f.jsx)(i.xu,{paddingY:2,children:(0,f.jsx)(i.xv,{size:"400",weight:"bold",children:s._('As of today, Pinterest is in an exclusive partnership with Httpool by Aleph in select markets where you advertise', '[m10n]businessAccess.postMigrationSelfServeAlertModal.exclusiveResellerMessage', 'There is an exclusive partnership with a reseller for select markets')})}),(0,f.jsx)(i.xu,{marginTop:1,paddingY:2,children:(0,f.jsx)(i.xv,{children:s._('As you have selected not to work with Httpool by Aleph, your ads will continue to run however, you will now need to manage them independently on a self-serve basis.', '[m10n]businessAccess.postMigrationSelfServeAlertModal.selfServeAdaccount', 'The relevant ad account is now a self-serve account')})}),(0,f.jsx)(i.xu,{marginTop:1,paddingY:2,children:(0,f.jsx)(i.xv,{children:(0,h.nk)(s._('Access the {{ helpCenter }} and {{ marketingSite }} to get the latest news and help to answer your questions.', '[m10n]businessAccess.postMigrationSelfServeAlertModal.importantLinks', 'Links to the Pinterest Help Center and Pinterest Business Marketing site. helpCenter: Pinterest Help Center, marketingSite: Pinterest Business Marketing site'),{helpCenter:a,marketingSite:l})})}),(0,f.jsx)(i.xu,{marginTop:1,paddingY:2,children:(0,f.jsx)(i.xv,{children:(0,h.nk)(s._('If this ad account would like to work with Httpool by Aleph in the future, share this email alias, {{ resellerContactEmail }}, with the ad account details.', '[m10n]businessAccess.postMigrationSelfServeAlertModal.alephContactEmail', 'Give an Aleph contact email to the ad account. resellerContactEmail: email address for the reseller contact'),{resellerContactEmail:m})})})]}),(0,f.jsx)(i.xu,{paddingY:2,children:(0,f.jsx)(i.iz,{})}),(0,f.jsx)(i.xu,{paddingY:2,children:(0,f.jsx)(i.XZ,{checked:c,id:"cee-migration-modal-dont-show-again-checkbox",label:s._('Don\u2019t show this to me again', '[m10n]businessAccess.ceeMigration.modal.text.dontThisToMeAgain', 'Checkbox to decide whether or not to show the CEE migration modal again'),onChange:function(e){return u(e.checked)}})})]})})};t.Z=function(e){var t=e.placementId,n=e.optionalBusinessId,o=(0,a.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION"),d=(0,_.ZP)(),h=g((0,s.useState)(!1),2),p=h[0],y=h[1],v=(0,b.KJ)(!0)||n,x=g((0,s.useState)(!0),2),P=x[0],S=x[1],w=(0,c.Am)(),j=(0,r.I0)(),I=(0,u.jQ)(t,{rollout_experiment:1}),z=I.enableExperienceSession,C=I.endOnSurfaceChange,E=(0,a.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION"),O=function(){o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"post-cee-migration-alert-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"post-cee-migration-alert-modal-dismiss-button"}),S(!1),p&&j(w(t,506921,!1,void 0,{business_id:v}))};(0,l.Ow)(t,{business_id:v}),(0,s.useEffect)(function(){E({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_MODAL",component_id:"post-migration-self-serve-alert-modal-modal"})},[E]);var T=(0,f.jsx)(i.xv,{inline:!0,children:(0,f.jsx)(i.rU,{display:"inlineBlock",href:m.iFA,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:d._('Pinterest Help Center', '[m10n]businessAccess.ceeMigration.adsManager.postMigrationAlertModal.helpCenterLink', 'Linked text description for the Pinterest Ads Overview Help Center URL')})},"adsOverviewLinkText"),D=(0,f.jsx)(i.xv,{inline:!0,children:(0,f.jsx)(i.rU,{display:"inlineBlock",href:m.RfW,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:d._('Pinterest Business Marketing site', '[m10n]businessAccess.ceeMigration.adsManager.postMigrationAlertModal.pinterestBusinessLink', 'Linked text description for the Pinterest Business Site Link')})},"businessSiteLinkText");return(0,f.jsx)(s.Fragment,{children:P&&(0,f.jsx)(l.a3,{customExperienceSession:!0,eligibleIds:[506921],enableExperienceSession:z,placementId:t,sessionEndOnSurfaceChange:C,children:function(e){var t=e.experience;return(0,f.jsx)(A,{adsOverviewHelpCenterLink:T,dismissModalCheckbox:p,experience:t,handleModalDismiss:O,i18n:d,pinterestBusinessLink:D,setDismissModalCheckbox:y})}})})}},938960:function(e,t,n){var s=n(20256),r=n(382718);t.Z=function(e){var t=e.pageTitle,n=e.children;return(0,r.jsxs)(s.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[(0,r.jsx)(s.xu,{marginBottom:4,marginStart:2,children:t}),n]})}},661319:function(e,t,n){n.d(t,{Z:function(){return a},c:function(){return o}});var s=n(20256),r=n(18468),i=n(382718),o=675;function a(e){var t=e.items,n=e.width;return(0,i.jsx)(s.kC,{direction:"column",width:n,children:t.map(function(e,t){return e.needsPanel?(0,i.jsx)(s.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:r.iiJ}},flex:"grow",marginBottom:4,minWidth:o,padding:4,rounding:4,width:"grow",children:e.content},"layout-item-".concat(t)):e.content})})}},747911:function(e,t,n){n.d(t,{Z:function(){return j}});var s=n(937392),r=n(581722),i=n(20256),o=n(877956),a=n(19585),l=n(302148),c=n(464876),u=n(382718),d=function(e){var t=e.reseller,n=(0,r.I0)(),s=(0,a.ZP)(),d=(0,c.HU)().setCreateAdAccountModal,_=(0,o.Am)();return(0,u.jsx)(i.xu,{marginBottom:2,paddingY:2,children:(0,u.jsx)(i.ci,{dismissButton:{accessibilityLabel:s._('Dismiss button', '[m10n]businessManager.resellersBanners.newResellerPartnershipBanner.dismissButton', 'Dismiss button'),onDismiss:function(){n(_(1000551,506160,!1,void 0,{reseller_user_id:t.id}))}},iconAccessibilityLabel:s._('A reseller is now your partner', '[m10n]businessManager.resellersBanners.newResellerPartnershipBanner.iconAccessibilityLabel', 'A reseller is now your partner'),message:s._('Create an account in one of their designated countries and fill out the required information so they can begin advertising.', '[m10n]businessManager.resellersBanners.singleRMAA.bannerMessage', 'Banner message informing user they need to add ad account information before advertising.'),primaryAction:{accessibilityLabel:s._('Create ad account', '[m10n]businessManager.resellersBanners.newResellerPartnershipBanner.action.acccessibilityLabel', 'Accessibility label for creating an ad account'),label:s._('Create ad account', '[m10n]businessManager.resellersBanners.newResellerPartnershipBanner.action', 'Button to add required ad account information'),onClick:function(){d()}},title:(0,l.Wc)(s._('{{ resellerBusinessName }} is now your partner', '[m10n]businessManager.resellersBanners.singleRMAA.bannerTitle', 'Banner title explaining to the user that a reseller is now their partner. resellerBusinessName: Business name of the reseller'),{resellerBusinessName:t.businessName}),type:"success"})})},_=n(586659);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||m(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return p(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var b=function(e){var t=e.adAccountName,n=e.onDismiss,s=e.sfdcAccountStatus,r=e.resellerBusinessName,o=(0,a.ZP)(),c={PENDING_CREATE_RETRY:{title:o._('Your ad account requires more time for approval.', '[m10n]businessManager.newRmaaStatusBanner.bannerTitle.pendingCreateRetry', 'Banner message informing user the ad account needs more time for approval.'),message:(0,l.Wc)(o._('Check back later to confirm that your ad account {{ adAccountName }} was successfully created. Once it has been approved, {{ resellerBusinessName }} can start advertising on your behalf.', '[m10n]businessManager.newRmaaStatusBanner.bannerMessage.pendingCreateRetry', 'Banner message informing user to check back later for ad account approval. adAccountName: Name of the ad account. resellerBusinessName: Business name of the reseller'),{adAccountName:t,resellerBusinessName:r}),type:"info",iconAccessibilityLabel:o._('Your ad account requires more time for approval', '[m10n]businessManager.newRmaaStatusBanner.iconAccessibilityLabel.pendingCreateRetry', 'Your ad account requires more time for approval')},COMPLETED:{title:(0,l.Wc)(o._('{{ adAccountName }} successfully set up', '[m10n]businessManager.newRmaaStatusBanner.bannerTitle.completed', 'Banner message informing user the reseller managed ad account is successfully created. adAccountName: Name of the ad account'),{adAccountName:t}),message:(0,l.Wc)(o._('Your ad account has been validated and {{ resellerBusinessName }} can begin advertising.', '[m10n]businessManager.newRmaaStatusBanner.bannerMessage.completed', 'Banner message informing the user they can begin advertising on their ad account. resellerBusinessName: Business name of the reseller'),{resellerBusinessName:r}),type:"success",iconAccessibilityLabel:o._('Your ad account set up is complete', '[m10n]businessManager.newRmaaStatusBanner.iconAccessibilityLabel.completed', 'Your ad account set up is complete')}}[1===s?"PENDING_CREATE_RETRY":"COMPLETED"];return(0,u.jsx)(i.xu,{marginBottom:2,paddingY:2,children:(0,u.jsx)(i.ci,{dismissButton:{accessibilityLabel:o._('Dismiss button', '[m10n]businessManager.resellersBanners.NewRMAAStatusBanner.dismissButton', 'Dismiss button'),onDismiss:n},iconAccessibilityLabel:c.iconAccessibilityLabel,message:c.message,title:c.title,type:c.type})})},f=function(e){var t=e.displayData,n=e.adAccountDetailId,s=(0,r.I0)(),a=(0,o.Am)(),l=h((0,_.useState)([]),2),c=l[0],d=l[1],f=function(e){d([].concat(function(e){if(Array.isArray(e))return p(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||m(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]))};if(n)if(t&&t[n])return(0,u.jsx)(b,{adAccountName:t[n].name,onDismiss:function(){f(n),s(a(1000551,506168,!1,void 0,{ad_account_id:n,sfdc_account_status:t[n].sfdc_account_status}))},resellerBusinessName:t[n].reseller.business_name,sfdcAccountStatus:t[n].sfdc_account_status});else return null;return(0,u.jsx)(i.xu,{children:Object.entries(t).filter(function(e){var t=h(e,1)[0];return!c.includes(t)}).map(function(e){var t=h(e,2),n=t[0],r=t[1];return(0,u.jsx)(b,{adAccountName:r.name,onDismiss:function(){f(n),s(a(1000551,506168,!1,void 0,{ad_account_id:n,sfdc_account_status:r.sfdc_account_status}))},resellerBusinessName:r.reseller.business_name,sfdcAccountStatus:r.sfdc_account_status},n)})})},g=(0,n(729434).Z)("ResellerClientOnboardingBannerContext"),y=g.Provider,A=g.get,v=function(e){var t=e.children,n=e.page;return(0,u.jsx)(y,{value:{page:n},children:t})},x=function(e){var t=e.id,n=e.name,s=e.country,r=e.resellerBusinessName,o=(0,a.ZP)(),d=(0,c.HU)().setRequiredRMAAInformationModal,_=(A()||{}).page;return(0,u.jsx)(i.xu,{"data-test-id":"missing-single-rmaa-information-banner",marginBottom:2,paddingY:2,children:(0,u.jsx)(i.ci,{iconAccessibilityLabel:o._('Missing ad account information', '[m10n]businessManager.resellersBanners.singleRMAA.iconAccessibilityLabel', 'Missing ad account information'),message:(0,l.nk)(o._('Please add your ad account information so {{ name }} can begin advertising.', '[m10n]businessManager.resellersBanners.singleRMAA.bannerMessage', 'Banner message informing user they need to add ad account information before advertising. name: The name of the ad account'),{name:n}).join(""),primaryAction:{accessibilityLabel:o._('Add required account information for the missing ad account', '[m10n]businessManager.resellersBanners.singleRMAA.action.acccessibilityLabel', 'Accessibility label for adding required account information'),label:o._('Add account information', '[m10n]businessManager.resellersBanners.singleRMAA.action', 'Button to add required ad account information'),onClick:function(){d({id:t,name:n,country:s,resellerBusinessName:r,page:_,state:"US"===s?"PR":void 0,shouldDisableState:"US"===s})}},title:o._('Missing ad account information', '[m10n]businessManager.resellersBanners.singleRMAA.bannerTitle', 'Banner title explaining the user has missing ad account information'),type:"warning"})})},P=function(e){var t=(0,c.HU)().setRMAAUncompleteModal,n=(0,a.ZP)(),s=(A()||{}).page;return(0,u.jsx)(i.xu,{"data-test-id":"multiple-single-rmaa-information-banner",marginBottom:2,paddingY:2,children:(0,u.jsx)(i.ci,{iconAccessibilityLabel:n._('There are multiple ad accounts that need attention', '[m10n]businessManager.resellersBanners.multipleRMAA.iconAccessibilityLabel', 'Accessibility label for banner callout'),message:n._('Complete setup for these accounts to begin advertising', '[m10n]businessManager.resellersBanners.multipleRMAA.message', 'Message informing user they have multiple ad accounts requiring attention'),primaryAction:{accessibilityLabel:n._('View issues with multiple ad accounts', '[m10n]businessManager.resellersBanners.multipleRMAA.action.accessibilityLabel', 'Label for button to trigger modal to view all reseller managed ad accounts issues'),label:n._('View issues', '[m10n]businessManager.resellersBanners.multipleRMAA.action', 'Button to trigger modal to view all reseller managed ad accounts issues'),onClick:function(){t({displayData:e.displayData,page:s})}},title:n._('Multiple ad accounts need your attention', '[m10n]businessManager.resellersBanners.multipleRMAA.title', 'Multiple ad accounts need your attention banner title'),type:"warning"})})};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var w=function(e){var t=e.displayData,n=e.adAccountDetailId,s=Object.entries(t);if(n)if(t&&t[n]&&4===t[n].sfdc_account_status)return(0,u.jsx)(x,{country:t[n].country,id:n,name:t[n].name,resellerBusinessName:t[n].reseller_business_name});else return null;if(1!==s.length)return(0,u.jsx)(P,{displayData:t});var r,i=function(e){if(Array.isArray(e))return e}(r=s[0])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(r,2)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1];return(0,u.jsx)(x,{country:a.country,id:o,name:a.name,resellerBusinessName:a.reseller_business_name})},j=function(e){var t=e.eligibleIds,n=e.adAccountDetailId,r=e.page,i=(0,c.KJ)(),o=r&&"BUSINESS_ACCESS_PARTNERS_ACTIVE"===r?1000554:1000551;return(0,s.Ow)(o,{business_id:i}),(0,u.jsx)(s.a3,{eligibleIds:t,placementId:o,children:function(e){var t=e.experience;return 506145===t.experience_id?(0,u.jsx)(v,{page:r,children:(0,u.jsx)(w,{adAccountDetailId:n,displayData:t.display_data})}):506160===t.experience_id?(0,u.jsx)(d,{reseller:{id:t.display_data.reseller.id,businessName:t.display_data.reseller.business_name}}):506168===t.experience_id?(0,u.jsx)(f,{adAccountDetailId:n,displayData:t.display_data}):null}})}},422077:function(e,t,n){var s=n(20256),r=n(906553),i=n(302148),o=n(979658),a=n(326197),l=n(382718);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=c(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=["OWNER","ADMIN","FINANCE_MANAGER","FINANCE_EDIT"],h=function(e){var t=e.percentage;return(0,l.jsx)(s.xu,{color:"secondary",marginBottom:1,rounding:2,width:"100%",children:(0,l.jsx)(s.xu,{color:"dark",padding:1,rounding:2,width:"".concat(t,"%")})})};t.Z=function(e){var t,n,c,u,m=e.i18n,p=e.locale,b=e.businessId,f=e.onMonthlySpendCapUpdated,g=e.data.asset,y=g.monthly_spend_cap,A=g.currency,v=void 0===A?"USD":A,x=(null==(t=e.data.metrics)?void 0:t.currentMonthSpend)!=null,P=null!=(n=null==(c=e.data.metrics)?void 0:c.currentMonthSpend)?n:0,S=(0,o.y)().openSheet,w=(0,r.Z)(),j=function(e){return w(p,e/1e6,{style:"currency",currency:v})},I=null==(u=e.data.permissions)?void 0:u.some(function(e){return _.includes(e)}),z=y&&P>=y,C=m._('No limit set', '[m10n]bizAccess.table.asset.monthlySpend.noLimit', 'Message monthly spending limit has not been set'),E=m._('You do not have access to view the monthly spend for this ad account.', '[m10n]bizAccess.table.asset.monthlySpend.noAccessSpendTooltip', 'Tooltip for monthly spending limit when user does not have access to the spend data'),O=I?m._('Edit monthly spending limit', '[m10n]bizAccess.table.asset.monthlySpend.editBtnTT', 'Tooltip for button to edit monthly spending limit'):m._('Only users with finance control in Business Manager can edit this limit', '[m10n]bizAccess.table.asset.monthlySpend.editBtnUnauth', 'Tooltip for edit monthly spending limit button when user does not have edit permission'),T=(0,i.nk)(m._('{{formattedSpend}} spent', '[m10n]bizAccess.table.asset.monthlySpend.currentSpend', 'Shows amount of spend for current month for an ad account. formattedSpend: amount of spend formatted as local currency'),{formattedSpend:j(P)}),D=(0,i.nk)(z?m._('Spend limit of {{spendLimit}} reached', '[m10n]bizAccess.table.asset.monthlySpend.limitReached', 'Shows current monthly spending limit for advertiser when limit has been reached. spendLimit: maximum monthly spend formatted as local currency'):m._('{{spendLimit}} monthly limit', '[m10n]bizAccess.table.asset.monthlySpend.limit', 'Shows current monthly spending limit for advertiser. spendLimit: maximum monthly spend formatted as local currency'),{spendLimit:j(null!=y?y:0)}),R=m._('warning', '[m10n]bizAccess.table.asset.monthlySpend.limitReachedIconLabel', 'Accessibility Label for warning icon when spend limit has been reached'),N={advertiserId:e.data.asset.id,advertiserName:e.data.asset.name,businessId:b,monthlySpendCap:y,currentSpend:P,locale:p,currency:v,onMonthlySpendCapUpdated:f},L={tooltipText:O,onClick:function(e){return S("EDIT_MONTHLY_SPEND_CAP",e)},icon:"edit",iconColor:"darkGray",disabled:!I},B=Math.min(Math.floor((null!=P?P:0)/(y||1)*100),100);return x?(0,l.jsx)(s.xu,{alignItems:"center","data-test-id":"monthly-spend-limit-".concat(e.data.asset.id),display:"flex",justifyContent:"start",width:"100%",children:(null!=y?y:0)===0?(0,l.jsxs)(s.kC,{children:[(0,l.jsx)(s.xv,{align:"start",color:"default",children:C}),(0,l.jsx)(a.D,d({item:N},L))]}):(0,l.jsxs)(s.xu,{width:"80%",children:[(0,l.jsxs)(s.kC,{justifyContent:"between",width:"100%",children:[(0,l.jsx)(s.xv,{align:"start",color:"default",size:"200",children:T}),(0,l.jsx)(a.D,d({item:N},L))]}),(0,l.jsx)(h,{percentage:B}),(0,l.jsxs)(s.kC,{direction:"row",gap:1,children:[z&&(0,l.jsx)(s.JO,{accessibilityLabel:R,color:"error",icon:"workflow-status-warning"}),(0,l.jsx)(s.xv,{align:"start",color:z?"error":"subtle",size:"100",children:D})]})]})}):(0,l.jsx)(s.u,{idealDirection:"right",inline:!0,text:E,children:(0,l.jsx)(s.xv,{align:"start",color:"default",size:"200",children:"N/A"})})}},153352:function(e,t,n){n.d(t,{B:function(){return c}});var s=n(358396);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){var s;return(s=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(s)?s:s+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}var c=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n){var r,i,l,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId){t.next=3;break}return t.abrupt("return");case 3:return n({type:"GET_ADS_MONTHLY_SPEND"}),t.prev=4,c=Math.floor(Date.UTC((l=new Date).getUTCFullYear(),l.getUTCMonth(),1)/1e3),u=Math.floor(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+1,0)/1e3),t.next=10,(0,s.Ej)(r,{start_timestamp:c,end_timestamp:u});case 10:n({type:"GET_ADS_MONTHLY_SPEND_SUCCESS",data:null==(i=t.sent.data)?void 0:i.reduce(function(e,t){return t.advertiser_id?o(o({},e),{},a({},t.advertiser_id.toString(),{currentMonthSpend:t.spend_in_micro_currency})):e},{})}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),n({type:"GET_ADS_MONTHLY_SPEND_ERROR",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[4,15]])}),n=function(){var e=this,n=arguments;return new Promise(function(s,r){var i=t.apply(e,n);function o(e){l(i,s,r,o,a,"next",e)}function a(e){l(i,s,r,o,a,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)}}},470336:function(e,t,n){n.d(t,{r:function(){return A}});var s=n(586659),r=n(920345),i=n(46765),o=n(731704),a=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=l(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var y=[i.$d.ADVERTISER_DISABLED,i.d9.ADVERTISER_DISABLED,i.eW.ADVERTISER_DISABLED],A=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&d(c,e);var t,n,s=(t=h(),function(){var e,n=m(c);return e=t?Reflect.construct(n,arguments,m(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function c(e){var t;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return p(_(t=s.call(this,e)),"allOptions",null),p(_(t),"generateAllOptions",function(){return t.props.selectionOptions.filter(function(e){return!("all"===e.value||t.props.statusExcludedFromAll.includes(e.value))}).map(function(e){return e.value})}),p(_(t),"isSelectedAll",function(e){var n=e?e.filter(function(e){return!y.includes(e)}):e;return null!=n&&null!=t.allOptions&&n.length===t.allOptions.length&&n.every(function(e){return t.allOptions&&t.allOptions.includes(e)})}),p(_(t),"modifyStatus",function(e){var n=t.props.status,s=void 0===n?[]:n,r=s.indexOf(e);return -1===r?[].concat(f(s),[e]):[].concat(f(s.slice(0,r)),f(s.slice(r+1)))}),p(_(t),"processSelectedStatus",function(e){var n=e.value,s=e.checked,r=e.exclusive,i=t.props,o=i.status,a=i.selectionOptions,l=i.defaultSelections,c=i.statusExcludedFromAll;if("all"===n)return s?t.allOptions:l;if(c.includes(n)&&s||r&&s)return[n];if(t.isSelectedAll(o))return a.map(function(e){return e.value}).filter(function(e){return!["all",n].concat(f(c)).includes(e)});var u=t.modifyStatus(n);return u.length>0?u:l}),p(_(t),"handleChange",function(e){var n=e.value,s=e.checked,o=e.exclusive,a=t.props,l=a.handleChangeStatus,c=a.entityType,u=t.processSelectedStatus({value:n,checked:s,exclusive:o}),d=n===i.$d.ARCHIVED||n===i.d9.ARCHIVED||n===i.Pf.ARCHIVED||n===i.eW.ARCHIVED,_="all"===n&&s||t.isSelectedAll(u)||d&&s,h=d&&!s||"all"===n&&!s;(c===r.eX.campaign||c===r.eX.adGroup||c===r.eX.pinPromotion)&&(_?u=u&&!u.includes(i.$d.ADVERTISER_DISABLED)?[].concat(f(u),[i.$d.ADVERTISER_DISABLED]):u:h&&(u=u&&u.filter(function(e){return e!==i.$d.ADVERTISER_DISABLED}))),l(c,u)}),p(_(t),"isOptionSelected",function(e,n){return t.isSelectedAll(e)||!e?"all"===n.value||!t.props.statusExcludedFromAll.includes(n.value):e.includes(n.value)}),p(_(t),"formatOptions",function(){var e=t.props,n=e.status,s=void 0===n?[]:n;return e.selectionOptions.map(function(e){return u(u({},e),{},{checked:t.isOptionSelected(s,e)})})}),t.allOptions=t.generateAllOptions(),t}return n=[{key:"render",value:function(){var e=this.props,t=e.entityType,n=e.size;return(0,a.jsx)(o.Z,{checkboxSize:n||"sm",exclusiveSelection:!0,id:"status-filter-".concat(t),name:t,onChange:this.handleChange,options:this.formatOptions()})}}],function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,b(s.key),s)}}(c.prototype,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(s.Component);p(A,"defaultProps",{handleChangeStatus:function(){},selectionOptions:[],defaultSelections:[],statusExcludedFromAll:[],size:"sm"})},468107:function(e,t,n){n.d(t,{K:function(){return s},Y:function(){return r}});var s=function(e){return e._('Time period during which a conversion event can be attributed to ad events on Pinterest. {{ learnMoreLink }}', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.conversionWindowFlyoutText', 'Text explaining the concept of conversion window with a learn more link')},r=function(e){return e._('Anchor your report on either number of conversions or number of ad events during the selected date range. {{ learnMoreLink }}', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.conversionTimeFlyoutText', 'Text explaining the concept of conversion time with a learn more link')}},573442:function(e,t,n){n.d(t,{P:function(){return o},Y:function(){return i}});var s=n(46765);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var i=function(e){return[{label:e._('Date of ad event (like impression or click)', '[m10n] Label of an option specifying what attribution date to use', '[m10n] conversionSettings.reportTime.adEvent'),name:"dateOfAdEvent",value:"AD_EVENT"},{label:e._('Date of conversion event', '[m10n] Label of an option specifying what attribution date to use', '[m10n] conversionSettings.reportTime.conversionEvent'),name:"dateOfConversionEvent",value:"CONVERSION_EVENT"}]},o=function(e,t){var n;return[{label:e._('All', '[m10n] Label of an option specifying what conversion source to use', '[m10n] Label of an option specifying what conversion source to use'),name:"ingestedByAll",value:s.Ut.ALL_INGESTION_SOURCES},{label:e._('Pinterest Tag', '[m10n] Label of an option specifying what conversion source to use', '[m10n] Label of an option specifying what conversion source to use'),name:"ingestedByPinterestTag",value:s.Ut.TAG},{label:e._('Mobile Measurement Partners (MMP)', '[m10n] Label of an option specifying what conversion source to use', '[m10n] Label of an option specifying what conversion source to use'),name:"ingestedByMMP",value:s.Ut.MMP},{label:e._('Conversion Upload', '[m10n] Label of an option specifying what conversion source to use', '[m10n] Label of an option specifying what conversion source to use'),name:"ingestedByConversionUpload",value:s.Ut.FILE_UPLOAD},{label:e._('API', '[m10n] conversionSettings.ingestionSourcesOptions.CONVERSIONS_API', '[m10n] Label of an option specifying what conversion source to use'),name:"ingestedByConversionAPI",value:s.Ut.CONVERSIONS_API}].concat(function(e){if(Array.isArray(e))return r(e)}(n=t?[{label:e._('Pinterest Checkout', '[m10n] Label of an option specifying what conversion source to use', '[m10n] Label of an option specifying what conversion source to use'),name:"ingestedByNative",value:s.Ut.NATIVE}]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},209352:function(e,t,n){n.d(t,{rE:function(){return a},t6:function(){return o},tb:function(){return i},uQ:function(){return r}});var s=[{adAccount:"SPEND_IN_DOLLAR",usd:"SPEND_IN_US_DOLLAR"},{adAccount:"CPM_IN_DOLLAR",usd:"CPM_IN_US_DOLLAR"},{adAccount:"ECPC_IN_DOLLAR",usd:"ECPC_IN_US_DOLLAR"},{adAccount:"VIEW_CATEGORY_COST_PER_ACTION",usd:"VIEW_CATEGORY_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_VIEW_CATEGORY_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_VIEW_CATEGORY_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_VIEW_CATEGORY_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_VIEW_CATEGORY_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"CHECKOUT_COST_PER_ACTION",usd:"CHECKOUT_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_CHECKOUT_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_CHECKOUT_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_CHECKOUT_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"PAGE_VISIT_COST_PER_ACTION",usd:"PAGE_VISIT_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_PAGE_VISIT_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_PAGE_VISIT_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_PAGE_VISIT_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_PAGE_VISIT_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"SIGNUP_COST_PER_ACTION",usd:"SIGNUP_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_SIGNUP_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_SIGNUP_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_SIGNUP_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_SIGNUP_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"LEAD_COST_PER_ACTION",usd:"LEAD_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_LEAD_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_LEAD_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_LEAD_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_LEAD_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"ADD_TO_CART_COST_PER_ACTION",usd:"ADD_TO_CART_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_ADD_TO_CART_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_ADD_TO_CART_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_ADD_TO_CART_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_ADD_TO_CART_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"SEARCH_COST_PER_ACTION",usd:"SEARCH_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_SEARCH_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_SEARCH_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_SEARCH_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_SEARCH_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"WATCH_VIDEO_COST_PER_ACTION",usd:"WATCH_VIDEO_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_WATCH_VIDEO_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_WATCH_VIDEO_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_WATCH_VIDEO_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_WATCH_VIDEO_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"UNKNOWN_COST_PER_ACTION",usd:"UNKNOWN_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_UNKNOWN_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_UNKNOWN_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_UNKNOWN_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_UNKNOWN_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"CUSTOM_COST_PER_ACTION",usd:"CUSTOM_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_CUSTOM_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_CUSTOM_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_CUSTOM_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_CUSTOM_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"ADD_PAYMENT_INFO_COST_PER_ACTION",usd:"ADD_PAYMENT_INFO_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_ADD_PAYMENT_INFO_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_ADD_PAYMENT_INFO_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_ADD_PAYMENT_INFO_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_ADD_PAYMENT_INFO_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"ADD_TO_WISHLIST_COST_PER_ACTION",usd:"ADD_TO_WISHLIST_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_ADD_TO_WISHLIST_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_ADD_TO_WISHLIST_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_ADD_TO_WISHLIST_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_ADD_TO_WISHLIST_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"INITIATE_CHECKOUT_COST_PER_ACTION",usd:"INITIATE_CHECKOUT_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_INITIATE_CHECKOUT_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_INITIATE_CHECKOUT_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_INITIATE_CHECKOUT_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_INITIATE_CHECKOUT_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"SUBSCRIBE_COST_PER_ACTION",usd:"SUBSCRIBE_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_SUBSCRIBE_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_SUBSCRIBE_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_SUBSCRIBE_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_SUBSCRIBE_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"VIEW_CONTENT_COST_PER_ACTION",usd:"VIEW_CONTENT_COST_PER_ACTION_IN_US_DOLLAR"},{adAccount:"TOTAL_VIEW_CONTENT_VALUE_IN_MICRO_DOLLAR",usd:"TOTAL_VIEW_CONTENT_VALUE_IN_MICRO_US_DOLLAR"},{adAccount:"AVERAGE_VIEW_CONTENT_VALUE_IN_MICRO_DOLLAR",usd:"AVERAGE_VIEW_CONTENT_VALUE_IN_MICRO_US_DOLLAR"}],r=function(){return s.map(function(e){return e.adAccount||null}).filter(function(e){return null!==e})},i=function(){return s.map(function(e){return e.usd||null}).filter(function(e){return null!==e})},o=function(){return s.reduce(function(e,t){return t.adAccount&&(e[t.adAccount]=t.usd),e},{})},a=function(){return s.reduce(function(e,t){return t.usd&&(e[t.usd]=t.adAccount),e},{})}},643975:function(e,t,n){n.d(t,{Z:function(){return u}});var s=n(20256),r=n(521009),i=n(18576),o=n(382718);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=a(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){var t,n=(0,r.Z)(),a=(0,i.w)(),l=e.id,u=e.name,d=e.value;return(0,o.jsx)(s.xu,{"data-component":"dropdown","data-name":u,"data-test-id":l,"data-value":d,children:(0,o.jsx)(s.EI,{disabled:e.disabled,errorMessage:e.errorMessage,helperText:e.helperText,id:e.id,label:e.label,labelDisplay:e.labelDisplay,name:e.name,onChange:function(t){var s=e.componentType,r=e.elementType,i=e.onChange,o=e.view,l=e.viewParameter,u=e.id,d=e.name;null==i||i(t);var _={value:t&&t.value||null};u&&(_=c(c({},_),{},{element_id:u})),d&&(_=c(c({},_),{},{element_name:d})),n({event_type:3828,view_type:o||(null==a?void 0:a.view),view_parameter:l||(null==a?void 0:a.viewParameter),component:s||null,element:r||10212,aux_data:c({},_)})},placeholder:e.placeholder,size:"lg",value:e.value,children:(null!=(t=e.options)?t:[]).map(function(e,t){var n=e.disabled,r=e.label,i=e.value;return(0,o.jsx)(s.EI.Option,{disabled:n,label:r,value:i},t)})})})}},443713:function(e,t,n){n.d(t,{Z:function(){return r8}});var s,r,i,o,a,l=n(86295),c=n(307815),u=n(586659),d=n(581722),_=n(650533),h=n(963489),m=n(20256),p=n(77168),b=n(473354),f=n(121366),g=n(918250),y=n(521009),A=n(289032),v=n(19585),x=n(382718);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var S=function(e){var t,n=e.advertiserSearchTerm,s=e.onAdvertiserSearchTermChange,r=e.entityId,i=e.userRole,o=(0,v.ZP)(),a=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return P(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],c=a[1],d=(0,y.Z)();(0,u.useEffect)(function(){c(n)},[n]);var _=(0,u.useCallback)((0,A.Z)(function(e){s(e),d({event_type:7472,view_type:603,view_parameter:3830,component:14322,element:13509,aux_data:{value:e,entity_id:r,entity_type:(0,g.B6)(i)}})},1e3),[s]);return(0,x.jsx)(m.xu,{"data-test-id":"business-reporting-account-search",children:(0,x.jsx)(m.Um,{accessibilityClearButtonLabel:o._('Clear search field', '[m10n] businessReporting.adAccountNameSearch.a11yClearLabel', '[m10n] Accessibility clear label for ad account name/id search on business reporting page'),accessibilityLabel:o._('Search ad accounts', '[m10n] businessReporting.adAccountNameSearch.a11yLabel', '[m10n] Accesability label for ad account name/id search on business reporting page'),id:"account-search-field",onChange:function(e){var t=e.value;c(t),_(t)},placeholder:o._('Search ad accounts', '[m10n] businessReporting.adAccountNameSearch.placeholderLabel', '[m10n] Placeholder label for ad account name/id search on  business reporting page'),size:"md",value:l})})},w=n(74555),j=n(464876),I=function(e){var t=e.isLoading,n=e.error,s=e.userRole,r=(0,v.ZP)(),i=(0,j.HU)().setCreateAdAccountModal;if(t)return(0,x.jsx)(m.xH,{accessibilityLabel:r._('The spinner shown when loading business reporting table data', '[m10n] businessReporting.reportingTable.spinner.accessibilityLabel', '[m10n] Accessibility label for a spinner in reporting table on business reporting page'),show:!0});if(n)return(0,x.jsx)(m.xv,{align:"center",children:r._('An error occurred. Try reloading the page.', '[m10n]businessReporting.adAccount.notLoaded.error', 'Error message when error happens during the initial load')});var o=[w.b.HIERARCHY,w.b.BUSINESS_OWNER,w.b.BUSINESS_ADMIN];return(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",gap:3,justifyContent:"center",children:[(0,x.jsx)(m.xv,{children:o.includes(s)?r._('You don\'t have any ad accounts to display here', '[m10n] businessReporting.adAccount.notLoaded.noAccountOwner', 'Error message when the user doesn\'t own any ad accounts as a business owner or business manager'):r._('You don\'t have access to any ad accounts', '[m10n] businessReporting.adAccount.notLoaded.noAccountAccess', 'Error message when the user doesn\'t have access to any accounts as a business employee')}),(s===w.b.BUSINESS_OWNER||s===w.b.BUSINESS_ADMIN)&&(0,x.jsx)(m.zx,{onClick:function(){i()},text:r._('Create ad account', '[m10n] businessReporting.adAccount.notLoaded.addAccount', 'Button to create an ad account for a business')})]})},z=n(393839),C=n(302148),E=n(675973),O=n(311053),T=n(209352),D=n(759584),R=n(208091);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=N(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=function(e){var t=e.columns,n=e.setColumns,s=e.currencyDisplay,r=(0,v.ZP)(),i=(0,E.Z)(),o=s===w.i.USD?(0,T.uQ)():(0,T.tb)(),a=(0,D.gC)(t,i,r,[],12===t.length,{isBusinessReporting:!0,columnBlockList:o}).concat().sort(function(e,t){return(0,D.No)(e,t,[])}).map(function(e){return k(k({},e),{},{selected:e.columns.some(function(e){return!0===e.selected})})}),l=0===t.length?r._('Please select at least one performance stat', '[m10n] businessReporting.filterEditorTabColumnSelection.noColumnsSelected', 'error message for no selected columns in column selection'):void 0;return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-column-selection-tab",children:[(0,x.jsx)(m.xv,{children:(0,C.nk)(r.ngettext('Choose {{ upToBolded }} {{ maxAllowedStats }} performance stat', 'Choose {{ upToBolded }} {{ maxAllowedStats }} performance stats', 12, '[m10n] businessReporting.filterEditorTabColumnSelection.panel.maxSelectableStats', 'column picker heading text. upToBolded: indicates the limit is for max limit. maxAllowedStats: indicates the limit of selected columns'),{upToBolded:(0,x.jsx)(m.xv,{inline:!0,weight:"bold",children:r._('up to', '[m10n] businessReporting.filterEditorTabColumnSelection.panel.upToInDescription', 'column picker heading text. upToBolded: indicates max limit of selected columns')},"up-to-bolded"),maxAllowedStats:(0,x.jsx)(m.xv,{inline:!0,weight:"bold",children:12},"up-to-bolded-limit")})}),(0,x.jsx)(m.xu,{height:4}),(0,x.jsx)(m.pg,{errorMessage:l,id:"filter-editor-column-selection-fieldset",legend:r._('Column Selection', '[m10n] businessReporting.filterEditorTabColumnSelection.columnSelectionLegend', 'label for column selection legend'),legendDisplay:"hidden",children:(0,x.jsx)(m.xv,{size:"100",children:(0,C.nk)(r.ngettext('{{ statFractionBolded }} possible performance stat selected', '{{ statFractionBolded }} possible performance stats selected', 12, '[m10n] businessReporting.filterEditorTabColumnSelection.panel.currentSelectedStats', 'inform the the user of current number of performance stats chosen. statFractionBolded: numeric fraction showing selected_stats/max_stats'),{statFractionBolded:(0,x.jsxs)(m.xv,{inline:!0,size:"100",weight:"bold",children:[t.length,"/",12]},"stat-fraction")})})}),(0,x.jsx)(m.xu,{height:12}),(0,x.jsx)(m.kC,{direction:"row",flex:"grow",children:(0,x.jsx)(R.Z,{allEnabled:!1,checklistElementType:13517,columnGroups:a,componentType:14322,onColumnChange:function(e){var s=e.checked,o=e.value,a=(0,O.uq)(i,r).find(function(e){return e.colId===o});a&&n(s?[].concat(function(e){if(Array.isArray(e))return L(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return L(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a.colId]):t.filter(function(e){return e!==a.colId}))},searchExpand:!1,textSize:"300",view:603,viewParameter:3830})})]})},U=function(e){return e._('No results', 'businessReporting.businessFilterCombobox.noResultText', 'Text when no results are found in business selector on business reporting page')},Z=function(e){return e._('This filter will reset upon leaving the Business Dashboard page', 'businessReporting.businessFilterCombobox.reset', 'Warning under business reporting combobox')};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var G=function(e){var t,n,s=e.entityId,r=e.userRole,i=e.selectedAssetGroups,o=e.onAssetGroupChange,a=e.assetGroups,l=(a||[]).map(function(e){return{value:e.id,label:e.name}}),c=(0,v.ZP)(),d=null!=(t=null==(n=i[0])?void 0:n.name)?t:"",_=H((0,u.useState)(d),2),h=_[0],p=_[1],b=H((0,u.useState)(l),2),f=b[0],A=b[1],P=(0,y.Z)();return(0,u.useEffect)(function(){A((a||[]).map(function(e){return{value:e.id,label:e.name}}))},[a]),(0,x.jsxs)(m.xu,{"data-test-id":"asset-group-combobox",children:[(0,x.jsx)(m.BC,{accessibilityClearButtonLabel:c._('Clear selected asset group', 'businessReporting.assetGroupFilterCombobox.a11yClearLabel', 'Accessibility label for clear button on asset group selector on business reporting page'),id:"assetGroupSelector",inputValue:h,label:c._('Asset group', 'businessReporting.assetGroupFilterCombobox.label', 'Label for asset group selector on business reporting page'),noResultText:U(c),onBlur:function(){p(d),A(l)},onChange:function(e){var t=e.value;t?(p(t),A(l.filter(function(e){return e.label.toLowerCase().includes(t.toLowerCase())}))):(p(t),A(l))},onClear:function(){o([]),p("")},onSelect:function(e){var t=e.item,n=[{id:t.value,name:t.label}];p(t.label),A(l),o(n),P({event_type:7472,view_type:603,view_parameter:3830,component:14322,element:13817,aux_data:{value:t.value,entity_id:s,entity_type:(0,g.B6)(r)}})},options:f,placeholder:c._('Filter by asset group', 'businessReporting.assetGroupFilterCombobox.placeholder', 'Placeholder text for asset group selector on business reporting page'),selectedOption:i[0]?{label:i[0].name,value:i[0].id}:void 0,size:"lg"}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:Z(c)})]})};function W(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var q=function(e){var t,n=e.childBusinesses,s=e.selectedChildBusinesses,r=e.onChildBusinessesChange,i=e.entityId,o=e.userRole,a=(0,v.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||F(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],_=(0,y.Z)(),h=n.reduce(function(e,t){return!s.some(function(e){return e.id===t.id})&&t.fullName.toLowerCase().includes(c.toLowerCase())?[].concat(W(e),[{label:t.fullName,value:t.id,subtext:(0,C.Wc)(a._('Business ID: {{ businessId }}', 'businessReporting.childBusinessCombobox.subtext.businessId', 'Subtext of the option in child business combobox. businessId: ID of the give business'),{businessId:t.id})}]):e},[]),p=function(e){r(s.filter(function(t){return t.id!==e}))},b=s.map(function(e){return(0,x.jsx)(m.Vp,{accessibilityRemoveIconLabel:"Remove ".concat(e.fullName," tag"),onRemove:function(){return p(e.id)},text:e.fullName},e.id)});return(0,x.jsxs)(m.xu,{"data-test-id":"child-business-combobox",children:[(0,x.jsx)(m.BC,{accessibilityClearButtonLabel:a._('Clear selected child business', 'businessReporting.childBusinessFilterCombobox.a11yClearLabel', 'Accessibility label for clear button on child business selector on business reporting page'),id:"childBusinessSelector",inputValue:c,label:a._('Child business', 'businessReporting.childBusinessFilterCombobox.label', 'Label for child business selector on business reporting page'),noResultText:U(a),onBlur:function(){d("")},onChange:function(e){d(e.value)},onClear:function(){r([])},onKeyDown:function(e){var t=e.event,n=t.keyCode,i=t.currentTarget;8===n&&0===i.selectionEnd&&r(W(s.slice(0,-1)))},onSelect:function(e){var t=e.item,n=[].concat(W(s),[{id:t.value,fullName:t.label}]);d(""),r(n),_({event_type:7472,view_type:603,view_parameter:3830,component:14322,element:13816,aux_data:{value:t.value,entity_id:i,entity_type:(0,g.B6)(o)}})},options:h,placeholder:s.length>0?"":a._('Filter by child business', 'businessReporting.childBusinessFilterCombobox.placeholder', 'Placeholder text for child business selector on business reporting page'),size:"lg",tags:b}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:Z(a)})]})},K=function(e){var t=e.isActiveAdvertiserOnly,n=e.setIsActiveAdvertiserOnly,s=e.entityId,r=e.userRole,i=(0,v.ZP)(),o=(0,y.Z)();return(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-active-accounts",children:(0,x.jsxs)(m.kC,{direction:"column",children:[(0,x.jsxs)(m.kC,{alignItems:"center",direction:"row",children:[(0,x.jsx)(m.XZ,{checked:t,id:"active-advertisers-checkbox",name:"Show active ad accounts only",onChange:function(){n(!t),o({event_type:7472,view_type:603,view_parameter:3830,component:14322,element:13819,aux_data:{is_checked:!t,entity_id:s,entity_type:(0,g.B6)(r)}})},size:"md"}),(0,x.jsx)(m.__,{htmlFor:"active-advertisers-checkbox",children:(0,x.jsx)(m.xu,{paddingX:2,children:(0,x.jsx)(m.xv,{size:"300",children:i._('Show active ad accounts only', '[m10n] businessReporting.filterEditorAdAccounts.adAccountActiveCheckbox', 'Label for checkbox that filters active accounts')})})})]}),(0,x.jsxs)(m.kC,{direction:"row",children:[(0,x.jsx)(m.xu,{width:32}),(0,x.jsx)(m.xu,{children:(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:i._('Active accounts are accounts with proper billing set up', '[m10n] businessReporting.filterEditorAdAccounts.adAccountActiveCheckboxSubtext', 'Subtext for checkbox that filters active accounts')})})]})]})})},Q=n(806523),J=n(349427),X=n(473728);function $(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return et(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var en=function(e){var t,n=e.entityId,s=e.userRole,r=e.countries,i=e.setCountries,o=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||ee(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],c=(0,y.Z)(),d=(0,v.ZP)(),_=Q.hU.map(function(e){return{label:(0,J.al)(e,d),value:e}}).filter(function(e){return!r.includes(e.value)&&e.label.toLowerCase().includes(a.toLowerCase())}),h=function(e){i(r.filter(function(t){return t!==e})),c({event_type:101,component:14322,element:13537,aux_data:{element_name:"filter-ad-accounts-country",value:e,selected:!1,entity_id:n,entity_type:(0,g.B6)(s)}})},p=r.map(function(e){var t=(0,J.al)(e,d);return(0,x.jsx)(m.Vp,{accessibilityRemoveIconLabel:(0,X.Z)(d._('Remove {{countryLabel}}', '[m10n] businessReporting.filterEditor.country.removeCountryTag.label', 'Accessibility label to remove selected country from the list countryLabel: Name of the country'),{countryLabel:t}),onRemove:function(){return h(e)},text:t},e)});return(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-countries",children:(0,x.jsx)(m.BC,{accessibilityClearButtonLabel:d._('Clear the current value', '[m10n] businessReporting.filterEditor.country.combobox.accessibilityClearButtonLabel', 'Accessibility label for clear button on ad account country combobox filter'),id:"filter-ad-accounts-country",inputValue:a,label:d._('Ad account country', '[m10n] businessReporting.filterEditor.country.combobox.title', 'Title for ad account country combobox filter'),noResultText:d._('No results for your selection', '[m10n] businessReporting.filterEditor.country.combobox.noResultText', 'Text shown in ad account country comobobx filter when there are no results with the given input value'),onBlur:function(){return l("")},onChange:function(e){l(e.value)},onClear:function(){i([])},onKeyDown:function(e){var t=e.event,n=t.keyCode,s=t.currentTarget;8===n&&0===s.selectionEnd&&i($(r.slice(0,-1)))},onSelect:function(e){var t=e.item.value,o=Q.hU.find(function(e){return e===t});o&&!r.includes(o)&&(i([].concat($(r),[o])),l(""),c({event_type:101,component:14322,element:13537,aux_data:{element_name:"filter-ad-accounts-country",value:o,selected:!0,entity_id:n,entity_type:(0,g.B6)(s)}}))},options:_,placeholder:r.length>0?"":d._('Select country', '[m10n] businessReporting.filterEditor.country.combobox.placeholder', 'Placeholder for ad account country combobox when no country is selected'),tags:p})})};function es(e){return function(e){if(Array.isArray(e))return ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||er(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var eo=function(e){var t,n=e.excludedAdvertiserIds,s=e.setExcludedAdvertiserIds,r=e.entityId,i=e.userRole,o=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||er(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],c=(0,u.useRef)(null),d=(0,y.Z)(),_=(0,v.ZP)(),h=_._('Input Ad account IDs (ex: 123456789101, 111222333444)', '[m10n] businessReporting.filterEditorAdAccounts.adAccountsExcludePlaceholder', 'Placeholder for textArea that will hold excluded account IDs');return(0,x.jsx)(m.Kx,{ref:c,dataTestId:"filter-editor-exclude-textarea",helperText:h,id:"filter-editor-exclude-textarea",label:_._('Exclude ad accounts', '[m10n] businessReporting.filterEditorAdAccounts.adAccountsExcludeIDs', 'Label for textArea that holds excluded account IDs'),onBlur:function(e){var t=e.value;t&&(0,g.Q0)(t)&&(s([].concat(es(n),[t])),l(""))},onChange:function(e){var t=e.value.split(/\s*,\s*|\s+/);if(t.length>1){var o=t.splice(0,t.length-1).filter(function(e){return""!==e});s([].concat(es(n),es(o))),d({event_type:101,view_type:603,view_parameter:3830,component:14322,element:13818,aux_data:{value:o.join(","),entity_id:r,entity_type:(0,g.B6)(i)}})}l(t[t.length-1])},onKeyDown:function(e){var t=e.event,r=t.keyCode,i=t.currentTarget,o=i.value;8===r&&i instanceof HTMLTextAreaElement&&0===i.selectionEnd?s(es(n.slice(0,-1))):13===r&&""!==o.trim()&&(s([].concat(es(n),[o.trim()])),l(""))},placeholder:n.length>0?"":h,tags:n.map(function(e,t){return(0,x.jsx)(m.Vp,{onRemove:function(){var e,r=es(n);r.splice(t,1),s(es(r)),null==(e=c.current)||e.focus()},text:e,type:(0,g.Q0)(e)?"default":"error"},e)}),value:a})},ea=function(e){var t=e.entityId,n=e.userRole,s=e.countries,r=e.setCountries,i=e.isActiveAdvertiserOnly,o=e.setIsActiveAdvertiserOnly,a=e.excludedAdvertiserIds,l=e.setExcludedAdvertiserIds,c=e.childBusinesses,d=e.selectedChildBusinesses,_=e.setSelectedChildBusinesses,h=e.assetGroups,p=e.selectedAssetGroups,b=e.setSelectedAssetGroups,f=(0,v.ZP)(),y=f._('Filter ad accounts shown on Business Overview', '[m10n] businessReporting.filterEditorObjectives.adAccountSubtitle', 'description for ad account filters');return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-ad-accounts",children:[(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:f._('Ad account filtering', '[m10n] businessReporting.filterEditorObjectives.adAccountFilterTitle', 'label for ad account filters')}),(0,x.jsx)(m.xu,{height:4}),(0,x.jsx)(m.xv,{size:"200",children:y}),(0,x.jsx)(m.xu,{height:16}),(0,g.Yc)(n)&&(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(q,{childBusinesses:c,entityId:t,onChildBusinessesChange:_,selectedChildBusinesses:d,userRole:n}),(0,x.jsx)(m.xu,{height:16})]}),(0,g.Uy)(n)&&(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(G,{assetGroups:h,entityId:t,onAssetGroupChange:b,selectedAssetGroups:p,userRole:n}),(0,x.jsx)(m.xu,{height:16})]}),(0,x.jsx)(K,{entityId:t,isActiveAdvertiserOnly:i,setIsActiveAdvertiserOnly:o,userRole:n}),(0,x.jsx)(m.xu,{height:16}),(0,x.jsx)(eo,{entityId:t,excludedAdvertiserIds:a,setExcludedAdvertiserIds:l,userRole:n}),(0,x.jsx)(m.xu,{height:16}),(0,x.jsx)(en,{countries:s,entityId:t,setCountries:r,userRole:n})]})},el=n(910818),ec=n(573442),eu=n(643975),ed=n(437213),e_=n(2576),eh=n(468107),em=function(){var e=(0,v.ZP)();return(0,x.jsx)(el.rU,{display:"inline",href:"https://help.pinterest.com/business/article/report-offline-conversion-events",logEventProps:{},onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",children:e._('Learn more', '[m10n] businessReporting.filterEditorTabFilters.panel.conversionSettings.learnMore', 'Learn more link in explanation of conversion settings')})},ep=function(e){var t=e.entityId,n=e.userRole,s=e.conversionReportTime,r=e.setConversionReportTime,i=(0,v.ZP)(),o=(0,ec.Y)(i),a=(0,y.Z)(),l=function(e){r(e.value),a({event_type:7472,component:14322,element:13513,aux_data:{element_name:"conversion-report-date",value:e.value,entity_id:t,entity_type:(0,g.B6)(n)}})};return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-conversion-date-selector",children:[(0,x.jsx)(m.FX,{id:"conversionReportDate",legend:i._('Conversion date for daily reporting', '[m10n] businessReporting.filterEditorTabFilters.panel.conversionSettings.conversionDate', 'label for conversion date types'),children:o.map(function(e){return(0,x.jsx)(m.FX.RadioButton,{checked:s===e.value,id:e.value,label:e.label,name:e.name,onChange:function(){return l(e)},value:e.value},e.value)})}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:(0,C.nk)((0,eh.Y)(i),{learnMoreLink:(0,x.jsx)(em,{},"conversion-date-learn-more")})}),(0,x.jsxs)(m.xu,{marginTop:4,children:[(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:i._('Conversion settings have recently been updated to provide greater efficiency in your reporting.', '[m10n] businessReporting.conversionSettings.helperText', 'A message to help advertisers understand the recent updates to conversion settings')}),(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:(0,x.jsx)(el.rU,{accessibilityLabel:i._('Link to article with more information about the updates', '[m10n] businessReporting.conversionSettings.helperLink', 'A link to an article with more information about the updates to conversion settings'),display:"inline",href:e_.XV,logEventProps:{},target:"blank",children:i._('Learn more', '[m10n] businessReporting.conversionSettings.helperLink.text', 'A link to an article with more information about the updates to conversion settings')})})]})]})},eb=function(e){var t=e.clickWindowDays,n=e.setClickWindowDays,s=e.engagementWindowDays,r=e.setEngagementWindowDays,i=e.viewWindowDays,o=e.setViewWindowDays,a=(0,v.ZP)(),l=ed.Z.getWindowOptions(null,!1);return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-conversion-window-filter",children:[(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:a._('Conversion settings', '[m10n] businessReporting.filterEditorTabFilters.panel.conversionSettings', 'label for conversion settings section')}),(0,x.jsx)(m.xu,{height:16}),(0,x.jsx)(m.xu,{width:360,children:(0,x.jsx)(eu.Z,{componentType:14322,elementType:13513,id:"conversionWindow",label:a._('Conversion window (Days after click/view)', '[m10n] businessReporting.filterEditorTabFilters.panel.conversionSettings.conversionWindowWithoutEngagement', 'label for conversion window settings'),name:"conversion-window",onChange:function(e){var t=e.value,s=ed.Z.unpackAttributionWindow(t),i=s.clickWindowDays,a=s.engagementWindowDays,l=s.viewWindowDays;n(i),r(a),o(l)},options:l.map(function(e){return{label:ed.Z.formatAttributionWindowLabel(a,e.value),value:e.value}}),value:"".concat(t,"/").concat(s,"/").concat(i)})}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:(0,C.nk)((0,eh.K)(a),{learnMoreLink:(0,x.jsx)(em,{},"conversion-window-learn-more")})})]})},ef=function(e){var t=e.entityId,n=e.userRole,s=e.clickWindowDays,r=e.setClickWindowDays,i=e.engagementWindowDays,o=e.setEngagementWindowDays,a=e.viewWindowDays,l=e.setViewWindowDays,c=e.conversionReportTime,u=e.setConversionReportTime;return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-conversion-settings",children:[(0,x.jsx)(m.xu,{children:(0,x.jsx)(eb,{clickWindowDays:s,engagementWindowDays:i,setClickWindowDays:r,setEngagementWindowDays:o,setViewWindowDays:l,viewWindowDays:a})}),(0,x.jsx)(m.xu,{height:16}),(0,x.jsx)(m.xu,{children:(0,x.jsx)(ep,{conversionReportTime:c,entityId:t,setConversionReportTime:u,userRole:n})})]})},eg=n(788702);function ey(e){return function(e){if(Array.isArray(e))return eA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eA(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eA(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var ev=function(e){var t=e.entityId,n=e.userRole,s=e.currencyDisplay,r=e.setCurrencyDisplay,i=e.columns,o=e.setColumns,a=(0,v.ZP)(),l=(0,E.Z)(),c=(0,y.Z)(),u=function(e){if(e){r(e);var s=e===w.i.USD?(0,T.t6)():(0,T.rE)();o(i.reduce(function(e,t){if(!(t in s))return[].concat(ey(e),[t]);var n=s[t];if(n){var r=(0,eg.AC)(n,l,a,[]);if(r&&r.syncBusinessReporting)return[].concat(ey(e),[n])}return e},[])),c({event_type:7472,component:14322,element:13511,aux_data:{value:e,entity_id:t,entity_type:(0,g.B6)(n)}})}},d=[{value:w.i.USD,label:a._('Display USD only', '[m10n] businessReporting.filterEditorTabFilters.panel.currencyDisplay.displayUsdOnly', 'Display USD only')},{value:w.i.AD_ACCOUNT,label:a._('Display ad account currency', '[m10n] businessReporting.filterEditorTabFilters.panel.currencyDisplay.displayAdAccountCurrency', 'Display ad account currency')}];return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-currency-display",children:[(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:a._('Currency display', '[m10n] businessReporting.filterEditorTabFilters.panel.currencyDisplay.title', 'Title for Currency display filter')}),(0,x.jsx)(m.xu,{height:16}),(0,x.jsx)(m.xu,{width:360,children:(0,x.jsx)(m.FX,{id:"currency-display-radio-group",legend:a._('Currency display', '[m10n] businessReporting.filterEditorTabFilters.panel.currencyDisplay.legend', 'Hidden legend name for currency display filter'),legendDisplay:"hidden",children:d.map(function(e){return(0,x.jsx)(m.FX.RadioButton,{checked:s===e.value,id:e.value,label:e.label,onChange:function(){return u(e.value)},value:e.value},e.value)})})}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:a._('Certain column totals will only calculate when \u201CDisplay USD only\u201D is selected. Local currencies are converted to USD with a fixed conversion rate based on the daily rates of the previous year.', '[m10n] businessReporting.filterEditorTabFilters.panel.currencyDisplay.warning', 'Warning message displayed under currency display option')})]})},ex=n(654262),eP=n(87235),eS=n(220455),ew=n(945467),ej=n(373314),eI=n(137295),ez=n(131978);function eC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eE(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eE(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var eO=function(e){var t=e.entityId,n=e.userRole,s=e.startDate,r=e.setStartDate,i=e.endDate,o=e.setEndDate,a=e.datePresetId,l=e.setDatePresetId,c=(0,v.ZP)(),d=(0,y.Z)(),_=(0,ej.pk)(c),h=ej.XN.CUSTOM,p=eC((0,u.useState)(null==s),2),b=p[0],f=p[1],A=eC((0,u.useState)(null==i),2),P=A[0],S=A[1],w=c._('Please input a valid start date', '[m10n] businessReporting.filterEditor.filters.FilterEditorDateEditor.noStartDateSelectedWarning', 'error message shown when no start date is selected'),j=c._('Please input a valid end date', '[m10n] businessReporting.filterEditor.filters.FilterEditorDateEditor.noEndDateSelectedWarning', 'error message shown when no end date is selected'),I=function(e,t){var n,s;return null!=(n=null==(s=_.find(function(n){var s=(0,ej.I6)(n.value,eI.qO);return(0,z.Z)((0,ez.Z)(new Date(s.startDate)),e)&&(0,z.Z)((0,ez.Z)(new Date(s.endDate)),t)}))?void 0:s.value)?n:h},C=(0,u.useMemo)(function(){return(0,ex.Z)((0,ez.Z)((0,eS.Z)()))},[]),E=(0,eP.Z)(C,366),O=function(e,s,r){d({event_type:7472,view_type:603,view_parameter:3830,component:14322,element:13512,aux_data:{element_id:r,start_date:e&&(0,eI.vs)(e.getTime()),end_date:s&&(0,eI.vs)(s.getTime()),entity_id:t,entity_type:(0,g.B6)(n)}})};return(0,u.useEffect)(function(){f(null==s),S(null==i)},[s,i]),(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-date-filter",children:[(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:c._('Date range', '[m10n] businessReporting.filterEditorTabFilters.panel.dateRange', 'label for Date Range filter section')}),(0,x.jsx)(m.xu,{height:16}),(0,x.jsxs)(m.xu,{width:360,children:[(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-date-range-select-list",children:(0,x.jsx)(m.EI,{id:"date-range-select",label:c._('Date range', '[m10n] businessReporting.filterEditorTabFilters.panel.presetDateRanges', 'label for selectList of preset date ranges'),onChange:function(e){var t=e.event,n=e.value;if(n!==h){var s=(0,ej.I6)((0,ej._8)(n),eI.qO),i=(0,ez.Z)(new Date(s.startDate)),a=(0,ez.Z)(new Date(s.endDate));r(i),o(a),O(i,a,t.target.id)}l((0,ej._8)(n))},size:"lg",value:a,children:_.map(function(e){var t=e.label,n=e.value;return(0,x.jsx)(m.EI.Option,{label:t,value:n},t)})})}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-start-date",onKeyDown:function(e){return e.stopPropagation()},children:(0,x.jsx)(ew.Mt,{errorMessage:b?w:void 0,id:"start-date",label:c._('Start', '[m10n] businessReporting.filterEditorDateFilter.startDate', 'label for start date picker'),maxDate:C,minDate:E,onChange:function(e){var t=e.value;r(t),l(I(t,i)),O(t,i,"start-date")},rangeEndDate:i,rangeSelector:"start",rangeStartDate:s,value:s})}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-end-date",onKeyDown:function(e){return e.stopPropagation()},children:(0,x.jsx)(ew.Mt,{errorMessage:P?j:void 0,id:"end-date",label:c._('End', '[m10n] businessReporting.filterEditorDateFilter.endDate', 'label for end date picker'),maxDate:C,minDate:E,onChange:function(e){var t=e.value;o(t),l(I(s,t)),O(s,t,"end-date")},rangeEndDate:i,rangeSelector:"end",rangeStartDate:s,value:i})})]})]})},eT=n(419514),eD=n(731704);function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var eN=function(e){var t=e.objectiveTypes,n=e.setObjectiveTypes,s=(0,E.Z)(),r=(0,v.ZP)(),i=(0,eT.lC)(s,r,e.isCatalogsEnabled),o=function(e){var s=e.checked,r=e.value,o=e.exclusive;"all"===r?n(t.length<i.length?i.map(function(e){return e.value}):[]):o?n([r]):n(s?[].concat(function(e){if(Array.isArray(e))return eR(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return eR(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eR(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]):t.filter(function(e){return e!==r}))},a=0===t.length?r._('Please select at least one objective', '[m10n] businessReporting.filterEditorObjectives.noObjectives', 'error message for no selected objectives in objectives filter'):void 0;return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-objectives",children:[(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:r._('Objectives', '[m10n] businessReporting.filterEditorObjectives.objectiveCheckboxList', 'label for Objectives checkbox list')}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.pg,{errorMessage:a,id:"filter-editor-country-fieldset",legend:r._('Objectives Checklist', '[m10n] businessReporting.filterEditorObjectives.objectiveCheckboxLegend', 'label for Objectives checkbox legend'),legendDisplay:"hidden",children:(0,x.jsx)(m.xu,{marginStart:-2,children:(0,x.jsx)(eD.Z,{checkboxSize:"md",componentType:14322,direction:"column",elementType:13514,enableAllCheckbox:!0,enableLogging:!0,exclusiveSelection:!0,name:"filter-editor-objectives-checklist",onChange:function(e){return o({checked:e.checked,value:e.value,exclusive:e.exclusive})},options:i.map(function(e){return{label:e.label,value:e.value,checked:t.includes(e.value)}}),textSize:"300"})})}),void 0!==a&&(0,x.jsx)(m.xu,{height:8})]})},eL=n(920345),eB=n(46765),ek=n(911005),eM=n(470336);function eU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var eZ=function(e){var t,n=e.entityId,s=e.userRole,r=e.campaignStatuses,i=e.setCampaignStatuses,o=(0,v.ZP)(),a=(0,y.Z)(),l=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(!(r.length>0)))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eU(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],_=o._('Please select at least one status', '[m10n] businessReporting.filterEditor.filters.FilterEditorStatus.noStatusSelectedWarning', 'error message for no selected countries in countries filter');return(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-status-filter",children:[(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:o._('Status', '[m10n] businessReporting.filterEditor.filters.FilterEditorStatus.statusLabel', 'label for campaign status section')}),(0,x.jsx)(m.xu,{height:8}),(0,x.jsx)(m.pg,{errorMessage:c?_:void 0,id:"filter-editor-campaign-status-fieldset",legend:o._('Campaign status', '[m10n] businessReporting.filterEditor.filters.FilterEditorStatus.campaignStatusLabel', 'legend for campaign status'),legendDisplay:"hidden",children:(0,x.jsx)(m.xu,{marginStart:-2,children:(0,x.jsx)(eM.r,{defaultSelections:[],entityType:eL.eX.campaign,handleChangeStatus:function(e,t){var o,l=null!=t?t:[];l.filter(function(e){return!r.includes(e)}).forEach(function(e){return a({event_type:7472,component:14322,element:13515,aux_data:{is_checked:"true",value:e,entity_id:n,entity_type:(0,g.B6)(s)}})}),r.filter(function(e){return!l.includes(e)}).forEach(function(e){return a({event_type:7472,component:14322,element:13515,aux_data:{is_checked:"false",value:e,entity_id:n,entity_type:(0,g.B6)(s)}})}),i(l),d(0===(null!=(o=null==t?void 0:t.filter(function(e){return e!==eB.$d.ADVERTISER_DISABLED}))?o:[]).length)},selectionOptions:(0,ek._r)(o)(!0),size:"md",status:r,statusExcludedFromAll:ek.xs})})}),c&&(0,x.jsx)(m.xu,{height:8})]})},eH=function(e){var t=e.entityId,n=e.userRole,s=e.currencyDisplay,r=e.setCurrencyDisplay,i=e.startDate,o=e.setStartDate,a=e.endDate,l=e.setEndDate,c=e.datePresetId,d=e.setDatePresetId,_=e.clickWindowDays,h=e.setClickWindowDays,p=e.engagementWindowDays,b=e.setEngagementWindowDays,f=e.viewWindowDays,g=e.setViewWindowDays,y=e.objectiveTypes,A=e.setObjectiveTypes,v=e.conversionReportTime,P=e.setConversionReportTime,S=e.ingestionSources,w=e.isCatalogsEnabled,j=e.setIngestionSources,I=e.countries,z=e.setCountries,C=e.campaignStatuses,E=e.setCampaignStatuses,O=e.columns,T=e.setColumns,D=e.isActiveAdvertiserOnly,R=e.setIsActiveAdvertiserOnly,N=e.excludedAdvertiserIds,L=e.setExcludedAdvertiserIds,B=e.childBusinesses,k=e.selectedChildBusinesses,M=e.setSelectedChildBusinesses,U=e.assetGroups,Z=e.selectedAssetGroups,H=e.setSelectedAssetGroups;return(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-filters-tab",children:(0,x.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(ea,{assetGroups:U,childBusinesses:B,countries:I,entityId:t,excludedAdvertiserIds:N,isActiveAdvertiserOnly:D,selectedAssetGroups:Z,selectedChildBusinesses:k,setCountries:z,setExcludedAdvertiserIds:L,setIsActiveAdvertiserOnly:R,setSelectedAssetGroups:H,setSelectedChildBusinesses:M,userRole:n}),(0,x.jsx)(m.xu,{height:40})]}),(0,x.jsx)(ev,{columns:O,currencyDisplay:s,entityId:t,setColumns:T,setCurrencyDisplay:r,userRole:n}),(0,x.jsx)(m.xu,{height:40}),(0,x.jsx)(eO,{datePresetId:c,endDate:a,entityId:t,setDatePresetId:d,setEndDate:l,setStartDate:o,startDate:i,userRole:n}),(0,x.jsx)(m.xu,{height:40}),(0,x.jsx)(ef,{clickWindowDays:_,conversionReportTime:v,engagementWindowDays:p,entityId:t,ingestionSources:S,setClickWindowDays:h,setConversionReportTime:P,setEngagementWindowDays:b,setIngestionSources:j,setViewWindowDays:g,userRole:n,viewWindowDays:f}),(0,x.jsx)(m.xu,{height:40}),(0,x.jsx)(eN,{isCatalogsEnabled:w,objectiveTypes:y,setObjectiveTypes:A}),(0,x.jsx)(m.xu,{height:32}),(0,x.jsx)(eZ,{campaignStatuses:C,entityId:t,setCampaignStatuses:E,userRole:n})]})})},eV=n(555736),eG=n(503246),eW=n(475498),eF=n(87853);function eY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||eq(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eq(e,t){if(e){if("string"==typeof e)return eK(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eK(e,t):void 0}}function eK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var eQ=new m.Ry(999),eJ=new m.H3([eQ]),eX="filters",e$="columns",e0=function(e){var t=e.entityId,n=e.userRole,s=e.toggleSheet,r=e.applyFilter,i=e.filter,o=e.childBusinesses,a=e.assetGroups,l=e.isCatalogsEnabled,c=i.currencyDisplay,d=i.startDate,_=i.endDate,h=i.datePresetId,p=i.objectiveTypes,b=i.campaignStatuses,f=i.clickWindowDays,A=i.engagementWindowDays,P=i.viewWindowDays,S=i.conversionReportTime,w=i.ingestionSources,j=i.countries,I=i.columns,C=i.isActiveAdvertiserOnly,O=i.excludedAdvertiserIds,T=i.selectedChildBusinesses,D=i.selectedAssetGroups,R=i.advertiserSearchTerm,N=eY((0,u.useState)(!1),2),L=N[0],B=N[1],k=eY((0,u.useState)(0),2),U=k[0],Z=k[1],H=eY((0,u.useState)(c),2),V=H[0],G=H[1],W=eY((0,u.useState)((0,ez.Z)(new Date(d))),2),F=W[0],Y=W[1],q=eY((0,u.useState)((0,ez.Z)(new Date(_))),2),K=q[0],Q=q[1],J=eY((0,u.useState)(h),2),X=J[0],$=J[1],ee=eY((0,u.useState)(f),2),et=ee[0],en=ee[1],es=eY((0,u.useState)(A),2),er=es[0],ei=es[1],eo=eY((0,u.useState)(P),2),ea=eo[0],ec=eo[1],eu=eY((0,u.useState)(S),2),ed=eu[0],e_=eu[1],eh=eY((0,u.useState)(w),2),em=eh[0],ep=eh[1],eb=eY((0,u.useState)(b),2),ef=eb[0],ey=eb[1],eA=eY((0,u.useState)(p),2),ev=eA[0],ex=eA[1],eP=eY((0,u.useState)(I),2),eS=eP[0],ew=eP[1],ej=eY((0,u.useState)(j),2),eI=ej[0],eC=ej[1],eE=eY((0,u.useState)(C),2),eO=eE[0],eT=eE[1],eD=eY((0,u.useState)(O),2),eR=eD[0],eN=eD[1],eL=eY((0,u.useState)(T),2),ek=eL[0],eM=eL[1],eU=eY((0,u.useState)(D),2),eZ=eU[0],eQ=eU[1],e0=(0,eF.dI)().showToast,e1=(0,v.ZP)(),e2=(0,y.Z)(),e3=(0,E.Z)(),e6=[{text:e1._('Filters', '[m10n] businessReporting.filterEditorContent.tabs.filters', 'Filters tab of filter editor'),href:"#",label:eX,id:eX},{text:e1._('Column Selection', '[m10n] businessReporting.filterEditorContent.tabs.columnselection', 'Column selection tab of filter editor'),href:"#",label:e$,id:e$}];return(0,u.useEffect)(function(){var e=c!==V,t=!(0,z.Z)(F,(0,ez.Z)(new Date(d)))||!(0,z.Z)(K,(0,ez.Z)(new Date(_)))||!(0,eG.ZP)(X,h),n=f!==et||A!==er||P!==ea,s=!(0,g.Rt)(I,eS),r=!(0,g.Rt)(ev,p),i=!(0,g.Rt)(w,em),o=!(0,g.Rt)(b,ef),a=S!==ed,l=!(0,g.Rt)(j,eI),u=C!==eO,m=!(0,g.Rt)(O,eR),y=!(0,g.Rt)(T.map(function(e){return e.id}),ek.map(function(e){return e.id})),v=!(0,g.Rt)(D.map(function(e){return e.id}),eZ.map(function(e){return e.id}));B(null!=F&&null!=K&&null!=X&&ev.length>0&&em.length>0&&ef.filter(function(e){return e!==eB.$d.ADVERTISER_DISABLED}).length>0&&eS.length>0&&eR.every(function(e){return(0,g.Q0)(e)})&&(e||t||n||a||i||r||o||s||y||v||u||m||l))},[c,V,F,d,K,_,X,h,f,et,A,er,P,ea,I,eS,ev,p,w,em,S,ed,j,eI,b,ef,C,eO,O,eR,T,ek,D,eZ]),(0,x.jsx)(u.Fragment,{children:(0,x.jsx)(m.mh,{zIndex:eJ,children:(0,x.jsx)(m.To,{accessibilityDismissButtonLabel:e1._('Dismiss Filter Editor Panel', '[m10n] businessReporting.filterEditorContent.panel.dismissbutton.accessibilitylabel', 'accessibility label for dismiss button'),accessibilityLabel:e1._('Filter Editor Panel', '[m10n] businessReporting.filterEditorContent.panel.accessbilitylabel', 'accessibility label for side panel'),footer:(0,x.jsxs)(m.kC,{alignContent:"stretch",alignItems:"stretch",direction:"row",gap:2,justifyContent:"end",children:[(0,x.jsx)(el.zx,{color:"gray",dataTestId:"filter-editor-content-cancel-changes",fullWidth:!0,logEventProps:{view:603,viewParameter:3830,componentType:14322,elementType:13516,auxData:{entity_id:t,entity_type:(0,g.B6)(n)}},onClick:s,size:"lg",text:e1._('Cancel', '[m10n] businessReporting.filterEditorContent.cancelchangesbutton.text', 'text for Cancel Changes button')}),(0,x.jsx)(el.zx,{color:"red",dataTestId:"filter-editor-content-apply-changes",disabled:!L,fullWidth:!0,logEventProps:{view:603,viewParameter:3830,componentType:14322,elementType:13516,auxData:{entity_id:t,entity_type:(0,g.B6)(n)}},onClick:function(){var e=(0,eg.ll)(e3,e1,[]);r({currencyDisplay:V,startDate:(0,eV.Z)(F),endDate:(0,eV.Z)(K),datePresetId:X,objectiveTypes:ev,campaignStatuses:ef,clickWindowDays:et,engagementWindowDays:er,viewWindowDays:ea,conversionReportTime:ed,ingestionSources:em,countries:eI,columns:((function(e){if(Array.isArray(e))return eK(e)})(eS)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(eS)||eq(eS)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(t,n){var s=e[t],r=e[n];return(void 0!==s.columnIndex?s.columnIndex:Number.MAX_VALUE)-(void 0!==r.columnIndex?r.columnIndex:Number.MAX_VALUE)}),isActiveAdvertiserOnly:eO,excludedAdvertiserIds:eR,selectedChildBusinesses:ek,selectedAssetGroups:eZ,advertiserSearchTerm:R}),s(),e0(function(e){var t=e.hideToast;return(0,x.jsx)(eW.Z,{duration:1200,onHide:t,text:e1._('Configuration applied', '[m10n] businessReporting.filterEditorContent.applychangestoast.text', 'text for the toast after apply changes is clicked')})})},size:"lg",text:e1._('Apply', '[m10n] businessReporting.filterEditorContent.applychangesbutton.text', 'text for Apply Changes button')})]}),heading:e1._('Configuration', '[m10n] businessReporting.filterEditorContent.panel.heading', 'heading for side panel'),onDismiss:s,size:"md",subHeading:(0,x.jsxs)(m.xu,{paddingX:6,children:[(0,x.jsx)(m.xv,{children:e1._('Configure which metrics are shown and how they are calculated.', '[m10n] businessReporting.filterEditorContent.panel.instruction', 'Instruction for the filter editor panel')}),(0,x.jsx)(m.xu,{height:4}),(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-tabs",marginStart:-2,marginTop:3,children:(0,x.jsx)(m.mQ,{activeTabIndex:U,onChange:function(e){var s=e.event,r=e.activeTabIndex;(0,e.dangerouslyDisableOnNavigation)(),s.preventDefault(),Z(r),e2({event_type:101,view_type:603,view_parameter:3830,component:14322,element:13510,aux_data:{value:e6[r].label,entity_id:t,entity_type:(0,g.B6)(n)}})},tabs:e6.map(function(e){return{text:e.text,href:e.href,id:e.id}})})})]},"filter-editor-content-subheader"),children:(0,x.jsxs)(m.xu,{"data-test-id":"filter-editor-tab-content",paddingX:1,children:[e6[U].label===eX&&(0,x.jsx)(eH,{assetGroups:a,campaignStatuses:ef,childBusinesses:o,clickWindowDays:et,columns:eS,conversionReportTime:ed,countries:eI,currencyDisplay:V,datePresetId:X,endDate:K,engagementWindowDays:er,entityId:t,excludedAdvertiserIds:eR,ingestionSources:em,isActiveAdvertiserOnly:eO,isCatalogsEnabled:l,objectiveTypes:ev,selectedAssetGroups:eZ,selectedChildBusinesses:ek,setCampaignStatuses:ey,setClickWindowDays:en,setColumns:ew,setConversionReportTime:e_,setCountries:eC,setCurrencyDisplay:G,setDatePresetId:$,setEndDate:Q,setEngagementWindowDays:ei,setExcludedAdvertiserIds:eN,setIngestionSources:ep,setIsActiveAdvertiserOnly:eT,setObjectiveTypes:ex,setSelectedAssetGroups:eQ,setSelectedChildBusinesses:eM,setStartDate:Y,setViewWindowDays:ec,startDate:F,userRole:n,viewWindowDays:ea}),e6[U].label===e$&&(0,x.jsx)(M,{columns:eS,currencyDisplay:V,setColumns:ew})]})})})})},e1=function(e){var t=e.filter,n=e.entityId,s=e.userRole,r=e.toggleSheet,i=e.applyFilter,o=e.childBusinesses,a=e.assetGroups,l=e.isCatalogsEnabled;return(0,x.jsx)(m.xu,{"data-test-id":"filter-editor-content-open",children:(0,x.jsx)(e0,{applyFilter:i,assetGroups:a,childBusinesses:o,entityId:n,filter:t,isCatalogsEnabled:l,toggleSheet:r,userRole:s})})};function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var e3=function(e){var t,n=e.filter,s=e.applyFilter,r=e.childBusinesses,i=e.assetGroups,o=e.entityId,a=e.userRole,l=e.isCatalogsEnabled,c=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e2(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e2(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],_=c[1],h=(0,v.ZP)();function p(){_(!d)}return(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(m.xu,{alignItems:"center","data-test-id":"filter-editor-button",display:"flex",height:44,justifyContent:"center",position:"relative",children:(0,x.jsx)(el.hU,{accessibilityLabel:h._('Edit filters', '[m10n] businessReporting.filterEditor.SterlingIconButton.accessibilityLabel', 'accessibility label for filter editor button'),bgColor:"white",dataTestId:"edit-filter-button",icon:"filter",logEventProps:{view:603,viewParameter:3830,componentType:14322,elementType:13516,auxData:{entity_id:o,entity_type:(0,g.B6)(a)}},onClick:p,size:"md"})}),d&&(0,x.jsx)(e1,{applyFilter:s,assetGroups:i,childBusinesses:r,entityId:o,filter:n,isCatalogsEnabled:l,toggleSheet:p,userRole:a})]})},e6=n(15667),e8=n(584210),e4=n(467759),e5=function(e){var t=e.text,n=e.maxWidth;return(0,x.jsx)(m.xu,{alignItems:"center",color:"secondary",display:"flex",height:32,maxWidth:void 0===n?300:n,paddingX:2,paddingY:1,rounding:2,children:(0,x.jsx)(m.xv,{inline:!0,lineClamp:1,size:"200",children:t})})},e9=function(e){var t=e.filter,n=t.startDate,s=t.endDate,r=t.datePresetId,i=t.viewWindowDays,o=t.clickWindowDays,a=t.engagementWindowDays,l=t.currencyDisplay,c=t.objectiveTypes,u=t.campaignStatuses,d=t.isActiveAdvertiserOnly,_=t.excludedAdvertiserIds,h=t.selectedChildBusinesses,p=t.selectedAssetGroups,b=t.countries,f=e.clearFilters,y=e.isCatalogsEnabled,A=(0,E.Z)(),P=(0,v.ZP)(),S=(0,Q.fz)(A),j=(0,ej.gK)(r,P),I=(0,e6.B)().locale,z=function(e){var t=(0,e4.Z)(e);return(0,eI.vs)(t,{locale:I})},C=l===w.i.AD_ACCOUNT?P._('Ad account currency', '[m10n] businessReporting.subheader.currencyDisplay.adAccountCurrency.text', 'Text displayed as subheader to show user selected local currency (ad account currency)'):l===w.i.USD?P._('USD only', '[m10n] businessReporting.subheader.currencyDisplay.usd.text', 'Text displayed as subheader to show user selected USD only option'):"",O=l===w.i.AD_ACCOUNT?P._('Certain column totals will only calculate when \u201CDisplay USD only\u201D is selected.', '[m10n] businessReporting.subheader.currencyDisplay.adAccount.tooltip.text', 'Tooltip text displayed as subheader to show what ad account option means and warning about its shortcomings'):l===w.i.USD?P._('Local currencies are converted to USD with a fixed conversion rate based on the daily rates of the previous year', '[m10n] businessReporting.subheader.currencyDisplay.usd.tooltip.text', 'Tooltip text displayed as subheader to show what usd currency means and give a warning about fixed rate'):"",T=(0,g.TK)(c,S.objectiveTypes),D=(0,g.TK)(u,S.campaignStatuses),R=(0,g.TK)(h.map(function(e){return e.id}),S.selectedChildBusinesses.map(function(e){return e.id})),N=(0,g.TK)(p.map(function(e){return e.id}),S.selectedAssetGroups.map(function(e){return e.id})),L=(0,g.TK)(d,S.isActiveAdvertiserOnly),B=(0,g.TK)(_,S.excludedAdvertiserIds),k=(0,g.TK)(b,S.countries),M=T||D||R||N||L||B||k,U=ed.Z.getAttributionWindowWithoutEngagement("".concat(o,"/").concat(a,"/").concat(i));return(0,x.jsxs)(m.kC,{direction:"column",gap:1,children:[(0,x.jsxs)(m.kC,{alignItems:"center",flex:"grow",gap:1,wrap:!0,children:[(0,x.jsx)(m.xv,{size:"200",children:(0,X.Z)(P._('Date range: {{dateRange}}', '[m10n] businessReporting.filterInfo.dateRange.text', 'Text displayed to show which date range option user selected, dateRange: Date range option user selected to use'),{dateRange:"".concat(j.label," (").concat(z(n)," - ").concat(z(s),")")})}),(0,x.jsx)(m.xv,{size:"200",children:"|"}),(0,x.jsx)(m.xv,{size:"200",children:(0,X.Z)(P._('Currency display: {{selectedCurrencyDisplay}}', '[m10n] businessReporting.filterInfo.currencyDisplay.text', 'Text displayed as subheader to show which currency display option user selected, selectedCurrencyDisplay: Currency option (Ad account or USD) user selected'),{selectedCurrencyDisplay:C})}),O&&(0,x.jsx)(e8.Z,{accessibilityLabel:P._('More information about currency display', '[m10n] businessReporting.filterInfo.currencyDisplay.usd.info.label', 'Accessibility label for info circle'),displayAsIcon:!0,icon:"info-circle",size:12,children:(0,x.jsx)(m.xv,{color:"inverse",size:"100",children:O})}),(0,x.jsx)(m.xv,{size:"200",children:"|"}),(0,x.jsx)(m.xv,{size:"200",children:(0,X.Z)(P._('Conversion settings: {{conversionWindow}}', '[m10n] businessReporting.filterInfo.conversionSettings', 'Filter information text in business reporting showing which conversion window setting is selected, conversionWindow: conversion window period user selected to use'),{conversionWindow:U})}),(0,x.jsx)(e8.Z,{accessibilityLabel:P._('More information about conversion settings', '[m10n] businessReporting.filterInfo.conversionSettings.tooltipButton.accessibilityLabel', 'Accessibility label for tooltip trigger in an analytics filter section'),displayAsIcon:!0,icon:"info-circle",size:12,children:(0,x.jsx)(m.kC,{direction:"column",gap:3,children:(0,x.jsx)(m.xv,{color:"inverse",size:"100",weight:"bold",children:P._('Conversions are reported at the date of the ad event (e.g., ad impression and ad click).', '[m10n] businessReporting.filterInfo.conversionSettings.dateOfAdEvent', 'Message about conversions being reported at date of ad event')})})})]}),M&&(0,x.jsxs)(m.kC,{alignItems:"center",flex:"grow",gap:1,wrap:!0,children:[(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:P._('Filters', '[m10n] businessReporting.filterInfo.filters', 'Subheader text in business reporting table showing all selected filters')+":"}),T&&(0,x.jsx)(e5,{maxWidth:500,text:(0,X.Z)(P._('Objectives: {{objectives}}', '[m10n] businessReporting.filterInfo.objectiveTypes', 'Filter information text in business reporting showing selected objective types as a filter, objectives: objective types user selected to filter'),{objectives:(0,eT.lC)(A,P,y).filter(function(e){return c.includes(e.value)}).map(function(e){return e.label}).join(", ")})}),D&&(0,x.jsx)(e5,{maxWidth:500,text:(0,X.Z)(P._('Campaign status: {{campaignStatuses}}', '[m10n] businessReporting.filterInfo.campaignStatuses', 'Filter information text in business reporting showing selected campaign statuses as a filter, campaignStatuses: campaign status user selected to filter'),{campaignStatuses:(0,ek._r)(P)(!1).filter(function(e){var t;return u.includes(null!=(t=e.value)?t:"")}).map(function(e){return e.label}).join(", ")})}),R&&(0,x.jsx)(e5,{maxWidth:500,text:(0,X.Z)(P._('Child business: {{selectedChildBusinesses}}', '[m10n] businessReporting.filterInfo.childBusiness.text', 'Filter information text in business reporting showing selected child businesses as a filter, selectedChildBusinesses: child businesses of the hierarchy user selected to filter'),{selectedChildBusinesses:h.map(function(e){return e.fullName}).join(", ")})}),N&&(0,x.jsx)(e5,{maxWidth:500,text:(0,X.Z)(P._('Asset group: {{selectedAssetGroups}}', '[m10n] businessReporting.filterInfo.assetGroup.text', 'Filter information text in business reporting showing selected assetGroups as a filter, selectedAssetGroups: assetGroups of the business or hierarchy user selected to filter'),{selectedAssetGroups:p.map(function(e){return e.name}).join(", ")})}),L&&(0,x.jsx)(e5,{text:P._('Active ad accounts only', '[m10n] businessReporting.filterInfo.excludedAdAccounts', 'Filter information text in business reporting showing active ad account filter is selected')}),B&&(0,x.jsx)(e5,{text:(0,X.Z)(P._('Exclude: {{ids}}', '[m10n] businessReporting.filterInfo.excludedAdAccounts', 'Filter information text in business reporting showing excluded ad account ids as a filter, ids: advertiser ids user selected to filter'),{ids:_.join(", ")})}),k&&(0,x.jsx)(e5,{text:(0,X.Z)(P._('Country: {{selectedCountries}}', '[m10n] businessReporting.filterInfo.countries', 'Filter information text in business reporting showing selected countries as a filter, selectedCountries: advertiser countries user selected to filter'),{selectedCountries:Q.hU.filter(function(e){return b.includes(e)}).map(function(e){return(0,J.al)(e,P)}).join(", ")})}),(0,x.jsx)(m.xv,{size:"200",underline:!0,children:(0,x.jsx)(m.iP,{onTap:function(){return f(!1,"filter-info-clear-filters-button")},children:P._('Clear all', '[m10n] businessReporting.filterInfo.clearAllButton', 'Button displayed on business reporting which removes all filters and sets them to default')})})]})]})},e7=n(483180),te=function(e){var t=e.entityId,n=e.userRole,s=e.advertiserId,r=e.advertiserName,i=e.advertiserOwnerUserName,o=(0,v.ZP)(),a=(0,y.Z)();return(0,x.jsx)(m.xu,{id:"business_reporting_cell_".concat(s,"_ADVERTISER_NAME"),overflow:"hidden",width:300,children:(0,x.jsxs)(m.kC,{direction:"column",justifyContent:"start",width:"100%",children:[(0,x.jsx)(m.xv,{lineClamp:1,size:"200",weight:"bold",children:(0,x.jsx)(m.rU,{href:"".concat(e7.vI,"/advertiser/").concat(s,"/reporting"),id:"advertiser-name-".concat(s),onClick:function(){a({event_type:101,view_type:603,view_parameter:3830,component:14321,element:13605,aux_data:{value:s,entity_id:t,entity_type:(0,g.B6)(n)}})},target:"blank",children:r})}),(0,x.jsxs)(m.xu,{"data-test-id":"advertiser-id",children:[(0,x.jsxs)(m.xv,{color:"subtle",inline:!0,size:"100",children:[o._('ID: ', '[m10n] businessReporting.reportingTable.adAccountID.label', 'Ad account id label of business reporting table'),s]}),i&&(0,x.jsxs)(m.xv,{color:"subtle",inline:!0,size:"100",children:[" | ",o._('Owner: ', '[m10n] businessReporting.reportingTable.adAccountOwner.label', 'Ad account owner label of business reporting table'),i]})]})]})})},tt=n(906553);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=tn(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tn(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ti=function(e){var t=e.columnKey,n=e.metric,s=e.summary,r=e.advertiserCurrency,i=e.rowData,o=(0,E.Z)(),a=(0,v.ZP)(),l=(0,tt.Z)(),c=(0,e6.B)().locale,u=(0,eg.ll)(o,a,[])[t],d=!s&&(0,g.SM)(u),_=u&&(!d||void 0!==r),h=tr(tr({},u),{},{context:{currencyCode:d&&r?r:"USD",locale:c,prettyNumberFormat:l}});return _&&(0,x.jsx)(m.xv,{align:"end",size:"200",weight:s?"bold":"normal",children:u.valueFormatter&&u.valueFormatter({colDef:h,data:i,value:u.valueGetter?u.valueGetter({colDef:h,data:i}):n})})},to=n(818674),ta=n(296819),tl=function(e){var t=e.sort,n=e.startDate,s=e.columns,r=e.metrics,i=e.summary,o=e.bookmark,a=e.onSortChange,l=e.onPaginationChange,c=e.pageSize,d=e.isLoading,_=e.totalResultCount,h=e.error,p=e.entityId,b=e.userRole,f=e.clearFilters,A=(0,E.Z)(),P=(0,v.ZP)(),S=(0,y.Z)(),w=(0,eg.ll)(A,P,[]),j=function(e){var n=t.column===e&&!t.ascending;a({column:e,ascending:n}),S({event_type:101,view_type:603,view_parameter:3830,component:14321,element:13518,aux_data:{element_id:e,value:n?"asc":"desc",entity_id:p,entity_type:(0,g.B6)(b)}})},I=function(e){return(0,D.DF)(e.columnGrouping)&&!!e.crossAccountAggregatable},z=function(e){return new Date(n)<new Date(eg.Kg)&&(0,T.tb)().includes(e.field)},C=function(e){return(0,X.Z)(P._('This column displays {{columnName}} for each ad account. There may be overlap in attribution for this metric across ad accounts for the totals calculation.', '[m10n] businessReporting.reportingTable.attributionWarningMessage.tooltip', 'Warning message stating that the totals row might not be accurate. The reason is that the reporting is at the advertiser account level and adding up columns across advertiser accounts might cause overlaps in attribution. columnName: Name of the reporting metric'),{columnName:e})},O=P._('Warning message for this metric', '[m10n] businessReporting.reportingTable.attributionWarningMessage.accessibilityLabel', 'Accesibility label for the warning tooltip'),R=P._('Warning message for this metric', '[m10n] businessReporting.reportingTable.attributionAndDateWarningMessage.accessibilityLabel', 'Accesibility label for the warning tooltip'),N=!h&&r&&r.length>0;return(0,x.jsx)(u.Fragment,{children:(0,x.jsxs)(m.xu,{"data-test-id":"business-reporting-table",position:"relative",children:[d&&(0,x.jsx)(to.Z,{zIndex:1,children:(0,x.jsx)(m.xu,{"data-test-id":"business-reporting-table-loading",padding:4,children:(0,x.jsx)(m.xH,{accessibilityLabel:P._('The spinner shown when loading business reporting table data', '[m10n] businessReporting.reportingTable.spinner.accessibilityLabel', '[m10n] Accessibility label for a spinner in reporting table on business reporting page'),show:!0})})}),(0,x.jsxs)(m.iA,{accessibilityLabel:P._('Business Reporting Table', '[m10n] businessReporting.reportingTable.accessibilityLabel', 'Accessibility label of business reporting table'),maxHeight:700,stickyColumns:+!!N,children:[(0,x.jsxs)("colgroup",{children:[(0,x.jsx)("col",{span:1,style:{minWidth:"120px"}}),s.map(function(e){return I(w[e])||z(w[e])?(0,x.jsx)("col",{span:1,style:{minWidth:"205px"}},e):(0,x.jsx)("col",{span:1,style:{minWidth:"125px"}},e)})]}),(0,x.jsx)(m.iA.Header,{sticky:!0,children:(0,x.jsxs)(m.iA.Row,{children:[(0,x.jsx)(m.iA.SortableHeaderCell,{onSortChange:function(){return j("ADVERTISER_NAME")},sortOrder:t.ascending?"asc":"desc",status:"ADVERTISER_NAME"===t.column?"active":"inactive",children:(0,x.jsx)(m.xv,{size:"200",weight:"bold",children:P._('Ad Account Name', '[m10n] businessReporting.reportingTable.header.adAccountName', 'Header text for the ad account name column of business reporting table')})},"ADVERTISER_NAME"),s.map(function(e){return w[e].crossAccountSortable?(0,x.jsx)(m.iA.SortableHeaderCell,{align:"end",onSortChange:function(){return j(e)},sortOrder:t.ascending?"asc":"desc",status:t.column===e?"active":"inactive",children:(0,x.jsx)(m.xu,{id:"header-".concat(e),children:(0,x.jsxs)(m.kC,{alignItems:"center",gap:1,justifyContent:"end",children:[I(w[e])&&(z(w[e])?(0,x.jsx)(m.xu,{id:"header-".concat(e,"-date-and-conversion-warning"),marginEnd:1,children:(0,x.jsx)(e8.Z,{accessibilityLabel:R,customIconColor:"warning",direction:"down",displayAsIcon:!0,icon:"workflow-status-warning",size:12,children:(0,x.jsxs)(m.kC,{direction:"column",gap:3,children:[(0,x.jsx)(m.xv,{color:"inverse",size:"100",children:P._('USD order value is only populated from March 7th, 2023 onward.', '[m10n] businessReporting.reportingTable.dateWarningMessage.tooltip', 'Warning message stating that the columns displaying USD order value are only populated from March 7th, 2023 onward.')}),(0,x.jsx)(m.xv,{color:"inverse",size:"100",children:C(w[e].headerName)})]})})}):(0,x.jsx)(m.xu,{id:"header-".concat(e,"-conversion-warning"),marginEnd:1,children:(0,x.jsx)(m.u,{text:C(w[e].headerName),children:(0,x.jsx)(m.JO,{accessibilityLabel:O,icon:"info-circle",inline:!0,size:12})})})),(0,x.jsx)(m.xv,{align:"end",size:"200",weight:"bold",children:(0,x.jsx)(m.u,{accessibilityLabel:w[e].headerName,text:w[e].tooltipText,children:w[e].headerName})})]})})},e):(0,x.jsx)(m.iA.HeaderCell,{children:(0,x.jsx)(m.xu,{id:"header-".concat(e),minWidth:"".concat(104,"px"),children:(0,x.jsxs)(m.kC,{alignItems:"center",gap:1,justifyContent:"end",children:[I(w[e])&&(0,x.jsx)(m.u,{text:C(w[e].headerName),children:(0,x.jsx)(m.JO,{accessibilityLabel:O,icon:"info-circle",inline:!0,size:12})}),(0,x.jsx)(m.xv,{align:"end",size:"200",weight:"bold",children:(0,x.jsx)(m.u,{accessibilityLabel:w[e].headerName,text:w[e].tooltipText,children:w[e].headerName})})]})})},e)})]})}),(0,x.jsx)(m.iA.Body,{children:N?(0,x.jsx)(u.Fragment,{children:r.map(function(e,t){return(0,x.jsxs)(m.iA.Row,{children:[(0,x.jsx)(m.iA.Cell,{children:(0,x.jsx)(te,{advertiserId:(e.ADVERTISER_ID||"").toString(),advertiserName:(e.ADVERTISER_NAME||"").toString(),advertiserOwnerUserName:(e.ADVERTISER_OWNER_USER_NAME||"").toString(),entityId:p,userRole:b})}),s.map(function(t){return(0,x.jsx)(m.iA.Cell,{children:(0,x.jsx)(m.xu,{id:"business_reporting_cell_".concat(e.ADVERTISER_ID,"_").concat(t),children:"number"==typeof e[t]&&(0,x.jsx)(ti,{advertiserCurrency:"string"==typeof e.ADVERTISER_CURRENCY?e.ADVERTISER_CURRENCY:void 0,columnKey:t,metric:e[t],rowData:e})})},"business_reporting_cell_".concat(e.ADVERTISER_ID,"_").concat(t))})]},e.ADVERTISER_ID||t)})}):(0,x.jsx)(m.iA.Row,{children:(0,x.jsxs)(m.iA.Cell,{colSpan:s.length+1,children:[(0,x.jsx)(m.xu,{height:200,position:"absolute",width:"100%",children:h?(0,x.jsx)(m.kC,{alignItems:"center",direction:"column",gap:2,height:"100%",justifyContent:"center",width:"100%",children:(0,x.jsx)(m.xv,{size:"200",children:P._('An error occurred. Try again.', '[m10n] businessReporting.reportingTable.errorLabel', 'Message displayed when there is error happened')})}):(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",gap:3,height:"100%",justifyContent:"center",width:"100%",children:[(0,x.jsx)(m.xv,{size:"200",children:P._('No ad accounts were found because of the filters applied.', '[m10n] businessReporting.reportingTable.noAdAccounts', 'Message displayed when there is no ad account found')}),(0,x.jsx)(m.zx,{onClick:function(){f(!0,"reporting-table-clear-filters-button")},text:"Clear filters"})]})}),(0,x.jsx)(m.xu,{height:200})]})})}),N&&!!i&&(0,x.jsx)(m.iA.Footer,{sticky:!0,children:(0,x.jsxs)(m.iA.Row,{children:[(0,x.jsx)(m.iA.Cell,{children:(0,x.jsx)(m.xv,{size:"200",weight:"bold",children:P._('Total', '[m10n] businessReporting.reportingTable.total', 'Total string for the summary row in the business reporting table')})}),s.map(function(e,t){return(0,x.jsx)(m.iA.Cell,{children:"number"==typeof i[e]&&(0,x.jsx)(ti,{columnKey:e,metric:i[e],rowData:i,summary:!0})},t)})]},"summary")})]}),(0,x.jsx)(m.xu,{"data-test-id":"business-reporting-table-pagination",marginTop:4,children:(0,x.jsx)(ta.ZP,{highestPageSize:100,onPaginationClick:function(e){l({pageSize:c,bookmark:(e-1)*c+1}),S({event_type:101,view_type:603,view_parameter:3830,component:14321,element:13519,aux_data:{value:e,element_id:"page-change-button",entity_id:p,entity_type:(0,g.B6)(b)}})},onPerPageChange:function(e){l({pageSize:e,bookmark:1}),S({event_type:101,view_type:603,view_parameter:3830,component:14321,element:13519,aux_data:{value:e,element_id:"page-size-change-button",entity_id:p,entity_type:(0,g.B6)(b)}})},page:Math.floor(o/c)+1,perPage:c,totalCount:_})})]})})},tc=n(358396),tu=n(964822);function td(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function t_(e){return function(){var t=this,n=arguments;return new Promise(function(s,r){var i=e.apply(t,n);function o(e){td(i,s,r,o,a,"next",e)}function a(e){td(i,s,r,o,a,"throw",e)}o(void 0)})}}var th=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={start_date:e.startDate,end_date:e.endDate,click_window_days:e.clickWindowDays,engagement_window_days:e.engagementWindowDays,view_window_days:e.viewWindowDays,conversion_report_time:e.conversionReportTime,ingestion_sources:e.ingestionSources,columns:e.columns,advertiser_active_filter:e.isActiveAdvertiserOnly,page_size:e.pagination.pageSize,bookmark:e.pagination.bookmark,sort:{columns:[e.sort.column],ascending:e.sort.ascending}};return e.countries&&e.countries.length>0&&(n.countries=(0,tu.bZ)(e.countries)),e.advertiserSearchTerm&&e.advertiserSearchTerm.length>0&&(n.advertiser_search_term=e.advertiserSearchTerm),e.objectiveTypes&&e.objectiveTypes.length>0&&(n.campaign_objective_types=e.objectiveTypes),e.campaignStatuses&&e.campaignStatuses.length>0&&(n.campaign_statuses=e.campaignStatuses),e.excludedAdvertiserIds&&e.excludedAdvertiserIds.length>0&&(n.advertiser_ids_exclude=e.excludedAdvertiserIds),e.selectedChildBusinessIds&&e.selectedChildBusinessIds.length>0&&(n.business_ids=e.selectedChildBusinessIds),e.selectedAssetGroupIds&&e.selectedAssetGroupIds.length>0&&(n.asset_group_id=e.selectedAssetGroupIds[0]),t&&(n.aggregate_report_rows=!0),n},tm=(s=t_(regeneratorRuntime.mark(function e(t,n){var s,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=th(n,o.length>2&&void 0!==o[2]&&o[2]),e.next=4,(0,tc.JE)({businessId:t},s);case 4:return i={rows:(r=e.sent).metrics,totalResultCount:r.total_result_count},e.abrupt("return",i);case 7:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)}),tp=(r=t_(regeneratorRuntime.mark(function e(t,n){var s,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=th(n,o.length>2&&void 0!==o[2]&&o[2]),e.next=4,(0,tc.GS)({businessHierarchyId:t},s);case 4:return i={rows:(r=e.sent).metrics,totalResultCount:r.total_result_count},e.abrupt("return",i);case 7:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),tb=n(38037),tf=n(373736),tg=n(675899),ty=n(984162),tA=n(447294);function tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var tx=function(e,t){return Array.isArray(e)&&e.length>0&&e.every(function(e){return t.includes(e)})},tP=function(e,t,n){var s={};return Object.values({DATE:function(e,t){var s=t.datePresetId,r=t.startDate,i=t.endDate,o=(0,ej.pk)(n);if(s&&s!==ej.XN.CUSTOM){var a=o.find(function(e){return e.value===s});if(a){var l=(0,ej.I6)(a.value,eI.qO),c=(0,ez.Z)(new Date(l.startDate)),u=(0,ez.Z)(new Date(l.endDate));e.startDate=(0,tA.Z)(c),e.endDate=(0,tA.Z)(u),e.datePresetId=s;return}}if(r&&i){var d=(0,e4.Z)(r),_=(0,e4.Z)(i);(0,tf.Z)(d)&&(0,tf.Z)(_)&&(e.startDate=r,e.endDate=i,e.datePresetId=ej.XN.CUSTOM)}},CONVERSION_ATTRIBUTION_WINDOWS:function(e,t){var n=t.conversionAttributionWindows||{},s=n.clickWindowDays,r=n.engagementWindowDays,i=n.viewWindowDays,o="".concat(s,"/").concat(r,"/").concat(i);if(s&&r&&i&&ed.Z.isValidWindow(o,[],!1)&&(e.clickWindowDays=s,e.engagementWindowDays=r,e.viewWindowDays=i),s&&r&&i&&ed.Z.isDeprecatedWindow(o)){var a=ed.Z.getMappedAttributionWindowWithEngagement(o,[],!1),l=ed.Z.extractWindowComponents(a,!0),c=l.click,u=l.engagement,d=l.view;e.clickWindowDays=Number(c),e.engagementWindowDays=Number(u),e.viewWindowDays=Number(d)}},OBJECTIVE_TYPES:function(e,t){var n=t.objectiveTypes;if(n){var s,r=n.map(function(e){return(0,ty.Z)(e)});tx(r,[].concat(function(e){if(Array.isArray(e))return tv(e)}(s=Object.values(tg.mE))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return tv(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tv(e,void 0):void 0}}(s)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[tg.LN.APP_INSTALL]))&&(e.objectiveTypes=r)}},CAMPAIGN_STATUS:function(e,t){var n=t.campaignStatuses;n&&tx(n,Object.values(eB.$d))&&(e.campaignStatuses=n)},COUNTRIES:function(e,t){var n=t.advertiserCountry;n&&tx(n,Object.values(J.JD))&&(e.countries=n)},CURRENCY_AND_COLUMNS:function(e,s){var r=s.currencyDisplay,i=s.columns;if(r&&i){var o=Object.values(w.i).find(function(e){return e===r});if(o){var a=r===w.i.USD?(0,T.uQ)():(0,T.tb)(),l=(0,eg.uq)(t,n).map(function(e){return e.colId}).reduce(function(e,t){return i.includes(t)&&!a.includes(t)&&e.push(t),e},[]);l.length===i.length&&(e.columns=l,e.currencyDisplay=o)}}},CONVERSION_REPORT_TIME:function(e,t){var n=t.conversionReportTime;if(n){var s=["AD_EVENT","CONVERSION_EVENT"].find(function(e){return e===n});s&&(e.conversionReportTime=s)}},IS_ACTIVE_ADVERTISER_ONLY:function(e,t){var n=t.isActiveAdvertiserOnly;"boolean"==typeof n&&(e.isActiveAdvertiserOnly=n)},EXCLUDED_ADVERTISER_IDS:function(e,t){var n=t.excludedAdvertiserIds;n&&n.every(function(e){return(0,g.Q0)(e)})&&(e.excludedAdvertiserIds=n)},PAGE_SIZE:function(e,t){var n=t.pageSize;n&&n<=100&&(e.pagination={pageSize:n,bookmark:1})},SORT:function(e,s){var r=s.sort||{},i=r.column,o=r.ascending;if(i&&"boolean"==typeof o){var a=(0,eg.uq)(t,n).find(function(e){return e.colId===i});a&&(e.sort={column:a.colId,ascending:o})}}}).forEach(function(t){t(s,e)}),s},tS=function(e,t,n,s){var r=[],i=(0,eg.ll)(n,s,[]),o={ADVERTISER_OWNER_USER_NAME:{headerFullName:s._('Owner', '[m10n] businessReporting.table.headerFullName.ownerNameColumn', 'Column headerFullName for owner name')},ADVERTISER_OWNER_USER_ID:{headerFullName:s._('Owner ID', '[m10n] businessReporting.table.headerFullName.ownerIdColumn', 'Column headerFullName for owner ID')}};return r.push(t.map(function(e){return e in o?o[e].headerFullName:i[e].headerFullName}).join(",")),e.forEach(function(e){var n=t.map(function(t){var n=(""+e[t]).replace(/"/g,'\\"');return'"'.concat(n,'"')});r.push(n.join(","))}),r.join("\n")},tw=function(e,t){var n=new Blob([e],{type:"text/csv"}),s=document.createElement("a");s.download=t,s.href=window.URL.createObjectURL(n),document.body.appendChild(s),s.click(),document.body.removeChild(s)},tj=n(969139),tI=n(937392),tz=n(686319),tC=n(441716),tE=n(217459),tO=n(603316);function tT(e){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tD(e){return function(e){if(Array.isArray(e))return tU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tM(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=tT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=tT(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tT(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tL(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function tB(e){return function(){var t=this,n=arguments;return new Promise(function(s,r){var i=e.apply(t,n);function o(e){tL(i,s,r,o,a,"next",e)}function a(e){tL(i,s,r,o,a,"throw",e)}o(void 0)})}}function tk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||tM(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tM(e,t){if(e){if("string"==typeof e)return tU(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tU(e,t):void 0}}function tU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var tZ=function(){var e=(0,v.ZP)();return(0,x.jsx)(m.X6,{size:"400",children:e._('Business overview', '[m10n] businessReporting.header.text', 'Header of the business overview widget')})};function tH(e){var t,n=(0,v.ZP)(),s=(0,E.Z)(),r=(0,eF.dI)().showToast,i=e.entityId,o=e.userRole,a=(0,Q.fz)(s),c=tk((0,u.useReducer)(Q.ZP,a),2),d=c[0],_=c[1],h=d.arePreferencesLoaded,p=d.isLoadedWithAdAccount,A=d.isLoading,P=d.currencyDisplay,w=d.startDate,j=d.endDate,z=d.datePresetId,C=d.objectiveTypes,O=d.campaignStatuses,T=d.clickWindowDays,D=d.engagementWindowDays,R=d.viewWindowDays,N=d.conversionReportTime,L=d.ingestionSources,B=d.countries,k=d.columns,M=d.isActiveAdvertiserOnly,U=d.excludedAdvertiserIds,Z=d.selectedChildBusinesses,H=d.childBusinesses,V=d.selectedAssetGroups,G=d.assetGroups,W=d.advertiserSearchTerm,F=d.sort,Y=d.pagination,q=d.result,K=d.error,J=tk((0,u.useState)(!1),2),X=J[0],$=J[1],ee=q.totalResultCount>2500,et=(0,u.useRef)(null),en=(0,u.useRef)(d);en.current=d;var es=(0,tE.rc)((0,g.vl)(d,s)),er=(0,tE.rc)(i),ei=(0,y.Z)(),eo=(0,g.Yc)(o)?s.checkExperiment("enable_catalogs").anyEnabled:(0,tj.ZP)({userId:i,adAccountId:null,checkExperiment:s.checkExperiment}),ea=(t=tB(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:return $(!0),r(function(e){var t=e.hideToast;return(0,x.jsx)(eW.Z,{duration:1200,onHide:t,text:n._('Report processing...', '[m10n] businessReporting.downloadProcessing.text', 'A toast message to user when the report is being processed and will be downloaded soon'),type:"progress"})}),ei({event_type:15598,view_type:603,view_parameter:3830,component:14321,aux_data:(0,g.Yc)(o)?{business_hierarchy_id:i}:{business_id:i}}),e.prev=5,t=(0,g.Yc)(o)?tp:tm,a=tN(tN({},(0,g.vl)(d,s)),{},{pagination:{bookmark:1,pageSize:Math.max(Q.L8,q.totalResultCount)}}),e.next=10,t(i,a,!1);case 10:tw(tS(e.sent.rows,a.columns,s,n),"metrics_".concat(w,"_to_").concat(j,".csv")),r(function(e){var t=e.hideToast;return(0,x.jsx)(eW.Z,{duration:1200,onHide:t,text:n._('Successfully exported table', '[m10n] businessReporting.downloadSuccessful.text', 'A toast message to user when the report is being downloaded successfully'),type:"success"})}),ei({event_type:15599,view_type:603,view_parameter:3830,component:14321,aux_data:(0,g.Yc)(o)?{business_hierarchy_id:i}:{business_id:i}}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),r(function(e){var t=e.hideToast;return(0,x.jsx)(eW.Z,{duration:1200,onHide:t,text:n._('Something went wrong, please try again', '[m10n] businessReporting.downloadFailed.text', 'A toast shown to users when the report download failed'),type:"error"})}),ei({event_type:15600,view_type:603,view_parameter:3830,component:14321,aux_data:(0,g.Yc)(o)?{business_hierarchy_id:i}:{business_id:i}});case 22:$(!1);case 23:case"end":return e.stop()}},e,null,[[5,18]])})),function(){return t.apply(this,arguments)});(0,u.useEffect)(function(){(0,tO.nP)("web.business_manager.business_overview.view",{sampleRate:1})},[]),(0,u.useEffect)(function(){function e(){return(e=tB(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_({type:tb.qk}),e.next=4,(0,b.Z)([{entity_id:i,entity_type:(0,g.yI)(o),property_keys:["BUSINESS_REPORTING_CONFIG"]}]);case 4:r=tP((null==(t=e.sent[0].properties)?void 0:t.BUSINESS_REPORTING_CONFIG)||{},s,n),_({type:tb.KH,payload:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),_({type:tb.rO}),(0,tO.nP)("reporting.getMultipleBizEntityProperties.error",{sampleRate:1,tags:{source:"businessReporting",userRole:o}});case 14:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[i,s,n,o]),(0,u.useEffect)(function(){var e,t=(e=tB(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tz.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(t)});case 3:_({type:"fetchChildBusinessSuccess",payload:((null==(n=e.sent.resource_response.data)?void 0:n.children)||[]).reduce(function(e,t){var n=t.user;return n?[].concat(tD(e),[{fullName:n.full_name,id:n.id}]):e},[])}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])})),function(t){return e.apply(this,arguments)});(0,g.Yc)(o)&&t(i)},[i,o]),(0,u.useEffect)(function(){var e,t,n=(e=tB(regeneratorRuntime.mark(function e(t){var n,s,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,tC.lo)({businessId:t});case 2:return s=e.sent.map(function(e){return e.asset_id}),e.next=6,(0,tc.pI)({assetIds:s,businessId:t,resourceType:"ASSET_GROUP",limit:l.xX});case 6:return i=(null==(r=e.sent)||null==(n=r.data)?void 0:n.data)||{},e.abrupt("return",s.reduce(function(e,t){var n=i[t];return n&&e.push({name:n.asset.name,id:t}),e},[]));case 9:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),s=(t=tB(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,g.Yc)(s)){e.next=9;break}return e.next=4,(0,tC.Xw)({businessHierarchyId:t});case 4:e.t1=function(e){return!!e},e.t2=function(e){return{name:e.name,id:e.asset_id}},e.t0=e.sent.filter(e.t1).map(e.t2),e.next=12;break;case 9:return e.next=11,n(t);case 11:e.t0=e.sent;case 12:_({type:"fetchAssetGroupsSuccess",payload:e.t0}),e.next=18;break;case 16:e.prev=16,e.t3=e.catch(0);case 18:case"end":return e.stop()}},e,null,[[0,16]])})),function(e,n){return t.apply(this,arguments)});(0,g.Uy)(o)&&s(i,o)},[i,o]),(0,u.useEffect)(function(){try{if(h){var e=(0,g.wG)({campaignStatuses:O,clickWindowDays:T,columns:k,conversionReportTime:N,countries:B,currencyDisplay:P,datePresetId:z,endDate:j,engagementWindowDays:D,entityId:i,excludedAdvertiserIds:U,ingestionSources:L,isActiveAdvertiserOnly:M,objectiveTypes:C,pageSize:Y.pageSize,sort:F,startDate:w,userRole:o,viewWindowDays:R});(0,f.Z)(e)}}catch(e){(0,tO.nP)("reporting.setMultipleBizEntityPropertiesFullUpdate.error",{sampleRate:1,tags:{source:"businessReporting",userRole:o}})}},[h,O,T,k,N,B,P,z,j,D,i,U,L,M,C,Y.pageSize,F,w,o,R,n]),(0,u.useEffect)(function(){var e,t=(e=tB(regeneratorRuntime.mark(function e(){var t,r,a,l,c,u,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,g.vl)(d,s),r=(0,g.Wg)(es,t),!(!p||er!==i||r.length>0)){e.next=18;break}return _({type:tb.a_}),e.prev=4,a=(0,g.Yc)(o)?tp:tm,l=r.some(function(e){return"sort"!==e&&"pagination"!==e})||!p||er!==i,c=[a(i,t,!1)].concat(tD(l?[a(i,(0,g.fX)(d,s,n),!0)]:[])),e.next=10,Promise.all(c);case 10:h=tN({rows:(u=e.sent)[0].rows,totalResultCount:u[0].totalResultCount},u[1]&&{aggregatedRow:u[1].rows[0]}),(0,eG.ZP)((0,g.vl)(en.current,s),t)&&(h.rows.length>0||!(0,eG.ZP)((0,Q.YN)(s),(0,g.WA)(d))?_({type:tb.qY,payload:h}):_({type:tb.ai}),ei({event_type:8109,view_type:603,view_parameter:3830,component:14321,aux_data:{entity_id:i,entity_type:(0,g.B6)(o)}})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),_({type:tb.bZ,error:e.t0});case 18:case"end":return e.stop()}},e,null,[[4,15]])})),function(){return e.apply(this,arguments)});h&&t()},[p,i,w,j,C,O,N,L,T,D,R,B,k,M,U,Z,V,W,F,Y,h]),(0,u.useEffect)(function(){ei({event_type:13,view_type:603,view_parameter:3830,aux_data:{entity_id:i,entity_type:(0,g.B6)(o)}})},[i,ei,o]);var el=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n={startDate:w,endDate:j,datePresetId:z,viewWindowDays:R,clickWindowDays:T,engagementWindowDays:D,currencyDisplay:P,objectiveTypes:a.objectiveTypes,campaignStatuses:a.campaignStatuses,isActiveAdvertiserOnly:a.isActiveAdvertiserOnly,excludedAdvertiserIds:a.excludedAdvertiserIds,selectedAssetGroups:a.selectedAssetGroups,selectedChildBusinesses:a.selectedChildBusinesses,countries:a.countries,ingestionSources:a.ingestionSources,columns:k,conversionReportTime:N,advertiserSearchTerm:W};_({type:"updateFilter",payload:e?(0,Q.YN)(s):n}),ei({event_type:101,view_type:603,view_parameter:3830,component:14322,element:13516,aux_data:{element_name:t,entity_id:i,entity_type:(0,g.B6)(o)}})},ec=(0,g.WA)(d);return(0,x.jsx)(m.xu,{"data-test-id":"business-reporting",children:p?(0,x.jsxs)(m.kC,{direction:"column",gap:{column:3,row:0},children:[(0,x.jsxs)(m.xu,{children:[(0,x.jsx)(tZ,{}),(0,x.jsx)(m.xv,{color:"subtle",overflow:"noWrap",size:"200",children:n._('Display of all ad accounts that you have access to', '[m10n] businessReporting.subheader.descriptionText', 'Subheader displayed in the business overview widget to explain what widget does')})]}),(0,x.jsxs)(m.kC,{alignItems:"end",direction:"row",gap:2,justifyContent:"start",children:[(0,x.jsx)(m.kC.Item,{flex:"grow",children:(0,x.jsx)(m.xu,{children:(0,x.jsx)(S,{advertiserSearchTerm:d.advertiserSearchTerm,entityId:i,onAdvertiserSearchTermChange:function(e){_({type:tb.kJ,payload:e})},userRole:o})})}),(0,x.jsx)(m.kC.Item,{flex:"none",children:(0,x.jsx)(m.xu,{children:(0,x.jsx)(e3,{applyFilter:function(e){_({type:"updateFilter",payload:e})},assetGroups:G,childBusinesses:H,entityId:i,filter:ec,isCatalogsEnabled:eo,userRole:o})})}),(0,x.jsxs)(m.kC.Item,{flex:"none",children:[(0,x.jsx)(m.xu,{ref:et,alignItems:"center",display:"flex",height:44,justifyContent:"center",position:"relative",children:(0,x.jsx)(m.hU,{accessibilityLabel:n._('Download table', '[m10n] businessReporting.downloadTable.button.accessibilityLabel.text', 'Icon Button text to download table'),bgColor:"white",dataTestId:"download-button",disabled:ee,icon:"download",onClick:ea,size:"md",tooltip:{text:ee?n._('Unable to export table with more than 2500 accounts', '[m10n] businessReporting.downloadFailedWithTooManyRows.tooltip.text', 'A tooltip shown to users that the report cannot be downloaded due to table having more than 2500 rows'):n._('Export table', '[m10n] businessReporting.downloadTable.tooltip.text', 'A download table tooltip shown to users'),idealDirection:"left"}})}),et&&(0,x.jsx)(m.mh,{zIndex:new m.Ry(1),children:(0,x.jsx)(tI.Qp,{anchor:et.current,experienceIds:[506530],flyoutSize:"sm",idealDirection:"left",placementId:1000303,showCaret:!0})})]})]}),(0,x.jsx)(e9,{clearFilters:el,filter:ec,isCatalogsEnabled:eo}),(0,x.jsx)(tl,{bookmark:Y.bookmark,clearFilters:el,columns:k,entityId:i,error:K,isLoading:A,metrics:q.rows,onPaginationChange:function(e){_({type:tb.yA,payload:e})},onSortChange:function(e){_({type:tb.KW,payload:e})},pageSize:Y.pageSize,sort:F,startDate:w,summary:q.aggregatedRow,totalResultCount:q.totalResultCount,userRole:o})]}):(0,x.jsxs)(m.kC,{direction:"column",children:[(0,x.jsx)(tZ,{}),(0,x.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",minHeight:200,paddingX:8,children:(0,x.jsx)(m.kC,{alignItems:"center",direction:"column",gap:{row:0,column:4},height:"100%",justifyContent:"center",children:(0,x.jsx)(I,{error:K,isLoading:A,userRole:o})})})]})})}var tV=n(475916),tG=n(317747),tW=n(821342),tF=n(378888),tY=n(701831),tq=n(53446),tK=n(814369),tQ=n(707152),tJ=n(474376);function tX(e){return(tX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function t0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}var t1=function(e){var t=e.name,n=e.email,s=e.image,r=e.viewer,i=e.userId,o=e.isLinkedBusiness,a=(0,v.ZP)(),c=r.isAuth?null==r?void 0:r.avatar_color_index:void 0;return(0,x.jsxs)(m.xu,{display:"flex",marginBottom:3,children:[(0,x.jsx)(m.xu,{height:48,width:48,children:(0,x.jsx)(m.qE,{color:c,name:t,size:"md",src:s})}),(0,x.jsxs)(m.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,width:"calc(100% - 48px)",children:[(0,x.jsx)(m.xu,{children:(0,x.jsx)(m.xv,{color:"dark",lineClamp:1,overflow:"breakAll",size:"200",weight:"normal",children:(0,tY.aV)(r,i,t||"",a)})}),(0,x.jsxs)(m.kC,{alignItems:"center",flex:"grow",children:[(0,x.jsx)(m.xv,{color:"subtle",lineClamp:1,overflow:"breakAll",size:"200",children:(0,tY.JS)(r,i,n,o,a)}),!o&&(0,x.jsx)(tK.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=tX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=tX(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tX(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({dangerouslySetSmallMarginTop:.5,page:l.Q6.DASHBOARD,text:n},(0,tQ.i)(tQ.O.ADMIN_EMAIL,a)))]})]})]})},t2=function(e){var t,n=e.isOwner,s=e.setHasAdmins,r=e.isBusinessHierarchyDashboard,i=(0,v.ZP)(),o=(0,j.KJ)(),a=(0,tW.Z)(),c={id:o,limit:l.cU,filters:{business_roles:["BIZ_ADMIN"]},sortBy:"full_name",sortDirection:l.IR.ASCENDING},d=function(e){if(Array.isArray(e))return e}(t=(0,tq.Z)(function(e){return(0,tJ.dF)(e,l.cU,"PEOPLE")},!1,c))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),4!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,4)||function(e,t){if(e){if("string"==typeof e)return t$(e,4);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t$(e,4):void 0}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=d[0],h=d[1],p=d[2],b=d[3];if((0,u.useEffect)(function(){o&&""!==o&&b(c)},[o]),p||h||!_)return null;var f=null==_?void 0:_.data.data,g=a.isAuth?a.id:void 0,y=f.filter(function(e){return e.user.id!==g});if(s&&0===y.length)return s(!1),null;var A=void 0!==r&&r?y:f;return(0,x.jsxs)(m.xu,{"data-test-id":"business-dashboard-admins",children:[(null==A?void 0:A.length)>0&&(0,x.jsx)(m.xu,{marginBottom:4,marginTop:n?8:void 0,children:(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:i._('Managers', '[m10n]businessManager.dashboard.businessmanagers.title', 'Heading for Business Manager managers sections on Dashboard page')})}),A.map(function(e){if(!(null!=e&&e.user))return null;var t=e.user,n=t.username,s=t.full_name,r=t.email,i=t.image_small_url,o=t.id,l=t.is_linked_business;return(0,x.jsx)(t1,{email:r,image:i,isLinkedBusiness:l,name:s,userId:o,viewer:a},"admin-".concat(n))})]})},t3=n(203975),t6=n(371767),t8=function(){var e,t,n,s,r,i,o,a,c=(0,v.ZP)(),_=(0,j.KJ)(),h=(0,tW.Z)(),p=h.isAuth?h.id:"",b=h.isAuth?null==h?void 0:h.avatar_color_index:void 0,f=(0,d.v9)(t3.ZP),g=_===p?(0,t6.Z)(h):null==f?void 0:f.find(function(e){var t;return(null==(t=e.user)?void 0:t.id)===_});if(!g||!h.isAuth)return null;var y=l.V3.EMPLOYEE;_===p?y=l.V3.OWNER:g&&(null==(e=g.business_roles)?void 0:e.some(function(e){return e===l.V3.BIZ_ADMIN}))&&(y=l.V3.BIZ_ADMIN);var A=(t=y)===l.V3.OWNER?{roleText:c._('Account owner', 'businessaccess.dashboard.viewer.role.owner', 'Description of attributes for owner role'),roleTooltipText:c._('As the account owner, you have full control over this business account. You can add and remove people, partners and ad accounts, as well as control the account\u2019s profile and settings. This role cannot be granted to others at this time.', 'businessaccess.dashboard.viewer.role.owner.description', 'Description of attributes for owner role')}:t===l.V3.BIZ_ADMIN?{roleText:c._('Manager', 'businessaccess.dashboard.viewer.role.manager', 'Description of attributes for manager role'),roleTooltipText:c._('As a manager, you can view, add and remove people, ad accounts, and partners. You can also work on ad accounts you\u2019ve been granted access to.', 'businessaccess.dashboard.viewer.role.manager.description', 'Description of attributes for manager role')}:{roleText:c._('Employee', 'businessaccess.dashboard.viewer.role.employee', 'Description of attributes for employee role'),roleTooltipText:c._('As an employee, you can only see and work on ad accounts you\u2019ve been granted access to. You cannot view, add or remove people, ad accounts, or partners. Contact an administrator if you need your role to be upgraded.', 'businessaccess.dashboard.viewer.role.employee.description', 'Description of attributes for employee role')},P=A.roleText,S=A.roleTooltipText,w=h.username;return y!==l.V3.OWNER&&g&&(w=(null==g||null==(a=g.user)?void 0:a.full_name)||""),(0,x.jsxs)(m.xu,{marginBottom:8,children:[(0,x.jsx)(m.xu,{display:"inlineBlock",marginBottom:6,position:"relative",children:y!==l.V3.OWNER?(0,x.jsxs)(u.Fragment,{children:[g.user&&"image_xlarge_url"in g.user&&(null==(n=g.user)?void 0:n.image_xlarge_url)&&(0,x.jsx)(m.qE,{color:g?null==(s=g.user)?void 0:s.avatar_color_index:void 0,name:null!=(r=null==(i=g.user)?void 0:i.full_name)?r:"",size:"xl",src:g.user.image_xlarge_url}),(0,x.jsx)(m.xu,{borderStyle:"shadow",bottom:!0,marginBottom:-3,position:"absolute",right:!0,rounding:"circle",children:(0,x.jsx)(m.qE,{color:b,name:h.fullName,size:"md",src:h.imageMediumUrl})})]}):(0,x.jsx)(m.qE,{color:b,name:h.fullName,size:"xl",src:h.imageXLargeUrl})}),(0,x.jsx)(m.xu,{marginBottom:6,children:(0,x.jsxs)(m.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,x.jsx)(m.xu,{"data-test-id":"business-dashboard-user-name",children:(0,x.jsx)(m.X6,{size:"400",children:h.fullName})}),(0,x.jsx)(m.xv,{color:"subtle",children:w})]})}),(0,x.jsx)(m.xu,{marginBottom:4,children:(0,x.jsxs)(m.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,x.jsxs)(m.xv,{size:"200",weight:"bold",children:[c._('Role', 'businessaccess.dashboard.viewer.role', 'Email for Business Access Dashboard viewer'),(0,x.jsx)(m.u,{inline:!0,text:S,children:(0,x.jsx)(m.xu,{paddingX:2,children:(0,x.jsx)(m.JO,{accessibilityLabel:"Role description",color:"subtle",icon:"info-circle",inline:!0})})})]}),(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:P})]})}),(0,x.jsx)(m.xu,{"data-test-id":"business-dashboard-user-email",children:g?(0,x.jsx)(m.xu,{children:(0,x.jsxs)(m.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,x.jsx)(m.xv,{size:"200",weight:"bold",children:c._('Email', 'businessaccess.dashboard.viewer.email', 'Email for Business Access Dashboard viewer')}),(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:(0,tY.JS)(h,h.id,h.email,!!(null!=(o=h.partner)&&o.is_linked_business),c)})]})}):(0,x.jsx)(m.xu,{})})]})},t4=(0,x.jsx)("svg",{fill:"none",height:"75",viewBox:"0 0 13 75",width:"13",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M1 0V22C1 38.4183 7.58172 38 9 38H13",stroke:"#E9E9E9",strokeWidth:"2"})}),t5=(0,x.jsx)("svg",{fill:"none",height:"75",viewBox:"0 0 13 75",width:"13",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M1 0V37M1 37H13M1 37V75",stroke:"#E9E9E9",strokeWidth:"2"})}),t9=n(122210),t7=n(435739);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=ne(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ni=function(e){var t=e.owner,n=(0,v.ZP)(),s=!t.is_linked_business,r=(0,tW.Z)(),i=r.isAuth?null==r?void 0:r.avatar_color_index:void 0,o=(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(m.xv,{color:"subtle",lineClamp:1,overflow:s?"breakAll":void 0,size:"200",children:s?t.email:n._('No email address available', 'businessaccess.dashboard.sidebar.lba.email', 'Message for accounts that we can not show their email')}),s&&(0,x.jsx)(tK.Z,nr({dangerouslySetSmallMarginTop:.5,page:l.Q6.DASHBOARD,text:t.email},(0,tQ.i)(tQ.O.OWNER_EMAIL,n)))]});return(0,x.jsxs)(m.xu,{"data-test-id":"business-dashboard-account-owner",children:[(0,x.jsx)(m.xu,{marginBottom:4,children:(0,x.jsx)(m.xv,{size:"100",weight:"bold",children:n._('Business information', '[m10n]businessAccess.businessManagers.heading', 'Title for the business managers tree')})}),(0,x.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,x.jsx)(m.xu,{height:48,width:48,children:(0,x.jsx)(m.qE,{color:i,name:t.full_name,size:"md",src:t.image_medium_url})}),(0,x.jsxs)(m.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,width:"calc(100% - 48px)",children:[(0,x.jsx)(m.xv,{size:"200",weight:"normal",children:t.full_name}),(0,x.jsx)(m.kC,{alignItems:"center",flex:"grow",children:r.isAuth&&r.id===t.id?n._('Your business', 'businessaccess.dashboard.sidebar.own.business', 'Text to say that the authenticated user is the business owner'):o})]})]})]})},no=function(e){var t=e.business_roles,n=e.name,s=e.email,r=e.image,i=e.userId,o=e.isLinkedBusiness,a=(0,v.ZP)(),c=(0,tW.Z)(),u=c.isAuth?null==c?void 0:c.avatar_color_index:void 0;return(0,x.jsxs)(m.kC,{alignItems:"center",children:[(0,x.jsx)(m.xu,{height:48,width:48,children:(0,x.jsx)(m.qE,{color:u,name:n,size:"md",src:r})}),(0,x.jsxs)(m.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,width:"calc(100% - 48px)",children:[(0,x.jsx)(m.xv,{color:"dark",lineClamp:1,overflow:"breakAll",size:"200",weight:"normal",children:n}),(0,x.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:2,marginBottom:-2}},children:(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:null==t?void 0:t.map((0,t7.B)(a)).join(",")})}),(0,x.jsxs)(m.kC,{alignItems:"center",flex:"grow",children:[(0,x.jsx)(m.xv,{color:"subtle",lineClamp:1,overflow:"breakAll",size:"200",children:(0,tY.JS)(c,i,s,o,a)}),!o&&(0,x.jsx)(tK.Z,nr({dangerouslySetSmallMarginTop:.5,page:l.Q6.DASHBOARD,text:s},(0,tQ.i)(tQ.O.ADMIN_EMAIL,a)))]})]})]})},na=function(e){var t=(0,u.useMemo)(function(){return{id:e,limit:l.cU,filters:{business_roles:["BIZ_ADMIN"]},sortBy:"full_name",sortDirection:l.IR.ASCENDING}},[e]),n=nt((0,tq.Z)(function(e){return(0,tJ.dF)(e,l.cU,"PEOPLE")},!1,t),4),s=n[0],r=n[1],i=n[2],o=n[3],a=(s||r)&&!i;(0,u.useEffect)(function(){e&&""!==e&&!a&&o(t)},[e,a,t]);var c=null==s?void 0:s.data.data;return!c||i||r?[]:c},nl=function(e){var t=e.admins;return(0,x.jsx)(m.xu,{"data-test-id":"business-dashboard-admins",children:t.map(function(e,n){if(!(null!=e&&e.user))return null;var s=e.business_roles,r=e.user,i=r.username,o=r.full_name,a=r.email,l=r.image_small_url,c=r.id,u=r.is_linked_business;return(0,x.jsxs)(m.kC,{children:[(0,x.jsx)(m.xu,{alignContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:"22px"}},display:"flex",children:n===t.length-1?t4:t5}),(0,x.jsx)(m.xu,{paddingY:2,children:(0,x.jsx)(no,{business_roles:s,email:a,image:l,isLinkedBusiness:u,name:o,userId:c})})]},"admin-".concat(i))})})},nc=function(e){var t=nt((0,tq.Z)(t9.kY,!1),4),n=t[0],s=t[1],r=t[2],i=t[3],o=(n||s)&&!r;(0,u.useEffect)(function(){e&&""!==e&&!o&&i({id:e})},[e,o]);var a=null==n?void 0:n.data.owner;return!a||r||s?null:a},nu=function(){var e=(0,j.KJ)(),t=nc(e),n=na(e),s=(0,tW.Z)();if(!t)return null;var r=n?n.filter(function(e){return s.isAuth&&e.user.id!==s.id}):[];return(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(ni,{owner:t}),r.length>0&&(0,x.jsx)(nl,{admins:r})]})},nd=n(789877),n_=n(18468),nh=n(902390),nm=n(383873),np=n(16135);function nb(e){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function ng(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=nb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=nb(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nb(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ny(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}var nA=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n){var s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={updateTotalCountOnly:!0,page:1,searchBy:"",limit:1},(r=[n((0,np.JC)(ng(ng({},s),{},{sortBy:"full_name",businessId:e}))),n((0,nh.cE)(ng(ng({},s),{},{businessId:e,sortBy:"name"})))]).push(n((0,nm.Eg)(ng(ng({},s),{},{sortBy:"full_name",businessId:e})))),t.next=5,Promise.all(r);case 5:case"end":return t.stop()}},t)}),n=function(){var e=this,n=arguments;return new Promise(function(s,r){var i=t.apply(e,n);function o(e){ny(i,s,r,o,a,"next",e)}function a(e){ny(i,s,r,o,a,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)}},nv=n(209257),nx=n(268043),nP=n(789349),nS=n(765320),nw=(0,nv.createSelector)(nS.gB,nP._1,nx.wk,function(e,t,n){return e||t||n}),nj=(0,nv.createSelector)(nS.Bk,nP.nn,nx.fp,function(e,t,n){return{employeeCount:e,partnerCount:t,adAccountCount:n}});function nI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var nz=function(e){var t=e.title,n=e.message,s=e.buttonText,r=e.pageType,i=e.modalType,o=e.column,a=e.marginStart,l=(0,h.s0)(),c=(0,j.KJ)(),u=(0,(0,E.Z)().checkExperiment)("web_m10n_business_hierarchy_alpha").anyEnabled,d=(0,nd.Z)(r,c)+"?intentType=".concat(i);return u?(0,x.jsxs)(m.xu,{borderStyle:"sm",color:"light",column:o,dangerouslySetInlineStyle:{__style:{borderColor:n_.iiJ}},direction:"column",display:"flex",marginStart:a,padding:4,rounding:4,children:[(0,x.jsx)(m.X6,{size:"400",children:t}),(0,x.jsx)(m.xu,{marginTop:2,children:(0,x.jsx)(m.xv,{color:"subtle",children:n})}),(0,x.jsx)(m.xu,{marginTop:5,children:(0,x.jsx)(m.zx,{onClick:function(){l(d)},text:s})})]}):(0,x.jsxs)(m.UQ,{id:t,children:[(0,x.jsx)(m.X6,{size:"400",children:t}),(0,x.jsx)(m.xu,{marginTop:2,children:(0,x.jsx)(m.xv,{color:"subtle",children:n})}),(0,x.jsx)(m.xu,{marginTop:5,children:(0,x.jsx)(m.zx,{fullWidth:!0,onClick:function(){l(d)},text:s})})]})},nC=function(e){var t=e.column,n=e.marginStart,s=(0,v.ZP)();return(0,x.jsx)(nz,{buttonText:s._('Add employees', 'bizAccess.dashboard.activationCard.button', 'Button on card prompting user to add employees to account'),column:t,marginStart:n,message:s._('Manage who works in your business and which ad accounts they\'re assigned to', 'bizAccess.dashboard.activationCard.message', 'Message of card prompting user to add employees to account'),modalType:"ADD_EMPLOYEE",pageType:"PEOPLE",title:s._('Set up your team', 'bizAccess.dashboard.activationCard.title', 'Title of card prompting user to add employees to account')})},nE=function(e){var t=e.column,n=e.marginStart,s=(0,v.ZP)();return(0,x.jsx)(nz,{buttonText:s._('Add partners', 'bizAccess.dashboard.activationCard.button', 'Button on card prompting user to add partners to account'),column:t,marginStart:n,message:s._('Collaborate with external businesses on ad accounts and tools', 'bizAccess.dashboard.activationCard.message', 'Message of card prompting user to add partners to account'),modalType:"INVITE_REQUEST_PARTNER",pageType:"PARTNERS",title:s._('Create partnerships', 'bizAccess.dashboard.activationCard.title', 'Title of card prompting user to add partners to account')})},nO=function(e){var t=e.column,n=e.marginStart,s=(0,v.ZP)();return(0,x.jsx)(nz,{buttonText:s._('Set up accounts', 'bizAccess.dashboard.activationCard.button', 'Button on card prompting user to add accounts to business'),column:t,marginStart:n,message:s._('Create and manage ad accounts for your business', 'bizAccess.dashboard.activationCard.message', 'Message of card prompting user to add accounts to business'),modalType:"CREATE_AD_ACCOUNT",pageType:"AD_ACCOUNTS",title:s._('Set up ad accounts', 'bizAccess.dashboard.activationCard.title', 'Title of card prompting user to add accounts to business')})},nT=function(){var e=(0,d.I0)(),t=(0,j.KJ)(),n=(0,d.v9)(nw),s=(0,d.v9)(nj),r=s.employeeCount,i=s.partnerCount,o=s.adAccountCount,a=(0,(0,E.Z)().checkExperiment)("web_m10n_business_hierarchy_alpha").anyEnabled;(0,u.useEffect)(function(){t&&e(nA(t))},[t]);var l=[[r,nC],[i,nE],[o,nO]].reduce(function(e,t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return nI(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nI(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=n[0],r=n[1];return 0===s?e.concat(r):e},[]);if(n||0===l.length)return null;if(a){var c=function(e){switch(e){case 4:return 4;case 6:return 6;default:return 12}};return(0,x.jsx)(m.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"between",marginBottom:4,children:l.map(function(e,t,n){var s=c(12/n.length);return(0,x.jsx)(e,{column:s,marginStart:4*(t>0)},t)})})}return(0,x.jsx)(m.xu,{display:"flex",marginEnd:8,paddingY:2,wrap:!0,children:l.map(function(e,t,n){var s=t%2==0&&!n[t+1],r=16*(t%2!=0);return s?(0,x.jsx)(m.xu,{marginTop:4*(0!==t),width:"100%",children:(0,x.jsx)(e,{})},t):(0,x.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:r}},display:"flex",width:"50%",children:(0,x.jsx)(e,{})},t)})})},nD=n(355940),nR=n(539398),nN=n(634327),nL=n(985817),nB=n(184954),nk=n(354973),nM=n(233519),nU=n(417245),nZ=n(694955),nH=n(979658),nV=function(e){var t=e.invite,n=e.page,s=(0,v.ZP)(),r=(0,nH.y)().openSheet,i=(0,nM.ZP)(n?(0,nM.QK)(n):"BIZ_HUB_PAGE"),o=t.sender_business_hierarchy,a=t.receiver_user_info,l=t.invite_data,c=(0,nB.NM)().selectedAccount,u=(null==c?void 0:c.name)||"";if(!o||!a||!l)return null;var d=l.invite_type,_=(0,nU.Z)(s._('{{hierarchyName}} has requested to add {{businessName}} to their business hierarchy', '[m10n]businessAccess.bizHub.businessHierarchyInviteBanner.description', 'Description providing more details to the user about the business hierarchy invite. hierarchyName: the name of the business hierarchy that created the invite businessName: the full name on the receipient business account'),{hierarchyName:o.name||"",businessName:u||a.full_name||""}),h=(0,nU.Z)(s._('{{hierarchyName}} has invited {{receiverEmail}} to be manager of their Business hierarchy', '[m10n]businessAccess.bizHub.businessHierarchyOMInviteBanner.description', 'Description providing more details to the user about the business hierarchy organization manager invite. hierarchyName: the name of the business hierarchy that created the invite receiverEmail: the email of the receipient user account'),{hierarchyName:o.name||"",receiverEmail:u||a.email||""});return(0,x.jsx)(m.ci,{iconAccessibilityLabel:s._('Info', '[m10n]businessAccess.bizHub.businessHierarchyInviteBanner.title', 'A11y description of info icon in invite banner for pending viewer business hierarchy invite'),message:d===nk.Fe.BUSINESS_HIERARCHY_MEMBER?h:_,primaryAction:{accessibilityLabel:s._('View invitation', '[m10n]businessAccess.bizHub.businessHierarchyInviteBanner.primaryAction.accessibilityLabel', 'A11y label for the view invitation button primary call to action'),label:s._('View invitation', '[m10n]businessAccess.bizHub.businessHierarchyInviteBanner.primaryAction.label', 'Button to view the business hierarchy invitation'),onClick:function(){r("BUSINESS_HIERARCHY_INVITE_REVIEW",{id:t.id||""}),i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"viewer-business-hierarchy-invite-banner",element:"BUSINESS_ACCESS_BUTTON",elementId:"viewer-business-hierarchy-invite-banner-view-invitation-button"})}},secondaryAction:{accessibilityLabel:s._('Learn more', '[m10n]businessAccess.bizHub.businessHierarchyInviteBanner.secondaryAction.accessibilityLabel', 'A11y label for the view invitation button secondary call to action learn more link'),label:s._('Learn more', '[m10n]businessAccess.bizHub.businessHierarchyInviteBanner.secondaryAction.label', 'Button to navigate to information about business hierarchies and invites to join them'),href:"".concat(nZ.gOE,"business/article/create-and-manage-accounts"),target:"blank",onClick:function(){i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"viewer-business-hierarchy-invite-banner",element:"BUSINESS_ACCESS_LINK",elementId:"viewer-business-hierarchy-invite-banner-learn-more-link"})},role:"link"},title:(0,nU.Z)(s._('Invitation to join {{hierarchyName}}\'s business hierarchy', '[m10n]businessAccess.bizHub.businessHierarchyInviteBanner.title', 'Text informing user they have a business hierarchy invite. hierarchyName: the name of the business hierarchy that created the invite'),{hierarchyName:o.name||""}),type:"info"})},nG=function(e){var t=e.businessId,n=e.page,s=(0,v.ZP)(),r=(0,nM.ZP)(n?(0,nM.QK)(n):"BIZ_HUB_PAGE");return(0,x.jsx)(m.ci,{iconAccessibilityLabel:s._('you have a pending partner invite or request', '[m10n]businessAccess.BizHub.PartnerBanner.Title', 'accessibility label for partner callout'),message:s._('View pending partners to respond to the invite or request.', '[m10n]businessAccess.BizHub.PartnerBanner.Subtext', 'Subtext providing more details to the user about the request.'),primaryAction:{accessibilityLabel:s._('View pending partners', '[m10n]businessAccess.BizHub.PartnerBanner.AccessibilityLabel', 'accessibility label for view partners'),label:s._('View pending partners', '[m10n]businessAccess.BizHub.PartnerBanner.Label', 'View partners banner link'),href:(0,nd.Z)(l.Q6.PARTNERS_PENDING_TAB,t),onClick:function(){r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"partner-request-banner",element:"BUSINESS_ACCESS_LINK",elementId:"partner-request-banner-link",business_id:t})},role:"link"},title:s._('You have a pending partner', '[m10n]businessAccess.BizHub.PartnerBanner.Title', 'Text informing user they have an partner request or invite.'),type:"info"})},nW=n(566470),nF=n(700597),nY=n(319839),nq=n(747911),nK=n(691731),nQ=n(122342),nJ=n(587702),nX=function(e,t,n){return(0,nv.createSelector)((0,nv.createSelector)(t3.ZP,function(s){return s&&(0,t7._4)(s,e,t,n)}),function(e){return"BIZ_ADMIN"===e})},n$=n(371041);function n0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n1(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n1(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var n2=function(){var e=(0,j.KJ)(),t=(0,d.I0)(),n=(0,E.Z)().checkExperiment,s=n("web_m10n_business_hierarchy_alpha").anyEnabled,r=n("web_m10n_business_hierarchy_beta").anyEnabled,i=(0,nY.Z)().inRmnFoundations,o=(0,tW.Z)(),a=o.isAuth?o.id:"",c=(0,p.g)().businessHierarchies,_=(0,d.v9)(nX(e,c,r)),h=(0,d.v9)(n$.St),b=(0,d.v9)(n$.GJ),f=n0(h?b:[void 0],1)[0],g=!!(0,d.v9)((0,nQ.Ps)(e)),y=_||a===e,A=(0,d.v9)((0,nJ.Gc)(e)),v=(0,d.v9)(nJ.XD),P=n0((0,u.useState)(!1),2),S=P[0],w=P[1];(0,u.useEffect)(function(){return w(!0)},[e]),(0,u.useEffect)(function(){var n=null!=A,s=i&&null!=v;S&&(n||s)&&(t({type:"CLEAR_PENDING_DATA"}),y&&(t((0,nK.R)(["PENDING"],"PARTNER",e,!0)),i&&t((0,nK.r)(e))),w(!1))},[e,A,S,v,i]);var I=n0((0,u.useState)(!1),2),z=I[0],C=I[1],O=n0((0,u.useState)(!1),2),T=O[0],D=O[1];return(0,u.useEffect)(function(){e&&(C(A),D(!!v))},[e,A,v]),(0,x.jsx)(m.xu,{children:(0,x.jsxs)(nD.Z,{name:"BusinessAccesDashboardBanner",children:[(0,x.jsx)(nq.Z,{eligibleIds:[506160,506145],page:"BUSINESS_ACCESS_DASHBOARD"}),(0,x.jsx)(nN.Z,{placementId:1000303}),(0,x.jsx)(nL.Z,{placementId:1000303}),(0,x.jsx)(nR.Z,{placementId:1000303}),z&&(0,x.jsx)(m.xu,{marginBottom:s?4:2,marginTop:s?void 0:2,children:(0,x.jsx)(nG,{businessId:e,page:"DASHBOARD"})}),f&&(0,x.jsx)(m.xu,{"data-test-id":"bh-invite-banner",marginBottom:s?4:2,marginTop:s?void 0:2,children:(0,x.jsx)(nV,{invite:f,page:l.Q6.DASHBOARD})}),g&&(0,x.jsx)(nW.Z,{page:3668}),i&&T&&(0,x.jsx)(m.xu,{marginBottom:s?4:2,marginTop:s?void 0:2,children:(0,x.jsx)(nF.Z,{businessId:e,page:l.Q6.DASHBOARD})})]})})};function n3(e){return(n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function n8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var n4=function(){var e,t=(0,v.ZP)(),n=(0,j.KJ)(),s=(0,tW.Z)(),r=s.isAuth?null==s?void 0:s.avatar_color_index:void 0,i=function(e){if(Array.isArray(e))return e}(e=(0,tq.Z)(t9.kY,!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),4!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,4)||function(e,t){if(e){if("string"==typeof e)return n8(e,4);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n8(e,4):void 0}}(e,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],c=i[2],d=i[3];if((0,u.useEffect)(function(){n&&""!==n&&d({id:n})},[n]),c||a||!o)return null;var _=null==o?void 0:o.data.owner;if(!_)return null;var h=_.is_linked_business;return(0,x.jsxs)(m.xu,{"data-test-id":"business-dashboard-account-owner",children:[(0,x.jsx)(m.xu,{marginBottom:4,children:(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:(0,tY.CZ)(t)})}),(0,x.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,x.jsx)(m.xu,{height:48,width:48,children:(0,x.jsx)(m.qE,{color:r,name:_.full_name,size:"md",src:_.image_medium_url})}),(0,x.jsxs)(m.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,width:"calc(100% - 48px)",children:[(0,x.jsx)(m.xu,{children:(0,x.jsx)(m.xv,{size:"200",weight:"normal",children:(0,tY.aV)(s,_.id,_.full_name||"",t)})}),(0,x.jsxs)(m.kC,{alignItems:"center",flex:"grow",children:[(0,x.jsx)(m.xv,{color:"subtle",lineClamp:1,overflow:h?void 0:"breakAll",size:"200",children:h?t._('No email address available', 'businessaccess.dashboard.sidebar.lba.email', 'Message for accounts that we can not show their email'):_.email}),!h&&(0,x.jsx)(tK.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n6(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=n3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=n3(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n3(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({dangerouslySetSmallMarginTop:.5,page:l.Q6.DASHBOARD,text:_.email},(0,tQ.i)(tQ.O.OWNER_EMAIL,t)))]})]})]})]})},n5=n(552999),n9=n(572257),n7=n(10117),se=n(487847),st=n(232484);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=sn(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sn(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var so=function(e){var t,n=e.businessName,s=e.inviteId,r=(0,(0,E.Z)().checkExperiment)("web_m10n_business_hierarchy_alpha").anyEnabled,i=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return si(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],c=(0,v.ZP)(),_=(0,d.I0)(),h=(0,tW.Z)(),b=h.isAuth?h.id:"",f=(0,eF.dI)().showToast,g=(0,nM.ZP)((0,nM.QK)("EMPLOYEES_PENDING")),y=(0,j.KJ)(),A=(0,n5.Z)(),P=(0,n9.Z)(),S=(0,p.g)().fetchData;return(0,x.jsx)(m.ci,{iconAccessibilityLabel:c._('Info Alert Icon', '[m10n]businessAccess.dashboard.employeeInviteAcceptance', 'Info icon'),message:(0,C.nk)(c._('{{businessName}} invited you to work on their behalf', '[m10n]businessAccess.dashboard.employeeInviteText', 'Label for invite callout'),{businessName:n}).join(""),primaryAction:sr(sr({label:c._('Accept', '[m10n]businessAccess.dashboard.employeeInviteAccept', 'Accept button for accepting an invite'),accessibilityLabel:(0,C.nk)(c._('Accept invite from {{businessName}}', '[m10n]businessAccess.dashboard.employeeInviteAcceptAccessibilityLabel', 'Accessibility label for accepting an invite'),{businessName:n}).join("")},o?{disabled:o}:Object.freeze({})),{},{onClick:function(){a(!0),_((0,se.Ol)({acceptInviteInterface:A,businessId:y,type:"MEMBER",inviteId:s,onSuccess:function(){g({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"employee-receive-invite-dashboard",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-invite",business_id:y,employee_invite_id:s}),_(st.U),S(!0,!0),r||_((0,n7.N)(P,b,!0,!0))},onError:function(){a(!1);var e=c._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.invite.accept.error', 'Error message if accepting an invite fails');f(function(t){var n=t.hideToast;return(0,x.jsx)(eW.Z,{duration:l.QE,onHide:n,text:e,type:"error"})})}}))}}),secondaryAction:sr(sr({label:c._('Decline', '[m10n]businessAccess.dashboard.employeeInviteDecline', 'Decline button for declining an invite'),accessibilityLabel:(0,C.nk)(c._('Decline invite from {{businessName}}', '[m10n]businessAccess.dashboard.employeeInviteDeclineAccessibilityLabel', 'Accessibility label for declingin an invite'),{businessName:n}).join("")},o?{disabled:o}:Object.freeze({})),{},{onClick:function(){a(!0),_((0,se.dq)({acceptInviteInterface:A,businessId:y,type:"MEMBER",inviteId:s,onSuccess:function(){g({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"employee-receive-invite-dashboard",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-invite",business_id:y,employee_invite_id:s}),_(st.U)},onError:function(){a(!1);var e=c._('There was an error in declining the invite. Please try again.', '[m10n]bizAccess.invite.decline.error', 'Error message if declining an invite fails');f(function(t){var n=t.hideToast;return(0,x.jsx)(eW.Z,{duration:l.QE,onHide:n,text:e,type:"error"})})}}))}}),type:"info"})},sa=function(e){var t=e.businessRole,n=e.isOrganizationManager,s=(0,v.ZP)(),r=(0,tW.Z)(),i=r.isAuth?null==r?void 0:r.avatar_color_index:void 0,o=(0,(0,E.Z)().checkExperiment)("web_m10n_business_manager_business_settings").anyEnabled;if(!r.isAuth)return null;var a="OWNER"!==t?[t]:null,l=r.fullName||r.username,c=r.imageMediumUrl||"";return(0,x.jsxs)(m.xu,{"data-test-id":"business-dashboard-my-information",children:[(0,x.jsx)(m.xu,{marginBottom:4,children:o?(0,x.jsx)(m.xv,{size:"100",weight:"bold",children:s._('Your information', '[m10n]businessManager.dashboard.yourInformation.title', 'Heading for Your Information section on Business Manager Dashboard')}):(0,x.jsx)(m.xv,{size:"400",weight:"bold",children:s._('My information', '[m10n]businessManager.dashboard.myInformation.title', 'Heading for My Information section on Business Manager Dashboard')})}),(0,x.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[o?(0,x.jsx)(m.xu,{height:64,width:64,children:(0,x.jsx)(m.qE,{color:i,name:l,size:"lg",src:c})}):(0,x.jsx)(m.xu,{height:48,width:48,children:(0,x.jsx)(m.qE,{color:i,name:l,size:"md",src:c})}),(0,x.jsxs)(m.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,width:"calc(100% - 48px)",children:[(0,x.jsx)(m.xu,{marginBottom:1,children:(0,x.jsx)(m.xv,{size:"200",children:l})}),(0,x.jsx)(m.kC,{alignItems:"center",children:(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:n?s._('Organization manager', '[m10n]businessManager.dashboard.organizationManager.title', 'text for viewer\'s role in Business Manager Dashboard'):a?(0,tY.MX)(a,s):(0,tY.CZ)(s)})})]})]})]})},sl=n(661319),sc=function(e){var t=e.onComplete,n=e.onDismiss,s=(0,j.HU)().setOnboardingModal,r=(0,nH.y)().openSheet,i=(0,v.ZP)(),o=(0,(0,E.Z)().checkExperiment)("web_m10n_business_hierarchy_alpha").anyEnabled,a=(0,x.jsx)(m.XA,{dismissButton:{accessibilityLabel:i._('Close', '[m10n]bizAccess.dashboard.learnMore.dismissButton', 'Button to dismiss this info section'),onDismiss:n},imageData:{component:(0,x.jsx)(m.JO,{accessibilityLabel:i._('Info', '[m10n]bizAccess.dashboard.learnMore.icon', 'Icon next to options to learn more'),color:"shopping",icon:"info-circle",size:32})},message:i._('See how you can securely manage employees, partners, and ad accounts.', '[m10n]bizAccess.dashboard.learnMore.message', 'Message for an info section to learn more'),primaryAction:{accessibilityLabel:i._('Take a tour with more information on the feature', '[m10n]bizAccess.dashboard.learnMore.button', 'Accessibility label for button leading to a modal with more information on the feature'),label:i._('Take tour', '[m10n]bizAccess.dashboard.learnMore.button', 'Button leading to a modal with more information on the feature'),onClick:function(){s({onComplete:function(){},onDismiss:function(){}}),t()}},secondaryAction:{accessibilityLabel:i._('Open guide in help center documentation', '[m10n]bizAccess.dashboard.learnMore.button.a11y', 'Accessibility label for button leading to help center'),label:i._('Open guide', '[m10n]bizAccess.dashboard.learnMore.button', 'Button leading to help center'),onClick:function(){r("GUIDE",{}),t()}},title:i._('Learn about Business Manager', '[m10n]bizAccess.dashboard.learnMore.title', 'Title for an info section to learn more')});return o?(0,x.jsx)(m.xu,{color:"light",flex:"grow",marginBottom:4,minWidth:sl.c,rounding:4,width:"grow",children:a}):(0,x.jsx)(m.xu,{marginEnd:8,paddingY:2,children:a})},su=n(744862),sd=n(422077),s_=n(153352),sh=n(760215),sm=n(34226),sp=n(594036),sb=["secondaryText"],sf=function(){var e=(0,v.ZP)();return(0,x.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",minHeight:200,paddingX:8,children:(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},height:"100%",justifyContent:"center",children:[(0,x.jsx)(m.xv,{align:"center",size:"300",weight:"bold",children:e._('You don\'t have access to any accounts', '[m10n]bizAccess.business.dashboard.adAccount.empty.title', 'Empty state for a list of ad accounts')}),(0,x.jsx)(m.xv,{align:"center",size:"300",children:e._('Once you\'ve been granted access to ad accounts, they will show up here', '[m10n]bizAccess.business.dashboard.adAccount.empty.message', 'Empty state for a list of ad accounts')})]})})},sg=function(){var e=(0,v.ZP)(),t=(0,j.KJ)(),n=(0,j.nU)(),s=(0,tW.Z)(),r=(0,d.v9)(nx.wk),i=(0,d.v9)(nx.op),o=(0,d.I0)(),a=s.isAuth?s.id:void 0,c=(0,j.HU)().setSwitchAdAccountModal,_=(0,e6.B)().locale,h=(0,E.Z)(),b=h.checkExperiment,f=b("web_m10n_business_hierarchy_alpha").anyEnabled,g=b("web_m10n_business_hierarchy_beta").anyEnabled,y=b("web_m10n_business_access_catalogs").anyEnabled,A=(0,d.v9)((0,nv.createSelector)(sp.Xj,function(n){return n.map(function(n){var s=n.asset_id,r=n.asset,i=(r=void 0===r?{}:r).name,o=r.merchant_id,a=r.monthly_spend_cap,l=r.currency,c=n.permissions,u=void 0===c?[]:c,d=n.owner,_=(d=void 0===d?{}:d).full_name,h=d.image_small_url;return{id:s,owner_user_id:d.id,merchant_id:o,monthlySpendCap:a,permissions:u,currency:l,primaryText:i,secondaryText:s,image:h,imageAlt:_,href:(0,nd.Z)("AD_ACCOUNTS_DETAIL",t,s),metaText:(0,t7._o)(u,y).map((0,t7.e6)(e)).join((0,tY.bH)(e))}})})),P=(0,d.v9)(sh.s),S=(0,p.g)().businessHierarchies,w=(0,d.v9)(nX(t,S,g));if((0,u.useEffect)(function(){t&&(o((0,np.UQ)({detailIdOverride:a,sortBy:"name",sortDirection:l.IR.ASCENDING,searchBy:void 0,searchTerm:void 0,limit:l.xX,businessId:t,detailId:n,experimentsClient:h,includeAssetSummary:!0})),o((0,s_.B)({businessId:t})))},[t]),i)return null;if(r)return(0,x.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",minHeight:200,paddingX:8,children:(0,x.jsx)(m.xH,{accessibilityLabel:(0,tY.hC)(e),show:!0})});var I=(0,x.jsx)(u.Fragment,{children:null!=A&&A.length?(0,x.jsxs)(m.iA,{accessibilityLabel:e._('Ad Accounts Table', '[m10n]bizAccess.business.dashboard.adAccount.table.accessibilityLabel', 'Accessibility label for ad accounts table'),children:[(0,x.jsx)(m.iA.Header,{children:(0,x.jsxs)(m.iA.Row,{children:[(0,x.jsx)(m.iA.HeaderCell,{children:(0,x.jsx)(m.xv,{size:"200",weight:"bold",children:e._('Ad account name', '[m10n]bizAccess.business.dashboard.adAccount.table.header.adAccountName', 'Header for ad account name column')})}),P&&Object.keys(P).length>0&&(0,x.jsx)(m.iA.HeaderCell,{children:(0,x.jsx)(m.xv,{size:"200",weight:"bold",children:e._('Monthly spending limit', '[m10n]bizAccess.business.dashboard.adAccount.table.header.monthlySpendLimit', 'Header for monthly spend limit column')})}),(0,x.jsx)(m.iA.HeaderCell,{children:(0,x.jsx)(m.xv,{size:"200",weight:"bold",children:e._('Permissions', '[m10n]bizAccess.business.dashboard.adAccount.table.header.permissions', 'Header for permissions column')})})]})}),(0,x.jsx)(m.iA.Body,{children:A.map(function(s){var r,i=s.secondaryText,d=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(s,sb),p=(0,x.jsx)(m.kC,{alignItems:"center",gap:2,children:(0,x.jsx)(m.xv,{size:"200",weight:"bold",children:d.primaryText})}),b=(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:(0,C.nk)(e._('ID: {{id}}', '[m10n]bizAccess.business.dashboard.adAccountId', 'ID label for ad account id'),{id:i})});return(0,x.jsxs)(m.iA.Row,{children:[(0,x.jsx)(m.iA.Cell,{children:(0,x.jsxs)(m.kC,{alignItems:"center",gap:2,children:[(0,x.jsx)(su.qE,{name:d.imageAlt,size:"md",src:d.image}),(0,x.jsx)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:w&&d.href?(0,x.jsxs)(m.Tg,{href:d.href,tabIndex:-1,children:[p,b]}):(0,x.jsxs)(u.Fragment,{children:[p,b]})})]})}),P&&Object.keys(P).length>0&&(0,x.jsx)(m.iA.Cell,{children:(0,x.jsx)(sd.Z,{businessId:t,data:{asset:{id:d.id,name:d.primaryText,currency:d.currency,monthly_spend_cap:d.monthlySpendCap},permissions:d.permissions||[],metrics:{currentMonthSpend:null==P||null==(r=P[d.id])?void 0:r.currentMonthSpend}},i18n:e,locale:_,onMonthlySpendCapUpdated:function(){return o((0,np.UQ)({detailIdOverride:a,sortBy:"name",sortDirection:l.IR.ASCENDING,searchBy:void 0,searchTerm:void 0,limit:l.xX,businessId:t,detailId:n,experimentsClient:h,includeAssetSummary:!0}))}})}),(0,x.jsx)(m.iA.Cell,{children:(0,x.jsxs)(m.kC,{alignItems:"center",gap:2,children:[(0,x.jsx)(m.xv,{size:"200",children:d.metaText}),(0,x.jsx)(m.hU,{accessibilityLabel:e._('Access Ad Account', '[m10n]bizAccess.business.dashboard.adAccount', 'Icon Button to access ad account'),bgColor:"transparent",icon:"arrow-up-right",iconColor:"gray",onClick:function(){c({id:d.id,name:d.primaryText,owner_user_id:d.owner_user_id,merchant_id:d.merchant_id})},size:"xs"})]})})]},d.id)})})]}):(0,x.jsx)(sf,{})});return f?(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(m.X6,{size:"400",children:e._('Ad accounts', '[m10n]businessAccess.adAccounts.title', 'Title for the ad accounts panel')}),I]}):I};function sy(e){return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}var sv=function(e){var t=e.href,n=e.children;return t?(0,x.jsx)(m.Tg,{href:t,tabIndex:-1,children:n}):n},sx=function(e){var t=e.image,n=e.imageAlt,s=e.primaryText,r=e.secondaryText,i=e.metaText,o=e.href,a=e.onClick,l=e.iconData;return(0,x.jsx)("div",{className:"DataListItem",children:(0,x.jsxs)(m.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginTop:4,onClick:a,children:[(0,x.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(m.qE,{name:n,size:"md",src:t}),(0,x.jsx)(m.xu,{direction:"column",display:"flex",marginStart:3,children:(0,x.jsxs)(sv,{href:o,children:[(0,x.jsx)(m.xv,{size:"300",weight:"bold",children:s}),(0,x.jsx)(m.xv,{color:"subtle",size:"100",children:r})]})})]}),l&&(0,x.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(m.xu,{marginEnd:6,children:(0,x.jsx)(m.xv,{size:"200",children:i})}),l.onClick&&(0,x.jsx)(m.hU,{accessibilityLabel:l.accessibilityLabel,bgColor:"transparent",icon:l.icon,iconColor:"gray",onClick:l.onClick,size:"xs"}),l.href&&(0,x.jsx)(m.I_,{accessibilityLabel:l.accessibilityLabel,bgColor:"transparent",href:l.href,icon:l.icon,iconColor:"gray",size:"xs"})]}),!l&&o&&(0,x.jsx)(m.ZP,{accessibilityLabel:i,color:"white",href:o,text:i})]})})},sP=function(e){var t=e.data;return(0,x.jsx)(m.kC,{alignContent:"stretch",direction:"column",justifyContent:"start",minWidth:"100%",children:t.map(function(e){return(0,x.jsx)(u.Fragment,{children:(0,x.jsx)(sx,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=sy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=sy(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sy(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))},e.id)})})},sS=n(111371),sw=n(940410),sj=["secondaryText"];function sI(e){return(sI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function sC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sz(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=sI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=sI(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sI(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var sE=function(){var e=(0,v.ZP)();return(0,x.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",minHeight:200,paddingX:8,children:(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},height:"100%",justifyContent:"center",children:[(0,x.jsx)(m.xv,{align:"center",size:"300",weight:"bold",children:e._('You don\'t have access to any catalogs', '[m10n]bizAccess.business.dashboard.catalog.empty.title', 'Empty state for a list of catalogs')}),(0,x.jsx)(m.xv,{align:"center",size:"300",children:e._('Once you\'ve been granted access to catalogs, they will show up here', '[m10n]bizAccess.business.dashboard.catalog.empty.message', 'Empty state for a list of catalog')})]})})},sO=function(){var e=(0,v.ZP)(),t=(0,j.KJ)(),n=(0,tW.Z)(),s=(0,d.v9)(sw.e_),r=(0,d.v9)(sw.sA),i=(0,d.I0)(),o=n.isAuth?n.id:void 0,a=(0,d.v9)((0,nv.createSelector)(sm.TZ,function(t){return(null==t?void 0:t.map(function(t){var n=t.asset_id,s=t.asset,r=(s=void 0===s?{}:s).name,i=t.permissions,o=void 0===i?[]:i,a=t.owner,l=(a=void 0===a?{}:a).full_name,c=a.image_small_url;return{id:n,owner_user_id:a.id,permissions:o,primaryText:r,secondaryText:n,image:c,imageAlt:l,metaText:o.map((0,t7.e6)(e,!0)).join((0,tY.bH)(e))}}))||[]})).map(function(e){var n=(0,t7.IZ)({asset:{id:e.secondaryText,name:e.primaryText},asset_type:"CATALOG",type:"CATALOG",owner:{full_name:"",id:""}})||"",s=new URL(n);return s.searchParams.append("actingBusinessId",t),n=s.toString(),sC(sC({},e),{},{href:n})});if((0,u.useEffect)(function(){t&&o&&(i((0,sS.Ak)({id:o})),i((0,sS.r7)({sortBy:"name",sortDirection:l.IR.ASCENDING,searchBy:void 0,searchTerm:void 0,limit:l.xX,businessId:t},o)))},[t,i,o]),s||r)return null;var c=(0,x.jsx)(u.Fragment,{children:null!=a&&a.length?(0,x.jsx)(sP,{data:a.map(function(t){var n=t.secondaryText,s=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,sj);return sC(sC({},s),{},{secondaryText:(0,C.nk)(e._('ID: {{id}}', '[m10n]bizAccess.business.dashboard.catalogId', 'ID label for catalog id, id: catalog id'),{id:n}).join(""),href:s.href,iconData:{icon:"arrow-up-right",href:s.href,accessibilityLabel:e._('Go to catalogs page', '[m10n]bizAccess.business.dashboard.catalog', 'Icon Button to access catalog')}})})}):(0,x.jsx)(sE,{})});return(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(m.X6,{size:"400",children:e._('Catalogs', '[m10n]businessAccess.catalogs.title', 'Title for catalogs panel')}),c]})},sT=n(661618),sD=n(835589);function sR(e){return(sR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var sN=["secondaryText"];function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function sB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=sR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=sR(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sR(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var sk=function(){var e=(0,v.ZP)();return(0,x.jsx)(m.xu,{display:"flex",justifyContent:"center",rounding:4,children:(0,x.jsxs)(m.xu,{margin:12,children:[(0,x.jsx)(m.xu,{marginBottom:2,marginTop:4,children:(0,x.jsx)(m.xv,{align:"center",size:"300",weight:"bold",children:e._('You don\'t have access to any profiles', '[m10n]bizAccess.dashboard.profiles.emptyState.title', 'Header explaining you do not have access to any profiles')})}),(0,x.jsx)(m.xu,{marginTop:2,children:(0,x.jsx)(m.xv,{align:"center",overflow:"normal",size:"300",children:e._('Once you\'ve been granted access to profiles, they\'ll appear here', '[m10n]bizAccess.dashboard.profiles.emptyState.description', 'Description explaining where profiles will appear')})})]})})},sM=function(){var e=(0,v.ZP)(),t=(0,d.I0)(),n=(0,j.KJ)(),s=(0,tW.Z)(),r=s.isAuth?s.id:void 0,i=(0,d.v9)(sD.JQ),o=(0,d.v9)(sD.Tl),a=(0,E.Z)(),l=a.checkExperiment,c=l("web_m10n_business_hierarchy_alpha").anyEnabled,_=l("web_m10n_business_hierarchy_beta").anyEnabled,h=(0,d.v9)((0,nv.createSelector)(sp.Wt,function(t){return t.map(function(t){var s=t.asset_id,r=t.asset,i=(r=void 0===r?{}:r).name,o=r.username,a=r.image_small_url,l=t.permissions;return{id:s,primaryText:i,secondaryText:o,image:a,imageAlt:i,href:(0,nd.Z)("PROFILES_DETAIL",n,s),metaText:(void 0===l?[]:l).map((0,t7.e6)(e)).join((0,tY.bH)(e))}})})),b=(0,p.g)().businessHierarchies,f=(0,d.v9)(nX(n,b,_));(0,u.useEffect)(function(){n&&r&&t((0,sT.fR)({limit:20,personId:r,businessId:n,includeAssetSummary:!0,experimentsClient:a}))},[t,n,r,a]);var g=(0,d.v9)(sD.DH);if(i||o)return null;var y=(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(m.kC,{alignItems:"center",gap:{row:2,column:0},children:(0,x.jsx)(m.X6,{size:"400",children:e._('Profiles', 'bizAccess.dashboard.profiles', 'Title for the list of profiles')})}),g&&0!==g.length?(0,x.jsx)(sP,{data:h.map(function(t){var n=t.secondaryText,s=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,sN);return sB(sB({},s),{},{secondaryText:(0,C.nk)(e._('@{{username}}', '[m10n]bizAccess.business.dashboard.profileUsername', 'Username for profile owner'),{username:n}),href:f?s.href:null,iconData:{icon:"arrow-up-right",href:"/".concat(n),accessibilityLabel:e._('Go to profile detail page', '[m10n]bizAccess.business.dashboard.profile', 'Icon link to go to profile detail page')}})})}):(0,x.jsx)(sk,{})]});return c?y:(0,x.jsx)(m.xu,{borderStyle:"shadow",marginBottom:6,marginEnd:8,paddingX:6,paddingY:4,rounding:4,children:y})};function sU(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}var sZ=(i=regeneratorRuntime.mark(function e(t){var n,s,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.businessId,r=t.numberOfDays,o=void 0===(i=t.limit)?l.cU:i,e.next=3,(0,tz.Z)({url:"/ads/v4/business_access/businesses/".concat(s,"/members_and_partners"),data:{num_days:r,start_index:0,limit:o<=l.cU?o:l.cU}});case 3:return a=(null==(n=e.sent.resource_response.data)?void 0:n.data)||[],e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(n,s){var r=i.apply(e,t);function o(e){sU(r,n,s,o,a,"next",e)}function a(e){sU(r,n,s,o,a,"throw",e)}o(void 0)})},function(e){return o.apply(this,arguments)});function sH(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}var sV=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n){var s,r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.businessId,i=void 0===(r=e.numberOfDays)?7:r,o=e.limit,n({type:"GET_DASHBOARD_RECENTLY_ADDED"}),t.prev=2,t.next=5,sZ({businessId:s,numberOfDays:i,limit:o});case 5:n({type:"GET_DASHBOARD_RECENTLY_ADDED_SUCCESS",payload:t.sent}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:"GET_DASHBOARD_RECENTLY_ADDED_ERROR",error:t.t0});case 12:case"end":return t.stop()}},t,null,[[2,9]])}),n=function(){var e=this,n=arguments;return new Promise(function(s,r){var i=t.apply(e,n);function o(e){sH(i,s,r,o,a,"next",e)}function a(e){sH(i,s,r,o,a,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)}},sG=n(514058),sW=(0,nv.createSelector)(sG.Z,function(e){var t=e.dashboardRecentlyAdded;return null!=t?t:{}}),sF=(0,nv.createSelector)(sW,function(e){return e.loading}),sY=(0,nv.createSelector)(sW,function(e){return e.error}),sq=(0,nv.createSelector)(sW,function(e){var t=e.data;return null!=t?t:[]});function sK(e){return(sK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function sJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sQ(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=sK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=sK(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sK(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var sX=function(){var e=(0,v.ZP)(),t=(0,d.I0)(),n=(0,j.KJ)(),s=(0,d.v9)(sF),r=(0,d.v9)(sY),i=(0,d.v9)(sq),o=(0,j.KJ)();if((0,u.useEffect)(function(){n&&t(sV({businessId:n,numberOfDays:7,limit:100}))},[n]),s||r)return null;if(!i||0===i.length)return(0,x.jsx)(m.kC,{alignItems:"center",justifyContent:"center",minHeight:200,children:(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},children:[(0,x.jsx)(m.xv,{weight:"bold",children:e._('You\'re all caught up!', '[m10n]bizAccess.business.dashboard.recentlyAdded.empty.title', 'Empty state for a list of recently added people or partners')}),(0,x.jsx)(m.xv,{children:e._('No new employees or partners have been added in the last week', '[m10n]bizAccess.business.dashboard.recentlyAdded.empty.message', 'Empty state for a list of recently added people or partners')})]})});var a=e._('View partner', '[m10n]bizAccess.business.dashboard.recentlyAdded.button', 'Link to view details of this account'),l=e._('View employee', '[m10n]bizAccess.business.dashboard.recentlyAdded.button', 'Link to view details of this account');return(0,x.jsx)(sP,{data:i.map(function(e){var t,n,s;return sJ(sJ({image:e.user.image_medium_url,imageAlt:e.user.full_name,primaryText:e.user.full_name,secondaryText:e.business_roles.includes("PARTNER")?e.user.username:e.user.email},e.user),{},{metaText:e.business_roles.includes("PARTNER")?a:l,href:(t=e.business_roles[0],n=e.is_shared_partner,s=e.id,n?(0,nd.Z)("SHARED_PARTNERS_DETAIL",o,s):"PARTNER"===t?(0,nd.Z)("PARTNERS_DETAIL",o,s):(0,nd.Z)("PEOPLE_DETAIL",o,s))})})})},s$=n(432359),s0=n(84672);function s1(e){return(s1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s2(e,t,n){var s;return(s=function(e,t){if("object"!=s1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=s1(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s1(s)?s:s+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s3=(s2(a={},l.Q6.AD_ACCOUNTS,"".concat(nZ.gOE,"business/article/create-and-manage-accounts")),s2(a,l.Q6.PROFILES,"".concat(nZ.gOE,"business/article/profile-permissions-in-business-access")),s2(a,l.Q6.ASSET_GROUPS,"".concat(nZ.gOE,"business/article/asset-groups")),s2(a,l.Q6.BUSINESS_SECURITY,"".concat(nZ.gOE,"business/article/two-factor-authentication")),s2(a,l.Q6.AUDIENCES,"".concat(nZ.gOE,"business/article/share-audiences-across-ad-accounts")),s2(a,l.Q6.BUSINESS_HIERARCHY,"".concat(nZ.gOE,"business/article/create-and-manage-accounts")),a),s6=function(e){var t,n,s=(0,E.Z)().checkExperiment,r=s("web_m10n_business_hierarchy_beta").anyEnabled,i=(s2(t={},l.Q6.AUDIENCES,!0),s2(t,l.Q6.BUSINESS_SECURITY,s("ba_mfa_enabled").anyEnabled),s2(t,l.Q6.BUSINESS_HIERARCHY,s("web_m10n_business_hierarchy_alpha").anyEnabled||s("web_m10n_business_hierarchy_beta").anyEnabled),s2(t,l.Q6.SHARED_TAGS,s("web_m10n_business_access_tag_sharing").anyEnabled),t),o=(0,tW.Z)(),a=(0,j.KJ)(),c=(0,_.$B)().params.businessHierarchyId,u=(0,p.g)().businessHierarchies,h=(0,d.v9)(t3.ZP),m=a?(0,t7._4)(h,a,u,r):"",b=c||(null==(n=u.find(function(e){return"BUSINESS_HIERARCHY"===e.entity_type}))?void 0:n.id),f=(0,s$.Z)(m,a).viewerNeedsToSetupMfa;switch(e){case l.Q6.AD_ACCOUNTS:case l.Q6.PROFILES:case l.Q6.ASSET_GROUPS:case l.Q6.BUSINESS_SECURITY:case l.Q6.AUDIENCES:return!1!==i[e]&&"EMPLOYEE"!==m&&!f&&a?(0,nd.Z)(e,a):s3[e];case l.Q6.BUSINESS_HIERARCHY:return b&&o.isAuth&&o.has_mfa_enabled?(0,nd.Z)(e,void 0,void 0,b):s3[e];default:return""}},s8=function(){var e=(0,v.ZP)(),t=s6(l.Q6.AUDIENCES);return(0,x.jsx)(m.rU,{display:"inline",href:t,target:"blank",children:e._('Learn more about sharing your audiences', '[m10n].bizAccess.intro.AudienceSharing.link', 'link text to learn more')})},s4=function(){var e=(0,v.ZP)(),t=s6(l.Q6.ASSET_GROUPS);return(0,x.jsx)(m.rU,{display:"inline",href:t,target:"blank",children:e._('Learn more about creating asset groups', '[m10n].bizAccess.intro.assetGroups.link', 'link text to learn more')})},s5=function(){var e=(0,v.ZP)(),t=s6(l.Q6.BUSINESS_HIERARCHY);return(0,x.jsx)(m.rU,{display:"inline",href:t,target:"blank",children:e._('Learn more about setting up a business hierarchy', '[m10n].bizAccess.intro.BusinessHierarchy.link', 'link text to learn more')})},s9=function(){var e=(0,v.ZP)(),t=s6(l.Q6.BUSINESS_SECURITY);return(0,x.jsx)(m.rU,{display:"inline",href:t,target:"blank",children:e._('Learn more about requiring two-factor authentication', '[m10n].bizAccess.intro.twoFactorAuth.link', 'link text to learn more')})},s7=function(){var e=(0,v.ZP)();return(0,x.jsx)(m.rU,{display:"inline",href:"https://www.pinterestacademy.com/",target:"blank",children:e._('Learn more about Pinterest Academy', '[m10n].bizAccess.intro.pinterestAcademy.link', 'link text to learn more')})},re=function(){var e=(0,v.ZP)();return(0,x.jsx)(m.rU,{display:"inline",href:nZ.gOE,target:"blank",children:e._('Visit the Pinterest Help Center', '[m10n].bizAccess.intro.helpCenter.link', 'link text to learn more')})},rt=function(){var e=(0,v.ZP)(),t=s6(l.Q6.AD_ACCOUNTS);return(0,x.jsx)(m.rU,{display:"inline",href:t,target:"blank",children:e._('Learn more about ad accounts', '[m10n].bizAccess.intro.adAccounts.link', 'link text to learn more')})},rn=function(){var e=(0,v.ZP)(),t=s6(l.Q6.PROFILES);return(0,x.jsx)(m.rU,{display:"inline",href:t,target:"blank",children:e._('Learn more about profiles', '[m10n].bizAccess.intro.profiles.link', 'link text to learn more')})},rs=function(e){return e._('Next: Features', '[m10n].bizAccess.intro.nextFeatures', 'text in button to advance to next modal in the flow, which is the Features modal')},rr=function(e){return e._('Next: People Management', '[m10n].bizAccess.intro.nextPeopleManagement', 'text in button to advance to next modal in the flow, which is the People Management modal')},ri=function(e){return e._('Next: Additional resources', '[m10n].bizAccess.intro.nextAdditionalResources', 'text in button to advance to next modal in the flow, which is the Additional resources modal')},ro=function(e){return e._('Business Manager', '[m10n].bizAccess.intro.businessManager', 'bolded text for ad accounts in subtext')},ra=function(e){return{content:(0,x.jsx)(m.xv,{color:"dark",size:"200",children:e._('Invite employees and partners to collaborate on assets', '[m10n].bizAccess.intro.bulletPoint.invite', 'bullet point in intro modal flow introducing users to the new Business Manager and how you can invite employees and partners')})}},rl=function(e){return{content:(0,x.jsx)(m.xv,{size:"200",children:e._('Assign and manage employee and partner permissions', '[m10n].bizAccess.intro.bulletPoint.managePeoplePermissions', 'bullet point in intro modal flow introducing users to the new Business Manager and how you can assign and manager permissions')})}},rc=function(e){return{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(e._('{{audienceSharingText}} Reuse existing audiences between ad accounts to quickly repeat successful tactics. {{audienceSharingLink}}', '[m10n].bizAccess.intro.features.bulletPoint.audienceSharing', 'bullet point in intro modal flow introducing users to the new Business Manager. audienceSharingText: the words Audience sharing. audienceSharingLink: link to learn more about audience sharing'),{audienceSharingText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:e._('Audience sharing:', '[m10n].bizAccess.intro.audienceSharing', 'bolded text for Audience sharing')}),audienceSharingLink:(0,x.jsx)(s8,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:e._('bullet point icon for the new audience sharing feature', '[m10n].bizAccess.intro.features.bulletPoint.audienceSharing.a11y', 'accessibility label for bullet point introducing users to audience sharing feature'),color:"dark",icon:"people",size:24})}},ru=function(e){return{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(e._('{{assetGroupsText}} Create custom groups based on your needs, including by brand, location, language or product line. {{assetGroupsLink}}', '[m10n].bizAccess.intro.features.bulletPoint.assetGroups', 'bullet point in intro modal flow introducing users to asset groups. assetGroupsText: the words Asset groups. assetGroupsLink: link to learn more about asset groups'),{assetGroupsText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:e._('Asset groups:', '[m10n].bizAccess.intro.assetGroups', 'bolded text for Asset groups')}),assetGroupsLink:(0,x.jsx)(s4,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:e._('bullet point icon for the new asset groups feature', '[m10n].bizAccess.intro.features.bulletPoint.assetGroups.a11y', 'accessibility label for bullet point for business manager features introduction modal'),color:"dark",icon:"ad-group",size:24})}},rd=function(e){return{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(e._('{{businessHierarchyText}} Create parent-child account relationships to help manage complex organizational structures. {{businessHierarchyLink}}', '[m10n].bizAccess.intro.peopleManagement.bulletPoint.one', 'bullet point in intro modal flow introducing users to business hierarchy. businessHierarchyText: the words Business hierarchy. businessHierarchyLink: link to learn more about business hierarchy'),{businessHierarchyText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:e._('Business hierarchy:', '[m10n].bizAccess.intro.businessHierarchy', 'bolded text for Business hierarchy')}),businessHierarchyLink:(0,x.jsx)(s5,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:e._('bullet point icon for the new business hierarchy feature', '[m10n].bizAccess.intro.peopleManagement.bulletPoint.businessHierarchy.a11y', 'accessibility label for bullet point introducing business hierarchy'),color:"dark",icon:"business-hierarchy",size:24})}},r_=function(e){return{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(e._('{{twoFactorAuthenticationText}} Business owners can require employees to use two-factor authentication in order to access assets. {{twoFactorAuthenticationLink}}', '[m10n].bizAccess.intro.peopleManagement.bulletPoint.twoFactorAuth', 'bullet point in intro modal flow introducing users to two-factor authentication. twoFactorAuthenticationText: the words two-factor authentication. twoFactorAuthenticationLink: link to learn more about enforcing two factor authentication'),{twoFactorAuthenticationText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:e._('Two-factor authentication:', '[m10n].bizAccess.intro.twoFactorAuthentication', 'bolded text for Two-factor authentication')}),twoFactorAuthenticationLink:(0,x.jsx)(s9,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:e._('bullet point icon for the new two-factor authentication feature', '[m10n].bizAccess.existingUserIntro.peopleManagement.bulletPoint.twoFactorAuth.a11y', 'accessibility label for bullet point introducing two-factor authentication'),color:"dark",icon:"security",size:24})}},rh="https://s.pinimg.com/webapp/business_manager_intro_modal-f4f4a076.png",rm=n(750891);function rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var rb=function(e,t,n){var s,r,i,o;switch(t){case 0:return n?{heading:e._('Welcome to Business Manager', '[m10n].bizAccess.newUserIntro.intro.heading', 'heading in intro modal to introduce new users to the recently launched Business Manager'),imagePath:rh,primaryButtonText:rs(e),subtext:(0,x.jsxs)(m.xv,{size:"200",children:[(0,C.nk)(e._('{{businessManagerText}} is the one-stop shop for businesses to securely manage assets, employees and partners.', '[m10n].bizAccess.newUserIntro.intro.subtext', 'subtext to introduce the new business manager. businessManagerText: the words business manager'),{businessManagerText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:ro(e)},"businessManagerText")}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),e._('With Business Manager you can:', '[m10n].bizAccess.newUserIntro.intro.subtext.newLine', 'subtext in Business Manager intro modal to introduce some new features ')]}),bulletPoints:[{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:e._('Create and share assets like ad accounts, profiles, tags and audiences', '[m10n].bizAccess.newUserIntro.intro.bulletPoint.one', 'first bullet point in intro modal flow introducing new users to the new Business Manager')})},ra(e),rl(e)]}:{heading:e._('Introducing a new and improved Business Manager', '[m10n].bizAccess.intro.intro.heading', 'heading in intro modal to introduce existing users to the recently launched Business Manager'),imagePath:rh,primaryButtonText:rs(e),subtext:(0,x.jsxs)(m.xv,{size:"200",children:[(0,C.nk)(e._('{{businessAccessText}} is now {{businessManagerText}}\u2014a one-stop shop for businesses to securely manage employees, partners and assets.', '[m10n].bizAccess.intro.intro.subtext', 'subtext to introduce the new business manager. businessAccessText: the words business access. businessManagerText: the words business manager'),{businessAccessText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:e._('Business Access', '[m10n].bizAccess.intro.businessAccess', 'bolded text for ad accounts in subtext')},"businessAccessText"),businessManagerText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:ro(e)},"businessManagerText")}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),e._(' We added some new features and improved our existing suite of tools:', '[m10n].bizAccess.intro.intro.subtext.newLine', 'subtext in Business Manager intro modal to introduce some new features ')]}),bulletPoints:[{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:e._('Create and share assets like ad accounts and profiles, and now Pinterest tags and audiences', '[m10n].bizAccess.existingUserIntro.intro.bulletPoint.one', 'first bullet point in intro modal flow introducing existing users to the new Business Manager')})},ra(e),rl(e)]};case 1:return n?{heading:e._('Powerful features to help keep you and your assets organized', '[m10n].bizAccess.newUserIntro.features.heading', 'heading in new features modal to introduce new users to the recently launched Business Manager'),imagePath:rh,primaryButtonText:rr(e),bulletPoints:[(s=e,{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(s._('{{adAccountsText}} Manage your advertising on Pinterest by setting up ad campaigns, targeting audiences and tracking performance. {{adAccountsLink}}', '[m10n].bizAccess.newUserIntro.features.bulletPoint.one', 'first bullet point in intro modal flow introducing new users to the new Business Manager ad accounts feature. adAccountsText: the words ad accounts. adAccountsLink: link to learn more about ad accounts'),{adAccountsText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:s._('Ad accounts:', '[m10n].bizAccess.intro.adAccounts', 'bolded text for ad accounts')}),adAccountsLink:(0,x.jsx)(rt,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:s._('bullet point icon for the ad accounts feature', '[m10n].bizAccess.newUserIntro.features.bulletPoint.one.a11y', 'accessibility label for first bullet point for new user business manager features introduction modal'),color:"dark",icon:"ads-overview",size:24})}),(r=e,{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(r._('{{profilesText}} Assign employees and partners permissions to work on a profile, boards and Pins. {{profilesLink}}', '[m10n].bizAccess.newUserIntro.features.bulletPoint.one', 'first bullet point in intro modal flow introducing new users to the new Business Manager. profilesText: the word profiles. profilesLink: link to learn more about profiles'),{profilesText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:r._('Profiles:', '[m10n].bizAccess.intro.profiles', 'bolded text for profiles')}),profilesLink:(0,x.jsx)(rn,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:r._('bullet point icon for the profiles feature', '[m10n].bizAccess.newUserIntro.features.bulletPoint.one.a11y', 'accessibility label for second bullet point for new user business manager features introduction modal'),color:"dark",icon:"pin",size:24})}),rc(e),ru(e)]}:{heading:e._('A new set of features to help keep you and your assets organized', '[m10n].bizAccess.intro.features.heading', 'heading in new features modal to introduce existing users to the recently launched Business Manager'),imagePath:rh,primaryButtonText:rr(e),bulletPoints:[rc(e),ru(e)]};case 2:return n?{heading:e._('Seamless people management and collaboration', '[m10n].bizAccess.newUserIntro.peopleManagement.heading', 'heading in people management features modal to introduce new users to the recently launched Business Manager'),imagePath:rh,primaryButtonText:ri(e),subtext:(0,x.jsx)(m.xv,{size:"200",children:e._('Invite and collaborate with managers, employees and partners on different assets.', '[m10n].bizAccess.newUserIntro.peopleManagement.subtext', 'subtext in Business Manager Introduction modal that introduces managing people')}),bulletPoints:[rd(e),r_(e)]}:{heading:e._('Seamless people management and collaboration', '[m10n].bizAccess.intro.peopleManagement.heading', 'heading in people management features modal to introduce existing users to the recently launched Business Manager'),imagePath:rh,primaryButtonText:ri(e),subtext:(0,x.jsx)(m.xv,{size:"200",children:e._('Continue to invite and collaborate with managers, employees and partners on different assets with increased organization and security.', '[m10n].bizAccess.intro.peopleManagement.subtext', 'subtext in Business Manager Introduction modal that introduces managing people')}),bulletPoints:[rd(e),r_(e)]};default:return{heading:e._('Ready to get started?', '[m10n].bizAccess.intro.end.heading', 'heading in final modal to introduce users to the recently launched Business Manager'),imagePath:rh,primaryButtonText:e._('Get started', '[m10n].bizAccess.intro.end.primaryButton', 'text in button to get started'),subtext:(0,x.jsx)(m.xv,{size:"200",children:e._('Explore additional resources to help you get the most out of Business Manager.', '[m10n].bizAccess.intro.end.subtext', 'subtext for final modal introducing the new Business Manager')}),bulletPoints:[(i=e,{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(i._('{{academyText}} Our e-learning platform offers a variety of courses and resources designed to help you effectively use Pinterest for advertising and marketing. {{academyLink}}', '[m10n].bizAccess.intro.end.bulletPoint.one', 'first bullet point in final intro modal flow introducing users to the new Business Manager telling users about the Pinterest Academy. academyText: the words Pinterest Academy. academyLink: link to go to the Pinterest Academy'),{academyText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:i._('Pinterest Academy:', '[m10n].bizAccess.intro.academy', 'bolded text for Pinterest Academy')}),academyLink:(0,x.jsx)(s7,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:i._('bullet point icon for Pinterest Academy', '[m10n].bizAccess.intro.end.bulletPoint.one.a11y', 'accessibility label for first bullet point telling users about the Pinterest Academy'),color:"dark",icon:"desktop",size:24})}),(o=e,{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:(0,C.nk)(o._('{{helpCenterText}} The Pinterest Help Center offers assistance and guidance on a wide range of topics in the form of articles, tutorials and FAQs. {{helpCenterLink}}', '[m10n].bizAccess.intro.end.bulletPoint.two', 'second bullet point in intro modal flow introducing users to the new Business Manager and telling users about the help center. helpCenterText: the words Help Center. helpCenterLink: link to go to the help center'),{helpCenterText:(0,x.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:o._('Help Center:', '[m10n].bizAccess.intro.helpCenter', 'bolded text for Help Center')}),helpCenterLink:(0,x.jsx)(re,{})})}),icon:(0,x.jsx)(m.JO,{accessibilityLabel:o._('bullet point icon for the help center', '[m10n].bizAccess.intro.end.bulletPoint.two.a11y', 'accessibility label for second bullet point for help center'),color:"dark",icon:"question-mark",size:24})})]}}},rf=function(e,t){var n=t?"new-user":"existing-user";switch(e){case 0:return"dismiss-bm-intro-intro-".concat(n);case 1:return"dismiss-bm-intro-features-".concat(n);case 2:return"dismiss-bm-intro-people-management-".concat(n);case 3:return"dismiss-bm-intro-end-".concat(n);default:return""}},rg=function(e,t){var n=t?"new-user":"existing-user";switch(e){case 0:return"click-back-bm-intro-intro-".concat(n);case 1:return"click-back-bm-intro-features-".concat(n);case 2:return"click-back-bm-people-management-".concat(n);case 3:return"click-back-bm-end-".concat(n);default:return""}};function ry(e){var t,n=e.isNewUser,s=e.page,r=void 0===s?l.Q6.DASHBOARD:s,i=(0,v.ZP)(),o=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rp(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rp(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],c=o[1],d=(0,nM.ZP)((0,nM.QK)(r)),_=rb(i,a,n),h=_.heading,p=_.imagePath,b=_.primaryButtonText,f=_.subtext,g=_.bulletPoints;return(0,x.jsx)(rm.Z,{children:(0,x.jsx)(tI.a3,{eligibleIds:[n?505840:505841],eligibleTypes:[9],placementId:1000303,children:function(e){var t=e.dismiss,s=e.complete;return(0,x.jsx)(s0.Z,{bulletPoints:g,dismiss:function(){d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"dismiss-business-manager-intro",element:"BUSINESS_ACCESS_BUTTON",elementId:rf(a,n)}),t()},heading:h,image:{image:(0,x.jsx)(m.Ee,{alt:i._('image to introduce the new Business Manager', '[m10n].bizAccess.existingUserIntro.image', 'alt text for image to introduce business manager'),fit:"cover",naturalHeight:480,naturalWidth:320,src:p})},modalAccessibilityLabel:i._('modal to introduce ad accounts feature in Business Manager', '[m10n].bizAccess.existingUserIntro.a11y', 'accessibility label to introduce existing users to the new business mananger'),primaryButton:{text:b,onClick:function(){3===a?s():c(function(e){return e+1})}},secondaryButton:0===a?void 0:{text:i._('Back', '[m10n].bizAccess.intro.backButton', 'text in button to go back'),onClick:function(){d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"back-business-manager-intro",element:"BUSINESS_ACCESS_BUTTON",elementId:rg(a,n)}),c(function(e){return e-1})}},subtext:f})}})})}function rA(){var e=(0,v.ZP)();return(0,x.jsx)(rm.Z,{children:(0,x.jsx)(tI.a3,{eligibleIds:[507156],eligibleTypes:[9],placementId:1000303,children:function(t){var n=t.dismiss,s=t.complete;return(0,x.jsx)(s0.Z,{bulletPoints:[{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:e._('Edit and update your business profile', '[m10n].bizAccess.businessSettingsIntro.bulletPoint.one', 'bullet point in business settings introduction modal to say that the business profile can be updated in business settings page')})},{content:(0,x.jsx)(m.xv,{color:"dark",size:"200",children:e._('Create and view parent and child businesses with Business hierarchy', '[m10n].bizAccess.businessSettingsIntro.bulletPoint.two', 'bullet point in business settings introduction modal to say that the business hierarchy can be updated in business settings page ')})},{content:(0,x.jsx)(m.xv,{size:"200",children:e._('Manage your business\'s security permissions with two factor authentication', '[m10n].bizAccess.businessSettingsIntro.bulletPoint.three', 'bullet point in business settings intro modal to say that 2-factor authentication can be updated in business settings page')})}],dismiss:n,heading:e._('View Business settings to update profile, add security features and more', '[m10n].bizAccess.businessSettingsIntro.heading', 'heading for business settings feature intro modal'),image:{image:(0,x.jsx)(m.Ee,{alt:e._('image to introduce business settings in business manager', '[m10n].bizAccess.businessSettingsIntro.image', 'alt text for image to introduce business settings in business manager'),fit:"cover",naturalHeight:480,naturalWidth:320,src:"https://s.pinimg.com/webapp/business_settings_intro-631ff9ba.png"})},modalAccessibilityLabel:e._('modal to introduce business settings feature in Business Manager', '[m10n].bizAccess.businessSettingsIntro.a11y', 'accessibility label for business settings feature intro modal'),primaryButton:{text:e._('Visit Business settings', '[m10n].bizAccess.businessSettingsIntro.cta', 'text of button that redirects user to Business settings page'),onClick:function(){s()}},subtext:(0,x.jsx)(m.xv,{size:"200",children:e._('Business security is now Business settings', '[m10n].bizAccess.businessSettingsIntro.bulletPoint.subtext', 'subtext for business settings intro modal summarizing the change from business security to business settings')})})}})})}var rv="https://s.pinimg.com/webapp/global_english-1401b6c6.png",rx="https://s.pinimg.com/webapp/possible_english-361bba70.png",rP=n(982166),rS=function(e){var t=e.bulletPoint,n=(0,v.ZP)();return(0,x.jsxs)(m.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[!t.noBulletPoint&&(0,x.jsx)(m.xu,{width:30,children:t.icon||(0,x.jsx)(m.JO,{accessibilityLabel:n._('bullet point icon', '[m10n].bizAccess.baseFeatureIntro.bulletPoint.a11y', 'accessibilityLabel for third bullet point on ad accounts introduction modal'),color:"dark",icon:"check-circle",size:24})}),(0,x.jsx)(m.xu,{children:t.content})]})};function rw(){var e=(0,v.ZP)(),t=e.getLocaleData().locale,n=[{content:(0,x.jsx)(m.xv,{color:"default",size:"200",children:e._('Get intel on new products', '[m10n].bizAccess.profilesIntro.bulletPoint.one', 'bullet point in pinterest presents intro modal to describe getting intel on new products')})},{content:(0,x.jsx)(m.xv,{color:"dark",size:"200",children:e._('Learn insider tips from industry leaders', '[m10n].bizAccess.profilesIntro.bulletPoint.two', 'bullet point in pinterest presents intro modal to describe learning insider tips from industry leaders')})},{content:(0,x.jsx)(m.xv,{size:"200",children:e._('Uncover insights on audience trends', '[m10n].bizAccess.profilesIntro.bulletPoint.three', 'bullet point in pinterest presents intro modal to describe uncovering insights on audience trends')})}],s={"en-US":{globalImage:rv,possibleImage:rx,url:"https://www.pinterestpresents.com/?lang=en&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_us_q32025_static&up_id=50963ac"},"en-AU":{globalImage:rv,possibleImage:rx,url:"https://www.pinterestpresents.com/?lang=en&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_au_q32025_static&up_id=50963ae"},"en-CA":{globalImage:rv,possibleImage:rx,url:"https://www.pinterestpresents.com/?lang=en&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_ca_q32025_static&up_id=50963af"},"en-GB":{globalImage:rv,possibleImage:rx,url:"https://www.pinterestpresents.com/?lang=en&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_gb_q32025_static&up_id=50963ad"},fr:{globalImage:"https://s.pinimg.com/webapp/global_french-54f380d2.png",possibleImage:"https://s.pinimg.com/webapp/possible_french-1978ebc6.png",url:"https://www.pinterestpresents.com/?lang=fr&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_fr_q32025_static&up_id=50963b1"},de:{globalImage:"https://s.pinimg.com/webapp/global_german-71fba178.png",possibleImage:rx,url:"https://www.pinterestpresents.com/?lang=de&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_de_q32025_static&up_id=50963b2"},es:{globalImage:"https://s.pinimg.com/webapp/global_spanish-0d2494c2.png",possibleImage:"https://s.pinimg.com/webapp/possible_spanish-f0fbb83f.png",url:"https://www.pinterestpresents.com/?lang=es&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_latam_q32025_static&up_id=50963b4"},ja:{globalImage:"https://s.pinimg.com/webapp/global_japanese-f10be2a2.png",possibleImage:"https://s.pinimg.com/webapp/possible_japanese-993a6a24.png",url:"https://www.pinterestpresents.com/?lang=ja&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_jp_q32025_static&up_id=50963b0"},pt:{globalImage:"https://s.pinimg.com/webapp/global_portuguese-4176446b.png",possibleImage:"https://s.pinimg.com/webapp/possible_portuguese-0ca07e0e.png",url:"https://www.pinterestpresents.com/?lang=pt-br&utm_medium=organic_pinterest&utm_source=organicpins_bizmanager&utm_campaign=pbm_presents_br_q32025_static&up_id=50963b3"}},r=t.startsWith("en")?t:t.slice(0,2),i=Object.keys(s).includes(r)?r:"en-US";return(0,x.jsx)(rm.Z,{children:(0,x.jsx)(tI.a3,{eligibleIds:[508016],eligibleTypes:[25],placementId:1000303,children:function(t){var r=t.dismiss,o=t.complete;return(0,x.jsx)(rP.ZP,{accessibilityModalLabel:e._('modal to introduce Pinterest Presents event', '[m10n].bizAccess.pinterest.presents.intro.modal.a11y', 'accessibility label for Pinterest Presents intro modal'),onDismiss:r,size:690,children:(0,x.jsxs)(m.kC,{children:[(0,x.jsxs)(m.kC.Item,{flexBasis:320,children:[(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",children:[(0,x.jsx)(m.xu,{marginTop:6,position:"absolute",zIndex:new m.Ry(1),children:(0,x.jsx)(m.Ee,{alt:e._('image of pinterest presents event logo', '[m10n].bizAccess.pinterestPresentsIntro.logo', 'alt text for image of pinterest presents event logo'),fit:"contain",naturalHeight:25,naturalWidth:220,src:"https://s.pinimg.com/webapp/pinterest_presents_logo-f29f027d.png"})}),(0,x.jsx)(m.xu,{marginTop:16,position:"absolute",zIndex:new m.Ry(1),children:(0,x.jsx)(m.Ee,{alt:e._('the global marketing event of the year image', '[m10n].bizAccess.pinterestPresentsIntro.marketing.image', 'alt text for image of the global marketing event of the year'),fit:"contain",naturalHeight:50,naturalWidth:320,src:s[i].globalImage})}),(0,x.jsx)(m.xu,{alignItems:"center",display:"flex",height:416,justifyContent:"center",marginTop:14,position:"absolute",width:280,zIndex:new m.Ry(1),children:(0,x.jsx)(m.Ee,{alt:e._('image saying operation: it\'s possible', '[m10n].bizAccess.pinterestPresentsIntro.marketing.slogan', 'alt text for image saying operation: it\'s possible'),fit:"contain",naturalHeight:100,naturalWidth:270,src:s[i].possibleImage})})]}),(0,x.jsx)(m.xu,{height:480,children:(0,x.jsx)(m.Ee,{alt:e._('image to introduce pinterest presents event', '[m10n].bizAccess.pinterestPresentsIntro.image', 'alt text for image to introduce pinterest presents event'),fit:"cover",naturalHeight:480,naturalWidth:320,src:"https://s.pinimg.com/webapp/pinterest_presents_bg-ab004640.png"})})]}),(0,x.jsx)(m.kC.Item,{children:(0,x.jsxs)(m.xu,{direction:"column",display:"flex",height:480,justifyContent:"between",padding:6,width:370,children:[(0,x.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,x.jsxs)(m.kC,{alignItems:"center",gap:4,justifyContent:"between",children:[(0,x.jsx)(m.X6,{size:"600",children:e._('You\u2019re invited to Pinterest Presents!', '[m10n].bizAccess.pinterest.presents.intro.heading', 'heading for Pinterest Presents intro modal')}),(0,x.jsx)(m.hU,{accessibilityLabel:e._('Cancel button to close this modal', '[m10n]bizAccess.baseFeatureIntro.cancel', '[m10n] Experience modal cancel button accessibilityLabel'),dataTestId:"dismiss-bm-intro-modal",icon:"cancel",onClick:function(){return r()},size:"lg"})]}),(0,x.jsxs)(m.xu,{children:[(0,x.jsx)(m.xu,{marginBottom:4,marginTop:6,children:(0,x.jsx)(m.xv,{size:"200",children:e._('Join the global marketing event of the year.', '[m10n].bizAccess.pinterest.presents.intro.modal.subtext', 'subtext for Pinterest Presents intro modal summarizing the event')})}),(0,x.jsx)(m.kC,{direction:"column",gap:4,children:n.map(function(e,t){return(0,x.jsx)(rS,{bulletPoint:e},t)})})]})]}),(0,x.jsx)(m.kC,{alignItems:"center",gap:2,height:48,justifyContent:"end",children:(0,x.jsx)(m.zx,{color:"red",onClick:function(){window.open(s[i].url,"_blank"),o()},text:e._('Register now', '[m10n].bizAccess.pinterest.presents.intro.button.text', 'text for primary button in Pinterest Presents intro modal')})})]})})]})})}})})}var rj=n(192194),rI=n(496194),rz=function(e){var t=(0,v.ZP)();return(0,x.jsx)(m.xu,{padding:12,children:e.isLoading?(0,x.jsx)(m.kC,{justifyContent:"center",children:(0,x.jsx)(m.xH,{accessibilityLabel:t._('Loading', '[m10n] businessReporting.2FA.spinner.accessibilityLabel', 'Accessibility label for loading spinner'),show:!0})}):(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",flex:"grow",gap:{row:0,column:6},children:[(0,x.jsx)(m.JO,{accessibilityLabel:t._('lock', '[m10n] businessReporting.2FA.icon', 'Lock icon'),color:"dark",icon:"lock",size:"24"}),(0,x.jsxs)(m.kC,{alignItems:"center",direction:"column",flex:"grow",gap:{row:0,column:2},justifyContent:"center",width:422,children:[(0,x.jsx)(m.X6,{size:"400",children:t._('Two-factor authentication required', '[m10n] businessReporting.2FA', 'Two-factor authentication heading text on Business Overview')}),(0,x.jsx)(m.xv,{align:"center",color:"subtle",size:"300",children:e.description})]}),(0,x.jsx)(m.ZP,{color:"red",href:"/settings/security",text:t._('Go to settings', '[m10n] businessReporting.2FA.cta', 'Label for button that takes users to the security settings page')})]})})},rC=function(e){var t=e.businessHierarchyNodeId,n=(0,v.ZP)(),s=(0,p.g)(),r=s.businessHierarchies,i=s.loadingAccounts,o=r.find(function(e){return"BUSINESS_HIERARCHY"===e.entity_type&&e.id===t}),a=null!=o&&o.name?(0,C.Wc)(n._('Two-factor authentication is required for you to access businesses associated with {{ businessHierarchyName }}. Go to Settings>Security and logins to complete setup.', '[m10n] businessReporting.2FA', 'Two-factor authentication description text on Business Overview. businessHierarchyName: The name of the business hierarchy that the user is trying to view'),{businessHierarchyName:o.name}):n._('Two-factor authentication is required for you to access businesses associated with your business hierarchy. Go to Settings>Security and logins to complete setup.', '[m10n] businessReporting.2FA', 'Two-factor authentication description text on Business Overview');return(0,x.jsx)(rz,{description:a,isLoading:i})},rE=n(506662);function rO(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function rT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rD(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rD(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var rR=function(e){var t,n,s=(0,tW.Z)(),r=rT((0,u.useState)(!1),2),i=r[0],o=r[1],a=rT((0,u.useState)(),2),l=a[0],c=a[1],d=rT((0,u.useState)(),2),_=d[0],h=d[1],m=!!s.isAuth&&s.isPartner,p=(t=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||i||!m)){e.next=2;break}return e.abrupt("return");case 2:return o(!0),c(),h(),e.prev=5,e.next=8,(0,tz.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(t,"/")});case 8:h(e.sent.resource_response.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),c(e.t0);case 16:return e.prev=16,o(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[5,13,16,19]])}),n=function(){var e=this,n=arguments;return new Promise(function(s,r){var i=t.apply(e,n);function o(e){rO(i,s,r,o,a,"next",e)}function a(e){rO(i,s,r,o,a,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)}),b=(0,u.useRef)(p);b.current=p;var f=(0,u.useCallback)(function(){b.current(e)},[e,b]);return(0,u.useEffect)(function(){f()},[f]),{loading:i,error:l,data:_,getData:f}};function rN(e){return(rN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function rB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rL(Object(n),!0).forEach(function(t){var s,r;s=t,r=n[t],(s=function(e){var t=function(e,t){if("object"!=rN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=rN(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rN(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rM(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rM(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var rU=function(){(0,tI.Ow)(1000483);var e=(0,h.TH)(),t=(0,nM.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),n=(0,tW.Z)(),s=n.isAuth?null==n?void 0:n.avatar_color_index:void 0,r=(0,j.HU)(),i=r.setEditBusinessDetailsModal,o=r.setViewBusinessDetailsModal,a=(0,(0,E.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,c=(0,tI._P)({id:1000483}),d=!!(c&&505651===c.experience_id),_=(0,e6.B)().sterlingOnSteroidsLdap,b=(0,p.g)(),f=b.businessHierarchies,g=b.loadingAccounts,y=(0,nB.NM)(),A=y.selectedHierarchyId,P=y.selectedAccount,S=rR(null==P?void 0:P.id).data,w=rk((0,u.useState)({entity_type:"UNDEFINED"}),2),I=w[0],z=w[1],O=rk((0,u.useState)(!1),2),T=O[0],D=O[1];(0,u.useEffect)(function(){D(!1)},[P,A,S]),(0,u.useEffect)(function(){if(!T&&!g){var e=f.map(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e:null}).find(function(e){return!!e&&e.id===A});if(e)z(e);else{var t=f.flatMap(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e.children.map(function(t){return rB({parentName:e.name},t)}):rB({parentName:(null==S?void 0:S.name)||""},e)}).find(function(e){return e.user.id===(null==P?void 0:P.id)});z(null!=t?t:{entity_type:"UNDEFINED"})}D(!0)}},[g,T]);var R=function(e){if("UNDEFINED"===e.entity_type)return{entityId:(null==P?void 0:P.id)||"",entityName:(null==P?void 0:P.name)||"",avatarImageUrl:(null==P?void 0:P.img)||"",isHierarchy:!1};var t,n,s,r="BUSINESS_HIERARCHY"===e.entity_type,i=r?e.img_medium_url:null==(t=e.user)?void 0:t.image_medium_url;return{entityId:(r?e.id:null==(n=e.user)?void 0:n.id)||"",entityName:(r?e.name:null==(s=e.user)?void 0:s.full_name)||"",avatarImageUrl:null!=i?i:"",isHierarchy:r,parentName:r?void 0:e.parentName}}(I),N=R.entityId,L=R.entityName,B=R.avatarImageUrl,k=R.isHierarchy,M=R.parentName,U=(0,v.ZP)(),Z=(0,rE.Ur)(e)?"BUSINESS_HIERARCHY"===I.entity_type&&(n.isAuth&&(n.has_mfa_enabled||n.is_sso_user)||d||!!_)||"BUSINESS_ACCOUNT"===I.entity_type:n.isAuth&&n.id===N;return(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(m.xu,{marginBottom:4,children:(0,x.jsx)(m.X6,{size:"400",children:k?U._('Details', '[m10n]businessAccess.heirarchyDetails.heading', 'Title for the hierarchy details panel'):U._('Business information', '[m10n]businessAccess.businessInfo.heading', 'Title for the business information panel')})}),(0,x.jsxs)(m.kC,{alignItems:"center",dataTestId:"business-info-panel",justifyContent:"start",children:[(0,x.jsx)(su.qE,{color:s,name:L,size:"md",src:B}),(0,x.jsxs)(m.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,x.jsxs)(m.xu,{alignItems:"baseline",direction:"column",display:"flex",justifyContent:"between",marginStart:2,children:[(0,x.jsx)(m.xv,{size:"300",weight:"bold",children:L}),k&&(0,x.jsxs)(m.kC,{alignItems:"center",children:[(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:(0,C.nk)(U._('Hierarchy ID: {{hierarchyId}}', '[m10n]businessAccess.businessInfo.hierarchyId', 'text showing hierarchy id with a description. hierarchyId: id of hierarchy being detailed'),{hierarchyId:N}).join("")}),(0,x.jsx)(tK.Z,rB({dangerouslySetSmallMarginTop:.5,page:l.Q6.BUSINESS_HIERARCHY,text:N},(0,tQ.i)(tQ.O.HIERARCHY_ID,U)))]}),!k&&(0,x.jsxs)(u.Fragment,{children:[(0,x.jsxs)(m.kC,{alignItems:"center",children:[(0,x.jsx)(m.xv,{color:"subtle",inline:!0,size:"200",children:(0,C.nk)(U._('Business ID: {{businessId}}', '[m10n]businessAccess.businessInfo.businessId', 'text showing business id with a description. businessId: id of business being detailed'),{businessId:N}).join("")}),(0,x.jsx)(tK.Z,rB({dangerouslySetSmallMarginBottom:M?.5:void 0,dangerouslySetSmallMarginTop:.5,page:l.Q6.DASHBOARD,text:N},(0,tQ.i)(tQ.O.BUSINESS_ID,U)))]}),M&&(0,x.jsx)(m.xv,{color:"subtle",size:"200",children:(0,C.nk)(U._('Child business of {{parentName}}', '[m10n]businessAccess.businessInfo.parentBusiness.name', 'text showing which business is hierarchicaly above the selected business. parentName: name of business hierarchicaly above selected business'),{parentName:M}).join("")})]})]}),a&&Z&&(0,x.jsx)(m.xu,{children:(0,x.jsx)(m.zx,{accessibilityLabel:U._('Go to edit business details', '[m10n]businessAccess.businessInfo.editDetails.button.a11y', 'A11y edit business details button text'),dataTestId:"edit-details-button",onClick:function(){var e={eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-access-business-info",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-business-details-button",business_id:I.id};"BUSINESS_HIERARCHY"===I.entity_type&&(t(e),i({businessAccount:I})),"BUSINESS_ACCOUNT"===I.entity_type&&(t(rB(rB({},e),{},{elementId:"view-business-details-button"})),o({businessAccount:I}))},text:U._('Edit details', '[m10n]businessAccess.businessInfo.editDetails.button.text', 'Edit business details button text')})})]})]})]})},rZ=n(938960),rH=function(e){var t,n,s,r=(0,v.ZP)(),i=(0,tW.Z)(),o=i.isAuth?i.id:void 0,a=(0,j.KJ)(),l=(0,d.v9)(t3.ZP),c=a===o?(0,t6.Z)(i):l.find(function(e){return e.user.id===a}),u=a===o||c&&"business_roles"in c&&null!=c&&null!=(t=c.business_roles)&&t.includes("BIZ_ADMIN")?r._('managers', '[m10n]businessAccess.mfaEnforcementManagerRole.warning.message', 'manager role for the business'):r._('employees', '[m10n]businessAccess.mfaEnforcementEmployeeRole.warning.message', 'employee role for the business'),_=(0,x.jsx)(rz,{description:(0,C.Wc)(r._('{{businessName}} requires that two-factor authentication be turned on for all {{role}}. Please set up two-factor authentication by going to Settings>Security and logins.', '[m10n]businessAccess.mfaEnforcementEmployeesManagers.warning.message', 'Text to indicate current user must turn on 2FA to access this pagebusinessName:name of business. role:role of the employee.'),{businessName:null!=(n=null==c||null==(s=c.user)?void 0:s.full_name)?n:"",role:u}),isLoading:!1});return e.shouldUseModuleStyling?(0,x.jsx)(m.UQ,{id:"MfaRequired",children:_}):_},rV=function(){var e=(0,v.ZP)(),t=(0,tW.Z)();return(0,x.jsx)(tI.a3,{eligibleIds:[507164],placementId:1000303,children:function(n){var s=n.complete,r=n.dismiss;return(0,x.jsx)(m.xu,{marginBottom:4,marginStart:4,maxWidth:350,minHeight:50,rounding:4,children:(0,x.jsx)(m.ci,{dismissButton:{accessibilityLabel:e._('Close', '[m10n]bizAccess.businessSettings.callout.dismissButton', 'Button to dismiss this info section'),onDismiss:function(){return r()}},iconAccessibilityLabel:e._('Info', '[m10n]businessAccess.businessSettings.callout.icon.a11y', 'Accessibility label for callout\'s info icon'),message:e._('View, manage and update parent and child businesses, employee or partner permissions and security sign on options', '[m10n]businessAccess.businessSettings.callout.message', 'Business settings callout body message'),primaryAction:{accessibilityLabel:e._('Visit business settings', '[m10n]businessAccess.businessSettings.callout.primaryAction.a11y', 'Callout CTA a11y text to send user to Business settings page'),label:e._('Visit business settings', '[m10n]businessAccess.businessSettings.callout.primaryAction.label', 'Callout CTA text to send user to Business settings page'),href:(0,nd.Z)(l.Q6.BUSINESS_SETTINGS,t.isAuth?t.id:""),onClick:function(){return s()},role:"link"},title:e._('Visit Business settings to create a business hierarchy and more', '[m10n]businessAccess.businessSettings.callout.title', 'Business settings callout title'),type:"info"})})}})};function rG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var rW=function(e){var t,n=e.businessHierarchyMfaRequiredPanel,s=e.calloutsPanel,r=e.learnMoreUpsellPanel,i=e.businessInformationPanel,o=e.activationCardsPanel,a=e.businessReportingPanel,l=e.profilesPanel,c=e.adAccountsPanel,d=e.catalogsPanel,h=e.ownerAndManagersPanel,p=e.viewerNeedsToSetupMfa,b=e.myInformationPanel,f=e.viewerAndBusinessManagers;p=!1;var g=function(e){if(Array.isArray(e))return e}(t=(0,u.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rG(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rG(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=g[0],A=g[1],P=(0,v.ZP)(),S=(0,_.$B)().params.businessHierarchyId,w=(0,(0,E.Z)().checkExperiment)("web_m10n_business_manager_business_settings").anyEnabled;(0,u.useEffect)(function(){(0,tO.nP)("web.business_manager.dashboard.view",{sampleRate:1})},[]);var j=[];return n?(i&&j.push({content:i,needsPanel:!0}),j.push({content:n,needsPanel:!0})):p?j.push({content:(0,x.jsx)(rH,{shouldUseModuleStyling:!1}),needsPanel:!0}):(s&&j.push({content:s,needsPanel:!1}),r&&j.push({content:r,needsPanel:!1}),i&&(S||!w)&&j.push({content:i,needsPanel:!0}),o&&j.push({content:o,needsPanel:!1}),a&&j.push({content:a,needsPanel:!0}),c&&j.push({content:c,needsPanel:!0}),l&&j.push({content:l,needsPanel:!0}),d&&j.push({content:d,needsPanel:!0})),(0,x.jsxs)(m.kC,{children:[(0,x.jsxs)(m.xu,{marginBottom:h||b?0:6,width:h||b?"70%":"100%",children:[!!S&&y&&(0,x.jsx)(m.xu,{marginBottom:4,children:(0,x.jsx)(m.ci,{dismissButton:{accessibilityLabel:P._('Dismiss button for new business hierarchy business security page banner', '[m10n]bizAccess.businessHierarchy.dashboard.business_security_banner.dismissButton.label', 'Label for the dismiss button on the in-product education banner to navigate to the business hierarchy business security page'),onDismiss:function(){return A(!1)}},message:P._('You can now require employees to enter a unique code each time they access your account. Setup is quick and you can edit who is required to authenticate any time.', '[m10n]bizAccess.businessHierarchy.dashboard.business_security_banner.message', 'Title for the new business security page callout informing users of the new surface'),primaryAction:{accessibilityLabel:P._('Get started button to navigate to the Business Hierarchy Business Security Page', '[m10n]bizAccess.businessHierarchy.dashboard.business_security_banner.getStartedButton.accessibilityLabel', 'Accessibility label for the call to action button on the in-product education banner for the business hierarchy business security page'),href:(0,nd.Z)("BUSINESS_HIERARCHY_BUSINESS_SECURITY",null,null,S),label:P._('Set up security', '[m10n]bizAccess.businessHierarchy.dashboard.business_security_banner.ctaButton.label', 'Label for the call to action button on the in-product education banner to navigate to the business hierarchy business security page'),target:"blank",role:"link"},title:P._('New! Secure your child businesses with two-factor authentication', '[m10n]bizAccess.businessHierarchy.dashboard.business_security_banner.title', 'Title for the new business security page callout informing users of the new surface'),type:"recommendation"})}),(0,x.jsx)(sl.Z,{items:j})]}),(0,x.jsxs)(m.kC,{direction:"column",flex:"grow",gap:4,width:"30%",children:[!w&&!!b&&(0,x.jsx)(m.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:n_.iiJ}},direction:"column",display:"flex",marginStart:4,maxWidth:350,padding:4,rounding:4,children:b}),!w&&!!h&&(0,x.jsx)(m.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:n_.iiJ}},direction:"column",display:"flex",marginStart:4,maxWidth:350,padding:4,rounding:4,children:h}),!!w&&f&&(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(rV,{}),(0,x.jsx)(m.xu,{color:"default",direction:"column",display:"flex",marginStart:4,maxWidth:350,rounding:4,children:f})]})]})]})},rF=n(730476),rY=function(e){var t=e.onComplete,n=e.onDismiss,s=(0,v.ZP)(),r=(0,tW.Z)(),i=r.isAuth?r.id:void 0;return(0,x.jsx)(m.xu,{marginEnd:8,paddingY:2,children:(0,x.jsx)(m.ci,{dismissButton:{onDismiss:n,accessibilityLabel:s._('Dismiss profile sharing announcement banner', '[m10n]bizAccess.dashboard.profileSharing.iconLabel', 'accessibility text to be read when user focus on banner\'s dismiss icon')},iconAccessibilityLabel:s._('Info', '[m10n]bizAccess.dashboard.profileSharing.iconLabel', 'accessibility label for the info icon'),message:s._('Assign your profile to your employees and partners, or request access to partner profiles. To get started, visit the Profiles page and assign profile permissions to your employees.', '[m10n]bizAccess.dashboard.profileSharing.message', 'message that instructs users about new profile sharing feature'),primaryAction:{accessibilityLabel:s._('Assign own profile to employees', '[m10n]bizAccess.dashboard.profileSharing.button.a11y', 'Accessibility label for button leading to the page that assign profiles to employees and partners'),label:s._('Assign to employees', '[m10n]bizAccess.dashboard.profileSharing.button', 'Button leading to the page that assign profiles to employees and partners'),onClick:function(){t()},href:(0,nd.Z)("PROFILES_DETAIL",i,i)+"?assign_employees",role:"link"},secondaryAction:{accessibilityLabel:s._('Open guide in help center documentation', '[m10n]bizAccess.dashboard.profileSharing.button.a11y', 'Accessibility label for button leading to help center'),label:s._('Learn more', '[m10n]bizAccess.dashboard.profileSharing.button', 'Button leading to help center'),href:"https://www.pinterest.com/_/_/help/business/article/profile-permissions-in-business-access",target:"blank",role:"link"},title:s._('New! Share or manage organic content', '[m10n]bizAccess.dashboard.profileSharing.title', 'Title for an info banner to announce the profile sharing feature'),type:"info"})})},rq=function(e){var t=e.heading,n=e.greeting,s=e.listComponent,r=e.employeeInvites,i=e.listTitle,o=e.sidebar,a=e.viewerNeedsToSetupMfa,l=(0,E.Z)().checkExperiment,c=(0,tW.Z)(),_=c.isAuth?c.id:"",h=(0,j.KJ)(),b=l("web_m10n_business_hierarchy_beta").anyEnabled,f=(0,p.g)().businessHierarchies,y=(0,d.v9)(nX(h,f,b)),A=y||_===h,v=(0,g.Tt)({isBusinessHierarchy:!1,isBusinessOwner:_===h,isBusinessAdmin:y}),P=_!==h;return(0,u.useEffect)(function(){(0,tO.nP)("web.business_access.dashboard.view",{sampleRate:1})},[]),(0,x.jsx)(u.Fragment,{children:(0,x.jsx)(m.xu,{children:(0,x.jsxs)(m.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,x.jsxs)(m.sg,{mdSpan:8,span:12,children:[(0,x.jsxs)(m.xu,{marginBottom:8,minHeight:80,padding:6,children:[(0,x.jsx)(m.X6,{size:"600",children:t}),(0,x.jsx)(m.xu,{marginTop:3,children:(0,x.jsx)(m.xv,{children:n})})]}),!a&&(0,x.jsxs)(m.xu,{children:[(0,x.jsx)(tI.a3,{eligibleIds:[505013],placementId:1000303,children:function(e){var t=e.complete,n=e.dismiss;return(0,x.jsx)(rY,{onComplete:t,onDismiss:n})}}),(0,x.jsx)(m.xu,{marginBottom:8,marginEnd:8,children:(0,x.jsx)(n2,{})}),r&&(0,x.jsx)(u.Fragment,{children:r.map(function(e){var t=e.businessName,n=e.id;return(0,x.jsx)(m.xu,{marginEnd:8,paddingX:0,paddingY:4,children:(0,x.jsx)(so,{businessName:t,inviteId:n})},n)})}),(0,x.jsx)(tI.a3,{eligibleIds:[503025],placementId:1000303,children:function(e){var t=e.complete,n=e.dismiss;return(0,x.jsx)(sc,{onComplete:t,onDismiss:n})}}),A&&(0,x.jsx)(nT,{}),(0,x.jsx)(m.xu,{borderStyle:"shadow",marginBottom:6,marginEnd:8,marginTop:2,paddingX:6,paddingY:4,rounding:4,children:(0,x.jsx)(tH,{entityId:h,userRole:v},h)}),P&&(0,x.jsx)(sM,{}),(0,x.jsxs)(m.xu,{borderStyle:"shadow",marginEnd:8,marginTop:2,paddingX:6,paddingY:4,rounding:4,children:[(0,x.jsx)(m.X6,{size:"400",children:i}),(0,x.jsx)(s,{})]})]}),a&&(0,x.jsx)(m.xu,{margin:8,children:(0,x.jsx)(rH,{shouldUseModuleStyling:!0})})]}),(0,x.jsx)(m.sg,{mdSpan:4,span:12,children:(0,x.jsx)(m.xu,{marginStart:4,children:o})})]})})})},rK=n(403713),rQ=n(462981);function rJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}var rX=function(e){var t=e.employeeInvites;return(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(n2,{}),t&&(0,x.jsx)(u.Fragment,{children:t.map(function(e){var t=e.businessName,n=e.id;return(0,x.jsx)(m.xu,{marginBottom:4,children:(0,x.jsx)(so,{businessName:t,inviteId:n})},n)})})]})},r$=function(){return(0,x.jsx)(tI.a3,{eligibleIds:[503025],placementId:1000303,children:function(e){var t=e.complete,n=e.dismiss;return(0,x.jsx)(sc,{onComplete:t,onDismiss:n})}})},r0=function(e){var t=e.shouldShowManagers,n=e.shouldShowAccountOwner,s=e.setHaveManagersToDisplay,r=(0,(0,E.Z)().checkExperiment)("web_m10n_business_hierarchy_alpha").anyEnabled;return t?(0,x.jsx)(t2,{isBusinessHierarchyDashboard:r,isOwner:n,setHasAdmins:function(e){return s(e)}}):null},r1=function(e){return e.shouldShowAccountOwner&&(0,x.jsx)(n4,{})},r2=function(e){var t=e.shouldShowManagers,n=e.shouldShowAccountOwner,s=e.setHaveManagersToDisplay;return(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(r1,{shouldShowAccountOwner:n}),(0,x.jsx)(r0,{setHaveManagersToDisplay:s,shouldShowAccountOwner:n,shouldShowManagers:t})]})},r3=function(e){var t=e.businessRole,n=e.isOrganizationManager,s=[(0,x.jsx)(m.xu,{padding:4,children:(0,x.jsx)(sa,{businessRole:t,isOrganizationManager:n})},"myInformationPanel"),(0,x.jsx)(m.xu,{padding:4,children:(0,x.jsx)(nu,{})},"businessManagersPanel")];return(0,x.jsx)(rK.Z,{items:s})},r6=function(){(0,tI.Ow)(1000483);var e,t=(0,v.ZP)(),n=(0,tW.Z)(),s=(0,j.KJ)(),r=(0,_.$B)().params.businessHierarchyId,i=(0,h.TH)(),o=(0,tG.Z)(),a=(0,tV.Z)(n),l=(0,tF.mB)(i.search),c=(0,E.Z)().checkExperiment,b=c("web_m10n_business_hierarchy_alpha").anyEnabled,f=c("web_m10n_business_hierarchy_beta").anyEnabled,y=c("web_m10n_business_access_catalogs").anyEnabled,A=(0,p.g)().businessHierarchies,P=(0,d.v9)(nX(s,A,f)),S=n.isAuth?n.id:void 0,w=(0,d.v9)(rQ.O)&&S===s,I=(0,d.v9)(rQ.U),z=(0,d.v9)(t3.ZP),C=function(e){if(Array.isArray(e))return e}(e=(0,u.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,r,i,o,a=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(s=i.call(n)).done)&&(a.push(s.value),2!==a.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return rJ(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rJ(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=C[0],T=C[1],D=(0,t7._4)(z,s,A,f),R="OWNER"===D,N=z.some(function(e){return e.user.id===s}),L=!r&&N&&"EMPLOYEE"===D,B=!r&&N&&"BIZ_ADMIN"===D,k=!r&&R,M=L||B||k;(0,u.useEffect)(function(){M||T(!1)},[M]);var U=(0,s$.Z)(D,s,r).viewerNeedsToSetupMfa;if(!z||!o||null==a)return(0,x.jsx)(rF.Z,{});var Z=l.initial?t._('Welcome!', 'businessaccess.dashboard.greeting', 'Subheading greeting the user to the dashboard for the first time'):t._('Welcome back!', 'businessaccess.dashboard.greeting.back', 'Subheading greeting the user to the dashboard after coming back to the page'),H="OWNER"===D?t._('Recently added', '[m10n]bizAccess.dashboard.recentActivity.title', 'Heading for recently added people to account'):t._('Ad accounts', '[m10n]bizAccess.dashboard.accounts.title', 'Heading for listing advertisement accounts associated'),V=w?I:void 0,G=n.isAuth?n.firstName:"",W=t._('Dashboard info icon', '[[m10n]bizAccess.dashboard.info.icon', 'Accessibility label for audience info icon'),F="OWNER"===D?t._('View and edit information about your business, and get an overview of how your ad accounts are performing', '[m10n]businessAccess.dashboard.info.tooltip.owner', 'dashboard page info tooltip'):t._('View and access assets shared with you for this business', '[m10n]businessAccess.dashboard.info.tooltip.owner', 'dashboard page info tooltip');if(b){var Y=P||S===s,q=f&&R&&S!==s,K=(0,g.Tt)({isBusinessHierarchy:!!r,isBusinessOwner:S===s,isBusinessAdmin:P}),Q=r||s,J=t._('Dashboard', '[m10n]businessAccess.dashboard.pageTitle', 'business access dashboard page title'),X=L||B||q&&!r,$=(0,x.jsx)(m.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"start",marginBottom:4,marginStart:2,width:"100%",children:(0,x.jsxs)(m.kC,{alignItems:"center",gap:1,height:"100%",justifyContent:"start",width:"100%",children:[(0,x.jsx)(m.X6,{size:"600",children:J}),(0,x.jsx)(m.hU,{accessibilityLabel:W,bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:F,accessibilityLabel:F}})]})});return(0,x.jsxs)(rZ.Z,{pageTitle:$,children:[(0,x.jsx)(ry,{isNewUser:!0}),(0,x.jsx)(ry,{isNewUser:!1}),(0,x.jsx)(rj.Z,{placementId:1000303}),(0,x.jsx)(rw,{}),(0,x.jsx)(rI.Z,{placementId:1000303}),(0,x.jsx)(rA,{}),(0,x.jsx)(rW,{activationCardsPanel:Y?(0,x.jsx)(nT,{},"activationCardsPanel"):null,adAccountsPanel:L?(0,x.jsx)(sg,{},"adAccountsPanel"):null,businessHierarchyMfaRequiredPanel:U&&r?(0,x.jsx)(rC,{businessHierarchyNodeId:r}):null,businessInformationPanel:(0,x.jsx)(rU,{},"businessInformationPanel"),businessReportingPanel:(0,x.jsx)(tH,{entityId:Q,userRole:K},Q),calloutsPanel:(0,x.jsx)(rX,{employeeInvites:V},"calloutsPanel"),catalogsPanel:L&&y?(0,x.jsx)(sO,{},"catalogsPanel"):null,learnMoreUpsellPanel:(0,x.jsx)(r$,{},"learnMoreUpsellPanel"),myInformationPanel:r||"EMPLOYEE"!==D&&"BIZ_ADMIN"!==D&&"OWNER"!==D?null:(0,x.jsx)(sa,{businessRole:D,isOrganizationManager:q},"myInformationPanel"),ownerAndManagersPanel:X||O?(0,x.jsx)(r2,{setHaveManagersToDisplay:T,shouldShowAccountOwner:X,shouldShowManagers:M},"ownerAndManagersPanel"):null,profilesPanel:L?(0,x.jsx)(sM,{},"profilesPanel"):null,viewerAndBusinessManagers:r?null:(0,x.jsx)(r3,{businessRole:D,isOrganizationManager:q}),viewerNeedsToSetupMfa:U&&!r})]})}var ee=(0,x.jsxs)(m.kC,{alignItems:"center",gap:2,height:"100%",justifyContent:"start",width:"100%",children:[(0,x.jsx)(m.xv,{size:"500",weight:"bold",children:G}),(0,x.jsx)(m.hU,{accessibilityLabel:W,bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"md",tooltip:{text:F,accessibilityLabel:F}})]});return(0,x.jsx)(rq,{employeeInvites:V,greeting:Z,heading:ee,listComponent:"OWNER"===D?sX:sg,listTitle:H,sidebar:(0,x.jsxs)(m.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:[(0,x.jsx)(t8,{}),"OWNER"!==D&&(0,x.jsx)(n4,{}),(0,x.jsx)(t2,{})]}),viewerNeedsToSetupMfa:U})};function r8(){return(0,x.jsx)(c.Z,{pageType:l.Q6.DASHBOARD,children:(0,x.jsx)(r6,{})})}}}]);