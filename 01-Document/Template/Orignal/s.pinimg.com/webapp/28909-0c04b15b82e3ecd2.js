"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["28909"],{759427:function(e,t,n){n.r(t);var i,r,a={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"updatedSettings"}],kind:"Fragment",metadata:null,name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:r=[{alias:null,args:[{fields:[{kind:"Variable",name:"updatedSettings",variableName:"updatedSettings"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3PostSettingsAllNotificationsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:r},params:{id:"7162348715dcaf7d8e559b82fdb2855ec99a3a7d15a86739a8ff186c6878a257",metadata:{},name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",operationKind:"mutation",text:null}};a.hash="2afb461977ebc24331aba62b79de258c",t.default=a},313002:function(e,t,n){n.d(t,{U:function(){return s},d:function(){return l}});var i=n(586659),r=n(382718);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var o=(0,i.createContext)({});function s(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(void 0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{for(a=(n=n.call(e)).next;!(l=(i=a.call(n)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=s[0],c=s[1],d=(0,i.useMemo)(function(){return{alert:l,showAlert:function(e){e&&(null==e?void 0:e.message)!==(null==l?void 0:l.message)&&c(e)},hideAlert:function(){c(void 0)}}},[l,c]);return(0,r.jsx)(o,{value:d,children:n})}function l(){return(0,i.useContext)(o)}},538281:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(20256),r=n(19585),a=n(382718);function o(e){var t=e.accessibilityLabel,n=e.fixedPosition,o=e.rounding,s=(0,r.ZP)();return(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:n?"fixed":"absolute",right:!0,top:!0,zIndex:new i.Ry(101),children:(0,a.jsx)(i.xH,{accessibilityLabel:t||s._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,a.jsx)(i.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:n?"fixed":"absolute",right:!0,rounding:o,top:!0,zIndex:new i.Ry(100)})]})}},587672:function(e,t,n){var i=n(20256),r=n(564325),a=n(799300),o=n(744862),s=n(821342),l=n(19585),c=n(647709),d=n(793698),u=n(382718),_=function(e){var t=e.isDesktop,n=e.i18n;return(0,u.jsx)(i.xu,{marginBottom:t?2:6,marginTop:t?2:12,children:(0,u.jsx)(i.X6,{accessibilityLevel:"none",align:"center",size:"600",children:n._('Account update', 'profile.Settings.Edit.Birthdate.BirthdateBusinessAccountUpdate.Heading', 'Heading for showing that the account has been changed to a personal account')})})};t.Z=function(e){var t,n=e.onModalClose,f=(0,l.ZP)(),m=(0,r.Z)().setObserverRef,g=(0,c.HG)(),h=(0,s.Z)(),p=h.isAuth?h.id:"",b=(0,d.mN)()(p),y=(null==b?void 0:b.image_large_url)||(null==b?void 0:b.image_medium_url)||(null==b?void 0:b.image_small_url)||"",v=null==b?void 0:b.avatar_color_index,x=function(){n()};return(0,u.jsx)(o.u_,{accessibilityModalLabel:f._('Business Account updated', 'profile.Settings.Edit.Birthdate.BirthdateBusinessAccountUpdate.AccessibilityLabel', 'Accessibility label for the Business Account update after birthdate change to underage'),closeOnOutsideClick:!1,footer:(0,u.jsx)(i.xu,{marginBottom:10,marginTop:2,children:(0,u.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,u.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,u.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:x,size:"lg",text:f._('Got it', 'profile.Settings.Edit.Birthdate.BirthdateBusinessAccountUpdate.ConfirmButotn', 'Confirm button label on the modal dialog to return to account management page')})})})}),heading:g&&(0,u.jsx)(_,{i18n:f,isDesktop:g}),isOpen:!0,mobileAccessibilityCloseIconLabel:f._('Close Birthdate Business Account Update Modal', 'profile.Settings.Edit.Birthdate.BirthdateBusinessAccountUpdate.CloseAccessibilityLabel', 'Accessibility label for the Birthdate Business Account Update Modal Close Icon'),mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:x,size:g?"sm":"lg",children:(0,u.jsx)(i.xu,{ref:m,paddingX:5*!g,children:(0,u.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[!g&&(0,u.jsx)(_,{i18n:f,isDesktop:g}),(0,u.jsx)(i.xu,{marginBottom:11,paddingX:3*!!g,children:(0,u.jsx)(i.xv,{align:g?"center":"start",size:"300",children:f._('Your Pinterest account has been converted to a personal account, and business tools have been disabled as per our terms of service.', 'profile.Settings.Edit.Birthdate.BirthdateBusinessAccountUpdate.InformativeMessage', 'Informative text explaining that the account has been changed to a personal account and business tools have been disabled')})}),(0,u.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:6,position:"relative",wrap:!0,children:[(0,u.jsx)(a.Z,{size:52}),(0,u.jsx)(i.xu,{paddingX:3,children:(0,u.jsx)(i.JO,{accessibilityLabel:f._('Convert', 'converToPersonalAccount.icon.convertIcon', 'Convert to personal account icon'),color:"dark",icon:"directional-arrow-right",size:24})}),(0,u.jsx)(i.xu,{children:(0,u.jsx)(o.qE,{color:v,name:null!=(t=null==b?void 0:b.first_name)?t:"",size:"md",src:y})})]})]})})})}},965389:function(e,t,n){var i=n(20256),r=n(587795),a=n(982166),o=n(19585),s=n(647709),l=n(382718);t.Z=function(e){var t=e.birthdate,n=e.closeModal,c=e.onConfirm,d=(0,o.ZP)(),u=(0,s.HG)(),_=(0,r.ew)(t||"",d),f=d._('Close Birthdate Confirmation Modal', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.CloseAccessibilityLabel', 'Accessibility label for the Birthdate Confirmation Modal Close Icon');return(0,l.jsxs)(a.ZP,{accessibilityModalLabel:d._('Birthdate Confirmation Modal', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.AccessibilityLabel', 'Accessibility label for the Birthdate Confirmation Modal'),closeOnOutsideClick:!1,footer:(0,l.jsx)(i.xu,{marginBottom:11*!u,children:(0,l.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,l.jsx)(i.xu,{display:"flex",justifyContent:u?"end":"center",paddingX:u?1:5,width:"50%",children:(0,l.jsx)(i.zx,{fullWidth:!u,onClick:n,size:"lg",text:d._('Edit info', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.EditButton', 'Edit info button label on the modal dialog to return to editing the birthdate')})}),(0,l.jsx)(i.xu,{display:"flex",justifyContent:u?"start":"center",paddingX:u?1:5,width:"50%",children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!u,onClick:function(){c()},size:"lg",text:d._('Confirm', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.ConfirmButotn', 'Confirm button label on the modal dialog to return to editing the birthdate')})})]})}),heading:u?(0,l.jsxs)(i.kC,{justifyContent:"between",children:[(0,l.jsx)(i.xu,{flex:"grow",marginStart:6,children:(0,l.jsx)(i.X6,{accessibilityLevel:1,align:"center",size:"600",children:_})}),(0,l.jsx)(i.hU,{accessibilityLabel:f,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:n,size:"xs"})]}):null,isOpen:!0,mobileAccessibilityCloseIconLabel:f,mobileIsSlideUp:!0,onDismiss:n,size:u?"sm":"lg",children:[u?null:(0,l.jsx)(i.xu,{marginBottom:4,paddingX:4,children:(0,l.jsx)(i.X6,{accessibilityLevel:"none",align:"center",size:"700",children:_})}),(0,l.jsx)(i.xu,{marginBottom:8*!u,paddingX:4,children:(0,l.jsx)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,l.jsx)(i.xv,{align:"center",size:u?"300":"400",children:(0,r.Pe)(d)})})})]})}},953116:function(e,t,n){var i=n(20256),r=n(982166),a=n(821342),o=n(19585),s=n(302148),l=n(593891),c=n(444185),d=n(694955),u=n(647709),_=n(793698),f=n(382718);t.Z=function(){var e=(0,o.ZP)(),t=(0,l.aU)(),n=(0,u.HG)(),m=(0,a.Z)(),g=m.isAuth?m.id:"",h=(0,_.mN)()(g);(0,c.Z)({name:"UserSettingsResource"});var p=function(){t({redirectUrl:"/",source:"underage_user_deactivation_logout"})};return(0,f.jsx)(r.ZP,{accessibilityModalLabel:e._('User Account Deactivation Modal', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AccessibilityLabel', 'Accessibility label for the User Account Deactivation Modal'),closeOnOutsideClick:!1,footer:(0,f.jsx)(i.xu,{marginBottom:11*!n,children:(0,f.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,f.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingX:5,width:n?"auto":"100%",children:(0,f.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:p,size:"lg",text:e._('Close', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmButotn', 'Confirm button label on the modal dialog to return to editing the birthdate')})})})}),heading:(0,f.jsx)(i.xu,{marginBottom:4,marginTop:6*!n,paddingX:4,children:(0,f.jsx)(i.X6,{accessibilityLevel:"none",align:"center",size:n?"600":"700",children:e._('We\'ve deactivated your account', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.Heading', 'Heading for showing that the account has been deactivated')})}),isOpen:!0,mobileIsSlideUp:!0,onDismiss:p,size:n?"sm":"lg",children:(0,f.jsx)(i.xu,{marginBottom:8*!n,paddingX:4,children:(0,f.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,f.jsx)(i.xu,{marginBottom:4,children:(0,f.jsx)(i.xv,{size:"300",children:(0,s.nk)(e._('Unfortunately the birthdate you provided means you\'re not old enough for a Pinterest account according to our {{ tosLink }}.', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmationMessage', 'Confirmation text for verifying that the inputted birthdate is valid, tosLink: Links to Pinterest terms of service page'),{tosLink:(0,f.jsx)(i.rU,{display:"inlineBlock",href:d.F20,target:"blank",children:e._('terms of service', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.TermsOfService', 'Terms of service text')},"termsOfServiceLink")})})}),(0,f.jsx)(i.xu,{children:(0,f.jsxs)(i.aV,{label:(0,f.jsx)(i.xv,{size:"300",weight:"bold",children:e._('What you can do now', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HeadingText', 'Heading text for for outlining possible steps')}),spacing:"condensed",type:"unordered",children:[(0,f.jsx)(i.aV.Item,{text:e._('You can file an appeal if you think your account was deactivated by mistake', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AppealText', 'Text describing the potential to appeal a birthdate deactivation')}),(0,f.jsx)(i.aV.Item,{text:(0,f.jsx)(i.xv,{children:(0,s.nk)(e._('More information and instructions for an appeal have been sent to {{ email }}', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailText', 'Text describing an email being sent to the user about deactivation, email: user email'),{email:(0,f.jsx)(i.xv,{inline:!0,weight:"bold",children:null==h?void 0:h.email},"user-email-birthdate-verification-modal")})})}),(0,f.jsx)(i.aV.Item,{text:(0,f.jsx)(i.xv,{children:(0,s.nk)(e._('If you no longer have access to that email address, {{ helpLink }}', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HelpText', 'Help text for informing users without access to that email, helpLink: Link that leads to the Pinterest help page for inaccessible emails'),{helpLink:(0,f.jsx)(i.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/email-is-old-or-inaccessible",target:"blank",children:e._('we can help', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailHelpLinkText', 'Text for the link to get help for emails no longer accessible')},"emailHelpLink")})})})]})})]})})})}},23265:function(e,t,n){var i=n(20256),r=n(982166),a=n(19585),o=n(302148),s=n(647709),l=n(382718);t.Z=function(e){var t=e.userEmail,n=e.closeModal,c=(0,a.ZP)(),d=(0,s.HG)(),u=c._('We need more information', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.Header', 'Header text for the Birthdate Verification Modal'),_=d?c._('Close Birthdate Verification Modal', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.CloseAccessibilityLabel', 'Accessibility label for the Birthdate Verification Modal Close Icon'):"",f=function(){n()};return(0,l.jsx)(r.ZP,{accessibilityModalLabel:c._('Birthdate Verification Modal', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.AccessibilityLabel', 'Accessibility label for the Birthdate Verification Modal'),closeOnOutsideClick:!1,footer:(0,l.jsx)(i.xu,{marginBottom:11*!d,children:(0,l.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingX:5,width:d?"auto":"100%",children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!d,onClick:f,size:"lg",text:c._('Got it', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.GotItButotn', 'Got it button action on the birthdate verification modal')})})})}),heading:d?(0,l.jsxs)(i.kC,{justifyContent:"between",children:[(0,l.jsx)(i.xu,{flex:"grow",marginStart:6,children:(0,l.jsx)(i.X6,{accessibilityLevel:1,align:"center",size:"600",children:u})}),(0,l.jsx)(i.hU,{accessibilityLabel:_,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:f,size:"xs"})]}):(0,l.jsx)(i.xu,{marginBottom:4,marginTop:6,children:(0,l.jsx)(i.X6,{accessibilityLevel:"none",align:"center",size:"600",children:u})}),isOpen:!0,mobileAccessibilityCloseIconLabel:_,mobileIsSlideUp:!0,onDismiss:f,size:"sm",children:(0,l.jsx)(i.xu,{marginBottom:8*!d,paddingX:4,children:(0,l.jsx)(i.xv,{align:"center",children:(0,o.nk)(c._('The change to your birthdate hasn\u2019t been saved yet.\xA0 We\u2019ve sent an email to {{ userEmail }} for more information.', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.ExplanationText', 'This text explain to the user that his new birthday wasnt set and he needs to check his email that contains additional info userEmail:The user email that is going to be displayed on the text'),{userEmail:(0,l.jsx)(i.xv,{inline:!0,weight:"bold",children:t},"user-email-birthdate-verification-modal")})})})})}},799300:function(e,t,n){var i=n(382718);t.Z=function(e){var t=e.size,n=e.backgroundColor,r=e.color;return(0,i.jsxs)("svg",{fill:"none",height:void 0===t?56:t,viewBox:"0 0 52 52",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("circle",{cx:"26",cy:"26",fill:n||"#EFEFEF",r:"26"}),(0,i.jsx)("path",{d:"M40.3675 19.0565V18.7365L37.9037 14.7365C37.3887 13.8439 36.4375 13.2952 35.4075 13.2965H17.0401C16.1001 13.2902 15.2151 13.7439 14.6726 14.5127L11.7601 18.6727L11.6963 18.769V18.9927C11.6938 19.0352 11.6938 19.0777 11.6963 19.1202H11.6001V20.624C11.6063 21.9165 12.3888 23.0777 13.5838 23.5677V35.184C13.5838 37.1278 15.1601 38.704 17.1038 38.704H34.8638C36.8076 38.704 38.3838 37.1278 38.3838 35.184V23.664C39.5913 23.184 40.3888 22.0203 40.4001 20.7203V19.0565L40.3675 19.0565ZM34.0001 19.4402V21.2002C34.0001 22.314 33.0976 23.2164 31.9838 23.2164C30.8701 23.2164 29.9676 22.314 29.9676 21.2002V19.0239L28.7838 15.2166H31.8876L34.0001 19.4402ZM18.0001 20.7202V19.5039L20.5601 15.2166H23.2164L22.0964 18.9603V21.2003C22.0964 22.3315 21.1788 23.2477 20.0476 23.2477C18.9176 23.2477 18.0001 22.3315 18.0001 21.2003L18.0001 20.7202ZM23.9527 19.3765L25.2002 15.2165H26.7677L28.0152 19.3765L28.0165 21.2002C28.0165 22.314 27.114 23.2164 26.0002 23.2164C24.8864 23.2164 23.9839 22.314 23.9839 21.2002L23.9527 19.3765ZM13.5201 19.5365L16.2401 15.6328C16.4213 15.369 16.7213 15.2128 17.0401 15.2165H18.3201L16.2076 18.7365H16.1751L16.1113 18.864V20.6878H16.1126C16.1126 21.3952 15.5388 21.9678 14.8326 21.9678C14.1251 21.9678 13.5526 21.3952 13.5526 20.6878L13.5201 19.5365ZM28.9764 36.7838H23.0238V30.5765C23.0238 30.0465 23.4538 29.6164 23.9838 29.6164H28.0164C28.5464 29.6164 28.9764 30.0465 28.9764 30.5765V36.7838ZM34.8964 36.7838H30.8964V30.5765C30.8964 28.9852 29.6064 27.6964 28.0164 27.6964H23.9838C22.3938 27.6964 21.1038 28.9852 21.1038 30.5765V36.7838H17.1364C16.2527 36.7838 15.5364 36.0676 15.5364 35.1838V23.8238C15.9527 23.7226 16.3452 23.5376 16.6877 23.2801C17.3502 24.3463 18.4827 25.0326 19.7339 25.1276C20.9864 25.2226 22.2089 24.715 23.0238 23.7601C23.7713 24.6238 24.8576 25.1201 26.0001 25.1201C27.1426 25.1201 28.2288 24.6238 28.9764 23.7601C29.7914 24.7151 31.0139 25.2226 32.2663 25.1276C33.5175 25.0326 34.65 24.3463 35.3125 23.2801C35.655 23.5376 36.0475 23.7226 36.4638 23.8238V35.1838C36.4638 35.6088 36.295 36.0151 35.995 36.3151C35.6951 36.6151 35.2888 36.7838 34.8638 36.7838H34.8964ZM37.2002 22.0001C36.4927 22.0001 35.9202 21.4276 35.9202 20.7201V18.8326L34.0002 15.2163H35.4076C35.7514 15.2163 36.0689 15.3988 36.2402 15.6963L38.4802 19.5037V20.7199C38.4802 21.0599 38.3452 21.3849 38.1052 21.6249C37.8651 21.8649 37.5402 21.9999 37.2002 21.9999V22.0001Z",fill:r||"#111111"})]})}},702849:function(e,t,n){n.d(t,{Et:function(){return r},G0:function(){return s},Ki:function(){return c},PB:function(){return _},Sz:function(){return d},XF:function(){return a},Xq:function(){return u},ZG:function(){return l},iW:function(){return i},s5:function(){return o},tr:function(){return f}});var i="var(--comp-button-color-background-primary-disabled)",r="var(--comp-button-color-background-secondary-default)",a="var(--comp-button-color-background-tertiary-semi-transparent-default)",o="var(--comp-button-color-hover-background-primary-default)",s="var(--comp-button-color-hover-background-secondary-default)",l="var(--comp-button-color-hover-background-tertiary-default)",c="var(--comp-button-color-hover-background-shopping-default)",d="var(--comp-button-color-hover-background-light-default)",u="var(--comp-button-color-hover-background-tertiary-semi-transparent-default)",_="var(--comp-button-color-hover-background-transparent-default)",f="var(--comp-button-color-pressed-background-secondary-default)"},249201:function(e,t,n){n.d(t,{A:function(){return E},t:function(){return T}});var i=n(586659),r=n(963489),a=n(521009),o=n(729434),s=n(20256),l=n(982166),c=n(19585),d=n(647709),u=n(211934),_=n(382718);function f(e){var t=e.onClose,n=e.handleSubmit,r=e.currentViewParameter,o=e.currentComponent,f=e.isOpen,m=(0,c.ZP)(),g=(0,a.Z)(),h=(0,d.HG)(),p=m._('Dismiss modal button', 'settings.ParentalPasscodeSkipAcknowledgeModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),b=m._('Cancel', 'settings.ParentalPasscodeSkipAcknowledgeModal.cancelButton', 'Cancel button label on the modal dialog'),y=m._('Update', 'settings.ParentalPasscodeSkipAcknowledgeModal.updateButton', 'Enter button label on the modal dialog'),v=m._('Update this setting?', 'settings.ParentalPasscodeSkipAcknowledgeModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),x=m._('You may require parental passcode for future changes to this setting', 'settings.ParentalPasscodeSkipAcknowledgeModal.subHeading2', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode');(0,i.useEffect)(function(){r&&o&&g({event_type:13,view_type:7,view_parameter:4004,component:14971})},[r,o,g]);var P=function(){g({event_type:15423,view_type:7,view_parameter:4004,component:14971}),n("")},A=function(){g({event_type:15424,view_type:7,view_parameter:4004,component:14971}),t()};return(0,_.jsx)(i.Fragment,{children:h?(0,_.jsx)(l.ZP,{accessibilityModalLabel:m._('Parental Passcode Validate Modal', 'settings.ParentalPasscodeSkipAcknowledgeModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!0,footer:(0,_.jsxs)(s.kC,{alignItems:"center",justifyContent:"end",children:[(0,_.jsx)(s.xu,{paddingX:1,children:(0,_.jsx)(s.zx,{onClick:A,size:"lg",text:b})}),(0,_.jsx)(s.xu,{flex:"shrink",paddingX:1,children:(0,_.jsx)(s.zx,{color:"red",dataTestId:"parental-passcode-update-button",fullWidth:!h,onClick:P,size:"lg",text:y})})]}),heading:(0,_.jsxs)(s.kC,{justifyContent:"between",children:[(0,_.jsxs)(s.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(s.X6,{accessibilityLevel:1,align:"start",size:"600",children:v}),(0,_.jsx)(s.xv,{children:x})]}),(0,_.jsx)(s.hU,{accessibilityLabel:p,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:A,size:"lg"})]}),isOpen:f,mobileAccessibilityCloseIconLabel:p,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:A,size:656}):(0,_.jsx)(u.Z,{description:x,heading:v,isOpen:f,onDismiss:A,primaryBtnParams:{text:b,color:"gray",onClick:A},secondaryBtnParams:{text:y,color:"red",onClick:P},type:"request-data"})})}var m=n(302148),g=n(538281),h=n(404867),p=n(694955),b=n(640924);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function x(e){var t=e.onClose,n=e.handleSubmit,o=e.errorMessage,u=e.currentViewParameter,f=e.currentComponent,v=(0,c.ZP)(),x=(0,a.Z)(),P=(0,d.HG)(),A=(0,r.TH)(),C=(0,(0,h.Z)("").getSingleValidator)("passcode"),j=y((0,i.useState)(!1),2),S=j[0],z=j[1],w=y((0,i.useState)(!1),2),k=w[0],T=w[1],E=y((0,i.useState)({value:"",error:void 0}),2),M=E[0],O=E[1],I=y((0,i.useState)(),2),L=I[0],D=I[1],B=v._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),R=v._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),V=(0,m.nk)(v._('Enter your 4-digit passcode to make this change. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'This string is body copy on a prompt. The prompt appears when a teenage user tries to change a setting. The user\u2019s account is set to require a parental passcode for changes to passwords and other settings. This screen is directed at the teens\u2019 parent or guardian\u2014it\u2019s their 4-digit passcode that must be entered in the text field below this string. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,_.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(s.rU,{display:"inlineBlock",href:p.a$N,onClick:function(e){e.event.stopPropagation(),u&&f&&x({event_type:102,view_type:7,view_parameter:u,element:12765,component:f})},target:"blank",underline:"hover",children:v._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,i.useEffect)(function(){u&&f&&x({event_type:13,view_type:7,view_parameter:u,component:f})},[u,f,x]),(0,i.useEffect)(function(){z(!!M.value&&!M.error)},[M]);var G=(0,i.useCallback)(function(){x({event_type:14590,view_type:7,view_parameter:u,component:14374})},[u,x]);(0,i.useEffect)(function(){var e=A.pathname.replace(/\/$/,"");o&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(G(),T(!1)),D(o)},[o,G,A.pathname]);var Z=function(e){var t=e.replace(/\s/g,"");if(!(e.length>4)){var n=(0,b.a3)(t,C);L&&D(void 0),O({value:e,error:n})}},U=function(){k||(u&&f&&x({event_type:P?101:102,view_type:7,view_parameter:u,component:f,element:11925}),t())};return(0,_.jsx)(l.ZP,{accessibilityModalLabel:v._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!k,footer:(0,_.jsxs)(s.kC,{alignItems:"center",justifyContent:P?"end":"center",children:[P?(0,_.jsx)(s.xu,{paddingX:1,children:(0,_.jsx)(s.zx,{disabled:k,onClick:U,size:"lg",text:v._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog')})}):null,(0,_.jsx)(s.xu,{flex:P?"shrink":"grow",marginBottom:4*!P,paddingX:P?1:4,children:(0,_.jsx)(s.zx,{color:"red",dataTestId:"parental-passcode-enter-button",disabled:!S||k,fullWidth:!P,onClick:function(){T(!0),u&&f&&x({event_type:P?101:102,view_type:7,view_parameter:u,component:f,element:12019}),n(M.value),T(!1)},size:"lg",text:v._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog')})})]}),heading:P?(0,_.jsxs)(s.kC,{justifyContent:"between",children:[(0,_.jsxs)(s.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(s.X6,{accessibilityLevel:1,align:"start",size:"600",children:R}),(0,_.jsx)(s.xv,{children:V})]}),(0,_.jsx)(s.hU,{accessibilityLabel:B,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:U,size:"lg"})]}):(0,_.jsx)(s.X6,{accessibilityLevel:"none",align:"center",size:"300",children:v._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),isOpen:!0,mobileAccessibilityCloseIconLabel:B,mobileIsSlideUp:!0,onDismiss:U,size:656,children:(0,_.jsx)(s.xu,{paddingX:P?6:4,paddingY:3,children:(0,_.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:P?"start":"center",children:[P?null:(0,_.jsx)(s.xu,{marginBottom:7,maxWidth:325,children:(0,_.jsxs)(s.kC,{alignItems:"center",direction:"column",children:[(0,_.jsx)(s.xu,{marginBottom:6,children:(0,_.jsx)(s.X6,{accessibilityLevel:2,align:"center",size:"600",children:R})}),(0,_.jsx)(s.xv,{align:"center",children:V})]})}),(0,_.jsxs)(s.xu,{marginBottom:4*!P,position:"relative",width:"100%",children:[(0,_.jsx)(s.nv,{autoComplete:"off",dataTestId:"parental-passcode-input",errorMessage:M.error||L,id:"passcode",label:v._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),labelDisplay:P?"visible":"hidden",name:"passcode",onChange:function(e){return Z(e.value)},placeholder:"XXXX",size:"lg",type:"text",value:M.value}),k?(0,_.jsx)(g.Z,{accessibilityLabel:v._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=P(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||S(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return z(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var w=(0,o.Z)("ParentalPasscodeValidateModal"),k=w.Provider,T=w.get,E=function(e){var t=e.children,n=(0,a.Z)(),o=(0,r.TH)(),s=j((0,i.useState)(!1),2),l=s[0],c=s[1],d=j((0,i.useState)(),2),u=d[0],m=d[1],g=j((0,i.useState)(),2),h=g[0],p=g[1],b=j((0,i.useState)(void 0),2),y=b[0],v=b[1],P=j((0,i.useState)([]),2),A=P[0],w=P[1],T=o.pathname.replace(/\/$/,""),E="/parental-passcode"===T||"/settings/account-settings"===T,M=j((0,i.useState)(!1),2),O=M[0],I=M[1];(0,i.useEffect)(function(){if(l){var e,t=(e=T).startsWith("/settings/messages")?3709:({"/settings/profile-visibility":3907,"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860})[e],n=E?14456:14374;p(t),m(n)}},[l,T,E]);var L=(0,i.useCallback)(function(e){v(void 0),A.map(function(t){return t(e||"")})},[A]),D=(0,i.useCallback)(function(e){var t=e.handlePasscodeSent,n=e.requiresUnidirectionalPasscode;w(function(e){return[].concat(function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}),I(void 0!==n&&n),c(!0)},[]),B=(0,i.useCallback)(function(e){v(e)},[]),R=(0,i.useCallback)(function(){p(void 0),m(void 0),w([]),v(void 0),c(!1)},[]),V=(0,i.useCallback)(function(e){e&&!E&&n({event_type:14591,view_type:7,view_parameter:h,component:14374}),R()},[R,h,n,E]),G=(0,i.useMemo)(function(){return{handleSubmit:L,errorMessage:y,onClose:R,currentViewParameter:h,currentComponent:u,isOpen:l}},[L,y,R,h,u,l]),Z=(0,i.useMemo)(function(){return{getModalProps:G,closeModal:V,isModalOpen:l,setErrorMessage:B,setModalPropsAndOpen:D}},[G,V,l,B,D]);return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(k,{value:Z,children:t}),l?O?(0,_.jsx)(f,C({},G)):(0,_.jsx)(x,C({},G)):null]})}},951908:function(e,t,n){n.d(t,{i:function(){return o},x:function(){return s}});var i=n(2420);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){var i;return(i=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function s(e){var t,n=e.apiErrorCode,r=e.onShowMessage,o=e.onPassCodeRequired,s=e.onPassCodeSkipConfirmation;n&&((a(t={},i.RR,r),a(t,i.mX,o),a(t,i.q6,s),t)[n]||r)()}},404867:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(19585),r=n(640924);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function o(e){var t=(0,i.ZP)(),n=(0,r.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),o=(0,r.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),s=(0,r.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),l=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),c=(0,r.Gy)({min:4,max:4,minErrorString:l,maxErrorString:l}),d={passcode:[n,s,c],confirmPasscode:[n,s,c],backupEmail:[n,o,function(n){var i=[];return n===e&&i.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:i,warnings:[]}}],confirmBackupEmail:[n,o]},u=function(e,n){switch(e){case"confirmPasscode":return(0,r.sG)({targetValue:n.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,r.sG)({targetValue:n.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return function(){return{errors:[],warnings:[]}}}};return{getSingleValidator:function(e){return d[e]},getValidators:function(e,t){var n;return[].concat(function(e){if(Array.isArray(e))return a(e)}(n=d[e])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[u(e,t)])},getMatchingValidator:u}}},593891:function(e,t,n){n.d(t,{aU:function(){return s},hq:function(){return o},o_:function(){return r}});var i=(0,n(729434).Z)("AuthenticationContext"),r=i.Provider,a=i.useHook;function o(){return a().loginContext}function s(){return a().logout}},244074:function(e,t,n){var i=n(586659);t.Z=function(){var e=(0,i.useRef)(!1);return(0,i.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),e}},25443:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(586659),r=n(20256),a=n(19585),o=n(382718),s=new r.Ry(671),l=new r.H3([s]),c=function(){return(0,o.jsx)(r.xu,{color:"default",height:"100%",left:!0,opacity:.8,position:"absolute",top:!0,width:"100%",zIndex:l})},d=new r.H3([l]),u=function(e){var t=e.size,n=(0,a.ZP)();return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(c,{}),(0,o.jsx)(r.xu,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",zIndex:d,children:(0,o.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,o.jsx)(r.xH,{accessibilityLabel:n._('Loading Icon', 'Catalogs.Spinner', 'Loading state for catalogs pages'),show:!0,size:t})})})]})}},105433:function(e,t,n){n.d(t,{pb:function(){return T},nf:function(){return E},lV:function(){return M}});var i=n(586659),r=n(581722),a=n(981315),o=n.n(a),s=n(575108),l=n(729434),c=n(686319),d=n(791948),u=n(503246),_=n(991384);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){var i;return(i=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=f(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==f(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={feature_map:Object.freeze({})},b=function(e,t){var n=g(g(g(g({},(0,_.Z)(e,t)),t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({})),t.tags?{tags:t.tags}:Object.freeze({})),t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({}));return(0,u.ZP)(e,n)?e:n},y=function(e,t){if(e=e||p,"FETCH_COMPLETE"===t.type){var n=t.payload.resource,i=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){var r=(i||[]).reduce(function(t,n){return t[n.id]=b(e[n.id],n),t},{});return g(g({},e),r)}if("UnifiedCommentsResource"===n&&i&&i.length>0){var a=i.filter(function(e){return"aggregatedcomment"===e.type}).reduce(function(t,n){return t[n.id]=b(e[n.id],n),t},{});return g(g({},e),a)}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){var o=i.map(function(e){return e.aggregated_comment}).reduce(function(t,n){return n&&(t[n.id]=b(e[n.id],n)),t},{}),s=i.map(function(e){return e.creator_reply}).reduce(function(t,n){return n&&n.id&&(t[n.id]=b(e[n.id],n)),t},{});return g(g(g({},e),o),s)}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return g(g({},e),{},{feature_map:i})}else if("AGGREGATED_COMMENT_CREATED"===t.type){var l=t.payload.aggregatedComment;return l.id?g(g({},e),{},h({},l.id,l)):e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){var c=t.payload.aggregatedCommentId,d=g({},e);return delete d[c],d}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){var u=t.payload.userId;return Object.fromEntries(Object.entries(e).filter(function(e){var t;return(null==(t=e[1].user)?void 0:t.id)!==u}))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){var _,f=t.payload.data;return g(g({},e),{},h({},f.id,b(null==(_=e)?void 0:_[f.id],f)))}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){var m,y=t.payload.data,v=null==(m=e)?void 0:m[y.id],x=(null==v?void 0:v.reaction_counts[1])||0,P=h({},1,y.reaction_by_me?x+1:x-1),A=g(g({},v),{},{reaction_by_me:y.reaction_by_me,reaction_counts:P});return g(g({},e),{},h({},y.id,A))}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){var C,j=t.payload.data,S=null==(C=e)?void 0:C[j.id],z=(null==S?void 0:S.helpful_count)||0,w=j.marked_helpful_by_me?z+1:z-1,k=g(g({},S),{},{marked_helpful_by_me:j.marked_helpful_by_me,helpful_count:w});return g(g({},e),{},h({},j.id,k))}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){var T,E=t.payload.data,M=g(g({},null==(T=e)?void 0:T[E.aggregated_comment_id]),{},{highlighted_by_pin_owner:E.is_highlighted});return g(g({},e),{},h({},E.aggregated_comment_id,M))}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){var O,I=t.payload.data.featureMap;return g(g({},e),{},{feature_map:g(g({},null==(O=e)?void 0:O.feature_map),I)})}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){var L,D=t.payload,B=D.increment,R=D.id,V=null==(L=e)?void 0:L[R];if(!V)return e;var G=g(g({},V),{},{comment_count:V.comment_count+B});return g(g({},e),{},h({},R,G))}else if("DELETE_COMMENT_MENTION"===t.type){var Z,U=t.payload,H=U.aggregatedCommentId,N=U.tagged_users,F=g(g({},null==(Z=e)?void 0:Z[H]),{},{tagged_users:N});return g(g({},e),{},h({},H,F))}else if("GET_COMMENT_TRANSLATION"===t.type){var X,W=t.payload,q=W.aggregatedCommentId,K=W.translatedText,$=g(g({},null==(X=e)?void 0:X[q]),{},{translatedText:K});return g(g({},e),{},h({},q,$))}return e},v=n(382718);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){P(a,i,r,o,s,"next",e)}function s(e){P(a,i,r,o,s,"throw",e)}o(void 0)})}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=x(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z=(0,l.Z)("AggregatedComments"),w=z.Provider,k=z.get;function T(e){var t,n=e.children,a=(0,r.v9)(function(e){var t=e.resources;return null==t?void 0:t.UnifiedCommentsResource}),o=p;a&&Object.values(a).forEach(function(e){var t,n=null==(t=e.data)?void 0:t.filter(function(e){return"aggregatedcomment"===e.type}),i=null==n?void 0:n.reduce(function(e,t){return e[t.id]=b(o[t.id],t),e},{});o=S(S({},o),i)});var s=function(e){if(Array.isArray(e))return e}(t=(0,i.useReducer)(y,o))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{for(a=(n=n.call(e)).next;!(l=(i=a.call(n)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return C(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=s[0],c=s[1],u=function(e){c({type:"FETCH_COMPLETE",payload:e})};(0,d.Z8)("AggregatedCommentFeaturesResource",u),(0,d.my)("AggregatedCommentFeaturesResource",u),(0,d.Z8)("AggregatedCommentFeedResource",u),(0,d.my)("AggregatedCommentFeedResource",u),(0,d.Z8)("AggregatedCommentReplyFeedResource",u),(0,d.my)("AggregatedCommentReplyFeedResource",u),(0,d.Z8)("DidItCommentsResource",u),(0,d.my)("DidItCommentsResource",u),(0,d.Z8)("UnifiedCommentsPreviewResource",u),(0,d.my)("UnifiedCommentsPreviewResource",u),(0,d.Z8)("UnifiedCommentsResource",u),(0,d.my)("UnifiedCommentsResource",u);var _=(0,i.useMemo)(function(){return{aggregatedComments:l,dispatch:c}},[l,c]);return(0,v.jsx)(w,{value:_,children:n})}function E(){var e=k().dispatch;return(0,i.useMemo)(function(){var t,n,i,r,a,l;return{aggregatedCommentCreated:function(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:function(t,n){e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:(t=A(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(n=t.isAggregatedComment)||n,r=t.commentId,a=t.reason,o=t.detailedReasons,s=i?"/v3/aggregated_comments/".concat(r,"/flag/"):"/v3/did_it/".concat(r,"/flag/"),e.abrupt("return",(0,c.Z)({url:s,method:"PUT",data:{commentId:r,reason:a,detailedReasons:o}}));case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),deleteCommentMention:(n=A(regeneratorRuntime.mark(function t(n){var i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Z)({url:"/v3/aggregated_comments/".concat(n,"/mentions/"),method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}});case 2:e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:(r=null!=(i=t.sent.resource_response.data)?i:{}).id,tagged_users:r.tagged_users}});case 6:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)}),translateAggregatedComment:(i=A(regeneratorRuntime.mark(function t(n){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.Z)({url:"/v3/aggregated_comments/".concat(n,"/translate/"),method:"GET"});case 3:e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:n,translatedText:null!=(i=t.sent.resource_response.data)?i:""}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:n,translatedText:""}});case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(e){return i.apply(this,arguments)}),toggleAggregatedCommentHelpful:function(t){var n=t.aggregatedCommentId,i=t.isMarkedHelpfulByMe,r=t.orbacSubjectId;(0,c.Z)({url:"/v3/helpful/1/".concat(n,"/"),method:i?"DELETE":"POST",data:r?{orbac_subject_id:r}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:n,marked_helpful_by_me:!i}}})},toggleAggregatedCommentHighlight:(r=A(regeneratorRuntime.mark(function t(n){var i,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.aggregatedCommentId,r=n.pinId,a=n.isHighlighted,o()(i,"Could not find comment"),o()(r,"Could not find Pin"),t.next=5,(0,c.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:i,pin:r,highlight:!a}});case 5:e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:i,pin_id:r,is_highlighted:!a}}});case 6:case"end":return t.stop()}},t)})),function(e){return r.apply(this,arguments)}),toggleAggregatedCommentLike:function(t){var n=t.aggregatedCommentId,i=t.isLikedByMe,r=t.orbacSubjectId;(0,c.Z)({url:"/v3/aggregated_comments/".concat(n,"/react/"),method:i?"DELETE":"POST",data:S({reaction_type:1},r?{orbac_subject_id:r}:{})}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:n,reaction_by_me:+!i}}})},updateAggregatedComment:(a=A(regeneratorRuntime.mark(function t(n){var i,r,a,o,l,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.commentId,a=n.force,o=n.orbacSubjectId,l=n.tags,c=n.text,t.next=3,s.Z.create("AggregatedCommentResource",S({commentId:r,force:a,tags:l,text:c},o?{orbacSubjectId:o}:{})).callUpdate({showError:!1});case 3:d=(null!=(i=t.sent.resource_response.data)?i:{}).tagged_users.map(function(e){return S({},e)}),e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:r,tagged_users:d,tags:JSON.parse(l),text:c}}});case 8:case"end":return t.stop()}},t)})),function(e){return a.apply(this,arguments)}),updateAggregatedCommentFeatures:(l=A(regeneratorRuntime.mark(function t(n){var i,r,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.userId,o={userId:r,featureMap:n.featureMap,passcode:n.passcode,user_confirm_skip_passcode:a=n.userConfirmPasscode},void 0===a&&(o.user_confirm_skip_passcode=!1),t.next=6,s.Z.create("AggregatedCommentFeaturesResource",o).callUpdate({showError:!1});case 6:e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:null!=(i=t.sent.resource_response.data)?i:Object.freeze({})}}});case 10:case"end":return t.stop()}},t)})),function(e){return l.apply(this,arguments)}),updateCommentCount:function(t,n){e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}}},[e])}function M(){return k().aggregatedComments}},878447:function(e,t,n){n.d(t,{_:function(){return u}});var i=n(586659),r=n(20256),a=n(982166),o=n(19585),s=n(302148),l=n(25443),c=n(382718);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var u={view_type:703,view_parameter:4095};t.Z=function(e){var t,n=e.email,u=e.errorMessage,_=e.isLoading,f=e.onDismiss,m=e.onSendNewCode,g=e.onVerify,h=(0,o.ZP)(),p=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{for(a=(n=n.call(e)).next;!(l=(i=a.call(n)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=p[0],y=p[1],v=function(){g(b)};return(0,c.jsxs)(a.ZP,{accessibilityModalLabel:h._('Email verification code', 'profile.Settings.OneTimePasscode.Verification.AccessibilityLabel', 'Accessiblility label for modal used to enter email verification code'),footer:(0,c.jsx)(r.xu,{padding:4,children:(0,c.jsx)(r.kC,{justifyContent:"end",children:(0,c.jsx)(r.zx,{accessibilityLabel:6!==b.length||_?h._('Send verification code disabled', 'profile.Settings.OneTimePasscode.Verification.EnterAccessibilityLabelDisabled', 'Button to enter verification code disabled'):h._('Send verification code', 'profile.Settings.OneTimePasscode.Verification.EnterAccessibilityLabel', 'Button to enter verification code'),color:"red",dataTestId:"otp-submit",disabled:6!==b.length||_,onClick:v,text:h._('Enter', 'profile.Settings.OneTimePasscode.Verification.Enter', 'Button to enter verification code')})})}),heading:(0,c.jsx)(r.xu,{padding:4,children:(0,c.jsxs)(r.kC,{justifyContent:"between",children:[(0,c.jsxs)(r.X6,{accessibilityLevel:1,size:"600",children:[h._('Verify your email', 'profile.Settings.OneTimePasscode.Verification.Heading', 'Heading for modal used to enter verification code'),(0,c.jsx)(r.xu,{marginTop:2,children:(0,c.jsx)(r.xv,{color:"subtle",children:(0,s.nk)(h._('Enter your 6-digit email verification code sent to {{ email }}', 'profile.Settings.OneTimePasscode.Verification.Subheading', 'Subheading for modal used to enter verification code. email:User email where the OTP will be sent'),{email:n})})})]}),(0,c.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:f,size:"sm"})]})}),onDismiss:f,role:"alertdialog",size:660,type:"otp_verification",children:[_&&(0,c.jsx)(l.Z,{}),(0,c.jsxs)(r.xu,{marginTop:1,paddingX:10,children:[(0,c.jsx)("form",{onSubmit:function(e){e.preventDefault(),v()},children:(0,c.jsx)(r.Ki,{autoComplete:"off",dataTestId:"otp-input",errorMessage:u,id:"code",onChange:function(e){y(e.event.target.value)},size:"lg"})}),(0,c.jsx)(r.xu,{marginBottom:1,marginTop:4,children:(0,c.jsx)(r.xv,{children:(0,c.jsx)(r.rU,{accessibilityLabel:h._('Resend code', 'profile.Settings.OneTimePasscode.Verification.ResendAccessibilityLabel', 'Send verification code again'),display:"inline",href:"#",onClick:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.preventDefault(),n(),m()},children:h._('Send new code', 'profile.Settings.OneTimePasscode.Verification.Resend', 'Send verification code again')})})})]})]})}},869664:function(e,t,n){n.r(t),n.d(t,{default:function(){return eg}});var i,r=n(586659),a=n(492996),o=n(963489),s=n(20256),l=n(575108),c=n(111330),d=n(587672),u=n(965389),_=n(953116),f=n(23265),m=n(587795),g=n(980787),h=n(140725),p=n(78423),b=n(475498),y=n(821342),v=n(19585),x=n(302148),P=n(951908),A=n(249201),C=n(2420),j=n(675973),S=n(900675),z=n(444185),w=n(886981),k=n(650160),T=n(600861),E=n(753143),M=n(694955),O=n(87853),I=n(244074),L=n(640924),D=n(105433),B=n(236957),R=n(984126),V=n(878447),G=n(256411),Z=n(937392),U=n(353037),H=n(77836),N=n(382718);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function W(e){var t=e.index,n=e.isSelected,i=e.label,a=e.onClick,o=e.url,l=e.dataTestId,c=e.anchorRef,d=F((0,r.useState)(!1),2),u=d[0],_=d[1];return(0,N.jsx)(s.xu,{alignSelf:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:u?"rgba(0, 0, 0, 0.06)":void 0}},marginBottom:2,rounding:2,children:(0,N.jsx)(s.Tg,{href:o,onBlur:function(){return _(!1)},onFocus:function(){return _(!0)},onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)},onTap:a,children:(0,N.jsx)(s.xu,{ref:c,"data-group-id":"settings-menu-item","data-test-id":l,direction:"row",display:"flex",padding:2,children:(0,N.jsxs)(s.xu,{display:"inlineBlock",position:"relative",children:[(0,N.jsx)(s.xv,{color:"default",size:"300",weight:"bold",children:i}),n&&(0,N.jsx)(s.xu,{color:"selected",dangerouslySetInlineStyle:{__style:{borderRadius:5,bottom:-9}},height:3,left:!0,position:"absolute",right:!0})]})},"".concat(t,"-").concat(i))})})}function q(e){var t,n,i=e.items,a=e.activeItem,l=e.onClick,c=(0,v.ZP)(),d=(0,o.TH)(),u=(0,o.s0)(),_=!d.pathname.startsWith(M.Gxc),f=F((0,r.useState)({buttonText:null,descriptionText:null,isOpen:!1}),2),m=f[0],g=f[1],h=function(){g({buttonText:null,descriptionText:null,isOpen:!1})};return(0,N.jsxs)(s.xu,{"aria-label":c._('User settings menu"', 'UserSettings.navigation.container.accessibilityLabel', 'Accessibility label for the user settings navigation menu'),as:"nav","data-test-id":"settings-menu",direction:"column",display:"flex",maxWidth:200,role:"navigation",children:[Object.entries(i).map(function(e,t){var n=F(e,2),i=n[0],r=n[1],o=r.label,s=r.url,c=r.dataTestId,d=r.ref,u=r.elementType;return(0,N.jsx)(W,{anchorRef:d,dataTestId:c,index:t,isSelected:a===i,label:o,onClick:function(e){return l({activeItem:i,event:e.event,elementType:u})},url:s},o)}),_&&(0,N.jsx)(s.mh,{zIndex:new s.H3([H.pS]),children:(0,N.jsx)(Z.Qp,{anchor:null==(t=i.PrivacyAndData.ref)?void 0:t.current,experienceIds:[505283],flyoutSize:"md",idealDirection:"right",onClickComplete:function(){u(M.Gxc)},placementId:1000458,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"bold"})}),(0,N.jsx)(U.Z,{items:i,placementId:1000458}),(0,N.jsx)(Z.a3,{eligibleIds:[506130],placementId:1000458,children:function(e){var t,n=e.complete,r=e.dismiss,a=e.experience.display_data,o=a.tooltips[0],l=a.tooltips[1];return(0,N.jsx)(s.pl,{anchor:null==(t=i.ProfileVisibility.ref)?void 0:t.current,idealDirection:"down",message:o.description_text,onDismiss:r,primaryAction:{onClick:function(){n(),setTimeout(function(){g({buttonText:l.complete_button_text,descriptionText:l.description_text,isOpen:!0})},500)},text:o.complete_button_text},zIndex:new s.H3([H.pS])})}}),m.isOpen&&(0,N.jsx)(s.pl,{anchor:null==(n=i.Permissions.ref)?void 0:n.current,idealDirection:"down",message:m.descriptionText||"",onDismiss:h,primaryAction:{onClick:h,text:m.buttonText||""},zIndex:new s.H3([H.pS])})]})}var K=n(982166),$=function(e){var t=e.email,n=e.onDismiss,i=(0,v.ZP)();return(0,N.jsx)(K.ZP,{accessibilityModalLabel:i._('Email update confirmation', 'settings.PendingEmailChangeModal.AccessibilityLabel', 'Accessibility label for modal used to confirm email update'),footer:(0,N.jsx)(s.xu,{padding:4,children:(0,N.jsx)(s.kC,{justifyContent:"end",children:(0,N.jsx)(s.zx,{accessibilityLabel:i._('Close email update confirmation', 'settings.PendingEmailChangeModal.CloseAccessibilityLabel', 'Button to close email update confirmation modal'),color:"red",onClick:n,text:i._('Okay', 'settings.PendingEmailChangeModal.CloseText', 'Close button text for email update confirmation modal')})})}),heading:(0,N.jsx)(s.xu,{marginTop:4,paddingX:4,children:(0,N.jsx)(s.X6,{accessibilityLevel:1,size:"600",children:i._('You\'re almost done!', 'settings.PendingEmailChangeModal.Heading', 'Heading for modal dialog shown when user updates their email')})}),onDismiss:n,role:"alertdialog",size:660,type:"email_update_confirmation",children:(0,N.jsx)(s.xu,{marginTop:1,paddingX:10,children:(0,N.jsx)(s.xv,{children:(0,x.nk)(i._('To confirm this change, look for the link sent to {{ email }}.', 'settings.PendingEmailChangeModal.Text', 'Modal text showing email update confirmation information and new email. email:User email where the OTP will be sent'),{email:t})})})})},J=n(313002);function Y(e){var t=e.accessibilityLabelTitle,n=e.description,i=e.title,r=e.error,a=(0,J.d)(),o=a.alert,l=a.hideAlert;return(0,N.jsxs)(s.xu,{"data-test-id":"settings-header",children:[r,(null==o?void 0:o.message)&&(0,N.jsx)(s.xu,{marginBottom:4,children:(0,N.jsx)(s.he,{message:o.message,onDismiss:o.closable?l:void 0,primaryAction:null==o?void 0:o.primaryAction,type:(null==o?void 0:o.type)||"info"})}),(0,N.jsx)(s.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:(0,N.jsx)(s.sg,{span:12,children:(0,N.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,N.jsx)(s.xu,{tabIndex:0,children:(0,N.jsx)(s.X6,{accessibilityLevel:null!=t?t:1,size:"600",children:i})}),(0,N.jsx)(s.xu,{marginTop:2}),(0,N.jsx)(s.xv,{overflow:"normal",size:"300",children:n})]})})})]})}var Q=n(1536),ee=n(800808);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var en=["commentSettings"],ei=["video_autoplay_setting_on"];function er(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){es(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function es(e,t,n){var i;return(i=function(e,t){if("object"!=et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=et(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==et(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function el(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function ec(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){el(a,i,r,o,s,"next",e)}function s(e){el(a,i,r,o,s,"throw",e)}o(void 0)})}}function ed(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eu(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eu(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var e_={newSaveState:null,evt:void 0,overrides:void 0,isOpen:!1,birthdate:null},ef=function(){var e,t=(void 0!==i||(i=n(759427)).hash&&"2afb461977ebc24331aba62b79de258c"!==i.hash&&console.error("The definition of 'UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),r=ed((0,a.useMutation)(t),1)[0];return e=ec(regeneratorRuntime.mark(function e(t){var n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.notifications_settings||{},i=[],Object.keys(n).forEach(function(e){Object.keys(n[e]).forEach(function(t){Object.keys(n[e][t]).forEach(function(r){var a=n[e][t][r],o=a.dirty,s=a.value;o&&i.push({type:e,section:t,option:r,value:s})})})}),a={updatedSettings:JSON.stringify(i)},e.next=6,new Promise(function(e,t){r({variables:eo({},a),onCompleted:function(n,i){i&&t(i[0]),e(void 0)},onError:function(e){return t(e)}})});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}};function em(e){var t,n,i,a,z=(0,S.Z)(e.settingsDataRef).data,R=(0,w.Z)({name:"UserResource",options:{user_id:null==z?void 0:z.id,field_set_key:"user_tax_forms",noCache:!1}}).data,Z=(0,g.u)(),U=Z.logContextEvent,H=Z.flushContextEvents,F=(0,j.Z)(),X=(0,D.nf)().updateAggregatedCommentFeatures,W=F.checkExperiment,K=(0,v.ZP)(),J=(0,y.Z)(),et=J.isAuth?J.id:"",ea=(0,Q.Z)({enableBizEmailValidator:!!(J.isAuth&&J.partner&&J.partner.is_linked_business),i18n:K}),el=(0,I.Z)(),eu=(null==z?void 0:z.email)||"",em=(null==R?void 0:R.has_tax_forms)||!1,eg=(0,r.useRef)(void 0),eh=(0,r.useRef)(void 0),ep=(0,r.useRef)(void 0),eb=!!J.isAuth&&J.isPartner&&"US"===J.country,ey=(0,r.useRef)(void 0),ev=(0,r.useMemo)(function(){return{EditProfile:{label:K._('Edit profile', 'userSettingsPage.editProfile.label', 'menu item for edit profile'),toastLabel:K._('Profile', 'toast label for profile', 'toast label for profile'),url:M.bic,dataTestId:"settings-menu-item-public-profile"},AccountSettings:{label:K._('Account management', 'userSettingsPage.accountManagement.label', 'menu item for account management'),toastLabel:K._('Account management', 'userSettingsPage.accountManagement.toastLabel', 'toast label for account management'),url:M.iDH,dataTestId:"settings-menu-item-account-settings",ref:ep},ProfileVisibility:{label:K._('Profile visibility', 'userSettingsPage.MenuList.MenuItem.ProfileVisibility', 'menu item for Profile visibility'),toastLabel:K._('Profile visibility', 'userSettingsPage.MenuList.MenuItem.ProfileVisibility.toastLabel', 'toast label for Profile visibility'),url:M.BDV,dataTestId:"settings-menu-item-profile-visibility",ref:eh},HomeFeedTuner:{label:K._('Tune your home feed', 'userSettingsPage.MenuList.MenuItem.HomeFeedTuner', 'menu item for home feed tuner'),toastLabel:"",url:M.F_W,dataTestId:"settings-menu-item-homefeed-tuner"},ImportContent:{label:K._('Import content', 'userSettingsPage.importContent.label', 'menu item for the import content tab'),toastLabel:K._('Import content', 'userSettingsPage.importContent.toastLabel', 'toast label for import content tab'),url:M.RMT,dataTestId:"settings-menu-item-import-content-tab",elementType:18181},Claim:{label:K._('Claimed external accounts', 'userSettingsPage.claimedExternalAccounts.label', 'Menu item label on settings page for claimed external accounts'),toastLabel:K._('Claimed external accounts', 'userSettingsPage.claimedExternalAccounts.toastLabel', 'toast label for claimed external accounts settings'),url:M.ire,dataTestId:"settings-menu-item-claim"},BulkCreatePins:{label:K._('Bulk create Pins', 'Menu item label on profile page for bulk importing', 'Menu item label on profile page for bulk importing'),toastLabel:K._('Bulk create Pins', 'toast label for bulk importing', 'toast label for bulk importing'),url:M.y6A,dataTestId:"settings-menu-item-bulk-create-pins"},Permissions:{label:K._('Social permissions', 'userSettingsPage.socialPermissions.label', 'menu item for Social permissions'),toastLabel:K._('Social permissions', 'userSettingsPage.socialPermissions.toastLabel', 'toast label for Social permissions'),url:M.D$l,dataTestId:"settings-menu-item-permissions",ref:ey},ContentPermissions:{label:K._('Content permissions', 'userSettingsPage.contentPermissions.label', 'menu item for Content permissions'),toastLabel:K._('Content permissions', 'userSettingsPage.contentPermissions.toastLabel', 'toast label for Content permissions'),url:M.jwF,dataTestId:"settings-menu-item-content-permissions"},Notifications:{label:K._('Notifications', 'menu item for notifications', 'menu item for notifications'),toastLabel:K._('Notifications', 'toast label for Notifications', 'toast label for Notifications'),url:M.F3K,dataTestId:"settings-menu-item-notifications"},PrivacyAndData:{label:K._('Privacy and data', 'menu item for privacy and data', 'menu item for privacy and data'),toastLabel:K._('Privacy and data', 'toast label for Privacy & data', 'toast label for Privacy & data'),url:M.Gxc,dataTestId:"settings-menu-item-privacy",ref:eg},Security:{label:K._('Security', 'userSettingsPage.securityAndLogins.labelV2', 'menu item for security'),toastLabel:"",url:M.AXR,dataTestId:"settings-menu-item-security"},BrandedContent:{accessibilityLabelTitle:1,label:K._('Branded Content', 'userSettingsPage.brandedContent.label', 'menu item for branded content opt in'),toastLabel:K._('Branded Content', 'userSettingsPage.brandedContent.toastLabel', 'toast label for branded content opt in'),url:M.O8y,dataTestId:"settings-menu-item-branded-content"},TaxDocuments:{label:K._('Tax documents', 'userSettingsPage.taxDocuments.label', 'menu item for tax documents page'),toastLabel:K._('Tax documents', 'userSettingsPage.taxDocuments.toastLabel', 'toast label for tax documents page'),url:M.jKk,dataTestId:"settings-menu-item-tax-document"}}},[K]),ex=(0,O.dI)().showToast,eP=(0,o.s0)(),eA=(0,r.useRef)(void 0),eC=ed((0,r.useState)(null),2),ej=eC[0],eS=eC[1],ez=ed((0,r.useState)(!1),2),ew=ez[0],ek=ez[1],eT=ed((0,r.useState)(e_),2),eE=eT[0],eM=eT[1],eO=ed((0,r.useState)(!1),2),eI=eO[0],eL=eO[1],eD=ed((0,r.useState)(!1),2),eB=eD[0],eR=eD[1],eV=ed((0,r.useState)(!1),2),eG=eV[0],eZ=eV[1],eU=ed((0,r.useState)(null),2),eH=eU[0],eN=eU[1],eF=(0,A.t)(),eX=eF.isModalOpen,eW=eF.setErrorMessage,eq=eF.setModalPropsAndOpen,eK=eF.closeModal,e$=ef(),eJ=(0,r.useRef)(void 0);eJ.current=eX;var eY=ed((0,r.useState)({newSaveState:null,oneTimePasscodeVerificationModalShown:!1,isLoading:!1}),2),eQ=eY[0],e0=eY[1],e1=ed((0,r.useState)(e.activeItem),2),e2=e1[0],e3=e1[1],e6=(0,p.H7)().showEmailVerificationReminderModal,e8=W("web_content_permissions").anyEnabled,e5=W("web_biz_import_tab").anyEnabled,e4=J.isAuth?J:{},e9=e4.isPartner,e7=e4.isAnyWebsiteVerified,te=e9||!!(null==z?void 0:z.video_upload_allowed),tt=J.isAuth;(0,r.useEffect)(function(){return function(){eA.current&&clearTimeout(eA.current)}},[eA]);var tn=(0,r.useCallback)(function(){H(),window.location.reload()},[H]),ti=(0,r.useCallback)(function(){U({event_type:101,view_parameter:4097,element:16036}),tn()},[U,tn]),tr=(0,r.useCallback)(function(e,t){var n;if(Object.keys(ea).includes(e)){var i=ea[e],r=(0,L.FU)(i,t);n=es({},"".concat(e,"Errors"),r)}return eo(es({},e,t),n)},[ea]),ta=(0,r.useCallback)(function(e){return ex(function(t){var n=t.hideToast,i="sent"===e?K._('Sent! Check your email.', 'userSettingsPage.sentNewOtp', 'Toast displayed after requesting a new One Time Passcode'):K._('Your email has been updated', 'userSettingsPage.emailUpdatedToast', 'Toast message for when email is updated');return(0,N.jsx)(s.xu,{"data-test-id":"save-settings-toast",children:(0,N.jsx)(b.Z,{onHide:n,text:i})})})},[K,ex]),to=(0,r.useCallback)((t=ec(regeneratorRuntime.mark(function e(t){var n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,i=t.passcode,r=t.passcodeSkipAcknowledged,!n){e.next=4;break}return e.next=4,X({userId:et,featureMap:n,passcode:i,userConfirmPasscode:r});case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[X,et]),ts=(0,r.useCallback)(function(e){var t=e.reason,n=e.forcePassCodeModal,i=e.handleSave,r=e.newSaveStateCopy;switch(t.api_error_code){case C.H9:e6();break;case C.RR:eW(t.message);break;case C.mX:eq({handlePasscodeSent:function(e){i(eo(eo({},r),{},{passcode:e}))},requiresUnidirectionalPasscode:!1}),eS(null);break;case C.q6:eq({handlePasscodeSent:function(e){i(eo(eo({},r),{},{passcode:n?e:void 0,user_confirm_skip_passcode:!n||void 0}))},requiresUnidirectionalPasscode:!n});break;case C.E:eM(e_),eN(t.message);break;case C.O:eE.isOpen&&eM(e_),eZ(!0);break;case C.Jw:eM(e_),eL(!0);break;case C.Z5:eS({message:(0,x.nk)(K._('Make sure your birthdate matches the info you used during age verification. For additional help, contact our {{ supportTeamUrl }}', 'existingUser.birthdaycollection.error.wrongage', 'Error message shown when the user adds an age that doesnt adhere to the age provided by the age verification vendor. supportTeamUrl:Hyperlink to support team page'),{supportTeamUrl:(0,N.jsx)(s.xv,{color:"error",inline:!0,underline:!0,children:(0,N.jsx)(s.rU,{display:"inline",href:M.cPf,target:"blank",underline:"always",children:K._('support team', 'existingUser.birthdaycollection.error.wrongage.support-team_url', 'Support team hyperlink')},"supportTeamUrl")})})});break;case C.y$:if(eQ.oneTimePasscodeVerificationModalShown)return void ta("sent");eJ.current&&eK(),U(eo(eo({},V._),{},{event_type:13,aux_data:{recipient:r.email}})),e0(function(e){return eo(eo({},e),{},{oneTimePasscodeVerificationModalShown:!0,newSaveState:r})});break;case C.O$:case C.hi:case C.wf:U(eo(eo({},V._),{},{event_type:16285,aux_data:{recipient:r.email,status_code:t.httpStatus,api_error_code:t.api_error_code}})),e0(function(e){return eo(eo({},e),{},{errorMessage:t.message})});break;default:eS(t)}},[e6,eW,eq,eE.isOpen,K,ta,eQ.oneTimePasscodeVerificationModalShown,eK,U]),tl=(0,r.useCallback)((n=ec(regeneratorRuntime.mark(function e(t,n,i){var r,a,o,d,u,_,f,g,h,p,y,v,A,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(t.email&&W("web_otp_on_settings_email_change"),r=null,a=t.commentSettings,o=er(t,en),!a){e.next=14;break}return e.prev=6,e.next=9,to({payload:null==t?void 0:t.commentSettings,passcode:null==t?void 0:t.passcode,passcodeSkipAcknowledged:null!=t&&t.passcode||null==t?void 0:t.user_confirm_skip_passcode});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),r=e.t0;case 14:if(t&&void 0!==t.video_autoplay_setting_on&&(E.ZP.setItem(c._e,+!!t.video_autoplay_setting_on),U({event_type:101,aux_data:{desktop_video_autoplay_setting_on:String(t.video_autoplay_setting_on||!1)}})),(d=t||{}).video_autoplay_setting_on,u=er(d,ei),Object.keys(o).length){e.next=19;break}return r&&ts({forcePassCodeModal:!1,reason:r,handleSave:tl,newSaveStateCopy:u}),e.abrupt("return");case 19:if(_=function(e){return J.isPartner&&!(0,m.Cd)(e,B.KA)},!(t&&t.birthday&&t.birthday instanceof Date)){e.next=31;break}if(f=t.birthday,g=(0,m.IA)(f.toString()),h=J.country,p=(0,m.yo)({country:h}),!((!(0,m.Cd)(g,p)||_(g))&&!t.birthdayConfirmed)){e.next=28;break}return eM({newSaveState:t,evt:n,overrides:i,isOpen:!0,birthdate:f.toString()}),e.abrupt("return");case 28:eH&&eN(null),u.birthdate=g,delete u.birthday;case 31:t&&t.notificationsSettingsUpdated&&(y={notifications_settings:t.notifications_settings},W("graphql_migration_notifications_settings").anyEnabled?e$(y):l.Z.create("NotificationSettingsResource",y).callUpdate()),v=P.i.some(function(e){return t&&e in t}),!t||!v||"user_confirm_skip_passcode"in t||(t.user_confirm_skip_passcode=!1),A=eo(eo({},u),t&&"user_confirm_skip_passcode"in t&&{user_confirm_skip_passcode:t.user_confirm_skip_passcode}),j=l.Z.create("UserSettingsResource",eo(eo({},A),{},{surface_tag:T.i.SETTINGS})),eQ.oneTimePasscodeVerificationModalShown&&e0(function(e){return eo(eo({},e),{},{isLoading:!0})}),j.callUpdate({showError:!1}).then(function(e){return u&&(u.locale||u.country)?(0,k.Z)("settings").then(function(){return Promise.resolve(e)}):Promise.resolve(e)}).then(function(e){if(u.birthdate&&_(u.birthdate)){eM(e_),eR(!0);return}eJ.current&&eK(!0);var t="";switch(e2){case"AccountSettings":t=K._('Account management settings saved!', 'userSettingsPage.accountManagementSettingsToast', 'Toast message for when account management settings are saved');break;case"Notifications":t=K._('Notifications updated!', 'userSettingsPage.notificationsToast', 'Toast message for when notifications are saved');break;default:t=(0,x.nk)(K._('{{section}} saved!', ' - ', ' -- '),{section:ev[e2].toastLabel}).join("")}if(ex(function(e){var n=e.hideToast;return(0,N.jsx)(s.xu,{"data-test-id":"save-settings-toast",children:(0,N.jsx)(b.Z,{duration:5e3,onHide:n,text:null!=i&&i.successMessage?null==i?void 0:i.successMessage:t})})}),!e.resource_response.error){var n=e.resource_response.data;n.email_changing_to&&n.email_changing_to!==eu?(ek(!0),U(eo(eo({},V._),{},{event_type:13,view_parameter:4097}))):el&&(i&&i.navigateTo?window.location.replace(i.navigateTo):eA.current=setTimeout(tn,1500)),eQ.oneTimePasscodeVerificationModalShown&&(U(eo(eo({},V._),{},{event_type:16284,aux_data:{recipient:u.email}})),e0(function(e){return eo(eo({},e),{},{oneTimePasscodeVerificationModalShown:!1})}),ta("success"))}r&&ts({forcePassCodeModal:!1,reason:r,handleSave:tl,newSaveStateCopy:u})}).catch(function(e){var t=r;ts({forcePassCodeModal:(null==t?void 0:t.api_error_code)===C.mX,reason:e,handleSave:tl,newSaveStateCopy:u})}).finally(function(){e0(function(e){return eo(eo({},e),{},{isLoading:!1})})});case 38:case"end":return e.stop()}},e,null,[[6,11]])})),function(e,t,i){return n.apply(this,arguments)}),[to,ts,e2,eH,eK,K,el,U,ev,ex,ta,eu,J,e$,W,eQ,tn]),tc=(0,r.useMemo)(function(){return{getNewFieldSets:tr,handleSave:tl,birthdateFieldErrorMessage:eH,emailUpdateWithOtp:eQ,setEmailUpdateWithOtp:e0}},[tr,tl,eH,eQ]);return(0,N.jsx)(h.Z,{log:{view_parameter:e.viewParameter,view_type:e.viewType},children:(0,N.jsxs)(s.xu,{direction:"row",display:"flex",justifyContent:"start",marginTop:5,children:[(0,N.jsxs)(s.xu,{children:[ej?(0,N.jsx)(G.Z,{error:ej,onHide:function(){eS(null)}}):null,ew?(0,N.jsx)($,{email:eu,onDismiss:ti}):null,eG?(0,N.jsx)(f.Z,{closeModal:function(){return eZ(!1)},userEmail:eu}):null,eE.isOpen?(0,N.jsx)(u.Z,{birthdate:eE.birthdate,closeModal:function(){eM(e_)},onConfirm:function(){tl(eo(eo({},eE.newSaveState),{},{birthdayConfirmed:!0}),eE.evt,eE.overrides)}}):null,eB&&(0,N.jsx)(d.Z,{onModalClose:function(){var e;eR(!1),eP("/".concat(null!=(e=null==R?void 0:R.username)?e:"me","/_saved/"))}}),eI?(0,N.jsx)(_.Z,{}):null]}),(0,N.jsx)(s.xu,{column:12,mdColumn:12,children:(0,N.jsxs)(s.xu,{"data-test-id":"accountSettingsContainer",direction:"column",display:"flex",marginBottom:5,marginTop:5,mdDirection:"row",paddingX:5,children:[(0,N.jsx)(s.xu,{column:12,mdColumn:3,children:(0,N.jsx)(q,{activeItem:e2,items:(i=te||!!(e9&&e7)||eb,Object.keys(ev).filter(function(e){return(i||"BulkCreatePins"!==e)&&(tt||"BrandedContent"!==e)}).filter(function(e){return em||"TaxDocuments"!==e}).filter(function(e){return e8||"ContentPermissions"!==e}).filter(function(e){return e5||"ImportContent"!==e}).filter(function(e){return!e5||"BulkCreatePins"!==e}).reduce(function(e,t){return e[t]=ev[t],e},{})),onClick:function(e){var t=e.activeItem,n=e.event,i=e.elementType;n.preventDefault(),e3(t),void 0!==i&&U({element:i,event_type:101}),ev[t]&&eP(ev[t].url,{replace:!0})}})}),(0,N.jsxs)(s.xu,{column:12,marginTop:5,maxWidth:488,mdColumn:9,mdMarginTop:0,mdPadding:0,padding:2,children:[(0,N.jsx)(Y,{accessibilityLabelTitle:null==(a=ev[e2])?void 0:a.accessibilityLabelTitle,description:e.settingsHeaderDescription||"",error:e.settingsError||null,title:ev[e2].label}),(0,N.jsx)(ee.j,{value:tc,children:e.children}),(0,N.jsx)(s.xu,{height:80})]})]})})]})})}function eg(e){var t=(0,z.Z)({name:"UserSettingsResource"}).ref;return(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(R.Z,{}),children:(0,N.jsx)(em,eo(eo({},e),{},{settingsDataRef:t}))})}},800808:function(e,t,n){n.d(t,{j:function(){return r},x:function(){return a}});var i=(0,n(729434).Z)("UserSettingsPageContext"),r=i.Provider,a=i.get},77836:function(e,t,n){n.d(t,{BO:function(){return A},D5:function(){return z},GC:function(){return k},GJ:function(){return p},L7:function(){return g},Lc:function(){return u},Mf:function(){return j},Mh:function(){return l},Qf:function(){return d},Qq:function(){return w},bT:function(){return v},bd:function(){return y},df:function(){return _},dg:function(){return c},dv:function(){return S},kl:function(){return b},m6:function(){return C},mT:function(){return P},nQ:function(){return T},pS:function(){return x},qM:function(){return M},rB:function(){return E},vg:function(){return O},xp:function(){return m},yg:function(){return f},zz:function(){return h}});var i=n(20256),r=n(18468),a=n(702849),o=n(864289),s=n(25837),l="right",c=l,d=72,u="VerticalNavContent",_=24,f="lg",m="compress",g=16,h=16,p=392,b=12,y=r.iiJ,v=a.ZG,x=new i.H3([s.NW]),P=new i.Ry(s.fe-3),A=new i.H3([x,o.kl]),C=new i.H3([x]),j=C,S=2,z=4,w=3,k=12,T=24,E="200ms left",M={menuItemPadding:"12px",anchorOffset:"16px"},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n={label:e._('Art', 'dweb.sidenav.ideas.art', 'Text for Flyout showing link to /ideas/art/ Page'),value:"961238559656",slug:"art"},i={label:e._('Beauty', 'dweb.sidenav.ideas.beauty', 'Text for Flyout showing link to /ideas/beauty/ Page'),value:"935541271955",slug:"beauty"},r={label:e._('Food & Drink', 'dweb.sidenav.ideas.food', 'Text for Flyout showing link to /ideas/food-and-drink/ Page'),value:"918530398158",slug:"food-and-drink"},a={label:e._('Design', 'dweb.sidenav.ideas.design', 'Text for Flyout showing link to /ideas/design/ Page'),value:"902065567321",slug:"design"},o={label:e._('Women\'s Fashion', 'dweb.sidenav.ideas.womensFashion', 'Text for Flyout showing link to /ideas/womens-fashion/ Page'),value:"948967005229",slug:"womens-fashion"},s={label:e._('Men\'s Fashion', 'dweb.sidenav.ideas.mensFashion', 'Text for Flyout showing link to /ideas/mens-fashion/ Page'),value:"924581335376",slug:"mens-fashion"},l={label:e._('Home Decor', 'dweb.sidenav.ideas.homeDecor', 'Text for Flyout showing link to /ideas/home-decor/ Page'),value:"935249274030",slug:"home-decor"},c={label:e._('DIY', 'dweb.sidenav.ideas.diy', 'Text for Flyout showing link to /ideas/diy-and-crafts/ Page'),value:"934876475639",slug:"diy-and-crafts"},d={label:e._('Fitness', 'dweb.sidenav.ideas.fitness', 'Text for Flyout showing link to /ideas/fitness-and-exercise/ Page'),value:"912503731943",slug:"fitness-and-exercise"},u={label:e._('Pets', 'dweb.sidenav.ideas.pets', 'Text for Flyout showing link to /ideas/animals-and-pets/ Page'),value:"941660492982",slug:"animals-and-pets"},_={label:e._('Quotes', 'dweb.sidenav.ideas.quotes', 'Text for Flyout showing link to /ideas/quotes/ Page'),value:"948192800438",slug:"quotes"},f={label:e._('Travel', 'dweb.sidenav.ideas.travel', 'Text for Flyout showing link to /ideas/travel/ Page'),value:"908182459161",slug:"travel"},m={label:e._('Weddings', 'dweb.sidenav.ideas.wedding', 'Text for Flyout showing link to /ideas/weddings/ Page'),value:"903260720461",slug:"weddings"};return"long"===t?[n,u,i,a,r,o,s,l,c,_,f,d,m]:[n,i,r,l,o,s]}},864289:function(e,t,n){n.d(t,{Bq:function(){return _},CZ:function(){return l},Db:function(){return d},Lu:function(){return s},kl:function(){return a},rC:function(){return r},sb:function(){return c},t3:function(){return o},to:function(){return u}});var i=n(20256),r="full-height-inbox-panel",a=new i.Ry(700),o="defaultInboxView",s="newMessageView",l="newMessageSelectRecipientsView",c="invitesRequestsView",d="followInviteEducationView",u=64,_="conversationView"},256411:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(20256),r=n(982166),a=n(19585),o=n(382718);function s(e){var t=e.error,n=e.onHide,s=(0,a.ZP)(),l=s._('Oops!', ' - ', ' -- ');return(0,o.jsx)(r.ZP,{accessibilityModalLabel:l,footer:(0,o.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,o.jsx)(i.zx,{color:"red",onClick:n,size:"lg",text:s._('Okay', ' - ', ' -- ')})}),heading:l,onDismiss:n,role:"alertdialog",size:"sm",children:(0,o.jsx)(i.xu,{paddingX:8,children:(0,o.jsx)(i.xv,{align:"center",children:t.message})})})}},353037:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(586659),r=n(20256),a=n(937392),o=n(77836),s=n(382718);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function c(e){var t,n,c,d,u,_=e.items,f=e.placementId,m=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{for(a=(n=n.call(e)).next;!(l=(i=a.call(n)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=m[0],h=m[1],p=[null==(n=_.ProfileVisibility.ref)?void 0:n.current,null==(c=_.Permissions.ref)?void 0:c.current,null==(d=_.PrivacyAndData.ref)?void 0:d.current,null==(u=_.AccountSettings.ref)?void 0:u.current];return(0,s.jsx)(a.a3,{eligibleIds:[506628],placementId:f,children:function(e){var t=e.complete,n=e.dismiss,i=e.experience.display_data,a=i.tooltips[g],l=p[g];return a?(0,s.jsx)(r.pl,{anchor:l,idealDirection:"right",message:a.description_text,onDismiss:function(){h(-1),n()},primaryAction:{onClick:function(){i.tooltips.length-1===g&&t(),h(function(e){return e+1})},text:a.complete_button_text},zIndex:new r.H3([o.pS])}):null}})}},211934:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(586659),r=n(20256),a=n(982166),o=n(382718);function s(e){var t,n,s=e.isOpen,l=e.onDismiss,c=e.type,d=e.textAlign,u=e.accessibilityModalLabel,_=e.heading,f=e.headingMarginTop,m=e.description,g=e.hasMultiLineDescription,h=e.primaryBtnParams,p=e.secondaryBtnParams,b=e.showDismissIcon,y=e.headingSize,v=e.closeOnOutsideClick,x=function(e,t){return e?(0,i.isValidElement)(e)?e:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{textWrap:"pretty"}},marginBottom:3,children:(0,o.jsx)(r.xv,{align:d||"center",inline:!0,children:e})},t?"description-line-".concat(t):"single-description-line"):null};return(0,o.jsx)(a.ZP,{accessibilityModalLabel:u||"",closeOnOutsideClick:v||!0,isOpen:s,mobileHideCloseIcon:!0,onDismiss:l||function(){},type:c||"",children:(0,o.jsxs)(r.xu,{padding:4,children:[(0,o.jsxs)(r.xu,{marginBottom:m?3:8,marginTop:f||0,children:[b&&l&&(0,o.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:l,size:"sm"}),(0,o.jsx)(r.X6,{accessibilityLevel:1,align:d||"center",size:y||"600",children:_})]}),g&&Array.isArray(m)?m.map(function(e,t){return x(e,t)}):x(m),(0,o.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,o.jsx)(r.xu,{display:"flex",flex:"grow",justifyContent:"end",padding:1,children:(0,o.jsx)(r.zx,{accessibilityLabel:h.text,color:h.color,fullWidth:null==(t=h.fullWidth)||t,onClick:h.onClick,size:"lg",text:h.text})}),p?(0,o.jsx)(r.xu,{flex:"grow",padding:1,children:(0,o.jsx)(r.zx,{accessibilityLabel:p.text,color:p.color,fullWidth:null==(n=p.fullWidth)||n,onClick:p.onClick,size:"lg",text:p.text})}):null]})]})})}}}]);