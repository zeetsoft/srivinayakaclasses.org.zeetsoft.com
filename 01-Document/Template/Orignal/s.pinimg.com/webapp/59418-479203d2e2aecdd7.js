"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["59418"],{980360:function(e,t,n){n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};o.hash="cabaa35ed7d59dee006897bf3ef32e3d",t.default=o},530070:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669",t.default=r},205529:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7",t.default=r},748065:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(274320);function o(){return"enabled_pinrep_optimization"===(0,(0,r.r)().checkExperiment)("webpack_react_profiler").group}},937805:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(675973),o=n(15667),i=n(647709);function a(){var e=(0,o.B)().isAuthenticated,t=(0,i.ml)(),n=(0,r.Z)().checkExperiment;return{mWebCloseupRedesignEnabled:e&&t&&n("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:n("mweb_closeup_redesign").group}}},915493:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(781011),o=n(603316);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,a,l){var s=new URLSearchParams,c=t.reduce(function(e,t){if(null!=t){var n=function(e){var t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(r){var n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);s.append(r.NR.SOURCE_EVENT_ID,null!=e?e:"0"),s.append(r.NR.DESTINATION,JSON.stringify(function(e){if(Array.isArray(e))return i(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),s.append(r.NR.EXPIRY,n?r.uV:r.ug),s.append(r.NR.PRIORITY,n?r.NR.CLICK_PRIORITY:r.NR.VIEW_PRIORITY),l&&s.append(r.NR.ADVERTISER_ID,l),a&&s.append(r.NR.CAMPAIGN_ID,a),s.append(r.NR.SOURCE_EVENT_TYPE,n?r.bC:r.Cu);try{var u=new URL(window.location.href).hostname;"www.pinterest.com"!==u&&s.append(r.NR.HOSTNAME,u)}catch(e){(0,o.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}},450808:function(e,t,n){n.d(t,{CC:function(){return r},Ll:function(){return i},XF:function(){return o}});var r=function(e,t){var n=2*Math.random()*Math.PI;return{x:Math.floor(t/2*Math.cos(n)),y:Math.floor(e/2*Math.sin(n))}},o=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},i=function(e){return["@-webkit-keyframes","@keyframes"].map(function(t){return e.map(function(e){return t+" "+e}).join("\n")}).join("\n")}},947543:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(675973);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t,n,a,l,s,c=(a=(n={experimentsClient:(0,r.Z)(),skipActivation:null!=(t=null==e?void 0:e.skipActivation)&&t}).experimentsClient,l=n.skipActivation,(s=(0,a.checkExperiment)("web_masonry_v2",{dangerouslySkipActivation:l})).group?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({expName:"web_masonry_v2"},s):{expName:"",anyEnabled:!1,group:""}),u=c.expName,d=c.anyEnabled,f=c.group;return{expName:u,anyEnabled:d,group:f,isMeasureAllEnabled:"enabled_measure_all"===f||"enabled_measure_all_impression_fix"===f,isImpressionFixEnabled:"control_impression_fix"===f||"enabled_impression_fix"===f||"enabled_measure_all_impression_fix"===f}}},351607:function(e,t,n){n.d(t,{ZP:function(){return S},Fw:function(){return O}});var r=n(586659),o=n(915493),i=n(657043),a=n(603316);function l(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function s(){var e;return e=regeneratorRuntime.mark(function e(t,n,r,l,s,c,u,d,f){var p,m,h,y,b,v,_,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m=(p=c||{}).appType,h=p.osType,b="",v="",!(["Pin","pinImpressions"].includes(t)&&n&&(l||d||f))){e.next=31;break}if((0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:h}}),e.prev=5,null!=(_=window.document.featurePolicy)&&_.allowsFeature("attribution-reporting")){e.next=9;break}return(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:h}}),e.abrupt("return");case 9:g={eventSourceEligible:!0,triggerEligible:!1},b=(0,o.Z)(r,[l,d,f],!1,s,u);try{v=new URL(window.location.href).hostname}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(!(v&&"www.pinterest.com"!==v)){e.next=18;break}document.createElement("img").setAttribute("attributionsrc",b),(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:h,hostname:v}}),e.next=23;break;case 18:return e.next=20,window.fetch(b,{keepalive:!0,attributionReporting:g});case 20:if((y=e.sent).ok){e.next=23;break}throw Error("server request failed.");case 23:(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:h}}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,i.Z)(e.t0,"name"),message:(0,i.Z)(e.t0,"message"),appType:m,osType:h,hostname:v,responseStatus:y&&y.status}});case 29:e.next=32;break;case 31:(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:h}});case 32:case"end":return e.stop()}},e,null,[[5,26]])}),(s=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)})}).apply(this,arguments)}var c=n(293565),u=n(980787),d=n(947543),f=n(816358),p=n(15667),m=n(647709),h=n(792171),y=n(370347),b=n(183152),v=["children"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t,n){var r;return(r=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},P=function(e){var t=e.events,n=e.startTime,r=e.endTime;return(null==t?void 0:t.filter(function(e){return e>=n&&e<=r}))||[]};function S(e){var t=e.carouselData,n=e.closeupImpressionType,o=e.closeupNavigationType,i=e.componentType,l=e.contextLogData,v=e.clientTrackingParams,_=e.duploShouldTrackPinEvents,g=e.elementType,S=e.impressionAuxFields,O=e.inImpressionExp,A=e.impressionType,T=e.impressionsFramework,C=e.isPaused,I=e.loggingId,k=e.objectIdStr,E=e.slotIndex,z=e.trackCarousel,F=e.viewData,D=e.viewParameter,R=e.viewType,L=e.isPromoted,Z=e.storyPinProductEventData,H=(0,u.u)().logContextEvent,B=(0,h.H)().logMrcVideoAdEventOnPlay,N=(0,p.B)().userAgent.browserName,M=(0,y.Yg)().logStat,U=T||f.Z,G=(0,r.useRef)(null),W=(0,r.useRef)(function(e){});W.current=function(e){var r,a,u,d,f,p,m,h,y=j[A],b=y.idType,O=w(w((x(T={clientTrackingParams:v,endTime:e.endTime},b,I),x(T,"slotIndex",E),x(T,"time",e.startTime),x(T,"renderDuration",e.endTime-e.startTime),x(T,"type",n),T),S),{},{forcedExit:"removed"===e.forcedExit?0:void 0});if("Pin"===A){var T,C,U,G=[],W=e.visibleEvents||new Map,V=e.hiddenEvents||new Map;if((S&&S.isPromoted||L)&&[1,50,80,2,102].forEach(function(t){var n=P({events:W.get(t),startTime:e.startTime,endTime:e.endTime}),r=P({events:V.get(t),startTime:e.startTime,endTime:e.endTime});n.forEach(function(e){G.push({type:t,time:e||0,visible:!0})}),r.forEach(function(e){G.push({type:t,time:e||0,visible:!1})})}),O=w(w({},O),{},{pinCellWidth:e.pinCellWidth||0,pinCellHeight:e.pinCellHeight||0,windowWidth:null==(C=window)?void 0:C.innerWidth,windowHeight:null==(U=window)?void 0:U.innerHeight,visibleEvents:G.sort(function(e,t){return e.time-t.time})}),(0,c.i7)(N)&&S&&S.isPromoted){var Y=S.attributionSourceId,K=S.isPromoted,q=S.link,X=S.campaignId,$=S.araAuxData,J=S.advertiserId,Q=S.domain,ee=S.adDestinationUrl;!function(e,t,n,r,o,i,a,l,c){s.apply(this,arguments)}(A,null!=K?K:null,null!=Y?Y:null,null!=q?q:null,null!=X?X:null,null!=$?$:null,null!=J?J:null,null!=Q?Q:null,null!=ee?ee:null)}}var et={component:i,object_id_str:k,view_type:R,view_data:F||{},view_parameter:D};if(z)t&&z&&H(w(w({event_type:7352,event_data:{pinCarouselSlotImpressions:[w(w({},O),"canonical"===t.type?{carouselDataId:Number(null!=(r=t.carouselId)?r:0),slotIndex:t.index,carouselSlotId:(null==(a=t.carouselSlots)?void 0:a[null!=(u=t.index)?u:0])&&Number(t.carouselSlots[null!=(d=t.index)?d:0].slotId)}:{carouselDataId:Number(null!=(f=t.id)?f:0),carouselSlotId:(null==(p=t.carousel_slots)?void 0:p[null!=(m=t.index)?m:0])&&Number(t.carousel_slots[null!=(h=t.index)?h:0].id),slotIndex:t.index})]}},et),{},{aux_data:w({},l)}));else{var en=w(w({clientTrackingParams:v,event_type:y.eventType},et),{},{element:g,event_data:w(x({},y.impressionType,"Story"===A?O:[O]),Z?{storyPinProductEventData:Z}:{}),aux_data:w({closeup_navigation_type:o},l)});H(en),B(en)}_&&M("log_pin_impression")};var V=(0,d.Z)({skipActivation:!0}),Y=V.expName,K=V.group,q=(0,m.ZP)(),X=(0,b.Zv)(),$=(0,p.B)().isAuthenticated,J=(0,r.useCallback)(function(){var e=!1;try{var t=G.current;if(t instanceof HTMLElement&&(!L||t.getElementsByTagName("img").length>0)){var n=U.start(t);n.onExitViewport(W.current).setDebugId(I||"unknown"),_&&n.onEnterViewport(function(){M("log_pin_impression_track_enter_viewport")}),e=!0,K&&(0,a.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:q,experimentName:Y,group:K,handlerId:X,isAuthenticated:$,slotIndex:null!=E?E:"unknown"}})}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}_&&M("log_pin_impression_track",{didStartTracking:e})},[G.current]);return(0,r.useEffect)(function(){return O&&!U.inExperiment&&U.setExperimentStatus(!0),C||J(),function(){var e=G.current;e instanceof HTMLElement&&(!L||e.getElementsByTagName("img").length>0)&&U.stop(e)}},[C,J]),G}var O=function(e){return(0,e.children)({impressionTrackerRef:S(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,v))})}},473304:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(586659),o=n(20256),i=n(937805),a=n(667835),l=n(461951),s=n(816358),c=n(516114),u=n(15667),d=n(883379),f=n(382718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){var t,n,p=e.children,m=e.footerConfig,y=e.headerConfig,b=e.height,v=e.hideOnScroll,_=e.hideOnScrollState,g=_.isHidden,w=_.updateHiddenState,x=e.isFooterHidden,j=e.noPadding,P=e.paddingX,S=e.paddingY,O=void 0===S?c.og:S,A=e.type,T=e.zIndex,C=e.isStoryPin,I=y||{},k=I.headerLimitedOverflow,E=I.ignoreObstructions,z=I.zIndexForGestaltBug,F=m||{},D=F.appUpsellFooterConfig,R=F.footerInLego,L=F.navFooterConfig,Z=!!D,H="header"===A?"top":"bottom",B=(0,a.vs)(),N=(0,u.B)().isRTL,M=(0,i.Z)().mWebCloseupRedesignEnabled,U=(0,r.useRef)(null),G=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!E){var e=U.current;G.current=k&&e&&Array.isArray(e.children)?e.children[0]:e,G.current instanceof HTMLElement&&s.Z.addObstruction(H,G.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!E&&G.current instanceof HTMLElement&&s.Z.removeObstruction(H,G.current)}},[E,k,H,B]);var W="top"===H?"relative":"fixed",V=j?0:O,Y=(null!=b?b:c.R$)+((null==y?void 0:y.overrideTop)||0),K=v||L?h({transition:R||M?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},g||x?{transform:"translateY(".concat("top"===H?-Y:Y,"px)"),opacity:R||M?0:1}:Object.freeze({})):{},q=2*("relative"===W&&(null==y||!y.noGutter)),X=q?-q:0,$=B?a.k7:"rgba(255,255,255,.95)";B&&("header"===A?t=-1:n=-1);var J=R?Z?void 0:null!=b?b:c.R$:"100%",Q=R?c.KJ:void 0,ee=null!=y&&y.isTranslucent&&$||B?$:l.Wmm,et=null!=y&&y.isTransparentBackground&&l.Wyp?l.Wyp:ee,en=(0,r.useMemo)(function(){return h({height:"footer"===A&&M?"calc(".concat(J," + env(safe-area-inset-bottom))"):J},M&&"footer"===A?{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(4*(V||0),"px)")}:Object.freeze({}))},[M,J,A,V]),er=(0,d.Z)({skipExpActivation:!0});return(0,f.jsx)(o.xu,{ref:U,bottom:"footer"===A,dangerouslySetInlineStyle:{__style:h(h(h(h(h({top:t,bottomStyle:n},!T||z?{zIndex:z||1}:Object.freeze({})),k?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({})),null!=y&&y.hasBorder?{borderBottom:c.dS}:Object.freeze({})),null!=m&&m.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),K)},"data-test-id":A,display:Z?"flex":void 0,height:b&&!R?b:void 0,left:!0,marginEnd:R?"auto":X,marginStart:R?"auto":X,onTransitionEnd:function(){(v||L)&&G.current&&(g||x?s.Z.removeObstruction(H,G.current):s.Z.addObstruction(H,G.current))},position:W,right:!0,top:"header"===A,width:R||"fixed"!==W?void 0:"100%",zIndex:z?void 0:T,children:(0,f.jsx)(o.xu,{alignItems:null!=m&&m.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:h(h(h({backgroundColor:et,paddingLeft:N||!er||C?void 0:"8px",paddingRight:N&&er&&!C?"8px":void 0},en),{},{boxShadow:M&&"footer"===A?"0 10px 0 0 ".concat(et,", ").concat(c.KJ):Q,marginBottom:R&&!(null!=L&&L.docked)?16:void 0},k?{pointerEvents:"auto"}:Object.freeze({})),null!=y&&y.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:R||null!=m&&m.alignCenter?"flex":void 0,marginEnd:R?"auto":void 0,marginStart:R?"auto":void 0,paddingX:P||4*("footer"===A&&!j)+q,paddingY:V,position:"relative",rounding:R&&!(null!=L&&L.docked)?"pill":void 0,width:L?L.footerWidth:Z?void 0:"100%",children:"function"==typeof p?p({updateHiddenState:w}):p})})}},588367:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(20256),o=n(516114),i=n(473304),a=n(211887),l=n(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug","isStoryPin"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.hasBorder,n=e.headerLimitedOverflow,s=e.ignoreObstructions,u=e.isTranslucent,f=e.isTransparentBackground,p=e.noGutter,m=e.overrideTop,h=e.useRoundedCorners,y=e.zIndexForGestaltBug,b=e.isStoryPin,v=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c),_=v.noPadding,g=v.paddingY,w=void 0===g?o.og:g,x=v.zIndex;return(0,l.jsx)(r.Le,{height:n?o.LV+2*(_?0:w)*4:void 0,top:m||0,zIndex:x||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:v.hideOnScroll,children:function(e){return(0,l.jsx)(i.Z,d(d({},v),{},{headerConfig:{isTranslucent:u,isTransparentBackground:f,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:s,noGutter:p,overrideTop:m,zIndexForGestaltBug:y,useRoundedCorners:h},hideOnScrollState:e,isStoryPin:b,type:"header"}))}})})}},211887:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(586659),o=n(159527);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var t,n,r=(t=s(),function(){var e,n=c(f);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return u(l(t=r.call.apply(r,[this].concat(i))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp)}),u(l(t),"lastScrollPos",0),u(l(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),u(l(t),"handleScroll",(0,o.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,a=window.scrollY,l=a-t.lastScrollPos,s="none",c=document.documentElement||{},u=c.scrollHeight,d=c.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(s=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||u-d)-Math.max(l,20)?"end":"none");var f=null!=o&&o.isModal?0:55;r?l>20&&i&&a>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20&&!i||a<=f)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===s&&!i||a<=f?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(a>f||"end"===s)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20||"start"===s)&&i||a<=f?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l>20||"end"===s)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=a},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(t=e.navFooterConfig)&&t.isDockedNavOnPlp)&&null!=(n=this.props.navFooterConfig)&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(o=this.props.navFooterConfig)&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},516114:function(e,t,n){n.d(t,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return i},dS:function(){return s},og:function(){return o}});var r=64,o=3,i=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},657389:function(e,t,n){n.d(t,{C:function(){return i},V:function(){return a}});var r=n(586659),o=(0,r.createContext)(!1),i=o,a=function(){return(0,r.useContext)(o)}},208291:function(e,t,n){n.d(t,{B4:function(){return P},P5:function(){return S},tx:function(){return O}});var r=n(575108),o=n(686319);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)})}}var u=function(){};function d(){return(d=c(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.board_id,e.next=3,(0,o.Z)({url:"/v3/boards/".concat(null!=i?i:"","/follow/"),method:"DELETE"});case 3:r({event_type:27,object_id_str:i}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=c(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.board_id,e.next=3,(0,o.Z)({url:"/v3/boards/".concat(null!=i?i:"","/follow/"),method:"PUT"});case 3:r({event_type:26,object_id_str:i}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("UserFollowResource",t),e.next=3,o.callDelete();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("UserFollowResource",t),e.next=3,o.callCreate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=c(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("InterestFollowResource",t),e.next=3,i.callDelete();case 3:n(),o({event_type:602,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("InterestFollowResource",t),e.next=3,i.callCreate();case 3:n(),o({event_type:601,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("PinFeedbackResource",t),e.next=3,o.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){return(_=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("PinFeedbackResource",t),e.next=3,o.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/users/settings/",method:"POST",data:{gen_ai_topics_opt_out:t.gen_ai_topic_ids}});case 2:n();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/users/settings/",method:"POST",data:{gen_ai_topics_opt_in:t.gen_ai_topic_ids}});case 2:n();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return(x=c(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pin||t.pin_id||"",e.next=3,(0,o.Z)({url:t.undo?"/v3/pin/".concat(r,"/feedback/see_more/undo/"):"/v3/pin/".concat(r,"/feedback/see_more/"),method:"PUT",data:{pin:r,through_id:t.through_id,rec_reason_type:t.rec_reason_type,surface:t.surface,feedback_pin_payload:t.feedback_pin_payload,client_tracking_params:t.client_tracking_params}});case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j={complaint:b,followBoard:function(e,t,n){return f.apply(this,arguments)},followPinner:function(e,t){return m.apply(this,arguments)},followTopic:function(e,t,n){return y.apply(this,arguments)},genAi:function(e,t){return g.apply(this,arguments)},newsHubPinHide:function(e,t){var n,r,i,a;(0,o.Z)({url:e.undo?"/v3/news_hub/".concat(null!=(n=e.news_id)?n:"","/pin/").concat(null!=(r=e.pin_id)?r:"","/undo/"):"/v3/news_hub/".concat(null!=(i=e.news_id)?i:"","/pin/").concat(null!=(a=e.pin_id)?a:"","/hide/"),method:"PUT"}).then(function(){return t()}),b(l({feedback_type:1,pin_id:e.pin_id},e),t)},promotedComplaint:function(e,t){return _.apply(this,arguments)},relatedPinHide:function(e,t){var n,r;(0,o.Z)({url:e.undo?"/v3/p2p/".concat(null!=(n=e.pin)?n:"","/unhide/"):"/v3/p2p/".concat(null!=(r=e.pin)?r:"","/hide/"),method:"PUT"}).then(function(){return t()}),b(l({feedback_type:1,pin_id:e.pin},e),t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},seeMore:function(e,t){return x.apply(this,arguments)},undoGenAi:function(e,t){return w.apply(this,arguments)},unfollowBoard:function(e,t,n){return d.apply(this,arguments)},unfollowPinner:function(e,t){return p.apply(this,arguments)},unfollowTopic:function(e,t,n){return h.apply(this,arguments)},unrelatedSearchPin:function(e,t){var n,r;(0,o.Z)({url:e.undo?"/v3/search/".concat(null!=(n=e.pin_id)?n:"","/unhide/"):"/v3/search/".concat(null!=(r=e.pin_id)?r:"","/hide/"),method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then(function(){return t()}),b(l({feedback_type:1},e),t)},showFewerWeightLossAds:function(e,t){t()}};function P(e){return"string"==typeof e&&Object.prototype.hasOwnProperty.call(j,e)}var S=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic","undoGenAi"];function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=arguments.length>3?arguments[3]:void 0,o=e?j[e]:null,i=n||u;o?o(t||{},i,r):i()}},950883:function(e,t,n){n.d(t,{X:function(){return r}});var r="favorited"},579358:function(e,t,n){n.d(t,{F9:function(){return m},LM:function(){return d},VZ:function(){return l},cQ:function(){return h},rZ:function(){return s}});var r=n(210811),o=n(901360);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=function(){return"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll},s=function(e){return e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null},c=function(e,t){var n=e.top,r=e.height,o=t.foldY,i=n+t.pageYOffset;if(i>=o)return!1;var a=Math.min(r,o-i);return a>.5*r||a>.2*o},u=function(e){if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;var t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},d=function(){return document.querySelector?document.querySelectorAll(r.wc).length:((0,o.H)("missing_document_query_selector"),0)},f=function(){if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),null;var e=document.querySelectorAll(r.wc);return e[e.length-1]||null},p=function(e,t){var n=s(e);if(!n)return(0,o.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;var r=u(e);if(null!=r&&r.endsWith("svg"))return!1}return c(n,t)},m=function(){var e=f();if(!e)return!1;var t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},h=function(e,t,n){if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),[];var a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[r.Wf].concat(i(e?[r.fF]:[]),i(t?[r.$N]:[])).join(","),s=i(document.querySelectorAll(l));if(n){var c=i(document.querySelectorAll('div[data-test-id="board-section"]')),d=function e(t){var n=i(t.children);!n.length&&t.style.backgroundImage?s.push(t):n.length&&n.forEach(function(t){e(t)})};c.forEach(function(e){d(e)})}return s.reduce(function(e,n){if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&p(n,a)){var r=u(n);if(r){var o=(r||"").replace(/.*\//,"");return e.concat([{element:n,fileName:o}])}}return e},[])}},210811:function(e,t,n){n.d(t,{$N:function(){return s},Kb:function(){return r},Wf:function(){return a},fF:function(){return l},wc:function(){return i}});var r="pwt-grid-item",o=['div[data-grid-item="true"]',"div.Grid__Item",'div[data-test-id="'.concat(r,'"]')],i=o.join(","),a=o.map(function(e){return"".concat(e," img")}).join(","),l=o.map(function(e){return"".concat(e," div[style*=background-image]")}).join(","),s=o.map(function(e){return"".concat(e," video")}).join(",")},750632:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var o,i;o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){if(!e)return null;var t,n,r=null==e?void 0:e.url;return Array.isArray(null==e?void 0:e.params)?t=null==e?void 0:e.params:Object.entries(t=a({},null!=(n=null==e?void 0:e.params)?n:{})).forEach(function(e){var n,i,a=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1];null!=(n=r)&&n.includes("{".concat(l,"}"))&&(r=null==(i=r)?void 0:i.replaceAll("{".concat(l,"}"),String(s)),delete t[l])}),{name:"ApiResource",options:a({url:r,data:t},(null==e?void 0:e.method)==="POST"?{postInsteadOfGet:!0}:{}),enabledRouteRefresh:null==e?void 0:e.enabledRouteRefresh,headers:null==e?void 0:e.headers,noCache:null==e?void 0:e.noCache}}n.d(t,{Z:function(){return l}})},954729:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(750632),o=n(886981);function i(e){return(0,o.Z)((0,r.Z)(e))}},62937:function(e,t,n){t.Z=(0,n(586659).createContext)("undefined"!=typeof window?window:null)},607001:function(e,t,n){var r=n(417162),o=n(929915);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(){var e=(0,r.g)(),t=(0,o.l)();return function(n){var r,o=n.mobileOptions,l=n.desktopOptions,s=n.reason,c=n.attributionLabel,u=n.pinId,d=n.savePinImageUrl;e?e.showDesktopSignupModal(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({signupFlow:(null==l?void 0:l.modalType)==="login"?{type:"login"}:{type:"signup"},reason:s,attributionLabel:c,savePinId:u,savePinImageUrl:d},null==l?void 0:l.modalOptions)):t&&t.showMobileSignupModal({reason:s,attributionLabel:c,headingType:null!=(r=null==o?void 0:o.headingType)?r:"none",pinId:u,savePinImageUrl:d})}}},514053:function(e,t){t.Z={PIN_HIDDEN:function(e){return{title:e._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:e._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},PIN_REPORTED:function(e){return{title:e._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:e._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}}},38817:function(e,t,n){n.d(t,{Z:function(){return T}});var r,o=n(586659);n(492996);var i=n(20256),a=n(521009),l=n(821342),s=n(28427),c=n(19585),u=n(675973),d=n(607001),f=n(941404),p=n(572227),m=n(87853),h=n(741155),y=n(334536),b=n(647709),v=n(341742),_=n(732347),g=n(352908),w=n(793698),x=n(400741),j=n(151594),P=n(382718);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.children,n=e.pulsar,r=e.testId;return n.show?(0,P.jsx)(i.xu,{"data-test-id":r,position:"relative",children:(0,P.jsxs)(i.iP,{onTap:n.onClick,tapStyle:"none",children:[(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:t}),(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,P.jsx)(i.o3,{})})]})}):(0,P.jsx)(i.xu,{"data-test-id":r,children:t})},A=(void 0!==r||(r=n(980360)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==r.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function T(e){var t,n,r=e.auxData,T=e.disabled,C=e.disableLog,I=e.followEventType,k=e.id,E=e.inline,z=e.invertColors,F=e.isFollowed,D=e.isIdeaPin,R=e.isLegoEnabled,L=e.isSecondaryButton,Z=e.isUserFollowButton,H=e.isUserMe,B=e.onFollow,N=e.onUnfollow,M=e.pinKey,U=e.shouldUseLegoColors,G=e.showPulsar,W=e.size,V=e.textType,Y=void 0===V?"FollowFollowing":V,K=e.unfollowEventType,q=e.viewParameter,X=e.viewType,$=e.clientTrackingParams,J=(0,c.ZP)(),Q=(0,b.HG)(),ee=(0,m.dI)().showToast,et=(0,p.Z)(),en=(0,a.Z)(),er=(0,d.Z)(),eo=(0,u.Z)().checkExperiment,ei=(0,g.Z)(),ea=(0,l.Z)(),el=ea&&ea.isAuth,es=(0,j.A)(),ec=es.unauthFollowUserId,eu=es.setUnauthFollowUserId,ed=(0,w.mN)()(k),ef=(0,h.Z)(),ep=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(F))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),em=ep[0],eh=ep[1],ey=ed&&{imageMediumUrl:ed.image_medium_url,username:ed.username},eb=(0,s.Z)(A,M),ev=null==eb?void 0:eb.linkDomain,e_=null==eb?void 0:eb.nativeCreator,eg=null==eb?void 0:eb.originPinner,ew=null==eb?void 0:eb.pinner;n=e_||(ev?ev.officialUser:eg||ew);var ex=null!=ey?ey:n;(0,v.Z)(function(){!Q&&el&&ec&&k&&ec===k&&B(k)});var ej=ei({fn:function(){if(el)em?(N(k),eh(!1),C||en({event_type:K,view_type:X,view_parameter:q,object_id_str:k,aux_data:r,clientTrackingParams:$})):(B(k),eh(!0),Z&&ee(function(e){var t=e.hideToast,n=null!=ex&&ex.username?"/".concat(ex.username,"/"):"";return(0,P.jsx)(x.Z,{handleHide:t,href:n,imageUrl:(null==ex?void 0:ex.imageMediumUrl)||"",text:(0,P.jsx)(i.xv,{lineClamp:4,children:J._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:k})}),C||en({event_type:I,view_type:X,view_parameter:q,object_id_str:k,aux_data:r,clientTrackingParams:$}));else{if((0,f.NC)(em?"press_profile_unfollow":"press_profile_follow"),et({action:"click",item:em?"unfollow-button":"follow-button"}),eo("migration_upsell_manager_redux").anyEnabled||eo("migration_upsell_manager_redux_dweb").anyEnabled||eo("migration_upsell_manager_redux_mweb").anyEnabled)if(Q){var e=eo("pcons_dweb_contextual_follow_modal").anyEnabled;ef((0,y.b9)(!!D,e))}else{var t=eo("pcons_mweb_contextual_follow_modal").anyEnabled;ef((0,y.Jw)(!!D,t))}else er({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:D?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Q&&eo("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Q&&eo("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});Q||eu(null!=k?k:""),(0,f.NC)("clickthrough")}},modalHeader:(0,_.N4)({i18n:J,toFollow:!em})}),eP=!em&&!!G,eS=function(){if(H)return J._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===Y)return em?J._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):J._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===Y?J._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):J._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return em?e:J._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,P.jsx)(O,{pulsar:eP?{show:!0,onClick:ej}:{show:!1},testId:H||em?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(i.zx,{accessibilityLabel:eS(),color:U||"AddRemove"===Y||!R&&L||z?"gray":"red",disabled:H||T,fullWidth:E,onClick:eP?void 0:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),C||en({event_type:101,component:13672,element:11951,object_id_str:k,view_type:X,view_parameter:q,aux_data:r,clientTrackingParams:$}),ej()},selected:em||!1,size:W,text:eS()})})}},549446:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(581722),o=n(38817),i=n(676244),a=n(793698),l=n(382718);function s(e){var t=e.user,n=e.invertColors,s=e.isSecondaryButton,c=e.onTap,u=e.size,d=e.viewParameter,f=e.viewType,p=(0,r.I0)(),m=(null!=t?t:{}).id,h=(0,a.dM)(),y=h[m]?h[m].explicitly_followed_by_me:null==t?void 0:t.explicitly_followed_by_me;return(0,l.jsx)(o.Z,{followEventType:45,id:m,invertColors:n,isFollowed:y,isSecondaryButton:s,isUserFollowButton:!0,onFollow:function(){p((0,i.ZN)(m)),c&&c()},onUnfollow:function(){p((0,i.fv)(m)),c&&c()},pinKey:null,size:u,unfollowEventType:46,viewParameter:d,viewType:f})}},230543:function(e,t,n){n.d(t,{c:function(){return o},t:function(){return i}});var r=n(598849);function o(e){return(0,e.children)((0,r.Z)().height)}function i(){return(0,r.Z)().height}},598849:function(e,t,n){n.d(t,{C:function(){return o}});var r=(0,n(729434).Z)("Header"),o=r.Provider;t.Z=r.get},357823:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(20256),o=n(980787),i=n(19585),a=n(586659);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=n(382718);function u(e){var t,n,s,u,d,f,p,m,h,y,b,v,_,g,w=e.auxData,x=e.enabled,j=e.onPull,P=e.refreshing,S=e.viewParameter,O=(0,i.ZP)(),A=(0,o.u)().logContextEvent,T=4079===S,C=(n=(t={enabled:x,onSelect:function(e){var t=e.pullDistance,n=e.resetState;t>=120&&(A({view_type:1,event_type:158,view_parameter:T?4079:92,aux_data:T?w:{}}),j()),n()},refreshing:P}).enabled,s=t.onSelect,u=t.refreshing,d=(0,a.useRef)(null),p=(f=l((0,a.useState)(0),2))[0],m=f[1],y=(h=l((0,a.useState)(!1),2))[0],b=h[1],_=(v=u?0:p/250)>0,g=function(){b(!1),m(0)},(0,a.useEffect)(function(){if(n){var e=function(e){window.scrollY<=0&&!u&&(d.current=e.touches[0].clientY)},t=function(e){if(d.current){var t=(e.touches[0].clientY-d.current)*.5;t>0&&(m(t),e.preventDefault())}},r=function(){d.current&&(b(!0),s({pullDistance:p,position:v,resetState:g}),d.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",r),function(){window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",r)}}},[n,s,p,u,v]),{pullDistance:p,hasStartPulling:_,position:v,startYRefCurrent:d.current,PULL_MENU_DISTANCE:250,isExecuted:y}),I=C.position,k=C.startYRefCurrent,E=C.pullDistance,z=Math.min(I,1),F=O._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,c.jsx)(r.xu,{children:x&&(0,c.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:z,transition:null===k?"all .3s ease-out":void 0}},display:"flex",height:120*I,justifyContent:"center",children:(0,c.jsx)(r.JO,{accessibilityLabel:F,icon:k&&E<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},130858:function(e,t,n){var r=n(20256),o=n(647709),i=n(382718);t.Z=function(){var e=(0,o.HG)();return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},112864:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(586659),o=n(20256),i=n(15667),a=n(588836),l=n(382718);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=e.heading,c=e.icon,u=e.placement,d=e.previousUrl,f=e.rightComponent,p=e.legoSettingsEnabled,m=void 0===p||p,h=e.disableRedirect,y=e.viewParameter,b=e.viewType,v=e.onTouch,_=(0,i.B)().isRTL,g=(0,r.useRef)(null),w=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=w[0],j=w[1];return(0,r.useEffect)(function(){g.current&&g.current.offsetWidth&&j(g.current.offsetWidth)},[]),(0,l.jsxs)(o.xu,{alignItems:"center",display:"flex",height:60,position:"relative",children:[(0,l.jsx)(o.xu,{flex:"none",left:!_,marginStart:m?1:-2,position:"absolute",right:_,children:(0,l.jsx)(a.Z,{color:m?"darkGray":void 0,disableRedirect:void 0!==h&&h,fallbackUrl:d,icon:void 0===c?"arrow-back":c,onTouch:v,placement:u||"unknown",shouldUseFallbackUrl:!0,size:m?"sm":"lg",viewParameter:y,viewType:b})}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 ".concat(f?"".concat(x+12,"px"):"".concat(48,"px"))}},"data-test-id":"header",flex:"grow",marginEnd:m?2:7,paddingX:12,children:(0,l.jsx)(o.X6,{accessibilityLevel:1,align:"center",lineClamp:f?1:void 0,size:"400",children:n})}),m&&!!f&&(0,l.jsx)(o.xu,{ref:g,display:"flex",flex:"none",justifyContent:"end",left:_,marginEnd:1,position:"absolute",right:!_,children:f})]})}},405463:function(e,t,n){n.d(t,{K:function(){return d},T:function(){return f}});var r=n(586659),o=n(382718);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)({getPinFeedbackStatus:function(){},setPinFeedbackStatus:function(){}}),d=function(){return(0,r.useContext)(u)};function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(Object.freeze({})))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],d=i[1],f=(0,r.useMemo)(function(){return{getPinFeedbackStatus:function(e){return a[e.pinId]},setPinFeedbackStatus:function(e){var t=e.pinId,n=e.pinFeedbackStatus;return d(l(l({},a),{},s({},t,n)))}}},[a]);return(0,o.jsx)(u,{value:f,children:n})}},599625:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(575108);function o(e){var t=e.resourceOptions,n=e.updatePinFeedbackStatus;n("hidden"),r.Z.create("PinFeedbackResource",t).callUpdate().catch(function(){n("error")})}},625453:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return+!e.isDesktop}},975740:function(e,t,n){n.d(t,{dL:function(){return s},fJ:function(){return u},gC:function(){return c}});var r=n(581722),o=n(729434),i=n(382718),a=(0,o.Z)("Boards"),l=a.Provider,s=a.get;function c(){var e=s();return function(t){return e[t]}}function u(e){var t=e.children,n=(0,r.v9)(function(e){return e.boards},r.wU);return(0,i.jsx)(l,{value:n,children:t})}},425140:function(e,t,n){n.d(t,{G:function(){return _},Z:function(){return g}});var r=n(586659),o=n(20256),i=n(469167),a=n(467925),l=n(93966),s=n(355363),c=n(62937),u=n(647709),d=n(341742),f=n(348268),p=n(357823),m=n(130858),h=n(79293),y=n(648200),b=n(382718);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=25;function g(e){var t,n=e.align,_=e.customLayoutType,g=e.getColumnSpanConfig,w=e.getResponsiveModuleConfigForSecondItem,x=e.emptyState,j=e.feedItems,P=e.feedKey,S=e.maxColumns,O=e.minColumns,A=e.pagination,T=A.hasNext,C=A.isLoadingNext,I=A.loadNext,k=A.refetch,E=e.pullToRefresh,z=e.renderFeedItem,F=e.serverRender,D=e.isLoadingStateEnabled,R=e.isLoadingAccessibilityLabel,L=e.isLoadedAccessibilityLabel,Z=e.layout,H=e.forceShowLoadingState,B=(0,u.HG)(),N=(0,a.Z)(),M=N.experimentalColumnWidth,U=N.experimentalGutter,G=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),W=G[0],V=G[1],Y=1===S?window.innerWidth:void 0,K="userSearch"===_?window.innerWidth-16:200,q=C&&0===j.length&&!W&&!D,X="desktopFlashlight"===_||"ideaPage"===_&&B?-2:l.qG,$=null!=O?O:2;return"userSearch"===_&&($=1),(0,d.Z)(function(){return window.addEventListener("online",I),function(){return window.removeEventListener("online",I)}}),(0,b.jsxs)(o.xu,{"data-test-id":"MobileFeed",children:[(0,b.jsx)(p.Z,{enabled:!!E,onPull:function(){k(),V(!0)},refreshing:W}),(0,b.jsxs)(o.xu,{"data-test-id":"grid",marginEnd:X,marginStart:X,opacity:W?.5:1,children:[(0,b.jsx)(s.Z,{isAtEndOfFeed:!T,isPlaceholderGrid:D&&C&&!j.length,itemCount:j.length,children:j.length?(0,b.jsx)(o.xu,{"data-test-id":"feed",marginTop:(0,f.kk)({isDesktop:B}),children:(0,b.jsx)(c.Z.Consumer,{children:function(e){return(0,b.jsx)(r.Fragment,{children:(0,b.jsx)(y.Z,{children:(0,b.jsx)(i.default,{_getResponsiveModuleConfigForSecondItem:w,align:n||("ideaPage"===_?"start":void 0),cacheKey:P,columnWidth:B?null!=M?M:l.yF:null!=Y?Y:K,getColumnSpanConfig:g,gutterWidth:B?null!=U?U:4*l.jC:void 0,id:F?P:void 0,isFetching:null!=H?H:C,isLoadedAccessibilityLabel:null!=L?L:"",isLoadingAccessibilityLabel:null!=R?R:"",isLoadingStateEnabled:null!=H?H:!!D,items:H?[]:j,layout:null!=Z?Z:void 0,loadItems:I,maxColumns:S,minCols:$,optOutFluidGridExperiment:null!=S,renderItem:function(e){return z(e.data,e.itemIdx)},scrollContainerRef:e,serverRender:F})})})}})}):C?(0,b.jsx)(m.Z,{}):null!=x?x:null}),q&&(0,b.jsx)(o.xu,{column:12,paddingY:2,children:(0,b.jsx)(h.Z,{partialViewportWidth:"desktopFlashlight"===_})})]})]})}},648200:function(e,t,n){var r=n(821342),o=n(647709),i=n(642859),a=n(382718);t.Z=function(e){var t=e.children,n=(0,o.HG)();return!(0,r.Z)().isAuth&&n?(0,a.jsx)(i.x,{children:t}):t}},149728:function(e,t,n){var r=n(586659),o=n(20256),i=n(280670),a=n(382718);t.Z=function(e){var t=e.badgeSize,n=e.badgeSpacing,l=e.fullName,s=e.isVerifiedIdentity,c=e.isVerifiedMerchant,u=e.truncate,d=e.size,f=l.split(" "),p=f.slice(0,f.length-1).join(" "),m=" ".concat(f[f.length-1]);return void 0!==u&&u?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,size:void 0===d?"200":d,weight:"bold",children:l}),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},flex:"none",paddingX:1,position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:s,isVerifiedMerchant:c,size:t})})]}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:p}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[m,"\xa0",(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},display:"inlineBlock",flex:"none",position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:s,isVerifiedMerchant:c,size:t})})]})]})}},1536:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(918920),o=n(473728),i=n(640924);function a(e){var t=e.enableBizEmailValidator,n=e.i18n,a=(0,i.GT)({message:n._('Not a valid email.', 'Validation error message for an improperly formated email address', 'Validation error message for an improperly formated email address')}),l=function(e){return(0,i.Gy)({max:e,maxErrorString:(0,o.Z)(n._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:e})})},s=(0,i.aH)({message:n._('Your profile needs a name', 'settingsValidators.nameValidator.message', 'Error message when missing input value for name')}),c=(0,i.aH)({message:n._('Your profile needs a username. Choose wisely so others can find you', 'settingsValidators.usernameValidator.message', 'Error message when missing input value for username')}),u=(0,i.aH)({message:n._('Missed a spot!', 'Missing input value', 'Missing input value')}),d=(0,i.aH)({message:n._('Required', 'Validation error when user input is missing', 'Validation error when user input is missing')}),f=(0,i.Jx)({message:n._('Not a valid URL', 'settingsValidators.urlValidator.message', 'Validation error for an improperly formated url')}),p=(0,i.vd)({pattern:/^[\u0590-\u05FF\u0400-\u04FF\w\s]*$/,message:n._('Please do not include any special characters.', 'profile.AccountSettings.customGender.charactersValidationError', 'Error message when custom gender contains special chars')});return{about:[l(500)],biz_email:t?[d,a]:[],business_name:[s,l(65)],contact_name:[u],custom_gender:[u,p],email:[d,a],first_name:[s,l(r.ZP.MAX_CHARS_FOR_FIRST_NAME)],full_name:[s,l(65)],last_name:[l(30)],location:[l(50)],username:[c],website_url:[f]}}},968927:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(20256),o=n(19585),i=n(382718);function a(){var e=(0,o.ZP)();return(0,i.jsx)(r.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},883379:function(e,t,n){var r=n(675973),o=n(15667),i=n(647709);t.Z=function(e){var t=e.skipExpActivation,n=(0,r.Z)().checkExperiment,a=(0,i.HG)(),l=(0,o.B)(),s=l.isBot;return!l.isAuthenticated&&!!a&&a&&!s&&n("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:void 0!==t&&t}).anyEnabled}},348268:function(e,t,n){n.d(t,{G9:function(){return a},SY:function(){return s},kk:function(){return i},mb:function(){return c},s:function(){return l}});var r=n(93966),o=n(625453),i=function(e){var t=e.isDesktop,n=(0,o.Z)({isDesktop:t});return n?-n:0},a=-2,l=function(e){var t=e.trafficSource,n=e.deviceType,o=e.experimentalGutter,i=null!=o?o:4*r.jC;return"desktop"===n?i:"board"===t?4:void 0},s=function(e){var t=e.deviceType,n=e.customMWebColumnWidth,o=e.experimentalColumnWidth,i=null!=o?o:r.yF;return"desktop"===t?i:n||200},c=function(e){var t=e.gutterWidth,n=e.itemWidth,o=e.className,i=e.minColumns,a=void 0===i?r.yc:i,l=e.maxColumns,s=void 0===l?r.g5:l,c=n+t;return Array.from({length:s+1-a},function(e,t){return t+a}).map(function(e){return{minWidth:e===a?0:e*c,maxWidth:e===s?null:(e+1)*c-1,styles:"\n      .".concat(o," {\n        max-width: ").concat(e*c-t,"px;\n      }\n      ")}}).map(function(e){var t=e.minWidth,n=e.maxWidth,r=e.styles;return"\n    @media (min-width: ".concat(t,"px) ").concat(n?"and (max-width: ".concat(n,"px)"):""," {\n      ").concat(r,"\n    }\n  ")}).join("")}},642859:function(e,t,n){n.d(t,{D:function(){return c},x:function(){return s}});var r=n(586659),o=n(941404),i=n(382718);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,r.createContext)(function(){}),s=function(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,r.useCallback)(function(e){(0,o.My)("dweb.unauth.context_menu.open_menu"),u(e)},[]),f=!!c;return(0,r.useEffect)(function(){var e=function(){u(null),(0,o.My)("dweb.unauth.context_menu.click_away")};return f&&document.addEventListener("click",e),function(){f&&document.removeEventListener("click",e)}},[f]),(0,i.jsx)(l,{value:d,children:(0,i.jsxs)(r.Fragment,{children:[n,c]})})},c=function(){return(0,r.useContext)(l)}},79293:function(e,t,n){var r=n(586659),o=n(20256),i=n(93966),a=n(369416),l=n(647709),s=n(640168),c=n(382718),u="PinGridSkeletonLoader__tall",d="PinGridSkeletonLoader__short",f=function(e){var t=e.size;return(0,c.jsx)(o.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===t?u:d})})},p=function(e){var t=e.children;return(0,c.jsx)(o.kC,{direction:"column",gap:{row:0,column:2},children:t})};t.Z=function(e){var t=e.partialViewportWidth,n="desktop"===(0,l.ZP)(),m=n?i.yF:i.tG;return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(a.Z,{unsafeCSS:[{name:u,height:250},{name:d,height:150}].map(function(e){var t=e.name,n=e.height;return(0,s.Z)({name:t,width:m,height:n})}).join("")}),(0,c.jsx)(o.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:i.qG,marginStart:i.qG,children:n?(0,c.jsxs)(o.kC,{direction:"row",gap:{row:i.jC,column:0},children:[(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"tall"})}),(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"short"})}),(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"tall"})}),!t&&(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"short"})})]}):(0,c.jsxs)(o.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,c.jsxs)(p,{children:[(0,c.jsx)(f,{size:"tall"}),(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"})]}),(0,c.jsxs)(p,{children:[(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"}),(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"})]})]})})]})}},640168:function(e,t){t.Z=function(e){var t=e.name,n=e.width,r=e.height,o="".concat(n).concat("number"==typeof n?"px":""),i="".concat(r).concat("number"==typeof r?"px":""),a="number"==typeof n?n:236;return"\n.".concat(t," {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ").concat(t,"_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ").concat(a," ").concat(i,";\n  width: ").concat(o,";\n  height: ").concat(i,";\n}\n\n@keyframes ").concat(t,"_placeHolderShimmer{\n  0% {\n      background-position: -").concat(a,"px 0;\n  }\n  100% {\n      background-position: ").concat(a,"px 0;\n  }\n}\n")}},848387:function(e,t,n){n.d(t,{m:function(){return i},o:function(){return o}});var r=(0,n(729434).Z)("LimitedLogin"),o=r.Provider,i=r.get},352908:function(e,t,n){var r=n(19585),o=n(647709),i=n(848387),a=n(732347);t.Z=function(){var e=(0,r.ZP)(),t=(0,o.HG)(),n=(0,i.m)(),l=n.viewer,s=n.loginForMore,c=n.limitedLoginModalSubheader,u=n.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===l.type?function(n){var r=n.modalHeader,o=n.nextLocation;return function(n){var i=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?i=n:n.event&&(i=n.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),null==s||s.setVisible(!0),null==c||c.setText(r||(t?(0,a.hr)(e):(0,a.Wh)(e))),o&&(null==u||u.setRoute(o))}}:function(e){return e.fn}}},629749:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(20256),o=n(667835),i=n(382718);function a(e){var t,n,a=e.color,l=e.image,s=e.isSelected,c=e.title,u=(0,o.vs)();return(0,i.jsxs)(r.xu,{alignItems:"center","aria-selected":s,dangerouslySetInlineStyle:{__style:{backgroundColor:u?s?"#fff":"#767676":s?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,i.jsx)(r.zd,{height:48,rounding:"circle",width:48,children:l.url&&(0,i.jsx)(r.Ee,{alt:"",color:a,fit:"cover",naturalHeight:null!=(t=l.height)?t:1,naturalWidth:null!=(n=l.width)?n:1,src:l.url})}),(0,i.jsx)(r.xu,{marginEnd:3,marginStart:2,children:(0,i.jsx)(r.xv,{color:s?"inverse":u?"light":"dark",weight:"bold",children:c})})]})}},594217:function(e,t,n){n.d(t,{Z:function(){return tW}});var r=n(963489),o=n(821342),i=n(647709),a=n(650533),l=n(586659),s=n(20256),c="saved",u="viewed",d=n(19585),f=n(382718),p=function(e){var t=e.title,n=e.activityTypeFilter,r=void 0===n?null:n,o=e.allDisabled,i=void 0!==o&&o,a=e.handleButtonToggle,c=e.isToggleDisabled,u=(0,d.ZP)(),p=i?u._('Turn on all', 'Caption for button to enable all recommendations from Pins below', 'Caption for button to enable all recommendations from Pins below'):u._('Turn off all', 'Caption for button to stop all recommendations from Pins below', 'Caption for button to stop all recommendations from Pins below');return(0,f.jsxs)(s.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,children:[(0,f.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,f.jsx)(s.xu,{tabIndex:0,children:(0,f.jsx)(s.X6,{accessibilityLevel:2,size:"400",children:void 0===t?"":t})}),(0,f.jsx)(s.xu,{marginStart:4,children:(0,f.jsx)(s.Fm,{accessibilityLabel:p,disabled:void 0===c||c,onClick:void 0===a?function(){}:a,selected:i,size:"lg",text:p})})]}),(0,l.isValidElement)(r)&&(0,f.jsx)(s.kC,{alignItems:"center",flex:"grow",justifyContent:"end",children:r})]})},m=n(581722),h=n(461951),y=n(670622),b=n(302148);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x={backgroundSize:"cover",backgroundPosition:"50% 50%",cursor:"zoom-in"},j={backgroundColor:"rgba(0,0,0,0.4)"};function P(e){var t,n,i,a,c,u,p,m,v,_,P=e.isDisabled,S=e.onSelectPin,O=e.pin,A=e.enabledDSALaunch,T=e.disabledByDSA,C=(0,y.Z)(),I=(0,d.ZP)(),k=(0,r.s0)(),E=(0,o.Z)().isAuth,z=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return w(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=z[0],D=z[1],R=null!=(c=null==(u=O.images)||null==(p=u["474x"])?void 0:p.url)?c:"",L=(null==(m=O.grid_title)?void 0:m.trim())||(null==(v=O.title)?void 0:v.trim())||(null==(_=O.description)?void 0:_.trim())||I._('Pin without title or description', 'HomefeedControlActivityItem.Pin.without.title', 'Text when there is no pin title, grid title or description in the pin for accesibility'),Z=g({backgroundImage:'url("'.concat(R,'")'),opacity:1},x),H=g({backgroundImage:'url("'.concat(R,'")'),opacity:1},x),B=g({opacity:1},j),N={opacity:0};return(0,f.jsxs)(s.xu,{children:[(0,f.jsx)(s.st,{children:(0,f.jsx)(s.zd,{rounding:4,wash:!0,children:(0,f.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:g({},F?{border:"2px solid ".concat(h.nTo)}:{})},height:304,overflow:"hidden",position:"relative",rounding:4,width:236,children:[(0,f.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:P?Z:H},"data-test-id":"pin",left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:4,top:!0,children:(0,f.jsx)(s.iP,{accessibilityLabel:L,disabled:T,fullHeight:!0,fullWidth:!0,mouseCursor:E?void 0:"zoomIn",onBlur:function(){return D(!1)},onFocus:function(){return D(!0)},onTap:function(){return k("/pin/".concat(O.id))},rounding:4})}),P&&(0,f.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:P?B:N},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0}),P&&(0,f.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:P?{opacity:1}:N},"data-test-id":"homefeed-control-pin-recommendations-disabled",display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,f.jsx)(s.xu,{alignItems:"center","aria-hidden":!P,direction:"column",display:"flex",justifyContent:"start",paddingX:3,paddingY:6,children:(0,f.jsx)(s.xv,{align:"center",color:"inverse",children:I._('Recommendations are turned off for this Pin', 'Caption where Pin will no longer be used for recommendations', 'Caption where Pin will no longer be used for recommendations')})})}),(0,f.jsx)(s.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new s.Ry(1e3),children:(0,f.jsx)(s.XZ,{checked:!P&&!T,disabled:T,helperText:"",id:"checkbox-".concat(O.id),label:"".concat(I._('Checkbox for enabling or disabling recommendations for', 'HomefeedControlActivityItem.Checkbox.Recommendations', 'Accesibility label for enabling or disabling a pin recommendations')," ").concat(L||""),labelDisplay:"hidden",onChange:function(){S()}})})]})})}),A&&(0,f.jsx)(s.xu,{marginStart:2,marginTop:2,children:(0,f.jsx)(s.xv,{size:"200",weight:"bold",children:(i=new Date(n=1e3*O.activity_timestamp),(a=Math.floor((new Date().getTime()-i.getTime())/1e3))<60?I._('Just now', 'homefeedControlActivity.activityItem.justAgoTimeCaption', 'Caption for pin just ago activity time.'):a<120?I._('1 minute ago', 'homefeedControlActivity.activityItem.justAMinuteAgoTimeCaption', 'Caption for pin just a minute ago activity time.'):(0,b.nk)(I._('{{ timesince }} ago', 'HomefeedControlActivity.ActivityItem.timeCaption', 'Caption for pin activity time. timesince: Time when pin was added to recent activity'),{timesince:C(n,!0)}).join(""))})})]})}var S=n(980787),O=n(694955),A=function(){var e=(0,d.ZP)(),t=(0,S.u)().logContextEvent,n=(0,r.s0)();return(0,f.jsx)(s.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,f.jsx)(s.XA,{message:(0,f.jsx)(s.xv,{children:(0,f.jsx)(s.xu,{maxWidth:450,children:(0,b.nk)(e._('Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}', 'HomefeedControl.Activity.upsellMessage', 'Message for activity recomendations upsell tab in homefeed, learnMore: link to learn more'),{learnMore:(0,f.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,f.jsx)(s.rU,{accessibilityLabel:"Learn more about profiling",display:"inlineBlock",href:O.fPu,target:"blank",underline:"hover",children:e._('Learn more', 'HomefeedControl.Activity.searchPrivacyLink', 'Link to privacy and data settings')})},"profiling-learn-more")})})}),primaryAction:{accessibilityLabel:"Update settings",label:e._('Update setting', 'HomefeedControl.Activity.updateSettingButton', 'Text on go to settings button'),onClick:function(){t({event_type:101,element:13581,view_type:255}),n(O.Gxc)}},title:e._('Add more personalization', 'HomefeedControl.Activity.upsellTitle', 'Message for activity recomendations upsell tab in homefeed')})})},T=n(514053),C=n(206459),I=n(169053);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(L=function(){return!!e})()}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}var N=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&D(i,e);var t,n,r,o=(t=L(),function(){var e,n=Z(i);return e=t?Reflect.construct(n,arguments,Z(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(R(e=o.call.apply(o,[this].concat(n))),"state",{previousDisabledPins:{},disabledPins:{},isAllDisabled:!1}),H(R(e),"handleSelectPin",function(t){var n=e.props,r=n.reduxPins,o=n.onSelectPin,i=n.showPinFeedback,a=n.hidePinFeedback,l=e.state,s=l.disabledPins,c=l.isAllDisabled,u=z({},s),d=!s[t.id];u[t.id]=d;var f=r.reduce(function(e,t){return e&&u[t.id]},!0);e.setState({disabledPins:u,isAllDisabled:(!c||!s[t.id])&&(c||f)}),o(t,u[t.id]),d?i({pinId:t.id,nodeId:t.node_id}):a({pinId:t.id,nodeId:t.node_id})}),H(R(e),"handleSelectAll",function(){var t=e.props,n=t.reduxPins,r=t.onSelectPin,o=t.showPinFeedback,i=t.hidePinFeedback,a=e.state,l=a.isAllDisabled,s=a.disabledPins,c=z({},s),u=!l;n.forEach(function(e){(u&&!s[e.id]||!u&&s[e.id])&&(c[e.id]=!c[e.id],r(e,c[e.id])),u?o({pinId:e.id,nodeId:e.node_id}):i({pinId:e.id,nodeId:e.node_id})}),e.setState({isAllDisabled:u,disabledPins:c})}),H(R(e),"renderPin",function(t){var n=e.state.disabledPins[t.id],r=e.props.enabledDSALaunch,o=r&&t.is_disabled_by_dsa||!1;return(0,f.jsx)(s.xu,{paddingX:2,paddingY:3,children:(0,f.jsx)(P,{disabledByDSA:o,enabledDSALaunch:r,isDisabled:n||o,onSelectPin:function(){e.handleSelectPin(t)},pin:t})},t.id)}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.reduxPins,n=e.title,r=e.isFirstSection,o=e.enabledDSALaunch,i=e.isDSAOptedOut,a=e.selectedActivityFilter,l=e.activityTypeFilter,u=this.state.isAllDisabled;return(0,f.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:36}},marginBottom:2,marginTop:2,children:[o&&i&&r&&a!==c&&(0,f.jsx)(A,{}),(0,f.jsx)(p,{activityTypeFilter:o&&r?l:null,allDisabled:u,handleButtonToggle:this.handleSelectAll,isToggleDisabled:o&&i&&a!==c,title:n}),(0,f.jsx)(s.xu,{display:"flex",marginEnd:-2,marginStart:-2,marginTop:2,wrap:!0,children:t.map(this.renderPin)})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.reduxPins,r=t.previousDisabledPins,o=!1,i={};if(n.forEach(function(e){var t=void 0===e.showFeedback?e.is_blocked:e.showFeedback;i[e.id]=t,r[e.id]!==t&&(o=!0)}),o){var a=n.reduce(function(e,t){return e&&!!i[t.id]},!0);return{previousDisabledPins:z({},i),disabledPins:i,isAllDisabled:a}}return null}}],n&&F(i.prototype,n),r&&F(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent);function M(e){var t=(0,d.ZP)(),n=(0,S.u)().logContextEvent,o=(0,m.I0)(),i=(0,I.JC)(),a=[];e.pins.forEach(function(e){a.push(i[e.id]||e)});var l=(0,r.s0)();return(0,f.jsx)(N,z(z({},e),{},{hidePinFeedback:function(e){var t=e.pinId,n=e.nodeId;return o((0,C.I1)({id:t,nodeId:n}))},i18n:t,logContextEvent:n,navigate:l,reduxPins:a,showPinFeedback:function(e){var n=e.pinId,r=e.nodeId;return o((0,C.q1)({id:n,text:T.Z.PIN_HIDDEN(t),nodeId:r}))}}))}H(N,"defaultProps",{isDSAOptedOut:!1});var U=n(208291);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){Q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($=function(){return!!e})()}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return(t=ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}var et=s.Rk.createMeasurementStore(),en=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&q(i,e);var t,n,r,o=(t=$(),function(){var e,n=J(i);return e=t?Reflect.construct(n,arguments,J(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==G(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return X(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(X(e=o.call.apply(o,[this].concat(n))),"state",{blocks:[],pinIndex:0,selectedFilterOption:"all"}),Q(X(e),"handleSelectPin",function(t,n){var r=t.id,o=t.is_promoted,i=t.is_downstream_promotion,a=t.is_disabled_by_dsa,l=e.props.logContextEvent;a||((0,U.tx)("complaint",{pin_id:r,complaint_reason:0,feedback_type:4,promoted:o&&!i,recommendation_reason_id:4,through_id:r,undo:!n},void 0,l),l({event_type:n?107:106,view_type:255,view_parameter:3290,object_id_str:r,element:11352}))}),Q(X(e),"renderBlock",function(t){var n=t.data,r=t.itemIdx,o=n.title,i=n.pins,a=e.props,l=a.isDSAOptedOut,c=a.activityTypeFilter,u=a.enabledDSALaunch,d=a.selectedActivityFilter;return(0,f.jsx)(s.xu,{children:(0,f.jsx)(M,{activityTypeFilter:c,enabledDSALaunch:u,isDSAOptedOut:l,isFirstSection:0===r,onSelectPin:e.handleSelectPin,pins:i,selectedActivityFilter:d,title:o})},r)}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.pins,r=t.i18n,o=t.enabledDSALaunch,i=t.activityTypeFilter,a=this.state.blocks;return(0,f.jsxs)(s.xu,{maxWidth:922,children:[(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,f.jsx)(s.xv,{color:"subtle",size:"300",children:r._('Hide ideas related to Pins you recently saved or tapped to view close-up.', 'HomefeedControl.Activity.headingMessage', 'Heading message for activity tab in homefeed')})}),n.data&&0===n.data.length&&(0,f.jsx)(p,{activityTypeFilter:o?i:null,title:""}),(0,f.jsx)(s.Rk,{columnWidth:922,gutterWidth:0,items:a,loadItems:n.fetchMore,measurementStore:et,minCols:1,renderItem:function(t){var n=t.data,r=t.itemIdx;return e.renderBlock({data:n,itemIdx:r})},scrollContainer:function(){return window}}),n.isFetching&&(0,f.jsx)(s.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,f.jsx)(s.xH,{accessibilityLabel:this.props.i18n._('Loading', ' - ', ' -- '),show:!0})})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.pins.data,r=e.i18n,o=e.getHumanizedTimeSince,i=e.selectedActivityFilter,a=t.blocks,l=t.pinIndex,s=t.selectedFilterOption,c=i!==s,u=c?0:l,d=c?[]:a.slice();if(!n||n.length===u)return null;var f=n.slice(u),p={};f.forEach(function(e){void 0===p[e.id]&&(p[e.id]=e.activity_timestamp)});var m={},h={},y=[],b=d.map(function(e){return e.title});return f.filter(function(e){return p[e.id]}).sort(function(e,t){return p[t.id]-p[e.id]}).forEach(function(e){if(!m[e.id]){m[e.id]=!0;var t,n,i,a,l=(t=1e3*parseInt(p[e.id],10),n=Math.floor((Date.now()-t)/864e5),i=Date.now(),0===n?r._('Today', 'Caption when pin was interacted with today', 'Caption when pin was interacted with today'):1===n?r._('Yesterday', 'Caption when pin was interacted with yesterday', 'Caption when pin was interacted with yesterday'):o(new Date(i-864e5*n).toString()));h[l]=[].concat(function(e){if(Array.isArray(e))return Y(e)}(a=h[l]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return Y(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,void 0):void 0}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]),-1===y.indexOf(l)&&y.push(l)}}),y.forEach(function(e){var t=e,n=h[e],r=b.indexOf(e);if(0===d.length)d.push({title:t,pins:n});else if(-1===r)t=e,d.push({title:t,pins:n});else if(-1!==r){var o=d.find(function(t){return t.title===e});if(o&&o.pins){o.pins=o.pins.concat(n);var i=o.pins.length,a=Math.ceil(i/3),l=Math.ceil((i+n.length)/3);if(a!==l){var s=d[r],c=et.map.get(s);c&&et.map.set(s,c+(l-a)*400)}}}}),{pinIndex:n.length,blocks:d,selectedFilterOption:i||s}}}],n&&K(i.prototype,n),r&&K(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent),er=function(e){var t=(0,S.u)().logContextEvent,n=(0,d.ZP)(),r=(0,y.Z)();return(0,f.jsx)(en,V(V({},e),{},{getHumanizedTimeSince:r,i18n:n,logContextEvent:t}))};function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ei(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eo(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=(0,l.useRef)(null),a=e.activityFilter,c=e.setActivityFilter,u=e.activityTypeOptions,d=function(e){c(e.item),o(!1)};return(0,f.jsxs)(s.kC,{justifyContent:"center",children:[(0,f.jsx)(s.hU,{ref:i,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:r,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:function(){return o(function(e){return!e})},selected:r,size:"xl"}),r&&(0,f.jsx)(s.Lt,{anchor:i.current,disableMobileUI:!0,id:"activity-type-filter-dropdown",onDismiss:function(){return o(!1)},children:u.length>0&&u.map(function(e){return(0,f.jsx)(s.Lt.Item,{onSelect:d,option:e,selected:a},e.value)})})]})}var ea=n(918920),el=n(968927);function es(e){var t=e.board,n=t.id,r=t.name,o=t.image_cover_url,i=t.pin_count,a=t.section_count,c=t.privacy,u=t.board_order_modified_at,p=t.is_collaborative,m=t.collaborating_users,h=t.url,v=e.onToggle,_=e.isEnabled,g=e.enabledDSALaunch,w=e.isDSAOptedOut,x=(0,d.ZP)(),j=(0,y.Z)(),P=c===ea.ZP.BoardPrivacy.SECRET,S=u&&j(u,!0);return(0,f.jsx)(s.xu,{"data-test-id":"homefeed-board-item",marginEnd:-2,marginStart:-2,children:(0,f.jsx)(s.iP,{disabled:g&&w,onTap:v,rounding:2,children:(0,f.jsx)(s.xu,{padding:2,children:(0,f.jsx)(s.st,{children:(0,f.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,f.jsx)(s.xu,{flex:"none",marginEnd:2,overflow:"hidden",rounding:1,children:(0,f.jsxs)(s.Tg,{accessibilityLabel:(0,b.nk)(x._('{{name}} board', 'homefeedControlBoardItem.tapArea.accessibilityLabel', 'Accessibility label for the tap area that navigates to a board. name: the name of the board'),{name:r}).join(""),disabled:g&&w,href:void 0===h?"":h,onTap:function(e){return e.event.stopPropagation()},rounding:2,children:[(0,f.jsx)(s.zd,{height:60,rounding:4,wash:!0,width:60,children:o?(0,f.jsx)(s.Ee,{alt:(0,b.nk)(x._('{{name}} board cover', 'homefeedControlBoardItem.imageCover.accessibilityLabel', 'Accessibility label for board covers. name: the name of the board'),{name:r}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:o}):(0,f.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"})}),P&&(0,f.jsx)(s.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,f.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,f.jsx)(el.Z,{})})})]})}),(0,f.jsxs)(s.xu,{opacity:g&&w?.7:1,children:[(0,f.jsx)(s.xu,{marginBottom:1,children:(0,f.jsx)(s.xv,{lineClamp:1,size:"400",weight:"bold",children:r})}),(0,f.jsxs)(s.kC,{gap:2,children:[(0,f.jsxs)(s.xv,{inline:!0,size:"100",children:[(0,b.nk)(x.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != i ? i : 0, 'HomefeedControlBoardItem.pinCount', 'Number of Pins on board or section'),{pinCount:i})," ",(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)("span",{children:" • "}),(0,b.nk)(x.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', null != a ? a : 0, 'HomefeedControlBoardItem.boardDetails.sectionCount', 'sectionCount: Number of sections on the board'),{sectionCount:a})," "]})]}),(0,f.jsx)(s.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:S})]})]}),(0,f.jsx)(s.xu,{flex:"grow"}),p&&(0,f.jsx)(s.xu,{flex:"none",marginStart:3,children:m&&(0,f.jsx)(s.HE,{accessibilityLabel:x._('Collaborative board', 'HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard', 'Accessibility label for avatar group indicating a collaborative board'),collaborators:m.map(function(e){var t,n,r;return{name:null!=(t=e.full_name)?t:"",src:null!=(n=e.image_medium_url)?n:"",color:null!=(r=null==e?void 0:e.avatar_color_index)?r:void 0}}),size:"xs"})}),(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"end",marginStart:3,children:(0,f.jsxs)(s.xu,{paddingX:1,children:[(0,f.jsx)(s.xu,{display:"visuallyHidden",children:(0,f.jsx)(s.__,{htmlFor:n,children:(0,b.nk)(x._('Select {{name}}', 'homefeedcontrolboarditem.select.accessibilityLabel', 'Accessibility label for the homefeedcontrolboarditem'),{name:r})})}),(0,f.jsx)(s.rs,{disabled:g&&w,id:n,onChange:function(){},switched:!(g&&w)&&_})]})})]})})})})})}var ec=n(824535),eu=n(975740);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){ev(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function em(e,t){return(em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eh(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ey(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ey=function(){return!!e})()}function eb(e){return(eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ev(e,t,n){return(t=e_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_(e){var t=function(e,t){if("object"!=ed(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ed(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ed(t)?t:t+""}var eg=s.Rk.createMeasurementStore(),ew=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&em(o,e);var t,n,r=(t=ey(),function(){var e,n=eb(o);return e=t?Reflect.construct(n,arguments,eb(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ed(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eh(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return ev(eh(e=r.call.apply(r,[this].concat(n))),"state",{updatedBoardRecommendations:{}}),ev(eh(e),"getBoardRecommendationsState",function(t){var n,r=e.props.reduxBoards,o=e.state.updatedBoardRecommendations,i=r[t.id];return null!=(n=o[t.id])?n:!!(null==i?void 0:i.allow_homefeed_recommendations)}),ev(eh(e),"handleBoardToggle",function(t){var n=t.category,r=t.collaborator_invites_enabled,o=t.collaborator_requests_enabled,i=t.description,a=t.id,l=t.name,s=t.privacy,c=e.props.updateBoard,u=!e.getBoardRecommendationsState(t),d={category:n,collaborator_invites_enabled:r,collaborator_requests_enabled:o,description:null!=i?i:"",name:l,privacy:s,allow_homefeed_recommendations:u};c(a,d),e.setState(function(e){return{updatedBoardRecommendations:ep(ep({},e.updatedBoardRecommendations),{},ev({},a,u))}});var f=d.allow_homefeed_recommendations?106:107;e.props.logContextEvent({event_type:f,view_type:255,view_parameter:3291,object_id_str:t.id,element:11351})}),ev(eh(e),"renderHeader",function(){return(0,f.jsx)(s.xu,{alignItems:"center","data-test-id":"homefeed-control-message-text",display:"flex",marginBottom:3,width:488,children:(0,f.jsx)(s.xv,{color:"subtle",size:"300",children:e.props.i18n._('Switch off a board to stop seeing ideas related to it. Don\'t worry, this won\'t affect your board.', 'HomefeedControl.Board.headingMessage', 'Heading message for board tab in homefeed')})})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.boards,r=t.enabledDSALaunch,o=t.isDSAOptedOut;return(0,f.jsxs)(s.xu,{"data-test-id":"boards_table",width:tu,children:[this.renderHeader(),r&&o&&(0,f.jsx)(A,{}),(0,f.jsx)(s.Rk,{columnWidth:tu,gutterWidth:0,items:n.data||[],loadItems:n.fetchMore,measurementStore:eg,minCols:1,renderItem:function(t){var n=t.data;return(0,f.jsx)(es,{board:n,enabledDSALaunch:r,isDSAOptedOut:o,isEnabled:e.getBoardRecommendationsState(n),onToggle:function(){return e.handleBoardToggle(n)}},n.id)},scrollContainer:function(){return window}})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e_(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent);function ex(e){var t=(0,S.u)().logContextEvent,n=(0,d.ZP)(),r=(0,eu.dL)(),o=(0,m.I0)();return(0,f.jsx)(ew,ep(ep({},e),{},{i18n:n,logContextEvent:t,reduxBoards:r,updateBoard:function(e,t){return o((0,ec.V)(e,t))}}))}var ej=n(140725),eP=n(686319),eS=n(475498),eO=n(954729),eA=n(87853);function eT(e){return(eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eC(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=eT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eT(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eT(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ez=function(e){var t,n,r,o=e.hideHeader,i=(0,d.ZP)(),a=(0,eA.dI)().showOneToast,c=(0,S.u)().logContextEvent;(0,ej.Q)({view_type:255,view_parameter:4164});var u=(0,eO.Z)({noCache:!0,url:"/v3/users/settings/gen_ai/",method:"GET",params:null}),p=u.data,m=u.isFetching,h=u.isLoaded,y=u.refresh,v=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eE(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eE(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=v[0],g=v[1];(0,l.useEffect)(function(){p&&g(p.map(function(e){var t,n,r;return{interestId:null!=(t=e.interest_id)?t:0,text:null!=(n=e.text)?n:"",optOut:null!=(r=e.opt_out)&&r}}))},[p]);var w=function(e,t){g(function(n){return n.map(function(n){return n.interestId===e?ek(ek({},n),{},{optOut:t}):n})})},x=(n=regeneratorRuntime.mark(function e(t,n){var r,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(t,!n),c({event_type:n?106:107,view_type:255,view_parameter:4164,element:18120,aux_data:{interest_id:t.toString()}}),o=(r=_.find(function(e){return e.interestId===t}))?r.text:"",e.prev=4,l=n?{gen_ai_topics_opt_in:[t.toString()],gen_ai_topics_update_source:"hf_tuner"}:{gen_ai_topics_opt_out:[t.toString()],gen_ai_topics_update_source:"hf_tuner"},e.next=8,(0,eP.Z)({url:"/v3/users/settings/",method:"POST",data:l});case 8:a(function(e){var t=e.hideToast;return(0,f.jsx)(eS.Z,{duration:5e3,onHide:t,text:n?(0,b.nk)(i._('Turned on! You\u2019ll start seeing more GenAI ideas for {{topicName}} soon.', 'HomefeedControl.GenAi.topicAdded', 'Success message when a topic is added to Gen AI recommendations, topicName: name of the topic like beauty, home decor, fashion, etc.'),{topicName:o}).join(""):(0,b.nk)(i._('Turned off! You\u2019ll start seeing fewer GenAI ideas for {{topicName}} soon.', 'HomefeedControl.GenAi.topicRemoved', 'Success message when a topic is removed from Gen AI recommendations, topicName: name of the topic like beauty, home decor, fashion, etc.'),{topicName:o}).join(""),type:"success"})}),y(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),w(t,n),a(function(e){var t=e.hideToast;return(0,f.jsx)(eS.Z,{duration:5e3,onHide:t,text:(0,b.nk)(i._('Failed to update {{topicName}} preference', 'HomefeedControl.GenAi.updateFailed', 'Error message when updating topic preference fails, topicName: name of the topic like beauty, home decor, fashion, etc.'),{topicName:o}).join(""),type:"error"})});case 16:case"end":return e.stop()}},e,null,[[4,12]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){eC(i,r,o,a,l,"next",e)}function l(e){eC(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)});return m&&!p?(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:8,children:(0,f.jsx)(s.xH,{accessibilityLabel:i._('Loading GenAI interests...', 'HomefeedControl.GenAi.loading', 'Loading message for GenAI interests'),show:!0})}):h&&(!_||0===_.length)?(0,f.jsx)(s.xu,{children:(0,f.jsx)(s.xv,{color:"error",size:"300",children:i._('No GenAI interests available', 'HomefeedControl.GenAi.noTopics', 'Message when no GenAI interests are available')})}):(0,f.jsxs)(s.xu,{children:[!o&&(0,f.jsx)(s.xu,{maxWidth:300,children:(0,f.jsx)(s.xv,{color:"subtle",size:"300",children:i._('Choose GenAI interests you\u2019d like to see in your recommended Pins.', 'HomefeedControl.GenAi.headingMessage', 'Heading message for GenAI interests tab in homefeed control')})}),(0,f.jsx)(s.xu,{marginTop:4,children:_.map(function(e){var t=e.interestId,n=e.text,r=e.optOut,o=void 0!==r&&r;return(0,f.jsx)(s.xu,{marginBottom:5,children:(0,f.jsxs)(s.kC,{alignItems:"center",gap:3,justifyContent:"between",children:[(0,f.jsx)(s.xv,{size:"300",weight:"bold",children:void 0===n?"":n}),(0,f.jsx)(s.rs,{id:"topic-".concat(t),onChange:function(){return x(t,o)},switched:!o})]})},t)})})]})},eF=n(358823);function eD(e){for(var t=e.emptyState,n=e.handleFollowingCountChange,r=e.suppressToasts,o=e.usersResource,i=e.truncateName,a=void 0!==i&&i,l=(0,d.ZP)(),c=o.data,u=o.fetchMore,p=o.isFetching,m=o.isAtEnd,h=o.isLoaded,y=[],b=0;b<12;b+=1)y.push((0,f.jsx)(s.xu,{width:260},b));return(0,f.jsxs)(s.xu,{"data-test-id":"profile-users-feed",children:[(0,f.jsxs)(s.xu,{children:[(0,f.jsx)(s.gr,{fetchMore:u,isAtEnd:m,isFetching:p}),h&&c&&0===c.length&&t?t:(0,f.jsxs)(s.kC,{alignItems:"center",direction:"row",gap:4,justifyContent:"between",wrap:!0,children:[c&&c.map(function(e){return(0,f.jsx)(eF.Z,{data:e,handleFollowingCountChange:n,invertButtonColor:!1,suppressToasts:r,truncateName:a,viewParameter:50,viewType:4},e.id)}),y.length>0&&y.map(function(e){return e})]})]}),(0,f.jsx)(s.xu,{marginBottom:1,children:(0,f.jsx)(s.xH,{accessibilityLabel:l._('Loading additional users', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:p||!h})})]})}function eR(e){return(eR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=eH(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eH(e){var t=function(e,t){if("object"!=eR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eR(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eR(t)?t:t+""}function eB(e,t){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eN=function(){return!!e})()}function eM(e){return(eM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eU=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eB(o,e);var t,n,r=(t=eN(),function(){var e,n=eM(o);return e=t?Reflect.construct(n,arguments,eM(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eR(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this.props.users;return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(s.xu,{marginBottom:3,children:(0,f.jsx)(s.xv,{align:"start",color:"subtle",size:"300",children:this.props.i18n._('Unfollow a person or brand to stop seeing their published Pins. They won\u2019t be notified.', 'HomefeedControl.following.headingMessage', 'Heading message for following tab on Home Feed Tuner')})}),e.data&&e.data.length>0&&(0,f.jsx)(eD,{suppressToasts:!0,truncateName:!0,usersResource:e})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eH(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent),eG=function(e){var t=(0,d.ZP)();return(0,f.jsx)(eU,eZ(eZ({},e),{},{i18n:t}))},eW=n(236214),eV=n(645520),eY=n(195252);function eK(e){return(eK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=e$(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e$(e){var t=function(e,t){if("object"!=eK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eK(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eK(t)?t:t+""}function eJ(e,t){return(eJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eQ=function(){return!!e})()}function e0(e){return(e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e1=s.Rk.createMeasurementStore(),e2=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eJ(o,e);var t,n,r=(t=eQ(),function(){var e,n=e0(o);return e=t?Reflect.construct(n,arguments,e0(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eK(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.topics,r=t.i18n;return(0,f.jsxs)(s.xu,{children:[(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,f.jsx)(s.xv,{color:"subtle",size:"300",children:r._('Add interests to start seeing related ideas. Remove interests to hide related ideas you\u2019re no longer interested in.', 'HomefeedControl.Interests.headingMessage', 'Heading message for Interests tab in homefeed')})}),(0,f.jsx)(s.xu,{marginTop:7,children:(0,f.jsx)(s.Rk,{columnWidth:176,gutterWidth:16,items:n.data||[],loadItems:n.fetchMore,measurementStore:e1,minCols:4,renderItem:function(t){var n=t.data,r=n.id,o=void 0===r?"":r,i=n.images,a=n.name,l=n.background_color,c=n.is_followed,u=void 0!==c&&c,d=n.url_name,p=(0,eY.Z)(void 0===d?"":d).urlName,m=e.props.i18n,h=m._('Remove', 'homefeedControl.topics.remove', 'Button label when to remove an interest when user is currently following the topic'),y=m._('Add', 'homefeedControl.topics.add', 'Button label when to add an interest when user is not currently following the topic'),b=function(t){e.props.logContextEvent({event_type:t?106:107,view_type:255,view_parameter:3293,object_id_str:n.id,element:11353})};return(0,f.jsx)(s.xu,{height:248,marginBottom:2,children:(0,f.jsx)(eV.Z,{backgroundColor:void 0===l?"":l,followedByMe:u,followingButton:(0,f.jsx)(eW.Z,{isFollowed:u,isFollowedText:h,isNotFollowedText:y,onFollow:function(){return b(!0)},onUnFollow:function(){return b(!1)},primaryAction:!0,size:"lg",topicId:o}),height:176,id:o,image:(void 0===i?{}:i)["400x"],name:void 0===a?"":a,url:p,width:176})},o)},scrollContainer:function(){return window},virtualize:!0})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e$(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent),e3=function(e){var t=(0,S.u)().logContextEvent,n=(0,d.ZP)();return(0,f.jsx)(e2,eX(eX({},e),{},{i18n:n,logContextEvent:t}))},e5=n(675973),e8=n(15667),e6=n(886981),e4=n(230543),e7=n(869664);function e9(e){return(e9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach(function(t){ts(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tc(r.key),r)}}function to(e,t){return(to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ti(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ta=function(){return!!e})()}function tl(e){return(tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ts(e,t,n){return(t=tc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tc(e){var t=function(e,t){if("object"!=e9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e9(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e9(t)?t:t+""}var tu=740,td="/edit/history",tf=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&to(i,e);var t,n,r,o=(t=ta(),function(){var e,n=tl(i);return e=t?Reflect.construct(n,arguments,tl(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==e9(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ti(e)}(this,e)});function i(e){if(!(this instanceof i))throw TypeError("Cannot call a class as a function");ts(ti(t=o.call(this,e)),"handleTabChange",function(e){var n,r,o,i=e.activeTabIndex,a=t.props,l=a.navigate,s=a.enabledGenAiTopics;2===i?(n="/edit/boards",r=3291,o=11348):0===i?(n=td,r=3290,o=11349):1===i?(n="/edit/topics",r=3293,o=11350):3===i?(n="/edit/profiles",r=3555,o=12271):4===i&&s&&(n="/edit/gen-ai-interests",r=4164,o=18125),t.props.logContextEvent({event_type:101,view_type:255,view_parameter:r,element:o}),t.setState({activeTabIndex:i,viewParameter:r||3555}),n&&l(n)}),ts(ti(t),"renderMenu",function(){var e=t.props,n=e.i18n,r=e.enabledGenAiTopics,o=t.state.activeTabIndex,i=[{text:n._('Activity', 'homefeedControl.tabs.activity', 'Menu item for controlling recent pin activity options'),href:"#"},{text:n._('Interests', 'homefeedControl.tabs.interests', 'Menu item for controlling followed interests'),href:"#"},{text:n._('Boards', 'homefeedControl.tabs.boards', 'Menu item for controlling board options'),href:"#"},{text:n._('Following', 'homefeedControl.tabs.following', 'Menu item for controlling following options'),href:"#"}];return r&&i.push({text:n._('GenAI interests', 'homefeedControl.tabs.gen_ai_topics', 'Menu item for controlling GenAI interests options'),href:"#"}),(0,f.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",children:(0,f.jsx)(s.mQ,{activeTabIndex:o,onChange:function(e){var n=e.activeTabIndex,r=e.dangerouslyDisableOnNavigation;e.event.preventDefault(),r(),t.handleTabChange({activeTabIndex:n})},tabs:i})})}),ts(ti(t),"renderData",function(){var e=t.props,n=e.boards,r=e.pins,o=e.topics,i=e.users,a=e.enabledDSALaunch,l=e.isDSAOptedOut,s=e.activityTypeFilter,c=e.selectedActivityFilter,u=e.enabledGenAiTopics;switch(t.state.activeTabIndex){case 2:return(0,f.jsx)(ex,{boards:n,enabledDSALaunch:a,isDSAOptedOut:l});case 0:return(0,f.jsx)(er,{activityTypeFilter:s,enabledDSALaunch:a,isDSAOptedOut:l,pins:r,selectedActivityFilter:c});case 1:return(0,f.jsx)(e3,{topics:o});case 3:return(0,f.jsx)(eG,{users:i});case 4:return u?(0,f.jsx)(ez,{}):null;default:return null}}),ts(ti(t),"renderEmptyState",function(){var e,n=t.props.i18n,r=t.state.activeTabIndex;return 2===r?e=n._('It looks like you don\u2019t have any boards yet. As you save Pins onto boards, your home feed will get better and better.', 'Empty state caption when user does not have any boards', 'Empty state caption when user does not have any boards'):0===r?e=n._('You haven\u2019t visited any Pins yet. When you explore Pins, they\u2019ll show up here.', 'homefeedControl.empty.activity', 'Empty state caption when user does not have recent activity'):1===r?e=n._('You haven\u2019t added any topics to your home feed', 'homefeedControl.empty.topics', 'Empty state caption when user is not following any topics'):3===r&&(e=n._('It looks like you aren\u2019t following any Pinners.', 'homefeedControl.empty.profiles', 'Empty state caption when user is not following any Pinners')),(0,f.jsx)(s.xu,{display:"flex",height:"100%",justifyContent:"center",padding:8,width:"100%",children:(0,f.jsx)(s.xu,{width:540,children:(0,f.jsx)(s.xv,{align:"center",overflow:"normal",children:e})})})}),ts(ti(t),"renderBody",function(){var e=t.props,n=e.topics,r=e.pins,o=e.boards,i=e.users,a=t.state.activeTabIndex,l=o;return(0===a?l=r:1===a?l=n:3===a&&(l=i),l.isLoaded)?(0,f.jsxs)(s.xu,{children:[t.renderData(),l.data&&0===l.data.length&&t.renderEmptyState()]}):(0,f.jsx)(s.xH,{accessibilityLabel:"",show:!l.isLoaded})});var t,n=t.props,r=n.page,a=n.enabledGenAiTopics,l=0;return"boards"===r?l=2:"topics"===r?l=1:"profiles"===r?l=3:"gen-ai-interests"===r&&a&&(l=4),t.state={activeTabIndex:l,viewParameter:3290},t}return n=[{key:"render",value:function(){var e=this,t=this.props.i18n,n=(0,b.XB)({text:t._('Make your Pinterest more <em id="1">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details won\u2019t be shown publicly.', 'homefeedControl.instructions', 'instructions message on turning off recommendations from activity, interests, boards and following'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,f.jsx)(s.xv,{inline:!0,italic:!0,children:t})}}});return(0,f.jsx)(e7.default,{activeItem:"HomeFeedTuner",settingsHeaderDescription:n,viewParameter:this.state.viewParameter,viewType:255,children:(0,f.jsx)(e4.c,{children:function(t){return(0,f.jsx)(s.kC,{alignItems:"stretch",height:"100%",justifyContent:"center",width:"100%",children:(0,f.jsxs)(s.xu,{alignItems:"start",direction:"column",display:"flex",minHeight:"calc(100vh - ".concat(t,"px)"),paddingY:4,width:"100%",children:[(0,f.jsx)(s.xu,{"data-test-id":"settings-menu-items",flex:"none",width:tu,children:e.renderMenu()}),(0,f.jsx)(s.xu,{flex:"grow",paddingY:1,width:"100%",children:e.renderBody()})]})})}})})}}],r=[{key:"getDerivedStateFromProps",value:function(e){var t=e.page,n=e.boards,r=e.navigate;return!t&&n.isLoaded&&n.data&&0===n.data.length&&r(td),null}}],n&&tr(i.prototype,n),r&&tr(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent);function tp(e){var t,n,i=(0,S.u)().logContextEvent,a=(0,d.ZP)(),s=(0,o.Z)(),p=(0,r.s0)(),m=(0,e8.B)(),h=[{value:"all",label:a._('All', 'HomefeedControlActivity.Filter.All', 'Option to show all pins with recent activity')},{value:c,label:a._('Saved', 'HomefeedControlActivity.Filter.Saved', 'Option to show saved pins from recent activity')},{value:u,label:a._('Viewed', 'HomefeedControlActivity.Filter.Viewed', 'Option to show viewed pins from recent activity')}],y=(ts(n={},"all",13578),ts(n,c,13579),ts(n,u,13580),n),b=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(h[0]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tn(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=b[0],_=b[1],g=(0,e6.Z)({name:"UserRecentActivityResource",options:{filter_type:v.value}}),w=(0,e6.Z)({name:"UserFollowingResource",options:{username:s.isAuth?s.username:"",exclude_not_explictly_followed:!0},enabledRouteRefresh:!0}),x=(0,e6.Z)({name:"BoardsResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item",page_size:25}}),j=(0,e6.Z)({name:"InterestFollowingResource",options:{username:s.isAuth?s.username:"",page_size:30}}),P=(0,e5.Z)().checkExperiment,O=P("uup_dsa_launch_web").anyEnabled,A=P("web_homefeed_tuner_gen_ai").anyEnabled,T=(0,e6.Z)({name:"UserSettingsResource"}).data;return(0,f.jsx)(tf,tt(tt({},e),{},{activityTypeFilter:(0,f.jsx)(ei,{activityFilter:v,activityTypeOptions:h,setActivityFilter:function(e){_(e),i({event_type:101,element:y[e.value],view_type:255})}}),boards:x,enabledDSALaunch:O,enabledGenAiTopics:A,i18n:a,isDSAOptedOut:null==T?void 0:T.dsa_opted_out,logContextEvent:i,navigate:p,pins:g,requestContext:m,selectedActivityFilter:v.value,topics:j,users:w}))}ts(tf,"defaultProps",{enabledDSALaunch:!1,enabledGenAiTopics:!1});var tm=n(355940),th=n(821806);function ty(){var e,t=(0,a.UO)().page,n=(0,(0,e5.Z)().checkExperiment)("web_homefeed_tuner_gen_ai").anyEnabled;return"boards"===t?e=3291:"history"===t?e=3290:"topics"===t?e=3293:"quiz"===t?e=3358:"gen-ai-interests"===t&&n&&(e=4164),(0,ej.Q)({view_type:255,view_parameter:e}),(0,f.jsx)(tm.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControl",children:(0,f.jsx)(th.Z,{children:(0,f.jsx)(tp,{page:t})})})}var tb=n(982166),tv=n(588367),t_=n(914061),tg=n(521009);function tw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tx=function(e){var t,n=e.boardId,r=e.enabledDSALaunch,o=e.isDSAOptedOut,i=(0,tg.Z)(),a=(0,m.I0)(),c=(0,d.ZP)(),u=(0,y.Z)(),p=(0,eu.gC)()(null!=n?n:""),h=p||{},v=h.id,_=h.name,g=h.allow_homefeed_recommendations,w=h.image_cover_url,x=h.privacy,j=h.section_count,P=h.collaborating_users,S=h.board_order_modified_at,O=h.pin_count,A=S&&u(S,!0),T=x===ea.ZP.BoardPrivacy.SECRET,C=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(!g))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tw(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tw(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=C[0],k=C[1];if(!p)return null;var E=function(){var e=!I;a((0,ec.V)(v,{allow_homefeed_recommendations:!e})),i({event_type:e?106:107,view_type:255,view_parameter:3291,object_id_str:v,element:11351}),k(e)};return(0,f.jsx)(s.xu,{width:"100%",children:(0,f.jsx)(s.iP,{disabled:r&&o,onTap:E,children:(0,f.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",padding:2,children:[(0,f.jsxs)(s.kC,{alignItems:"center",dataTestId:"board-data-container",direction:"row",flex:"shrink",justifyContent:"start",children:[(0,f.jsx)(s.xu,{flex:"none",children:(0,f.jsxs)(s.zd,{height:60,rounding:4,width:60,children:[w?(0,f.jsx)(s.Ee,{alt:(0,b.nk)(c._('{{ boardName }} cover image', 'HomefeedControlBoardItem.coverImageAlt', 'Board cover image alt for homefeed control boards section. boardName: name of board'),{boardName:null!=_?_:""}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:w}):(0,f.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"}),T&&(0,f.jsx)(s.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,f.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,f.jsx)(el.Z,{})})})]})}),(0,f.jsxs)(s.xu,{"data-test-id":"board-info",opacity:r&&o?.7:1,paddingX:2,children:[(0,f.jsx)(s.__,{htmlFor:v,children:(0,f.jsx)(s.X6,{accessibilityLevel:2,lineClamp:2,overflow:"breakAll",size:"400",children:_})}),(0,f.jsxs)(s.kC,{gap:2,children:[(0,f.jsxs)(s.xv,{inline:!0,size:"100",children:[(0,b.nk)(c.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != O ? O : 0, 'HomefeedControlBoardItem.pinCount', 'pinCount: Number of Pins on board or section'),{pinCount:O})," ",(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)("span",{children:" • "}),(0,b.nk)(c.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', null != j ? j : 0, 'HomefeedControlBoardItem.boardDetails.sectionCount', 'sectionCount: Number of sections on the board'),{sectionCount:j})," "]})]}),(0,f.jsx)(s.xv,{color:"subtle",inline:!0,size:"100",children:A})]})]})]}),(0,f.jsxs)(s.kC,{dataTestId:"switch-container",gap:3,children:[P&&(0,f.jsx)(s.HE,{accessibilityLabel:c._('Collaborative board', 'HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard', 'Accessibility label for avatar group indicating a collaborative board'),collaborators:P.map(function(e){var t,n,r;return{name:null!=(t=e.full_name)?t:"",src:null!=(n=e.image_medium_url)?n:"",color:null!=(r=null==e?void 0:e.avatar_color_index)?r:void 0}}),size:"xs"}),(0,f.jsx)(s.rs,{disabled:r&&o,id:v,onChange:E,switched:!(r&&o)&&!I})]})]})})})},tj=n(744862),tP=n(709311),tS=n(549446),tO=function(e){var t=e.userId,n=e.viewType,r=e.viewParameter,o=(0,d.ZP)(),i=(0,m.v9)(function(e){return e.users[t]}),a=i.follower_count,l=void 0===a?0:a,c=i.full_name,u=i.image_medium_url,p=i.username,h=i.avatar_color_index;return(0,f.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,f.jsx)(s.Tg,{href:"/".concat(p),children:(0,f.jsxs)(s.kC,{alignItems:"center",gap:2,children:[(0,f.jsx)(tj.qE,{color:h,name:c||"",size:"md",src:u||""}),(0,f.jsxs)(s.kC,{alignContent:"center",direction:"column",justifyContent:"center",children:[(0,f.jsx)(s.xv,{lineClamp:1,overflow:"breakAll",size:"400",weight:"bold",children:c}),(0,f.jsx)(s.xv,{size:"100",children:(0,b.nk)(o.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', l, 'settings.homefeedTuner.profiles.followersCount', 'follower count on usercard followerCount: number of followers'),{followerCount:(0,f.jsx)(tP.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:l},l)})})]})]})}),(0,f.jsx)(tS.Z,{isSecondaryButton:!0,size:"md",user:i,viewParameter:r,viewType:n})]})},tA=function(e){var t=e.altText,n=e.imageUrl,i=e.imageHeight,a=e.imageWidth,l=e.disabledText,c=e.onChange,u=e.isDisabled,p=e.isDisabledByDSA,m=e.pinId,h=(0,d.ZP)(),y=(0,o.Z)().isAuth,b=!i||!a,v=t?t.trim():"",_=(0,r.s0)();return(0,f.jsxs)(s.xu,{"data-test-id":v?"homefeed-control-card":"homefeed-control-card-missing-alt-text",direction:"column",display:"flex",marginBottom:4,padding:1,position:"relative",children:[(0,f.jsx)(s.iP,{accessibilityLabel:v,mouseCursor:y?void 0:"zoomIn",onTap:function(){return _("/pin/".concat(m))},tapStyle:"none",children:(0,f.jsx)(s.xu,{height:b?100:"auto",overflow:"hidden",position:"relative",rounding:4,children:(0,f.jsx)(s.Ee,{alt:v,fit:b?"cover":"none",naturalHeight:i||1,naturalWidth:a||1,src:n,children:u&&(0,f.jsx)(s.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",padding:4,children:(0,f.jsx)(s.xv,{align:"center",color:"light",size:"200",children:l})})})})}),(0,f.jsx)(s.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new s.Ry(1e3),children:(0,f.jsx)(s.xu,{alignItems:"end",direction:"column",display:"flex",justifyContent:"end",padding:2,children:(0,f.jsx)(s.XZ,{checked:!u,disabled:p,helperText:"",id:"checkbox-".concat(m),label:"".concat(h._('Checkbox for enabling or disabling ', 'HomefeedControlCard.Checkbox.Recommendations', 'Accesibility label for enabling or disabling a pin recomendations')," ").concat(v),labelDisplay:"hidden",onChange:c})})})]})},tT=n(405463),tC=n(599625);function tI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tk=function(e){var t,n,r=e.pinId,o=e.enabledDSALaunch,i=(0,d.ZP)(),a=(0,tg.Z)(),s=(0,I.S6)()(r),c=(0,tT.K)(),u=c.getPinFeedbackStatus,p=c.setPinFeedbackStatus,m=u({pinId:r}),h=null==s?void 0:s.is_blocked,y=o&&(null==s?void 0:s.is_disabled_by_dsa)||!1,b=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)((void 0===m?h:"hidden"===m)||y))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tI(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tI(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=b[0],_=b[1];if(!s)return null;var g=s.is_promoted,w=s.is_downstream_promotion,x=s.images,j=s.image_signature,P=null==x?void 0:x["170x"];return(0,f.jsx)(tA,{altText:s.alt_text||s.title||s.description||"",disabledText:i._('Recommendations are turned off for this Pin', ' - ', ' -- '),imageHeight:null==P?void 0:P.height,imageUrl:null!=(n=null==P?void 0:P.url)?n:"",imageWidth:null==P?void 0:P.width,isDisabled:v||y,isDisabledByDSA:y,onChange:function(){(0,tC.Z)({resourceOptions:{pin_id:r,complaint_reason:0,feedback_type:4,promoted:g&&!w,recommendation_reason_id:4,through_id:r,undo:v},updatePinFeedbackStatus:function(e){return p({pinId:r,pinFeedbackStatus:e})}}),v&&p({pinId:r,pinFeedbackStatus:""}),a({event_type:v?107:106,view_type:255,view_parameter:3290,object_id_str:r,element:11352,aux_data:{pin_id:r,image_signature:j}}),_(!v)},pinId:r})},tE=n(112864),tz=n(425140),tF=n(676049);function tD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tR(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tR(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tL=function(e){return(0,f.jsx)(s.xu,{paddingX:4,paddingY:4,children:(0,f.jsx)(s.X6,{align:"center",color:"subtle",size:"400",children:e})})},tZ=function(){var e=(0,d.ZP)(),t=(0,r.s0)(),n=(0,S.u)().logContextEvent;return(0,f.jsx)(s.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,f.jsx)(s.XA,{message:(0,f.jsx)(s.xv,{children:(0,f.jsxs)(s.xu,{children:[(0,f.jsx)(s.xv,{children:e._('Add more personalization', 'HomefeedControlPage.Activity.upsellTitle', 'Message for activity recomendations upsell tab in homefeed')}),(0,f.jsx)(s.xu,{children:(0,f.jsx)(s.xv,{underline:!1,weight:"bold",children:(0,b.nk)(e._('Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}', 'HomefeedControl.Activity.upsellMessage', 'Message for activity recomendations upsell tab in homefeed, learnMore: link to learn more'),{learnMore:(0,f.jsx)(s.rU,{accessibilityLabel:"Learn more",display:"inline",href:O.fPu,target:"blank",underline:"none",children:e._('Learn more', 'HomefeedControl.Activity.searchPrivacyLink', 'Link to privacy and data settings')})})})})]})}),primaryAction:{accessibilityLabel:"Update settings",label:e._('Update setting', 'HomefeedControlPage.Activity.updateSettingButton', 'Text on go to settings button'),onClick:function(){n({event_type:101,element:13581,view_type:255}),t(O.Gxc)}},title:""})})},tH=function(e){var t=e.enabledDSALaunch,n=e.isDSAOptedOut,r=(0,d.ZP)(),o=(0,e6.Z)({name:"BoardsFeedResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item"},noCache:t}),i=o.data,a=o.fetchMore,s=o.isAtEnd,c=o.isFetching;return(0,f.jsxs)(l.Fragment,{children:[t&&n&&(0,f.jsx)(tZ,{}),(0,f.jsx)(tz.Z,{emptyState:tL(r._('You don\'t have any boards yet', 'settings.homefeedTuner.boardEmptyState', 'Empty state message when user has no boards')),feedItems:null!=i?i:[],feedKey:"profile-boards:me",maxColumns:1,minColumns:1,pagination:{loadNext:a||function(){},hasNext:!s,isLoadingNext:c||!1,refetch:function(){}},renderFeedItem:function(e){return(0,f.jsx)(tx,{boardId:e.id,enabledDSALaunch:t,isDSAOptedOut:n})}})]})},tB=function(e){var t=e.enabledDSALaunch,n=e.isDSAOptedOut,r=(0,d.ZP)(),o=(0,S.u)().logContextEvent,i=(0,l.useRef)(null),a=tD((0,l.useState)(!1),2),c=a[0],u=a[1],p=[{value:"all",label:r._('All', 'HomefeedControlActivity.Filter.All', 'Option to show all pins with recent activity')},{value:"saved",label:r._('Saved', 'HomefeedControlActivity.Filter.Saved', 'Option to show saved pins from recent activity')},{value:"viewed",label:r._('Viewed', 'HomefeedControlActivity.Filter.Viewed', 'Option to show viewed pins from recent activity')}],m=tD((0,l.useState)(p[0]),2),h=m[0],y=m[1],b=function(e,t){o({event_type:101,element:t,view_type:255}),y(e),u(!1)},v=(0,e6.Z)({name:"UserRecentActivityResource",options:{username:"me",filter_type:h.value},noCache:t}),_=v.data,g=v.fetchMore,w=v.isAtEnd,x=v.isFetching;return(0,f.jsxs)(l.Fragment,{children:[t&&(0,f.jsxs)(s.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,width:"100%",children:[(0,f.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(s.xu,{tabIndex:0,children:(0,f.jsx)(s.X6,{accessibilityLevel:2,size:"400",children:function(){switch(h.value){case p[1].value:return r._('Saved Pins', 'HomefeedControl.Activity.savedPinsHeader', 'Caption for pins that were saved. timesince: Time when save activity was performed');case p[2].value:return r._('Viewed Pins', 'HomefeedControl.Activity.viewedPinsHeader', 'Caption for pins that were viewed. timesince: Time when view activity was performed');default:return r._('Viewed and saved Pins', 'HomefeedControl.Activity.savedAndViewedPinsHeader', 'Caption for pins that were saved or viewed. timesince: Time when activity was performed')}}()})})}),(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"end",padding:2,children:(0,f.jsx)(s.hU,{ref:i,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:c,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:function(){return u(function(e){return!e})},selected:c,size:"xl"})})]}),t&&n&&h.value!==p[1].value&&(0,f.jsx)(tZ,{}),(0,f.jsx)(tz.Z,{emptyState:tL(r._('You haven\u2019t been on Pinterest in a while, so you don\u2019t have any recommendations based on your history', 'settings.homefeedTuner.historyEmptyState', 'Empty state message when user has not repinned any Pins')),feedItems:null!=_?_:[],feedKey:"user-recent-activity:".concat(h.value),pagination:{loadNext:g,hasNext:w,isLoadingNext:x,refetch:function(){}},renderFeedItem:function(e){return(0,f.jsx)(tk,{enabledDSALaunch:t,pinId:e.id})}}),(0,f.jsxs)(tb.ZP,{accessibilityModalLabel:"",heading:r._('Filter by', 'settings.homefeedTuner.activityType.filterHeading', 'Heading for activity type filter in activity tab'),isOpen:c,mobileAccessibilityCloseIconLabel:r._('Close context modal for activity filter', 'settings.homefeedTuner.activityType.filterCloseIcon', 'Label for the close button on the activity type filter modal'),onDismiss:function(){return u(!1)},type:"contextual_menu",children:[(0,f.jsx)(s.xu,{padding:3,children:(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(s.Lt.Item,{onSelect:function(e){b(e.item,13578)},option:p[0],selected:h},"all_key"),(0,f.jsx)(s.Lt.Item,{onSelect:function(e){b(e.item,13579)},option:p[1],selected:h},"saved_key"),(0,f.jsx)(s.Lt.Item,{onSelect:function(e){b(e.item,13580)},option:p[2],selected:h},"viewed_key")]})}),(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:6,children:(0,f.jsx)(s.zx,{color:"gray",onClick:function(){return u(!1)},size:"lg",text:r._('Close', 'settings.homefeedTuner.activityType.filterCloseButton', 'Close button text')})})]})]})},tN=function(){var e=(0,d.ZP)(),t=(0,e6.Z)({name:"InterestFollowingResource",options:{username:"me"}}),n=t.data,r=t.fetchMore,o=t.isAtEnd,i=t.isFetching;return(0,f.jsx)(tz.Z,{emptyState:tL(e._('You haven\u2019t added any topics to your home feed', 'settings.homefeedTuner.topicsEmptyState', 'Empty state message when user is not following any topics')),feedItems:null!=n?n:[],feedKey:"topic-following:me",pagination:{loadNext:r,hasNext:o,isLoadingNext:i,refetch:function(){}},renderFeedItem:function(e){return(0,f.jsx)(s.xu,{paddingX:1,paddingY:2,children:(0,f.jsx)(tF.Z,{id:e.id,isHomefeedTuner:!0,showFollowButton:!0,viewParameter:3293,viewType:255})})}})},tM=function(){var e=(0,d.ZP)(),t=(0,e6.Z)({name:"UserFollowingResource",options:{username:"me",exclude_not_explictly_followed:!0}}),n=t.data,r=t.fetchMore,o=t.isAtEnd,i=t.isFetching;return(0,f.jsx)(tz.Z,{emptyState:tL(e._('You aren\'t following anyone', 'settings.homefeedTuner.profilesEmptyState', 'Empty state message when user is not following any users')),feedItems:null!=n?n:[],feedKey:"user-following:me",maxColumns:1,minColumns:1,pagination:{loadNext:r,hasNext:o,isLoadingNext:i,refetch:function(){}},renderFeedItem:function(e){return(0,f.jsx)(s.xu,{paddingX:1,paddingY:3,children:(0,f.jsx)(tO,{userId:e.id,viewParameter:3555,viewType:255})})}})},tU=function(e,t,n){var r=11348;0===e?r=11349:2===e?r=11350:3===e&&(r=12271),n({event_type:101,view_type:255,view_parameter:t,element:r})},tG=function(){var e=(0,a.$B)(),t=(0,d.ZP)(),n=(0,S.u)().logContextEvent,r=(0,e5.Z)().checkExperiment,o=r("uup_dsa_launch_mweb").anyEnabled,i=r("web_homefeed_tuner_gen_ai").anyEnabled,c=(0,e6.Z)({name:"UserSettingsResource",noCache:!0}).data,u=e.params.page,p={viewParameter:3290,selectedTabIndex:0,component:(0,f.jsx)(tB,{enabledDSALaunch:o,isDSAOptedOut:null==c?void 0:c.dsa_opted_out}),title:t._('Activity', 'homefeedControlPage.tabs.activity', 'Menu item for controlling recent pin activity options'),description:t._('Hide ideas related to Pins you recently saved or tapped to view close-up.', 'homefeedControlPage.activity.descriptionMessage', 'Description message for activity tab in homefeed tuner')},m={viewParameter:3291,selectedTabIndex:2,component:(0,f.jsx)(tH,{enabledDSALaunch:o,isDSAOptedOut:null==c?void 0:c.dsa_opted_out}),title:t._('Boards', 'homefeedControlPage.tabs.boards', 'Menu item for controlling board options'),description:t._('Switch off a board to stop seeing ideas related to it. Don\'t worry, this won\'t affect your board.', 'homefeedControlPage.boards.descriptionMessage', 'Description message for boards tab in homefeed tuner')},h={activity:p,interests:{viewParameter:3293,selectedTabIndex:1,component:(0,f.jsx)(tN,{}),title:t._('Interests', 'homefeedControlPage.tabs.interests', 'Menu item for controlling followed interests'),description:t._('Hide ideas related to topics you\u2019re no longer interested in.', 'homefeedControlPage.interests.descriptionMessage', 'Description message for interests tab in homefeed tuner')},following:{viewParameter:3555,selectedTabIndex:3,component:(0,f.jsx)(tM,{}),title:t._('Following', 'homefeedControlPage.tabs.following', 'Menu item for controlling following options'),description:t._('Unfollow a person or brand to stop seeing their published Pins. They won\u2019t be notified.', 'homefeedControlPage.following.descriptionMessage', 'Description message for following tab in homefeed tuner')},boards:m};i&&(h["gen-ai-interests"]={viewParameter:4164,selectedTabIndex:4,component:(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(ez,{hideHeader:!0}),(0,f.jsx)(s.xu,{height:40})]}),title:t._('GenAI interests', 'homefeedControlPage.tabs.genAiTopics', 'Menu item for controlling GenAI interests'),description:t._('Choose GenAI interests you\u2019d like to see in your recommended Pins.', 'homefeedControlPage.genAiTopics.descriptionMessage', 'Description message for GenAI interests tab in homefeed tuner')});var y=Array(h.length);for(var v in h){var _=h[v];y[_.selectedTabIndex]={text:_.title,href:"/edit/".concat(v)}}var g=h[u&&u in h?u:Object.keys(h)[0]],w=g.viewParameter,x=g.selectedTabIndex,j=g.component,P=g.description,O=t._('Tune your home feed', 'settings.homefeedTuner.title', 'Title for homefeed control');return(0,ej.Q)({view_type:255,view_parameter:w}),(0,f.jsxs)(t_.default,{hasFixedHeader:!0,children:[(0,f.jsxs)(tv.default,{children:[(0,f.jsx)(tE.default,{heading:O,legoSettingsEnabled:!0,previousUrl:"/settings/",shouldUseFallbackUrl:!0,viewParameter:w,viewType:252}),(0,f.jsx)(s.xu,{marginTop:-2,padding:3,children:(0,f.jsx)(s.xv,{align:"center",children:(0,f.jsx)(l.Fragment,{children:(0,b.XB)({text:t._('Make your Pinterest more <em id="1">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details won\u2019t be shown publicly.', 'homefeedControl.instructions', 'instructions message on turning off recommendations from activity, interests, boards and following'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,f.jsx)(s.xv,{inline:!0,italic:!0,children:t})}}})})})}),(0,f.jsx)(s.xu,{marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,f.jsx)(s.mQ,{activeTabIndex:x,onChange:function(e){return tU(e.activeTabIndex,w,n)},tabs:y})}),P&&(0,f.jsx)(s.xu,{alignItems:"center","data-test-id":"homefeed-tab-description",display:"flex",justifyContent:"center",margin:"auto",marginBottom:3,maxWidth:310,children:(0,f.jsx)(s.xv,{align:"center",color:"subtle",size:"300",children:P})})]}),(0,f.jsx)(tm.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControlPageComponent",children:(0,f.jsx)(th.Z,{children:j})})]})};function tW(){var e=(0,i.HG)();return(0,o.Z)().isAuth?e?(0,f.jsx)(ty,{}):(0,f.jsx)(tG,{}):(0,f.jsx)(r.Fg,{replace:!0,to:"/"})}},195252:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=e.indexOf(":");return -1===t?{language:"EN",urlName:e}:{language:e.substring(0,t),urlName:e.substring(t+1)}}},824535:function(e,t,n){n.d(t,{V:function(){return c},u:function(){return s}});var r=n(575108),o=n(548286);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return function(t){return r.Z.create("BoardResource",{board_id:e}).callGet().then(function(e){var n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,o.yT)(n)),e})}};function c(e,t,n){return function(i,a){var s=a().boards[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},u=l(l(l({allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description},t.name&&{name:t.name}),{},{privacy:t.privacy,sensitivity:t.sensitivity||null},n?{orbac_subject_id:n}:Object.freeze({})),c);return i((0,o.yT)(l(l({},u),{},{id:e}))),r.Z.create("BoardResource",l(l({},u),{},{board_id:e})).callUpdate().then(function(e){var n=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(n.allow_homefeed_recommendations=t.allow_homefeed_recommendations),i((0,o.yT)(n)),e}).catch(function(e){throw s&&i((0,o.yT)(s)),e})}}},206459:function(e,t,n){function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e){return{type:"PIN_SAVE",payload:e}}function a(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function f(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}n.d(t,{Gb:function(){return a},I1:function(){return s},Ib:function(){return u},JU:function(){return f},Ur:function(){return i},Vw:function(){return l},au:function(){return p},i0:function(){return d},mO:function(){return o},q1:function(){return c},yR:function(){return r}})},400741:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(20256),o=n(475498),i=n(19585),a=n(886981),l=n(647709),s=n(382718);function c(e){var t=e.ideaPinImages,n=t.map(function(e,t){var n,o;return(0,s.jsx)(r.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(null==e?void 0:e.url)&&(0,s.jsx)(r.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:null!=(n=null==e?void 0:e.height)?n:1,naturalWidth:null!=(o=null==e?void 0:e.width)?o:1,src:e.url})},t)});return(0,s.jsx)(r.kC,{justifyContent:"center",children:(0,s.jsx)(r.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[t.length],children:n})})}function u(e){var t=e.handleHide,n=e.text,u=e.userId,d=e.href,f=e.imageUrl,p=(0,i.ZP)(),m=(0,l.HG)(),h=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:u}}),y=Array.isArray(n)?n.join(" "):n;if(0===(h.data||[]).length)return(0,s.jsx)(o.Z,{duration:5e3,href:d,onHide:t,text:y,thumbnail:f?{image:(0,s.jsx)(r.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:f})}:void 0});var b=(h.data||[]).slice(0,3).map(function(e){var t;return null==(t=e.images)?void 0:t[m?"236x":"170x"]}),v=(0,s.jsx)(c,{ideaPinImages:b});return(0,s.jsx)(o.Z,{_dangerouslySetThumbnail:v,duration:5e3,href:d,onHide:t,text:y})}},676049:function(e,t,n){n.d(t,{Z:function(){return k}});var r,o,i=n(581722),a=n(492996),l=n(20256),s=n(521009),c=n(15667),u=n(38817),d=n(431015),f=n(19585),p=n(906553),m=n(629749),h=n(382718);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["topicRef"],v=["topic","topicBlob","topicInfoForContextualExp"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var x=function(e){var t=e.backgroundColor,n=e.decreaseNamePadding,r=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=e.locale,s=e.nameTextSize,c=e.renderAsPill,u=e.showFollowerCount,d=e.topicName,y=e.followerCount,b=e.image,v=(0,f.ZP)(),_=(0,p.Z)(),g=(0,h.jsx)(l.JO,{accessibilityLabel:v._('Selected', ' - ', ' -- '),color:"light",icon:o?"check":"check-circle",size:o?12:24});return c?(0,h.jsx)(m.Z,{color:t||"#767676",image:b,isSelected:null!=i&&i,title:d}):(0,h.jsxs)(l.xu,{"aria-selected":i,position:"relative",children:[(0,h.jsx)(l.zd,{rounding:o||r?4:2,children:(0,h.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,h.jsx)(l.xu,{bottom:!0,left:!0,padding:o&&i?1:0,position:"absolute",right:!0,rounding:o&&i?4:0,top:!0,children:b.url&&(0,h.jsx)(l.Ee,{alt:d,color:t||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:b.url})}),(0,h.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:o&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:o?4:void 0,top:!0}),o&&i&&(0,h.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),r?(0,h.jsx)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,h.jsx)(l.xv,{align:"center",color:"light",size:s,weight:"bold",children:d})}):(0,h.jsxs)(l.xu,{bottom:!0,left:!0,padding:n?1:2,position:"absolute",right:!0,children:[(0,h.jsx)(l.xv,{color:"light",size:s,weight:"bold",children:d}),u&&y>=0&&(0,h.jsx)(l.xu,{paddingY:1,children:(0,h.jsxs)(l.xv,{color:"inverse",size:"100",children:[(0,h.jsx)(l.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:_(a,y,{shortform:!0,shortform_maximum_fraction_digits:1})}),v._('followers', ' - ', ' -- ')]})})]}),i&&(0,h.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:o?(0,h.jsx)(l.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:g}):g})]})},j=(void 0!==r||(r=n(530070)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==r.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),P=function(e){var t,n,r,o,i,l,s=e.topicRef,c=w(e,b),u=(0,a.useFragment)(j,s),d=u.images?{url:null!=(t=u.images.url)?t:"",width:null!=(n=u.images.width)?n:0,height:null!=(r=u.images.height)?r:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,h.jsx)(x,g({backgroundColor:null!=(o=u.background_color)?o:"",followerCount:null!=(i=u.follower_count)?i:0,image:d,topicName:null!=(l=u.name)?l:""},c))},S=function(e){var t,n,r,o,i=e.topic,a=e.topicBlob,l=e.topicInfoForContextualExp,s=w(e,v),c=l||i||a,u=(null==c||null==(t=c.images)?void 0:t["236x"])||(null==c||null==(n=c.images)?void 0:n["400x"])||(null==c||null==(r=c.images)?void 0:r["474x"])||(null==c||null==(o=c.images)?void 0:o.orig)||{height:1,url:"",width:1},d=c&&"follower_count"in c&&void 0!==c.follower_count?c.follower_count:-1;return(0,h.jsx)(x,g({backgroundColor:(null==c?void 0:c.background_color)||"",followerCount:d,image:u,topicName:(null==c?void 0:c.name)||""},s))},O=["decreaseNamePadding","isHomefeedTuner","isLego","isSelected","nameTextSize","onTouch","padding","renderAsPill","showFollowButton","showFollowerCount","shouldClickthrough","viewParameter","viewType"],A=function(e){var t=e.decreaseNamePadding,n=void 0!==t&&t,r=e.isHomefeedTuner,o=e.isLego,a=e.isSelected,f=void 0!==a&&a,p=e.nameTextSize,m=void 0===p?"lg":p,y=e.onTouch,b=e.padding,v=e.renderAsPill,_=e.showFollowButton,g=e.showFollowerCount,w=void 0!==g&&g,x=e.shouldClickthrough,j=e.topic,O=e.viewParameter,A=e.viewType,T=(0,i.I0)(),C=(0,s.Z)(),I=(0,c.B)().locale,k=(0,h.jsxs)(l.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==j.type?(0,h.jsx)(S,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:f,locale:I,nameTextSize:m,renderAsPill:v,showFollowerCount:w,topic:j.topic,topicBlob:j.topicBlob,topicInfoForContextualExp:j.topicInfoForContextualExp}):(0,h.jsx)(P,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:f,locale:I,nameTextSize:m,renderAsPill:v,showFollowerCount:w,topicRef:j.topicRef}),!!j&&void 0!==_&&_&&(0,h.jsx)(l.xu,{paddingY:2,children:(0,h.jsx)(u.Z,{followEventType:601,id:j.id,inline:r,invertColors:r,isFollowed:j.is_followed,onFollow:function(e){return T((0,d.ZN)(e,C))},onUnfollow:function(e){return T((0,d.fv)(e,C))},pinKey:null,size:"md",textType:r?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:O||void 0,viewType:A||void 0})})]}),E="/";return j&&(E="/topics/".concat(j.id)),void 0!==x&&x&&j.slug?(0,h.jsx)(l.Tg,{href:E,onTap:function(e){var t=e.event;null==y||y(t)},rounding:2,tapStyle:"compress",children:(0,h.jsx)(l.xu,{padding:void 0===b?2:b,children:k})}):k},T=(void 0!==o||(o=n(205529)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==o.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),C=function(e){var t,n,r=e.topicRef,o=e.decreaseNamePadding,i=e.isHomefeedTuner,l=e.isLego,s=e.isSelected,c=e.nameTextSize,u=e.onTouch,d=e.padding,f=e.renderAsPill,p=e.showFollowButton,m=e.showFollowerCount,y=e.shouldClickthrough,b=e.viewParameter,v=e.viewType,_=(0,a.useFragment)(T,r);return(0,h.jsx)(A,{decreaseNamePadding:void 0!==o&&o,isHomefeedTuner:i,isLego:l,isSelected:void 0!==s&&s,nameTextSize:void 0===c?"lg":c,onTouch:u,padding:void 0===d?2:d,renderAsPill:f,shouldClickthrough:void 0!==y&&y,showFollowButton:void 0!==p&&p,showFollowerCount:void 0!==m&&m,topic:{id:null!=(t=_.entityId)?t:"",type:"graphql",is_followed:null!=(n=_.is_followed)&&n,topicRef:_},viewParameter:b,viewType:v})},I=function(e){var t=e.id,n=e.topic,r=e.topicBlob,o=e.topicInfoForContextualExp,a=e.decreaseNamePadding,l=e.isHomefeedTuner,s=e.isLego,c=e.isSelected,u=e.nameTextSize,d=e.onTouch,f=e.padding,p=e.renderAsPill,m=e.showFollowButton,y=e.showFollowerCount,b=e.shouldClickthrough,v=e.viewParameter,_=e.viewType,g=(0,i.v9)(function(e){return e.topics[t]}),w=null!=n?n:g;return(0,h.jsx)(A,{decreaseNamePadding:void 0!==a&&a,isHomefeedTuner:l,isLego:s,isSelected:void 0!==c&&c,nameTextSize:void 0===u?"lg":u,onTouch:d,padding:void 0===f?2:f,renderAsPill:p,shouldClickthrough:void 0!==b&&b,showFollowButton:void 0!==m&&m,showFollowerCount:void 0!==y&&y,topic:{id:t,is_followed:!!(null!=w&&w.is_followed),topic:w,topicBlob:r,topicInfoForContextualExp:o,type:"resource"},viewParameter:v,viewType:_})},k=function(e){var t=e.decreaseNamePadding,n=void 0!==t&&t,r=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=void 0!==i&&i,l=e.nameTextSize,s=void 0===l?"lg":l,c=e.onTouch,u=e.padding,d=void 0===u?2:u,f=e.renderAsPill,p=e.showFollowButton,m=void 0!==p&&p,y=e.showFollowerCount,b=void 0!==y&&y,v=e.shouldClickthrough,_=void 0!==v&&v,g=e.viewParameter,w=e.viewType,x=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,O);return x.topicRef?(0,h.jsx)(C,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:a,nameTextSize:s,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:_,showFollowButton:m,showFollowerCount:b,topicRef:x.topicRef,viewParameter:g,viewType:w}):(0,h.jsx)(I,{decreaseNamePadding:n,id:x.id,isHomefeedTuner:r,isLego:o,isSelected:a,nameTextSize:s,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:_,showFollowButton:m,showFollowerCount:b,topic:x.topic,topicBlob:x.topicBlob,topicInfoForContextualExp:x.topicInfoForContextualExp,viewParameter:g,viewType:w})}},947631:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},537765:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},663158:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(947631);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}}}]);