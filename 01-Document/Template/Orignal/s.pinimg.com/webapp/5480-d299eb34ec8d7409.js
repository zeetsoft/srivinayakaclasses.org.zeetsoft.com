"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["5480"],{573631:function(e,t,n){n.d(t,{G:function(){return c},b:function(){return l}});var r=n(586659),o=n(963489),i=n(382718),a=(0,r.createContext)(!0);function c(e){var t=e.children,n=(0,o.TH)(),c=(0,r.useRef)(n).current===n;return(0,i.jsx)(a,{value:c,children:t})}function l(){return(0,r.useContext)(a)}},61398:function(e,t,n){n.d(t,{Z:function(){return Q}});var r=n(586659),o=n(581722),i=n(650533),a=n(861293),c=n(963489),l=n(521009),s=n(475498),d=n(821342),u=n(19585),p=n(573631),f=n(444185),b=n(87853),h=n(647709),_=n(26032),v=n(629315),y=n(208709),g=n(701523),S=n(20256),m=n(886981),I=n(696323),x=n(169053),P=n(223700),j=n(667417),A=n(425140),O=n(382718);function w(e){var t,n=e.boardSectionId,r=e.isSelected,i=e.onTogglePin,a=(0,x.S6)(),c="".concat(I.Z.BOARD_SECTION_PINS,":").concat(null!=n?n:""),l=(0,o.v9)(function(e){var t=e.feeds,n=e.desktopStories;return(0,P.Z)(t[c],n)}),s=(0,m.Z)({name:"BoardSectionPinsResource",options:{section_id:n,page_size:25,prepend:!0}}),d=s.fetchMore,u=s.isAtEnd,p=s.isFetching;return(0,O.jsx)(A.Z,{feedItems:null!=(t=l.feed)?t:[],getColumnSpanConfig:function(){return 1},minColumns:3,pagination:{loadNext:d,hasNext:u,isLoadingNext:p,refetch:function(){}},renderFeedItem:function(e){if("pin"===e.type){var t=(e.id?a(e.id):null)||e;return(0,O.jsx)(S.xu,{paddingY:1,children:(0,O.jsx)(j.Z,{isSelected:r(e.id),pinKey:{type:"Legacy",data:t},togglePin:i})})}return null}})}var B=n(481554),Z=n(978857),T=n(120651),R=n(702226);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}var F=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&z(o,e);var t,n,r=(t=C(),function(){var e,n=N(o);return e=t?Reflect.construct(n,arguments,N(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var e,t,n,i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return G(k(n=r.call.apply(r,[this].concat(a))),"state",{pinIds:(null==(e=n.props.location.state)?void 0:e.pinIds)||[],inSelectAll:(null==(t=n.props.location.state)?void 0:t.inSelectAll)||!1,name:""}),G(k(n),"onTogglePin",function(e){var t=n.state.pinIds,r=n.props.feedPinIds;if(t.includes(e))n.setState({pinIds:t.filter(function(t){return t!==e})});else{var o=t.concat(e);o.length===r.length?n.onSelectAll(!n.state.inSelectAll):n.setState({pinIds:o})}}),G(k(n),"onNextButtonTouch",function(){var e=n.props,t=e.boardSection.id,r=e.location,o=n.state,i=o.inSelectAll,a=o.pinIds,c=r.state?r.state.trackingParams:"";t&&n.props.navigate("/boardsection/".concat(t,"/organize/repin/"),{state:{inSelectAll:i,pinIds:a,trackingParams:c}})}),G(k(n),"onAddNewSectionNavigate",function(){var e=n.props,t=e.navigate,r=e.boardSection.id,o=n.state,i=o.inSelectAll,a=o.pinIds;r&&t("/boardsection/".concat(r,"/organize/add/"),{state:{inSelectAll:i,pinIds:a}})}),G(k(n),"onNameChange",function(e){n.setState({name:e.target.value})}),G(k(n),"onRepinToBoardWithSectionsNavigate",function(e){var t=n.props,r=t.navigate,o=t.boardSection.id,i=t.location,a=n.state,c=a.inSelectAll,l=a.pinIds,s=i.state?i.state.trackingParams:"";o&&r("/boardsection/".concat(o,"/organize/repin/"),{state:{boardId:e.id,inSelectAll:c,pinIds:l,trackingParams:s}})}),G(k(n),"onRefreshBoardSection",function(){var e,t=n.props,r=t.boardSection;(0,t.callRefreshBoardSection)(null!=(e=r.id)?e:"")}),G(k(n),"onCreateSection",function(){var e,t,r=n.state,o=r.inSelectAll,i=r.name,a=r.pinIds,c=n.props;(0,c.createSection)(null!=(e=null==(t=c.boardSection.board)?void 0:t.id)?e:"",a,i,o).then(function(){return n.onRefreshBoardSection()})}),G(k(n),"onSelectAll",function(e){n.setState({inSelectAll:e,pinIds:[]})}),G(k(n),"getSelectedPinIds",function(){var e=n.state,t=e.pinIds,r=e.inSelectAll,o=n.props.feedPinIds;return r?o.filter(function(e){return!t.includes(e)}):t}),G(k(n),"isSelected",function(e){var t=n.state,r=t.inSelectAll,o=t.pinIds;return r?!o.includes(e):o.includes(e)}),G(k(n),"renderBoardSectionFeed",function(){var e=n.props.boardSection.id;return(0,O.jsx)(w,{boardSectionId:e,isSelected:n.isSelected,onTogglePin:n.onTogglePin})}),G(k(n),"renderRepinScreen",function(e){var t,r,o=n.state,i=o.pinIds,a=o.inSelectAll,c=n.props,l=c.boardSection,s=c.navigate,d=c.isCollaborative,u=c.url,p=n.getSelectedPinIds(),f=(e.location.state||{}).boardId||(null==(t=l.board)?void 0:t.id),b="".concat(u).concat(l.slug||"");return(0,O.jsx)(g.ZP,{boardId:f,boardSectionId:l.id,inSelectAll:a,isCollaborative:d,navigate:s,onAddNewSection:n.onAddNewSectionNavigate,onRefreshBoardSection:n.onRefreshBoardSection,onRepinToBoardWithSections:n.onRepinToBoardWithSectionsNavigate,orginalBoardId:null==(r=l.board)?void 0:r.id,pinIds:i,selectedPinIds:p,url:b})}),G(k(n),"renderAddSectionScreen",function(){var e=n.state.name,t=n.getSelectedPinIds();return(0,O.jsx)(v.Z,{name:e,onNameChange:n.onNameChange,onNextButtonTouch:n.onCreateSection,selectedPinIds:t})}),G(k(n),"renderBulkSelectPinsScreen",function(){var e=n.state.inSelectAll,t=n.getSelectedPinIds();return(0,O.jsx)(y.Z,{allowSelectAll:!n.props.isCollaborative,buttonDisabled:0===t.length,buttonLabel:n.props.i18n._('Next', 'Next button accessibility label for board section organize page', 'Next button accessibility label for board section organize page'),inSelectAll:e,onButtonTouch:n.onNextButtonTouch,onSelectAll:n.onSelectAll,renderFeed:n.renderBoardSectionFeed,selectedPinIds:t})}),n}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSection.id,n=e.boardSectionUrl;return t?(0,O.jsxs)(i.rs,{children:[(0,O.jsx)(a.lt,{exact:!0,path:"".concat(decodeURIComponent(n),"_tools/organize/"),render:this.renderBulkSelectPinsScreen}),(0,O.jsx)(a.lt,{exact:!0,path:"/boardsection/".concat(t,"/organize/"),render:this.renderBulkSelectPinsScreen}),(0,O.jsx)(a.lt,{exact:!0,path:"/boardsection/".concat(t,"/organize/repin"),render:this.renderRepinScreen}),(0,O.jsx)(a.lt,{exact:!0,path:"/boardsection/".concat(t,"/organize/add"),render:this.renderAddSectionScreen})]}):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.PureComponent);function Q(){var e,t,n,r,a=(0,u.ZP)(),v=(0,o.I0)(),y=(0,c.s0)(),g=(0,c.TH)(),S=(0,p.b)(),m=(0,i.$B)(),I=(0,d.Z)().isAuth,x=(0,b.dI)().showToast,P=(0,h.ZP)(),j=(0,l.Z)(),A=m.params,w=A.id,E=A.slug,z=A.section_slug,k=A.username,C=w?{section_id:w}:{board_slug:(0,_.$)(E||""),section_slug:(0,_.$)(z||""),username:(0,_.$)(k||"")};(0,f.Z)({name:"BoardSectionResource",options:C});var N=m.params.id,G=(0,o.v9)(function(e){return e.boardsections[N||""]})||{},L=G.board,Q=(0,o.v9)(function(e){var t=e.boardsections;return Object.keys(t).reduce(function(e,n){var r,o=t[n];return e["".concat(String(null==(r=o.board)?void 0:r.id),"_").concat(String(o.slug))]=o,e},{})}),M="/".concat(k||"","/").concat((0,_.X)(E||""),"/"),D=(0,o.v9)(function(e){return(0,R.Z)(e)[M]})||{},H=null!=(e=Q["".concat(D.id,"_").concat((0,_.X)(z||""))])?e:Q["".concat(D.id,"_").concat(z||"")],X=w?G:H,U=w?L:D,W=X&&U?"".concat(null!=(t=U.url)?t:"").concat(null!=(n=(0,_.X)(X.slug||""))?n:"","/"):"",q=!!(null==U?void 0:U.is_collaborative),Y="board-section-pins:".concat(N||(null==X?void 0:X.id)||""),$=(0,o.v9)(function(e){return e.feeds[Y]||[]}).filter(function(e){return"pin"===e.type}).map(function(e){return e.id});return I&&"desktop"!==P?S?W?(0,O.jsx)(c.Fg,{replace:!0,to:W}):null:(0,O.jsx)(F,{boardSection:X,boardSectionUrl:W,callRefreshBoardSection:function(e){v((0,T.Z)(e))},createSection:function(e,t,n,r){var o=X.id;return v(r&&o?(0,B.Z)(e,n,t,o,j):(0,Z.Z)(e,t,n,j)).then(function(){x(function(e){var t=e.hideToast;return(0,O.jsx)(s.Z,{onHide:t,text:a._('Section added!', ' - ', ' -- ')})}),y(-3)}).catch(function(e){x(function(t){var n=t.hideToast;return(0,O.jsx)(s.Z,{onHide:n,text:e.message||a._('Sorry! Something went wrong on our end.', 'error creating board section', 'error creating board section'),type:"error"})})})},feedPinIds:$,i18n:a,isCollaborative:q,location:g,navigate:y,url:null!=(r=null==U?void 0:U.url)?r:""}):(0,O.jsx)(c.Fg,{replace:!0,to:"/"})}},629315:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(20256),o=n(19585),i=n(588367),a=n(914061),c=n(477213),l=n(588836),s=n(382718);function d(e){var t=(0,o.ZP)(),n=e.backButtonIcon,d=e.errorMessage,u=e.name,p=e.onNextButtonTouch,f=e.onNameChange,b=e.selectedPinIds,h=void 0===b?[]:b,_=e.useRoundedCorners,v=h.length>0?130:64;return(0,s.jsxs)(a.default,{hasFixedHeader:!0,children:[(0,s.jsxs)(i.default,{height:v,paddingY:3,useRoundedCorners:_,children:[(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,s.jsx)(l.Z,{color:"darkGray",icon:n||"cancel",padding:3,size:"sm"}),(0,s.jsx)(r.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,s.jsx)(r.xu,{"data-test-id":"create-section-button",children:(0,s.jsx)(r.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===u.trim(),onClick:p,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),h&&(0,s.jsx)(c.Z,{selectedPinIds:h})]}),(0,s.jsx)(r.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,s.jsx)(r.nv,{errorMessage:d||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:function(e){return f(e.event)},size:"lg",value:u})})]})}},791694:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(586659),o=n(581722),i=n(20256),a=n(821342),c=n(19585),l=n(886981),s=n(435289),d=n(214239),u=n(145127),p=n(482633),f=n(993127),b=n(382718);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t,n,_=e.excludeBoardId,v=e.hideSectionPickerList,y=e.onRepin,g=(0,c.ZP)(),S=(0,a.Z)(),m=(t=S.isAuth?S.username:"",(0,l.Z)({name:"BoardsResource",options:d.O.options({username:t,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,o.v9)(function(e){return(0,u.Z)(e)||[]})),I=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(n,2)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=I[0],P=I[1],j=function(e,t){if(!v&&e&&t)return void P(t);y(t)};return m.length>0&&(x&&!v?(0,b.jsx)(f.Z,{boardId:null==x?void 0:x.id,repin:function(e,t){x&&y(x,t)},showSectionRep:!0}):(0,b.jsxs)(i.xu,{"data-test-id":"board-picker-row-container",children:[(0,b.jsx)(i.xu,{marginTop:3,children:(0,b.jsx)(i.xv,{children:g._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,b.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(s.T,"px")}},paddingY:3,children:m.filter(function(e){return e.id!==_}).map(function(e){return(0,b.jsx)(p.Z,{boardId:e.id,onBoardSelected:function(t){return j(t,e)}},e.id)})})]}))}},701523:function(e,t,n){n.d(t,{Wx:function(){return G},ZP:function(){return F}});var r=n(586659),o=n(581722),i=n(963489),a=n(20256),c=n(475498),l=n(19585),s=n(394962),d=n(588367),u=n(914061),p=n(87853),f=n(435289),b=n(791694),h=n(477213),_=n(366859),v=n(60101),y=n(575108),g=n(72918),S=n(388023),m=function(e){return function(t){var n=e.source,r=e.target,o=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||r.boardId!==n.boardId){var i={board_id:r.boardId,pin_ids:o,section_id:r.sectionId};return y.Z.create("BulkEditResource",i).callUpdate()}if(r.sectionId){var a={section_id:r.sectionId,pins:o},c="BoardSectionEditResource";return y.Z.create(c,a).callUpdate().then(function(e){var n=(0,v.Fv)(e.resource_response.data,S.Z[c]);return t((0,g.XM)(c,a,e,n)),e})}var l={section_id:n.sectionId,pins:o};return y.Z.create("BoardSectionPinsResource",l).callDelete()}},I=n(987782),x=n(588836),P=n(993127),j=n(382718);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){B(i,r,o,a,c,"next",e)}function c(e){B(i,r,o,a,c,"throw",e)}a(void 0)})}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(E=function(){return!!e})()}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}function N(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function G(e){var t=e.onAddNewSection,n=e.useIconWithBackground,r=(0,l.ZP)();return(0,j.jsx)(s.Z,{alignCenter:n,height:n?f.y:f.T,children:(0,j.jsx)(_.Z,{onTouch:t,pressState:"none",children:(0,j.jsxs)(a.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!n,children:[n?(0,j.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,j.jsx)(a.JO,{accessibilityLabel:r._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,j.jsx)(a.JO,{accessibilityLabel:r._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),n?(0,j.jsx)(a.xu,{marginStart:2,children:(0,j.jsx)(a.xv,{size:"400",weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,j.jsx)(a.xu,{marginStart:3,children:(0,j.jsx)(a.xv,{weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var L=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&T(o,e);var t,n,r=(t=E(),function(){var e,n=z(o);return e=t?Reflect.construct(n,arguments,z(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==A(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return k(R(e=r.call.apply(r,[this].concat(n))),"onRepinToBoard",function(t){t.section_count?e.props.onRepinToBoardWithSections(t):e.props.repinToOtherBoard(t.id,e.props.i18n)}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardId,n=e.boardSectionId,r=e.orginalBoardId,o=e.onAddNewSection,i=e.repin,c=e.hideBoardPickerRow,l=e.selectedPinIds,s=e.isCollaborative,p=r===t;return(0,j.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,j.jsxs)(d.default,{hasBorder:!0,height:140,children:[(0,j.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(a.xu,{column:2,children:(0,j.jsx)(x.Z,{})}),(0,j.jsx)(a.xu,{column:8,children:(0,j.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,j.jsx)(a.xu,{column:2})]}),(0,j.jsx)(h.Z,{selectedPinIds:l})]}),t&&(0,j.jsx)(P.Z,{boardId:t,hideBoardPickerRow:p&&c,originalBoardId:r,repin:i,sectionId:n}),p&&(0,j.jsxs)(a.xu,{children:[!s&&(0,j.jsx)(b.Z,{excludeBoardId:t,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,j.jsx)(G,{onAddNewSection:o})]})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.PureComponent),F=function(e){var t,n,r=e.inSelectAll,a=e.pinIds,s=e.orginalBoardId,d=e.boardSectionId,u=e.onRefreshBoardSection,f=e.url,b=(0,p.dI)().showToast,h=(0,l.ZP)(),_=(0,i.s0)(),v=(0,o.I0)(),y=(t=Z(regeneratorRuntime.mark(function e(t,n,o){var i,l,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n&&n.id,l={boardId:s,sectionId:d},p={boardId:t,sectionId:i},h=r?(0,I.Z)({source:l,target:p,excludePinIds:a}):m({source:l,target:p,pinIds:a}),s===t){e.next=10;break}return e.next=7,v(h);case 7:_(f,{}),e.next=15;break;case 10:return e.next=12,v(h);case 12:if(!u){e.next=15;break}return e.next=15,u();case 15:b(function(e){var t=e.hideToast;return(0,j.jsx)(c.Z,{onHide:t,text:N(r,i,o)})});case 16:case"end":return e.stop()}},e)})),function(e,n,r){return t.apply(this,arguments)}),g=(n=Z(regeneratorRuntime.mark(function e(t,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:s,sectionId:d},i={boardId:t,sectionId:void 0},b(function(e){var t=e.hideToast;return(0,j.jsx)(c.Z,{onHide:t,text:N(r,void 0,n)})}),e.next=5,v(r?(0,I.Z)({source:o,target:i,excludePinIds:a}):m({source:o,target:i,pinIds:a}));case 5:_(-2);case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,j.jsx)(L,w(w({},e),{},{i18n:h,repin:y,repinToOtherBoard:g}))}},435289:function(e,t,n){n.d(t,{T:function(){return r},y:function(){return o}});var r=70,o=80},370347:function(e,t,n){n.d(t,{Yg:function(){return p},ib:function(){return b},nF:function(){return _},xX:function(){return h}});var r=n(675973),o=n(15667),i=n(647709),a=n(603316);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=["image"],d=["image","storyPin"],u=function(e){var t=(0,e.checkExperiment)("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return{logStat:function(e,n){return(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({event:e,group:t},n)})}}},p=function(){var e=(0,o.B)().isAuthenticated,t=(0,i.HG)(),n=(0,r.Z)().checkExperiment;return e&&!t?u({checkExperiment:n}):{logStat:function(){}}},f=0,b=function(e){var t=e.checkExperiment;if(e.isAuthMweb){var n=u({checkExperiment:t}).logStat;(f+=1)<10&&n("repin_".concat(f))}};function h(e){var t=e.checkExperiment,n=e.isDesktop;if(!e.isAuthenticated)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:["image"]};if(n){var r=t("auth_dweb_graphql_pin_page").anyEnabled;return{isGraphQLEnabledForRelatedPins:r,isGraphQLEnabledInGeneral:r,validImageTypes:s}}var o=t("auth_mweb_graphql_pin_page"),i=o.anyEnabled;switch(o.group){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,validImageTypes:s};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:s};case"enabled_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:d};case"only_closeup":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:s};case"only_closeup_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:d};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,validImageTypes:s};default:return{isGraphQLEnabledInGeneral:i,isGraphQLEnabledForRelatedPins:i,validImageTypes:s}}}function _(){return h({checkExperiment:(0,r.Z)().checkExperiment,isDesktop:(0,i.HG)(),isAuthenticated:(0,o.B)().isAuthenticated})}},481554:function(e,t,n){var r=n(978857),o=n(987782);t.Z=function(e,t,n,i,a){return function(c){return c((0,r.Z)(e,[],t,a)).then(function(t){var r=t.resource_response.data.id;return c((0,o.Z)({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:r},excludePinIds:n}))})}}},978857:function(e,t,n){var r=n(60101),o=n(575108),i=n(72918),a=n(889229),c=n(189976),l=n(388023),s=n(696323);t.Z=function(e,t,n,d){return function(u){var p={board_id:e,initial_pins:t,name:n},f="BoardSectionResource";return o.Z.create(f,p).callCreate().then(function(n){var o=n.resource_response.data,b=(0,r.Fv)(o,l.Z[f]);return d({event_type:7100,object_id_str:o.id}),u((0,i.XM)(f,p,n,b)),u((0,a.hd)(e,o)),u((0,c.vX)({feedId:e,feedType:s.Z.BOARD_SECTIONS,itemIds:[o.id],itemType:"boardsection"})),t.length&&u({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:o.id},pinIds:t}}),n})}}},987782:function(e,t,n){var r=n(575108);t.Z=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var n=e.source,o=e.target,i=e.excludePinIds,a={board_id:n.boardId,new_board_id:o.boardId,pin_ids:i,old_section_id:n.sectionId,new_section_id:o.sectionId};return r.Z.create("BulkEditSelectAllResource",a).callUpdate()}}},120651:function(e,t,n){var r=n(575108),o=n(889229);t.Z=function(e){return function(t){return r.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(n){var r=n.resource_response.data||{id:"",title:""};return t((0,o.OQ)(e,r)),n})}}},223700:function(e,t){var n={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0};t.Z=function(e,t){return e?e.reduce(function(e,n,r){var o,i,a=e.boardShopModuleId,c=e.boardShopModuleIndex,l=e.featuredBoardStoryId,s=e.feed,d=e.feedStoryId,u=e.footerStoryId,p="story"===n.type&&(null==(o=t[n.id])?void 0:o.story_type),f="board_ideas_feed"===p,b="board_ideas_preview_detailed"===p,h=!1;return"board_shop_tool_module"===p&&(h=!!(null!=(i=t[n.id].custom_properties)&&i.is_full_width)),{feed:s.concat(b||f||h?[]:[n]),featuredBoardStoryId:"featured_boards"===p?n.id:l,feedStoryId:f?n.id:d,footerStoryId:b?n.id:u,boardShopModuleId:h?n.id:a,boardShopModuleIndex:h?r:c}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):n}}}]);