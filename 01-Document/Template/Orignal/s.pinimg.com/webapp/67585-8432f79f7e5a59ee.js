"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["67585"],{826004:function(e,t,r){r.d(t,{Z:function(){return em}});var n=r(586659),o=r(581722),i=r(20256),a=r(338074),c=r(980787),s=r(697063),l=r(937392),d=r(469167),u=r(93966),f=r(19585),p=r(978417),b=r(355363),y=r(886981),m=r(123998),h=r(87853),v=r(845421),_=r(548286),g=r(816676),j=r(189976),x=r(279616),I=r(302148),S=r(382718);function O(e){var t=(0,f.ZP)(),r=e.hideHeader,n=e.name,o=e.onClick,a=e.url;return(0,S.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:r?25:60}},"data-test-id":"isHomeFeed",display:"flex",justifyContent:"center",padding:4,children:!r&&(0,S.jsx)(i.xv,{children:(0,I.nk)(t._('More ideas for your board {{ boardLink }}', 'More ideas for your board', 'More ideas for your board'),{boardLink:(0,S.jsx)(i.rU,{display:"inlineBlock",href:void 0===a?"":a,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),o()},underline:"hover",children:n},n)})})})}var P=r(478759),w=r.n(P),A=r(369416);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){B(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(k=function(){return!!e})()}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=T(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}var M=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&D(o,e);var t,r,n=(t=k(),function(){var e,r=z(o);return e=t?Reflect.construct(r,arguments,z(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Z(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return B(Z(e=n.call.apply(n,[this].concat(r))),"state",{hovered:!1}),B(Z(e),"handleTouch",function(t){return function(){var r=e.props.onSelect;e.props.logContextEvent({event_type:101,element:10444}),r(t)}}),B(Z(e),"handleHover",function(t){return function(){return e.setState({hovered:t})}}),e}return r=[{key:"render",value:function(){var e=this.props.recommendation,t=this.state.hovered;return(0,S.jsxs)(i.xu,{onMouseEnter:this.handleHover(!0),onMouseLeave:this.handleHover(!1),position:"relative",children:[(0,S.jsx)(A.Z,{unsafeCSS:"\n@keyframes animateInSectionHover {\n  to {\n    opacity: 1;\n    padding: 8px;\n    transform: translateY(-8px) translateX(-8px);\n  }\n}\n\n.sectionHoverSurface {\n  background: rgba(#000, 0.064);\n  border-radius: 8px;\n  bottom: 0;\n  height: 100%;\n  left: 0;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 100%;\n}\n\n.sectionHoverSurface.hover {\n  animation: animateInSectionHover 0.2s cubic-bezier(0.31, 1, 0.34, 1) forwards;\n}\n"}),(0,S.jsx)(i.iP,{fullWidth:!1,onTap:this.handleTouch(e),rounding:2,children:(0,S.jsxs)(i.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,S.jsx)(i.xu,{paddingX:1,children:(0,S.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Add section', 'Accessibility label for add icon', 'Accessibility label for add icon'),icon:"add",size:18})}),(0,S.jsx)(i.xu,{paddingX:1,children:(0,S.jsx)(i.xv,{color:"subtle",weight:"bold",children:e.name})})]})}),(0,S.jsx)("div",{className:w()("sectionHoverSurface",{hover:t})})]},e.name)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);function N(e){var t=(0,c.u)().logContextEvent,r=(0,f.ZP)();return(0,S.jsx)(M,C(C({},e),{},{i18n:r,logContextEvent:t}))}var L=r(283550);function F(e){var t=this,r=(0,f.ZP)(),n=e.recommendations;return(0,S.jsx)(L.Z,{children:(0,S.jsxs)(i.xu,{paddingY:2,children:[(0,S.jsx)(i.xu,{paddingY:2,children:(0,S.jsx)(i.xv,{size:"400",children:r._('Sections to try', 'title for section title recommendations on more ideas tab', 'title for section title recommendations on more ideas tab')})}),(0,S.jsx)(i.xu,{paddingY:2,children:(0,S.jsx)(i.kC,{alignItems:"center",justifyContent:"start",width:"100%",wrap:!0,children:n.map(function(e){return(0,S.jsx)(i.xu,{padding:2,children:(0,S.jsx)(N,{onSelect:t.handleSelectSectionRecommendation,recommendation:e})},e.id)})})})]})})}var H=r(982166),X=r(475498),U=r(74105);function Y(e){var t=e.index,r=e.isSelected,o=e.pin,a=e.handlePinSelectionChanged,c=o.id,s=(0,n.useCallback)(function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),a(c,!r)},[c,r]);return(0,S.jsx)(i.iP,{onTap:s,rounding:4,children:(0,S.jsx)(v.Z,{attributionOption:"hide",blockClickEvents:!0,duploQueryRef:null,pinId:o.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:r?"selected-image-only":"deselected-image-only",slotIndex:t,surface:"SectionSuggestedPins"})})}function W(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $(e){var t,r=e.boardId,a=e.handleAddClick,s=e.onDismiss,l=e.pins,d=e.suggestedSectionTitle,u=(0,c.u)().logContextEvent,p=(0,f.ZP)(),b=(0,n.useRef)(null),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)([]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{for(i=(r=r.call(e)).next;!(s=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||W(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=m[0],_=m[1],j=(0,h.dI)().showToast,x=(0,y.Z)({name:"ApiResource",options:{url:"/v3/batch/related/pins/",data:{client_type:"84",page_size:10,prepend_seed_pins:!0,pin_ids:l.map(function(e){return e.id})}}}),I=(0,o.I0)(),O=function(e,t){var r=function(e){if(Array.isArray(e))return Q(e)}(v)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(v)||W(v)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r.indexOf(e);t&&-1===n?r.push(e):t||-1===n||r.splice(n,1),_(r)},P=x.data;return(0,S.jsx)(H.ZP,{accessibilityModalLabel:p._('Add suggested pins to your newly created section modal', 'suggestedPinsModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),allowScroll:!0,footer:(0,S.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,S.jsx)(i.zx,{color:v.length<1?"gray":"red",disabled:v.length<1,onClick:function(){a(d),I((0,g.Z)({boardId:r,name:d,initialPinIds:v},p,void 0,u)).then(function(){I((0,U.Z)(r,"pin_count")),s()}),j(function(e){var t=e.hideToast;return(0,S.jsx)(X.Z,{duration:4e3,onHide:t,text:p._('Section added!', 'suggestedPinsModal.addSectionSubmit.toast', 'Message confirming that a section has been added.')})}),u({event_type:101,component:13772,element:76,view_type:5,view_parameter:3173,aux_data:{number_pins_selected:v.length,selected_pin_ids:v,suggested_section_name:d}})},size:"lg",text:p._('Done', 'suggestedPinsModal.footer.addSectionButton', 'Add pins and section')})}),heading:p._('Great! Pick some ideas to start off your section.', 'suggestedPinsModal.modal.heading', 'Heading for modal to add suggested pins to your newly created section'),onDismiss:s,size:704,children:(0,S.jsxs)(i.xu,{ref:b,maxHeight:600,maxWidth:704,overflow:"auto",children:[x.isLoaded&&P&&(0,S.jsx)(i.Rk,{columnWidth:152,gutterWidth:16,items:P,loadItems:x.fetchMore,renderItem:function(e){var t=e.data,r=e.itemIdx;return(0,S.jsx)(Y,{handlePinSelectionChanged:O,index:r,isSelected:v.includes(t.id),pin:t})},scrollContainer:function(){return b.current||window}}),(0,S.jsx)(i.xH,{accessibilityLabel:p._('Loading pins', 'suggestedPinsModal.modal.spinner', 'Loading indicator'),show:x.isFetching})]})})}function G(e,t){if(e){if("string"==typeof e)return J(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var K=new i.Ry(2);function V(e){var t,r,o=e.boardId,a=e.handleAddClick,s=e.pins,l=void 0===s?[]:s,d=e.sectionTitle,u=e.wasSectionAdded,p=(0,c.u)().logContextEvent,b=(0,f.ZP)(),y=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{for(i=(r=r.call(e)).next;!(s=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||G(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=y[0],h=y[1];return(0,S.jsxs)(i.xu,{opacity:u?.2:1,zIndex:K,children:[(0,S.jsx)(i.xu,{paddingY:2,position:"relative",children:(0,S.jsx)(i.iP,{disabled:u,onTap:function(){h(!0),p({event_type:101,component:13772,view_type:5,view_parameter:3173,aux_data:{suggested_section_name:d}})},rounding:4,children:(0,S.jsx)(n.Fragment,{children:(0,S.jsxs)(i.xu,{overflow:"hidden",position:"relative",rounding:4,width:237,children:[(0,S.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",children:((function(e){if(Array.isArray(e))return J(e)})(r=[,,].keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||G(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t,r,n=l[e];return(0,S.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1}},children:(0,S.jsx)(i.xu,{height:157,width:118,children:n.image_medium_url&&(0,S.jsx)(i.Ee,{alt:"".concat(d,"-").concat(e),color:"darkGray",fit:"cover",naturalHeight:(null==(t=n.image_medium_size_pixels)?void 0:t.height)||157,naturalWidth:(null==(r=n.image_medium_size_pixels)?void 0:r.width)||118,src:n.image_medium_url})})},e)})}),(0,S.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:(0,S.jsx)(i.zx,{accessibilityLabel:b._('Add a suggested section', 'sectionTemplates.addSectionButton.accessibilityLabel', 'Button for adding a suggested section'),color:"white",disabled:u,text:b._('Add', 'sectionTemplates.addSectionButton.buttonText', 'Button for adding a suggested section')})})]})})})}),(0,S.jsx)(i.xu,{flex:"grow",height:40,paddingX:2,width:237,children:(0,S.jsx)(i.X6,{color:"default",lineClamp:1,size:"400",children:d})}),m&&(0,S.jsx)($,{boardId:o,handleAddClick:a,onDismiss:function(){return h(!1)},pins:l,suggestedSectionTitle:d})]})}function q(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function et(e){var t,r=e.boardId,o=e.sectionTemplates,a=(0,c.u)().logContextEvent,s=(0,f.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)([]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{for(i=(r=r.call(e)).next;!(s=(n=i.call(r)).done)&&(c.push(n.value),2!==c.length);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||q(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=l[0],u=l[1];(0,n.useEffect)(function(){var e=[];o.forEach(function(t){return e.push(t.name)}),a({event_type:13,component:13772,view_type:5,view_parameter:3173,aux_data:{suggested_section_names_viewed:e}})},[a,o]);var p=function(e){var t=function(e){if(Array.isArray(e))return ee(e)}(d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||q(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();t.push(e),u(t)};return(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:-4,padding:1,children:(0,S.jsx)(i.xv,{size:"300",children:s._('Sections and Pins for you', 'sectionTemplatesStory.subtitle.text', 'Subtitle describing sections and pins below')})}),(0,S.jsx)(i.xu,{display:"flex",justifyContent:"center",marginEnd:6,marginStart:6,wrap:!0,children:o.map(function(e){return(0,S.jsx)(i.xu,{display:"flex",padding:2,children:(0,S.jsx)(V,{boardId:r,handleAddClick:p,pins:e.pins,sectionTitle:e.name,wasSectionAdded:d.includes(e.name)})},e.id)})})]})}var er=r(386895);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){ed(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(e,t){return(ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(es=function(){return!!e})()}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ed(e,t,r){return(t=eu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eu(e){var t=function(e,t){if("object"!=en(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=en(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==en(t)?t:t+""}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ep=(0,p.qe)(function(e){var t;return function(e){if(Array.isArray(e))return ef(e)}(t=e===String(22)?[501151]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ef(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ef(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}),eb=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&ea(o,e);var t,r,n=(t=es(),function(){var e,r=el(o);return e=t?Reflect.construct(r,arguments,el(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==en(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ec(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return ed(ec(e=n.call.apply(n,[this].concat(r))),"state",{sectionNameAddedMap:{}}),ed(ec(e),"handleClickLogging",function(t){e.props.logContextEvent({event_type:101,component:10599===t?0:void 0,element:t,view_type:e.viewType,view_parameter:e.viewParameter})}),ed(ec(e),"handleBoardLinkClick",function(){e.handleClickLogging(11083)}),ed(ec(e),"handleSave",function(){e.props.invalidateCollectionFeed(),e.handleClickLogging(10599)}),ed(ec(e),"renderItem",function(t){var r=t.data,n=t.itemIdx,o=e.props,i=o.collection,c=o.eligibleSaveToolTipExperience,s=o.surface,l=o.viewerIsOwnerOrCollaborator,d=i.url;if("story"===r.type)return(0,S.jsx)(er.Z,{slot:n,storyId:r.id||"",viewParameter:e.viewParameter,viewType:e.viewType});var u=i.id,f=i.pin_count,p=0===n&&c,b={board_id:u,board_pin_count:f};return l?(0,S.jsx)(a.Z,{auxData:b,boardId:null!=u?u:"",boardTitle:e.boardTitle,boardUrl:d,index:n,moreIdeasSaveToolTipExperienceIds:e.moreIdeasSaveToolTipExperienceIds,oneTapSaveTarget:e.oneTapSaveTarget,onSave:e.handleSave,pin:r,showMoreIdeasSaveTooltip:p,viewParameter:e.viewParameter,viewType:e.viewType}):(0,S.jsx)(v.Z,{attributionOption:"hide",auxData:b,duploQueryRef:null,pinId:r.id||"",pinImageCrop:"none",saveButtonOptions:{type:"inline",onSave:e.handleSave},slotIndex:n,surface:s,viewParameter:e.viewParameter,viewType:e.viewType})}),e}return r=[{key:"componentDidMount",value:function(){var e;this.props.disableBadging(null!=(e=this.props.collection.id)?e:"")}},{key:"boardTitle",get:function(){var e;return null!=(e=this.props.collection.name)?e:""}},{key:"moreIdeasSaveToolTipExperienceIds",get:function(){return ep(this.props.ideasReferrer)}},{key:"viewType",get:function(){var e=this.props,t=e.collection;return e.isHomefeed?1:"board"===t.type?5:164}},{key:"viewParameter",get:function(){return"board"===this.props.collection.type?3173:3174}},{key:"oneTapSaveTarget",get:function(){var e=this.props.collection;return"board"===e.type?{board:e}:{board:e.board,boardSection:e}}},{key:"isRedirectExperimentReferrer",get:function(){return this.props.ideasReferrer===String(22)}},{key:"render",value:function(){var e,t=this.props,r=t.collection,n=t.hideHeader,o=t.inLocalNavigation,a=t.isHomefeed,c=t.reducePadding,s=t.resource,f=r.id,p=r.pin_count,y=s.fetchMore,h=s.isAtEnd,v=s.data,_=s.isFetching,g=this.state.sectionNameAddedMap,j=(v||[]).reduce(function(e,t){var r=e.sectionTemplatesStory,n=e.sectionNamesStory,o=e.items;return"story"===t.type&&"section_title_recommendations"===t.story_type?n=t:"story"===t.type&&"board_section_templates"===t.story_type?r=t:"pin"===t.type?o=o.concat(t):"story"===t.type&&"homefeed_board_tab_banner"!==t.story_type&&(o=o.concat(t)),{sectionTemplatesStory:r,sectionNamesStory:n,items:o}},{sectionTemplatesStory:void 0,sectionNamesStory:void 0,items:[]}),x=j.sectionTemplatesStory,I=j.sectionNamesStory,P=j.items,w=I?I.objects.filter(function(e){return"board_section_name_recommendation"===e.type}).filter(function(e){return!g[e.name.toLowerCase()]}):[],A=(P||[]).length>0&&this.isRedirectExperimentReferrer;return(0,S.jsx)(m.Z,{auxData:{board_id:f,board_pin_count:p},component:13204,view:this.viewType,viewParameter:this.viewParameter,children:(0,S.jsxs)(i.xu,{paddingY:c||o?0:2,children:[!!a&&(0,S.jsx)(O,{hideHeader:!!n,name:r.name,onClick:this.handleBoardLinkClick,url:r.url}),(null==x?void 0:x.objects)&&(0,S.jsx)(et,{boardId:null!=(e=r.id)?e:"",sectionTemplates:x.objects}),w.length>0&&(0,S.jsx)(F,{recommendations:w}),(0,S.jsxs)(i.xu,{paddingY:2*!o,children:[I&&(0,S.jsx)(L.Z,{children:(0,S.jsx)(i.xu,{paddingY:2,children:(0,S.jsx)(i.xv,{size:"400",children:this.props.i18n._('Pins you might like', 'title for pin recommendations on more ideas tab', 'title for pin recommendations on more ideas tab')})})}),A&&(0,S.jsx)(L.Z,{children:(0,S.jsx)(i.xu,{marginBottom:4,children:(0,S.jsx)(i.xv,{children:this.props.i18n._('Based on your board\u2019s title, we think you\u2019ll love these Pins', 'title for pin recommendations on more ideas tab', 'title for pin recommendations on more ideas tab')})})}),(0,S.jsx)(i.xu,{paddingY:c||o?0:2,children:(0,S.jsx)(b.Z,{isAtEndOfFeed:h,isPlaceholderGrid:_&&!P.length,itemCount:P.length,children:(0,S.jsx)(d.default,{columnWidth:u.yF,isFetching:_,isLoadedAccessibilityLabel:P.length>0?this.props.i18n._('Loaded more content on the Board More Ideas tab', 'homefeed.bmiTab.loadedState', 'accessibility label for more content loaded on the Board More Ideas tab'):this.props.i18n._('Loaded content on the Board More Ideas tab', 'homefeed.bmiTab.loadedState', 'accessibility label for content loaded on the Board More Ideas tab'),isLoadingAccessibilityLabel:P.length>0?this.props.i18n._('Loading more content for the Board More Ideas tab', 'homefeed.bmiTab.loadingState', 'accessibility label for loading more content on the Board More Ideas tab'):this.props.i18n._('Loading content for the Board More Ideas tab', 'homefeed.bmiTab.loadingState', 'accessibility label for loading content on the Board More Ideas tab'),isLoadingStateEnabled:!0,items:P,loadItems:y,renderItem:this.renderItem})})})]}),(0,S.jsx)(l.RK,{placementId:1000121})]})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eu(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component),ey=(0,l.RL)(1000121,function(e){return{board_id:e.collection.id}})(function(e){var t=e.hasBoardResource,r=(0,f.ZP)(),n=(0,c.u)().logContextEvent,i=(0,y.Z)(t?null:{name:x.d.name,options:x.d.options(e)}),a=(0,o.v9)(function(t){return t.experiences&&t.experiences[1000121]&&ep(e.ideasReferrer).includes(t.experiences[1000121].experience_id)}),l=(0,o.I0)();return(0,S.jsx)(eb,ei(ei({},e),{},{createSection:function(t){var o;return l((0,g.Z)({boardId:null!=(o=e.collection.id)?o:"",name:t,nameSource:"RECOMMENDATION"},r,void 0,n)).catch(function(e){s.Z.showError(e&&e.message||r._('Failed to create section', 'Error message for failed to create a section', 'Error message for failed to create a section'))})},disableBadging:function(e){l((0,_.ZP)(e))},eligibleSaveToolTipExperience:a,i18n:r,invalidateCollectionFeed:function(){var t;return l((0,j.N8)("boardfeed",null!=(t=e.collection.id)?t:""))},logContextEvent:n,resource:t||i,toastManagerContext:(0,h.dI)()}))});ey.displayName="BoardMoreIdeasTabContent";var em=ey},338074:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(980787),o=r(937392),i=r(845421),a=r(169053),c=r(589583),s=r(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e){var t=e.boardId,r=e.auxData,l=e.boardTitle,d=e.boardUrl,f=e.index,p=e.moreIdeasSaveToolTipExperienceIds,b=e.oneTapSaveTarget,y=e.onSave,m=e.pin,h=e.showMoreIdeasSaveTooltip,v=e.isShopTool,_=void 0!==v&&v,g=e.viewParameter,j=e.viewType,x=(0,a.S6)(),I=(0,n.u)().logContextEvent,S=(m.id?x(m.id):null)||m;return(0,s.jsx)(c.Z,{eventContext:{viewType:j,viewParameter:g,element:_?14583:10599},onSave:y,pinKey:{type:"Legacy",data:S},target:b,children:function(e){var n=e.save,a=e.unsave,c=e.saved,b=e.savedInfo,y=h?function(e){return(0,s.jsx)(o.Qp,{anchor:e,boardTextOverride:l,experienceIds:p,idealDirection:"down",placementId:1000121,textOverflow:"normal",useMasonryFlyout:!0})}:void 0;return(0,s.jsx)(i.Z,{attributionOption:"hide",auxData:r,duploQueryRef:null,pinId:m.id,pinImageCrop:"none",renderPinSaveTooltip:y,saveButtonOptions:{save:n,unsave:function(){_&&I({event_type:3,view_type:1,view_parameter:3380,element:14583,object_id_str:m.id,aux_data:r}),a()},saved:c,savedInfo:u(u({},b),{},{boardId:t,pinId:m.id,title:l,url:d}),type:"persistentOneClickSave"},slotIndex:f,surface:_?"ShoppingTool":"BoardMoreIdeasTabContent",viewParameter:g,viewType:j})}})}},816676:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(575108),o=r(72918),i=r(74105),a=r(889229),c=r(189976),s=r(831786),l=r(696323);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e,t,r,f){var p=e.boardId,b=e.sourceBoardId,y=void 0===b?"":b,m=e.sourceSectionId,h=void 0===m?"":m,v=e.name,_=e.nameSource,g=e.pinImport,j=e.initialPinIds,x=0;"RECOMMENDATION"===_?x=1:"EDITED_RECOMMENDATION"===_&&(x=2);var I=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:p,initial_pins:g&&!g.all?g.pinIds:void 0===j?[]:j,name:v,name_source:x},r?{orbac_subject_id:r}:Object.freeze({}));return function(e){return n.Z.create("BoardSectionResource",I).callCreate({showError:!1}).then(function(n){var d=n.resource_response.data;f({event_type:7100,object_id_str:d.id}),e((0,a.hd)(p,d)),e((0,c.vX)({feedId:p,feedType:l.Z.BOARD_SECTIONS,itemIds:[d.id],itemType:"boardsection"})),e((0,i.Z)(p,"pin_count")),e((0,o.jB)("BoardSectionsRepinResource",{board_id:p,orbac_subject_id:r}));var u=g||{all:!1,pinIds:[]},b=u.all,m=u.pinIds;return b?new Promise(function(r,n){return e((0,s.Z)({inverseSelection:!0,selectedPinIds:m,source:{boardId:y||p,sectionId:h||null},target:{boardId:p,sectionId:d.id}},t)).then(function(){return r(d)}).catch(n)}):(m.length>0&&e((0,c.EX)({feedId:p,feedType:l.Z.BOARDFEED,itemIds:m,itemType:"pin"})),d)})}}},74105:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(536652);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return(0,n.U)("BoardResource",{options:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:e,field_set_key:t},r?{orbac_subject_id:r}:{})})}},831786:function(e,t,r){r.d(t,{S:function(){return p},Z:function(){return b}});var n=r(575108),o=r(74105),i=r(225013),a=r(189976),c=r(686231),s=r(696323),l=r(697063),d=function(e){return function(t){l.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},u=function(e){return(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId)};function f(e,t){var r=e.source,n=e.target;n.boardId!==r.boardId?(t((0,o.Z)(r.boardId,"pin_count")),t((0,o.Z)(n.boardId,"pin_count"))):r.sectionId&&n.sectionId||t((0,o.Z)(n.boardId,"pin_count")),r.sectionId&&t((0,i.Z)(r.sectionId)),n.sectionId&&t((0,i.Z)(n.sectionId))}function p(e){return function(t){var r=e.selectedPinIds,n=e.source,o=e.target;t((0,a.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),r.forEach(function(e){t((0,c.Vp)({pinId:e,boardId:o.boardId,sectionId:o.sectionId||void 0,title:o.name||""}))}),f(e,t)}}function b(e,t){return function(r){var o=e.selectedPinIds,i=e.target;return o.forEach(function(e){r((0,c.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),(function(e,t,r){var o=e.inverseSelection,i=e.selectedPinIds,c=e.source,l=e.target,f=e.orbacSubjectId;if(c.boardId===l.boardId&&(c.sectionId||null)===(l.sectionId||null))return Promise.reject();if(o){var p={board_id:c.boardId,new_board_id:l.boardId,old_section_id:c.sectionId||void 0,new_section_id:l.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return n.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([t(u(c)),t(u(l))])}).catch(d(r))}var b=function(e,r){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};b(c,l);var y=function(){return b(l,c)};if(l.boardId===c.boardId)if(l.sectionId){var m={section_id:l.sectionId,pins:i,orbac_subject_id:f};return n.Z.create("BoardSectionEditResource",m).callUpdate({showError:!1}).catch(function(e){y(),d(r)(e)})}else{var h={section_id:c.sectionId,pins:i,orbac_subject_id:f};return n.Z.create("BoardSectionPinsResource",h).callDelete({showError:!1}).catch(function(e){y(),d(r)(e)})}var v={board_id:l.boardId,section_id:l.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return n.Z.create("BulkEditResource",v).callUpdate({showError:!1}).catch(function(e){y(),d(r)(e)})})(e,r,t).then(function(){return f(e,r)})}}},283550:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(20256),o=r(382718);function i(e){var t=e.children,r=e.setMaxWidth;return(0,o.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:void 0===r||r?(0,o.jsx)(n.xu,{maxWidth:774,paddingX:2,width:"100%",children:t}):(0,o.jsx)(n.xu,{width:"100%",children:t})})}}}]);