"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["44801"],{95763:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(475498),o=n(19585),i=n(87853),a=n(382718);function l(){var e=(0,o.ZP)(),t=(0,i.dI)().showToast;return{showErrorToast:function(){t(function(t){var n=t.hideToast;return(0,a.jsx)(r.Z,{onHide:n,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')})})},showSuccessToast:function(){t(function(t){var n=t.hideToast;return(0,a.jsx)(r.Z,{onHide:n,text:e._('Thanks. For updates, see your reports and violations center.', 'userReporting.handleSubmitReport.toast', 'This string appears on a banner that is displayed for a few seconds after the user submits a report, such as for content that violates Pinterest\u2019s policies. This banner confirms receipt and lets the user know where they can find updates. \u201Creports and violations center\u201D is the name of a feature within settings. It is a common noun. The tone of this is neutral and calm.')})})}}}},412007:function(e,t,n){n.d(t,{O7:function(){return a},dF:function(){return d},dX:function(){return c},pm:function(){return s},tx:function(){return l}});var r=n(586659),o=n(15667),i=n(647709),a=function(){var e=(0,o.B)().isAuthenticated,t=(0,i.HG)();return(0,r.useMemo)(function(){return{isAuth:!!e,isDesktop:t}},[e,t])},l={" $fragmentSpreads":void 0," $fragmentType":void 0};function s(e){var t=e.isAuthParam,n=e.isDesktop,r=e.authDesktopQuery,o=e.authMobileQuery,i=e.unauthDesktopQuery,a=e.unauthMobileQuery;return t?n?r:o:n?i:a}function c(e){var t=e.isAuthParam,n=e.isDesktop,r=e.authDesktopFragment,o=e.authMobileFragment,i=e.unauthDesktopFragment,a=e.unauthMobileFragment;return t?n?r:o:n?i:a}var u=/(?:^|_)([a-z])/g;function d(e){return e.replace(u,function(e,t){return t.toUpperCase()})}},302148:function(e,t,n){function r(e,t,n){return e.split(n).map(function(e){if(e.match(n)){var r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e})}n.d(t,{Wc:function(){return l},XB:function(){return a},bF:function(){return c},nk:function(){return i}});var o=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return r(e,t,o)}function a(e){var t,n,o=e.text,i=e.markers,a=e.jsxReplacements,l=["strong","a","em","span"],s=/(\{\{\s*\w+\s*\}\})/g,c=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,u=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,d=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,p=null==(t=o.match(c))?void 0:t.map(function(e){var t,n,o,l=e.match(u),c=null!=(t=l&&l[2])?t:0,p=e.match(d),f=null!=(n=p&&p[2])?n:"",h=i?r(f,i,s):[f];return c&&a&&(null==(o=a[c])?void 0:o.call(a,{innerHtmlStrings:h}))});return null==(n=o.split(c))?void 0:n.map(function(e){return l.some(function(t){return e===t})?null==p?void 0:p.shift():i?r(e,i,s):e})}function l(e,t){return r(e,t,o).join("")}var s=/(\{\s*\w+\s*\})/g;function c(e,t){return r(e,t,s)}},377654:function(e,t,n){n.d(t,{Rq:function(){return r},Vf:function(){return o},jd:function(){return i},oy:function(){return a}});var r=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},o=28,i=function(e){return window.innerHeight>=748&&r(e)},a=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)}},914061:function(e,t,n){n.r(t);var r=n(20256),o=n(93966),i=n(377654),a=n(657389),l=n(15667),s=n(382718);t.default=function(e){var t=e.children,n=e.dataLayoutShiftBoundaryId,c=e.hasFixedHeader,u=e.hasGutter,d=void 0===u||u,p=e.height,f=e.showKeychainError,h=e.useViewport,_=(0,l.B)(),v=(0,i.jd)(_.userAgent.platform)?i.Vf:0;return(0,s.jsx)(r.xu,{"data-layout-shift-boundary-id":n||"PageContainer",height:void 0!==h&&h?"calc(100vh - ".concat(v,"px)"):p,paddingX:d?o.D6:void 0,paddingY:void 0!==c&&c||void 0!==f&&f?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:t})})}},45291:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(20256),o=n(980787),i=n(19585),a=n(302148),l=n(694955),s=n(647709),c=n(382718),u=l.K_Y+"?source=block_dialogue";function d(){var e=(0,i.ZP)(),t=(0,s.HG)(),n=(0,o.u)().logContextEvent,l=function(){n({event_type:t?101:102,component:13})};return(0,a.XB)({text:e._('You won\u2019t be able to see, follow or contact each other, or save each other\u2019s Pins. People aren\u2019t notified when you block them. <strong id="1">Learn more</strong>', 'blockingUsers.description', 'description of blocking users'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,c.jsx)(r.rU,{display:"inlineBlock",href:u,onClick:l,target:"blank",children:t})}}})}},636921:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(20256),o=n(475498),i=n(19585),a=n(87853),l=n(382718);function s(){var e=(0,a.dI)().showToast,t=(0,i.ZP)();return function(){e(function(e){var n=e.hideToast;return(0,l.jsx)(o.Z,{duration:5e3,onHide:n,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,l.jsx)(r.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}})})}}},762525:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(20256),o=n(382718);function i(e){var t=e.text;return(0,o.jsx)(r.xu,{display:"visuallyHidden",children:(0,o.jsx)(r.X6,{accessibilityLevel:1,children:t})})}},16262:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(20256),o=n(980787),i=n(982166),a=n(19585),l=n(95763),s=n(886981),c=n(690897),u=n(382718);function d(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e){var t,n,p=e.conversationId,f=e.handleBlock,h=e.handleCancel,_=e.handleReport,v=e.handleSubmit,m=e.userToBlock,y=(0,o.u)().logContextEvent,g=(0,l.Z)().showErrorToast,x=(0,a.ZP)(),b=(0,s.Z)({name:"ConversationReportResource",options:{conversation_id:p}}),j=(t=regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reasonKey,r=t.selectedReason,o=t.shouldBlockUser,y({event_type:183,view_type:42,view_parameter:202,object_id_str:p,element:null==r?void 0:r.element_type});try{o&&f(),r&&_(n),null==v||v()}catch(e){g()}case 3:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)});return(0,u.jsx)(i.ZP,{accessibilityModalLabel:x._('Report message modal', 'ConversationPage.ReportConversationModal', 'Modal for users to report a conversation and block user'),mobileAllowScroll:!0,mobileHideCloseIcon:!0,onDismiss:h,children:(0,u.jsx)(r.xu,{marginBottom:5,marginTop:2,maxHeight:"70vh",children:(0,u.jsx)(c.Z,{dismissConversationReportModal:h,handleSubmitReport:j,objectToReport:{type:"conversation",id:p,userToBlock:m,viewType:42,viewParameter:202},reportingReasons:b.data})})})}},690897:function(e,t,n){n.d(t,{Z:function(){return H}});var r=n(586659),o=n(963489),i=n(20256),a=n(521009),l=n(19585),s=n(588367),c=n(914061),u=n(341742),d=n(636921),p=n(581722),f=n(475498),h=n(302148),_=n(675973),v=n(87853),m=n(45291),y=n(401450),g="conversation",x=n(382718);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e){var t=e.shouldBlockUser,n=e.handleUpdateShouldBlockUser,r=e.isConversationReportModal,o=e.userToBlock,s=e.objectToReport,c=(0,l.ZP)(),u=(0,p.I0)(),g=(0,v.dI)().showToast,b=(0,a.Z)(),j=(0,d.Z)(),P=(0,_.Z)().checkExperiment,k=o.fullName,A=o.id,z=o.username,S=k?"".concat(k," (").concat(z,")"):z,T=function(){var e="pin"===s.type;return{blockSource:e?"comment":"profile",blockContext:e?s.id:A}},R=function(e,o){if(r)n();else{if(t)u((0,y.h2)(e,b)),g(function(e){var t=e.hideToast;return(0,x.jsx)(f.Z,{onHide:t,text:(0,h.nk)(c._('{{ displayName }} unblocked', 'reportPinReasonDetail.userUnblocked.toast', 'Toast text for unblocking a user. displayName: the name to be displayed'),{displayName:o}).join("")})});else{var i=T();u((0,y.Ge)(w(w({id:e},i),{},{logContextEvent:b}))),j()}n()}},C=P("ps_blocking_profile_visibility").anyEnabled;return(0,x.jsx)(i.xu,{paddingX:2,children:(0,x.jsxs)(i.xu,{display:"flex",flex:"grow",justifyContent:"between",paddingY:4,children:[(0,x.jsxs)(i.kC,{alignItems:"stretch",direction:"column",children:[(0,x.jsx)(i.X6,{size:"400",children:(0,h.nk)(c._('Block {{ displayName }}', 'reportPinReasonDetail.blockUser.header', 'Header for blocking a user section. displayName: the name to be displayed'),{displayName:S})}),(0,x.jsx)(i.xu,{marginTop:2,children:(0,x.jsx)(i.xv,{size:"200",children:C?(0,x.jsx)(m.Z,{}):(0,x.jsx)(i.xu,{children:r?(0,h.nk)(c._('Blocking {{ displayName }} stops messages, follows, and comments. You can still view each other\'s profiles.', 'reportConversationReasonDetail.blockUser.explanation', 'Explanation of blocking a user. displayName: the name to be displayed'),{displayName:S}):(0,h.nk)(c._('If you block {{ displayName }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportPinReasonDetail.blockUser.explanation', 'Explanation of blocking a user. displayName: the name to be displayed'),{displayName:S})})})})]}),(0,x.jsx)(i.xu,{display:"flex",flex:"grow",justifyContent:"end",marginStart:9,children:(0,x.jsx)(i.rs,{id:"userBlocked",onChange:function(){return R(A,S)},switched:t})})]})})}var k=n(410156);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e,t){return e*k.FS+t*k.DH},S=function(e,t){var n=0;if(e.includes(":")){var r=e.split(":");n=z(Number(r[0]),Number(r[1]))}else n=z(Number(e),0);return n>t()};function T(e){var t,n=e.setVideoTimestamp,o=e.setVideoViolationType,a=e.videoTimestamp,s=e.videoViolationType,c=e.hasVHLSV4Video,u=e.vHLSV4VideoDuration,d=(0,l.ZP)(),p=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return A(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],h=p[1],_=function(){return c?parseInt(u,10):0},v=function(e){n(e),h(S(e,_))};return(0,x.jsxs)(i.xu,{children:[(0,x.jsxs)(i.xu,{paddingY:4,children:[(0,x.jsx)(i.xv,{size:"300",children:d._('When did the violation occur?', 'reportPinReasonDetail.videoPin.violationTime.header', 'Header for reporting when a video pin violation occurred')}),(0,x.jsx)(i.xu,{marginTop:2,children:(0,x.jsx)(i.nv,{errorMessage:f?d._('The violation time cannot be longer than the video.', 'reportPinReasonDetail.videoPin.violationTime.errorMessage', 'Error shown when user is reporting a video pin and they attempt to select a time span longer than the total time of the video'):"",helperText:d._('Minutes : Seconds', 'reportPinReasonDetail.videoPin.violationTime.helperText', 'Label for input for the time of video where violation occured in report pin flow'),id:"timestamp",onChange:function(e){return v(e.value)},placeholder:"00:00",size:"lg",value:a})})]}),(0,x.jsxs)(i.xu,{paddingY:4,children:[(0,x.jsx)(i.xv,{size:"300",children:d._('What kind of violation is it?', 'reportPinReasonDetail.videoPin.violationType.header', 'Header for reporting a video pin violation type')}),(0,x.jsx)(i.xu,{marginTop:2,children:[{id:"visual",text:d._('Visual', 'reportPinReasonDetail.videoPin.violationType.visualLabel', 'Option for reporting a video pin violation type')},{id:"audio",text:d._('Audio', 'reportPinReasonDetail.videoPin.violationType.audioLabel', 'Option for reporting a video pin violation type')},{id:"audioVisual",text:d._('Audio and Visual', 'reportPinReasonDetail.videoPin.violationType.audioVisualLabel', 'Option for reporting a video pin violation type')}].map(function(e){return(0,x.jsxs)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:[(0,x.jsx)(i.iP,{onTap:function(){return o(e.id)},children:(0,x.jsx)(i.X6,{size:"400",children:e.text})}),(0,x.jsx)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:s===e.id&&(0,x.jsx)(i.JO,{accessibilityLabel:d._('Checked video violation type', 'reportPinReasonDetail.videoPin.violationType.checkMark', 'Accessibility label on check icon for video violation types'),color:"default",icon:"check",size:20})})]},e.id)})})]})]})}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.keyPrefix,n=e.exampleList;return n?(0,x.jsx)(i.xu,{marginTop:2,children:(0,x.jsx)(i.aV,{type:"unordered",children:n.map(function(e,n){return(0,x.jsx)(i.aV.Item,{text:(0,x.jsx)(i.xv,{size:"300",children:e})},"".concat(t,"-").concat(n))})})}):null}function Z(e){var t=e.handleSubmitReport,n=e.objectToReport,o=e.reportingReason,a=n.hasVideos,s=n.hasVHLSV4Video,c=n.vHLSV4VideoDuration,p=n.userToBlock,f=(0,l.ZP)();(0,u.Z)(function(){window&&window.scrollTo(0,0)});var h=R((0,r.useState)("visual"),2),_=h[0],v=h[1],m=R((0,r.useState)(""),2),y=m[0],b=m[1],j=R((0,r.useState)((null==p?void 0:p.blockedByMe)||!1),2),w=j[0],k=j[1],A=(0,d.Z)(),z=n.type===g;return(0,x.jsxs)(i.xu,{"data-test-id":"report-reason-detail",paddingX:2,children:[(0,x.jsxs)(i.xu,{paddingY:4,children:[(0,x.jsx)(i.xv,{size:"300",children:o.detail_page_removal_example_header}),(0,x.jsx)(O,{exampleList:o.detail_page_removal_examples,keyPrefix:"removals"})]}),o.detail_page_non_removal_examples.length>0&&(0,x.jsxs)(i.xu,{paddingY:4,children:[(0,x.jsx)(i.xv,{size:"300",children:o.detail_page_non_removal_example_header}),(0,x.jsx)(O,{exampleList:o.detail_page_non_removal_examples,keyPrefix:"nonremovals"})]}),o.detail_page_additional_text&&(0,x.jsx)(i.xu,{paddingY:4,children:(0,x.jsx)(i.xv,{size:"300",children:o.detail_page_additional_text})}),a&&(0,x.jsx)(T,{hasVHLSV4Video:null!=s&&s,setVideoTimestamp:b,setVideoViolationType:v,vHLSV4VideoDuration:c,videoTimestamp:y,videoViolationType:_}),p&&z&&(0,x.jsx)(P,{handleUpdateShouldBlockUser:function(){w||A(),k(!w)},isConversationReportModal:z,objectToReport:n,shouldBlockUser:w,userToBlock:{fullName:p.fullName,id:p.id,username:p.username}}),(0,x.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:3,children:(0,x.jsx)(i.zx,{color:"red",onClick:function(){t({reasonKey:o.key,selectedReason:o,videoViolationType:_,videoTimestamp:y,shouldBlockUser:w})},size:"lg",text:f._('Report', 'reportPinReasonDetail.reportButton', 'Button text for reporting a pin in report pin flow')})})]})}function I(e){var t=e.onClick,n=e.reportingReasons,o=(0,l.ZP)();return(0,r.useEffect)(function(){window&&window.scrollTo(0,0)},[]),(0,x.jsx)(i.xu,{"data-test-id":"report-reason-selection",paddingX:2,children:n.map(function(e){var n=e.key,r=e.primary_text,a=e.secondary_text;return(0,x.jsx)(i.iP,{onTap:function(){return t(e)},children:(0,x.jsxs)(i.xu,{alignItems:"center","data-test-id":"report-reason-selection-".concat(e.key),display:"flex",flex:"grow",justifyContent:"between",paddingY:3,children:[(0,x.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,x.jsx)(i.X6,{accessibilityLevel:2,size:"400",children:r}),(0,x.jsx)(i.xv,{color:"subtle",size:"300",children:a})]}),(0,x.jsx)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",minWidth:18,children:(0,x.jsx)(i.JO,{accessibilityLabel:o._('Arrow Forward', 'reportPinReasonSelection.openUrl.accessibilityLabel', 'Accessibility label on arrow icon'),color:"default",icon:"arrow-forward",size:16})})]})},n)})})}function D(e){var t=e.isLink,n=e.title,r=(0,l.ZP)();return(0,x.jsxs)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"between",paddingY:3,children:[(0,x.jsx)(i.X6,{size:"400",children:n}),void 0!==t&&t?(0,x.jsx)(i.JO,{accessibilityLabel:r._('Navigation arrow', 'reportPinSecondaryReason.openUrl.accessibilityLabel', 'Accessibility label on arrow icon to navigate to another url'),color:"default",icon:"arrow-up-right"}):(0,x.jsx)(i.JO,{accessibilityLabel:r._('Navigation arrow', 'reportPinSecondaryReason.openReasonDetail.accessibilityLabel', 'Accessibility label on arrow icon to navigate to reason detail page'),color:"default",icon:"arrow-forward"})]})}function L(e){var t=e.onChange,n=e.secondaryReasons;return(0,u.Z)(function(){window&&window.scrollTo(0,0)}),(0,x.jsx)(i.xu,{"data-test-id":"report-secondary-reason",paddingX:2,children:n.map(function(e){var n=e.key,r=e.open_web_url,o=e.primary_text,a=r?r.slice(25):"";return r?(0,x.jsx)(i.Tg,{href:a,tapStyle:"none",children:(0,x.jsx)(D,{isLink:!0,title:o})},n):(0,x.jsx)(i.iP,{onTap:function(){return t(e)},children:(0,x.jsx)(i.xu,{"data-test-id":"report-secondary-reason-".concat(e.key),children:(0,x.jsx)(D,{title:o})})},n)})})}var U=n(588836);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M="primary",N="secondary",B="final";function H(e){var t,n=e.handleSubmitReport,u=e.objectToReport,d=e.reportingReasons,p=e.dismissConversationReportModal,f=(0,l.ZP)(),h=(0,a.Z)(),_=(0,o.TH)().state,v=E((0,r.useState)(null),2),m=v[0],y=v[1],b=E((0,r.useState)(M),2),j=b[0],w=b[1],P=u.type===g||"comment"===u.type,k=u.viewType||(null==_?void 0:_.viewType),A=u.viewParameter||(null==_?void 0:_.viewParameter),z=function(e){y(e),k&&A&&h({event_type:102,view_type:k,view_parameter:A,component:13179,element:e.element_type,object_id_str:u.id}),e.secondary_reasons&&e.secondary_reasons.length>0?w(N):w(B),e.open_web_url&&(window.location.href=e.open_web_url)};if(!d)return(0,x.jsx)(i.xH,{accessibilityLabel:f._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0});var S=P?(0,x.jsx)(i.hU,{accessibilityLabel:f._('close report modal', 'ReportModal.close', 'icon that will dismiss the report modal on click'),bgColor:"transparent",icon:"cancel",iconColor:"darkGray",onClick:p,padding:3,size:"sm"}):(0,x.jsx)(U.Z,{color:"darkGray",icon:"cancel",padding:3,size:"xs"});return(0,x.jsxs)(c.default,{hasFixedHeader:!0,children:[(0,x.jsx)(s.default,{children:(0,x.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(i.xu,{column:2,marginStart:-1,children:j===M?S:(0,x.jsx)(i.hU,{accessibilityLabel:f._('Back', 'reportPin.navigateBack.accessibilityLabel', 'Navigation button to return back to the selection list'),bgColor:"transparent",icon:"arrow-back",iconColor:"darkGray",onClick:function(){return w(M)},padding:3,size:P?"sm":"xs"})}),(0,x.jsx)(i.xu,{column:8,children:(0,x.jsx)(i.X6,{accessibilityLevel:1,align:"center",size:P?"400":"300",children:j!==M&&null!=m&&m.detail_page_header_text?m.detail_page_header_text:"pin"===(t=u.type)?f._('Report Pin', 'reportModal.heading', 'Heading for report pin page in report pin flow'):"user"===t?f._('Report account', 'reportModal.heading', 'Heading for report user page in report user flow'):"conversation"===t?f._('Report message', 'reportModal.heading', 'Heading for report message modal on conversation page'):"board"===t?f._('Report board', 'reportModal.heading', 'Heading for report board modal on board page'):"comment"===t?f._('Report Comment', 'reportModal.heading.comment', 'Heading for report pin comment page in report comment flow'):""})}),(0,x.jsx)(i.xu,{column:2})]})}),j===M&&(0,x.jsx)(I,{onClick:z,reportingReasons:d}),j===N&&(null==m?void 0:m.secondary_reasons)&&m.secondary_reasons.length>0&&(0,x.jsx)(L,{onChange:z,secondaryReasons:m.secondary_reasons}),j===B&&(null==m?void 0:m.detail_page_header_text)&&(0,x.jsx)(Z,{handleSubmitReport:n,objectToReport:u,reportingReason:m})]})}},793785:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(20256),o=n(382718);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e){var t,n=e.collaborators,a=e.isMobileConversationAvatar,l=e.isConvoRepOnSharesheet,s=e.isConvoRepOnInbox,c=function(e){if(Array.isArray(e))return e}(t=a||l||s?["calc(100% * 2 / 3)","calc(100% / 3)"]:["75%","25%"])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1];return(0,o.jsxs)(r.xu,{position:"relative",width:a?"100%":64,children:[(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),(n||[]).slice(0,2).map(function(e,t){var n=e.defaultDisplayName,i=e.src;return(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:l||s?{right:0===t?0:d,top:0===t?0:d}:{left:0===t?0:d,top:0===t?0:d}},height:u,position:"absolute",width:u,children:(0,o.jsx)(r.qE,{name:n,outline:!0,src:i})},"".concat(n,"-").concat(t))})]})}},401450:function(e,t,n){n.d(t,{Ge:function(){return p},JS:function(){return s},OF:function(){return m},P_:function(){return c},Q_:function(){return _},b8:function(){return v},cg:function(){return u},h2:function(){return f},h6:function(){return h}});var r=n(575108),o=n(686319),i=n(843466);function a(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)})}}function s(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},u=function(e,t){return{type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},p=function(e){var t,n=e.id,o=e.orbacSubjectId,i=e.blockSource,a=e.blockContext,s=e.logContextEvent;return t=l(regeneratorRuntime.mark(function e(t){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(n,!0)),e.next=3,r.Z.create("UserBlockResource",{blocked_user_id:n,orbac_subject_id:o,block_source:i,block_context:a}).callCreate().catch(function(){return t(d(n,!1))});case 3:return l=e.sent,s({event_type:54,object_id_str:n}),e.abrupt("return",l);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},f=function(e,t){var n;return n=l(regeneratorRuntime.mark(function n(o){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o(d(e,!1)),n.next=3,r.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return o(d(e,!0))});case 3:return i=n.sent,t({event_type:55,object_id_str:e}),n.abrupt("return",i);case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}};function h(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var _=function(e,t){return function(){return r.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},v=function(e,t,n){return function(r,a){(0,o.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){n({event_type:48,object_id_str:a().session.userId}),e(),(0,i.Z)()},t)}},m=function(e){return(0,o.Z)({url:"/v3/register/exists/",data:{email:e}})}},28386:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(20256),o=n(744862),i=n(382718),a="100%";function l(e){var t=e.collaborators;if(t.length<3)return null;var n=t[0],l=t[1],s=t[2];return(0,i.jsxs)(r.xu,{height:a,position:"relative",width:a,children:[l&&(0,i.jsx)(r.xu,{bottom:!0,height:"55%",left:!0,position:"absolute",width:"55%",children:(0,i.jsx)(o.qE,{name:l.defaultDisplayName,outline:!0,src:l.src})}),n&&(0,i.jsx)(r.xu,{display:"flex",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,i.jsx)(r.xu,{height:"55%",width:"55%",children:(0,i.jsx)(o.qE,{name:n.defaultDisplayName,outline:!0,src:n.src})})}),s&&(0,i.jsx)(r.xu,{bottom:!0,height:"55%",position:"absolute",right:!0,width:"55%",children:(0,i.jsx)(o.qE,{name:s.defaultDisplayName,outline:!0,src:s.src})})]})}},744322:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(744862),o=n(793785),i=n(28386),a=n(382718);function l(e){var t=e.recipients,n=void 0===t?[]:t;switch(n.length){case 0:return null;case 1:return(0,a.jsx)(r.qE,{name:n[0].defaultDisplayName,size:"fit",src:n[0].src});case 2:return(0,a.jsx)(o.Z,{collaborators:n,isMobileConversationAvatar:!0});default:return(0,a.jsx)(i.Z,{collaborators:n})}}}}]);