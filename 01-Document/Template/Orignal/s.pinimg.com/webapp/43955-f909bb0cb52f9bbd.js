"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["43955"],{2170:function(e,r,t){t.d(r,{D:function(){return c},G:function(){return l}});var n=t(854237);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach(function(r){var n,a;n=r,a=t[r],(n=function(e){var r=function(e,r){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==o(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var u=["completed","dismissed","view-end"];function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case n.V$:var t=r.payload,o=t.experienceId,a=t.placementId,l=t.status,c=i({},e),s=c[a]||[],d=s.findIndex(function(e){return e.experience_id===o});return d>=0&&(u.includes(l)?s.splice(d,1):s[d].status=l),c;case n.$S:return i({},r.payload.experiencesMulti);default:return e}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case n.iY:var t=r.payload,o=t.placementId,a=t.status,l=i({},e);return l[o]&&(u.includes(a)?delete l[o]:l[o].status=a),l;case n.mR:return i(i({},e),r.payload.experiences);case n._4:return i({},r.payload.experiences);default:return e}}},842164:function(e,r,t){t.d(r,{Z:function(){return f}});var n=t(440568),o=t(849233),a=t(35831);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return l(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach(function(r){d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e,r,t){var n;return(n=function(e,r){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==i(n)?n:n+"")in e)?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var p=function(e){return{api_error_code:e.api_error_code,code:e.code,message:e.message,message_detail:e.message_detail,extraData:e.extraData||e.extra_data||void 0,httpStatus:e.httpStatus||e.http_status||void 0}};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(r.type===a.se){var t=s(s({},e||{}),{},d({},r.payload.resource,s({},(e||{})[r.payload.resource]||Object.freeze({})))),i="string"==typeof r.payload.optionsOrOptionsKey?r.payload.optionsOrOptionsKey:(0,n.Z)(r.payload.optionsOrOptionsKey);return delete t[r.payload.resource][i],0===Object.keys(t[r.payload.resource]).length&&delete t[r.payload.resource],t}if(r.type===a.zP||r.type===a.aW||r.type===a.cR||r.type===a.KK){var l=r.payload,c=l.options,f=l.resource,_=(0,n.Z)(c),y=(null==e?void 0:e[f])||{},b=function(e,r){switch(e.type){case a.KK:return s(s({},r||{}),{},{fetching:e.payload.isFetching,error:null});case a.cR:return s(s({},r||{}),{},{fetching:!1,error:p(e.payload.error),data:null});default:var t,n=e.payload,i=n.options,l=n.resource,c=n.response,d=e.type===a.zP&&e.payload.isRefresh,f=(t=(null==i?void 0:i.bookmarks)||c.bookmarks)&&t[0]!==o.qx?t[0]:o.qx,_=c.resource_response.error?p(c.resource_response.error):void 0,y=null==r?void 0:r.auxData,b=d||null==r?void 0:r.data,v=c.resource_response.data,m=c.auxData;if(("BaseSearchResource"===l||"VisualLiveSearchResource"===l||"StoreFrontSearchResource"===l||"VisualSearchFlashlightUnifiedResource"===l||"NativeInteractionsResource"===l)&&b?Array.isArray(b.results)&&(v=v?s(s({},b),{},{results:[].concat(u(b.results||[]),u(v.results||[]))}):b):Array.isArray(b)&&(v=[].concat(u(b||[]),u(v||[]))),"VisualSearchFlashlightUnifiedResource"===l&&y){var O=m.metadata.one_bar_modules||y.metadata.one_bar_modules;m.metadata.one_bar_modules=O}return s(s({},r||{}),{},{auxData:y?s(s({},y),m):m,data:v,fetching:!1,nextBookmark:f,error:_})}}(r,y[_]);return s(s({},e),{},d({},f,s(s({},y),{},d({},_,b))))}return e}},797471:function(e,r,t){function n(e,r,t,n){var o=r?"shop":0===e||2===e?"trending":1===e?"best":"article",a=t.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return"/today/".concat(o,"/").concat(encodeURIComponent(a),"/").concat(n,"/")}t.d(r,{T7:function(){return n},Y_:function(){return a},d9:function(){return u},nx:function(){return i},xt:function(){return o}});var o=function(e,r,t){return e||r||t||""},a=function(e){return"todayarticle"===e.type},i=function(e){return Array.isArray(e)&&e.length>0&&e.every(function(e){return"story"===e.type})},u=function(e,r){return(null!=e?e:1)/(null!=r?r:1)}},572572:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(425102);function o(e){var r,t,o,a,i,u,l,c,s,d,p,f,_,y,b,v,m,O,g,E,P,S,I,h,T,R,w,j,A,N,U,D,V,C,k,L,F,B,x,M,H,W,K,G,z;return e&&e.id?{allow_personalization_cookies:null!=(r=e.allow_personalization_cookies)&&r,allow_analytic_cookies:null!=(t=e.allow_analytic_cookies)&&t,allow_marketing_cookies:null!=(o=e.allow_marketing_cookies)&&o,avatar_color_index:e.avatar_color_index,boardCount:e.board_count,groupBoardCount:e.group_board_count,secretBoardCount:e.secret_board_count,pinCount:e.pin_count,eligibleForStlTool:e.eligible_for_stl_tool,isAuth:!0,id:e.id,epik:e.epik,username:e.username,fullName:null!=(a=e.full_name)?a:"",firstName:null!=(i=e.first_name)?i:"",lastName:null!=(u=e.last_name)?u:"",email:null!=(l=e.email)?l:"",facebookId:e.facebook_id,hasPassword:null!=(c=e.has_password)&&c,hasPublishedPins:e.has_published_pins,isEmployee:null!=(s=e.is_employee)&&s,isEligibleForCoreActionsHeader:null!=(d=e.is_eligible_for_core_actions_header)&&d,isEligibleForImageOnlyGrid:null!=(p=e.is_eligible_for_image_only_grid)&&p,isLimitedLogin:e.login_state===n.Z.LIMITED,isMaturedNewUser:null!=(f=e.is_matured_new_user)&&f,isPartner:null!=(_=e.is_partner)&&_,isPrivateProfile:null!=(y=e.is_private_profile)&&y,isUnder16:null!=(b=e.is_under_16)&&b,isUnder18:null!=(v=e.is_under_18)&&v,isWriteBanned:null!=(m=e.is_write_banned)&&m,imageSmallUrl:null!=(O=e.image_small_url)?O:"",imageMediumUrl:null!=(g=e.image_medium_url)?g:"",imageLargeUrl:null!=(E=e.image_large_url)?E:"",imageXLargeUrl:null!=(P=e.image_xlarge_url)?P:"",nags:null!=(S=e.nags)?S:[],profileDiscoveredPublic:null!=(I=e.profile_discovered_public)&&I,shouldDefaultCommentsOff:e.should_default_comments_off,showDiscoveredFeed:null!=(h=e.show_discovered_feed)&&h,createdAt:null!=(T=e.created_at)?T:"",resurrectionInfo:e.resurrection_info&&e.resurrection_info.resurrection_dt?{resurrectionDate:e.resurrection_info.resurrection_dt}:void 0,country:null!=(R=e.country)?R:"",domainUrl:e.domain_url,domainVerified:e.domain_verified,isAnyWebsiteVerified:e.is_any_website_verified,verifiedWebsites:e.verified_user_websites,listedWebsiteUrl:null!=(w=e.listed_website_url)?w:"",gender:e.gender,customGender:e.custom_gender,firstHomeFeedRequestAfterNux:null!=(j=e.firstHomeFeedRequestAfterNux)&&j,partner:e.partner,socialNetwork:{facebook:{connected:!!e.connected_to_facebook},google:{connected:!!e.connected_to_google},youtube:{connected:!!e.connected_to_youtube},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:!!e.connected_to_microsoft},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:!!e.connected_to_etsy},instagram:{connected:!!e.connected_to_instagram,username:null==(A=e.instagram_data)?void 0:A.username,url:null==(N=e.instagram_data)?void 0:N.url},dropbox:{connected:!!e.connected_to_dropbox}},can_enable_mfa:null!=(U=e.can_enable_mfa)&&U,has_mfa_enabled:null!=(D=e.has_mfa_enabled)&&D,is_sso_user:null!=(V=e.is_sso_user)&&V,has_quicksave_board:e.has_quicksave_board,phone_country:null!=(C=e.phone_country)?C:"",phone_number:null!=(k=e.phone_number)?k:"",phone_number_end:null!=(L=e.phone_number_end)?L:"",push_package_user_id:null!=(F=e.push_package_user_id)?F:"",third_party_marketing_tracking_enabled:void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled,age_in_years:e.age_in_years,save_behavior:e.save_behavior,shopping_rec_disabled:e.shopping_rec_disabled,show_personal_boutique:null!=(B=e.show_personal_boutique)&&B,should_show_messaging:null!=(x=e.should_show_messaging)&&x,isParentalControlPasscodeEnabled:null!=(M=e.is_parental_control_passcode_enabled)&&M,isParentalControlPasscodeVerificationPending:null!=(H=e.is_parental_control_passcode_verification_pending)&&H,isCandidateForParentalControlPasscode:null!=(W=e.is_candidate_for_parental_control_passcode)&&W,parentalControlAnonymizedEmail:null!=(K=e.parental_control_anonymized_email)?K:"",teenSafetyOptionsUrl:null!=(G=e.teen_safety_options_url)?G:"",weight_loss_ads_opted_out:null!=(z=e.weight_loss_ads_opted_out)&&z}:{isAuth:!1,isLimitedLogin:!1}}},63064:function(e,r,t){var n=t(991384);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach(function(r){u(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e,r,t){var n;return(n=function(e,r){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==o(n)?n:n+"")in e)?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}r.Z=function(e,r){return function(t,o){var a=r(t,o);if(o.payload&&!Array.isArray(o.payload)){var l,c=o.payload.normalizedResponse;if(c&&c.entities&&c.entities[e])return Object.keys(l=c.entities[e]).reduce(function(e,r){return i(i({},e),{},u({},r,(0,n.Z)(e[r],l[r])))},a)}return a}}},363462:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(994345),o=t(284448),a=t(98824),i=[o.Z,function(e){return function(r){return function(t){if("ERROR_LOG_EVENT"===t.type){var n=t.error,o=t.auxData;return(0,a.H)(n,o),r(t)}try{return r(t)}catch(r){return(0,a.H)(r||Error("unknown error"),{action:t}),e.getState()}}}}],u=function(){return n.applyMiddleware.apply(void 0,i)}},408998:function(e,r,t){t.d(r,{Z:function(){return j}});var n=t(872555),o=t(672410),a=t(503246),i=t(991384),u=t(35831),l=t(123317),c=t(63064),s=t(797471),d=function(e){return e||[]},p=function(e){return e?e.reduce(function(e,r){return null!=r&&r.objects?e.concat(r.objects):e.concat([r].filter(Boolean))},[]):[]},f=function(e){return e&&Array.isArray(e)?e.map(function(e){return e.content_pin}).filter(function(e){return!!e}):[]},_={ApiResource:function(e){if(e&&Array.isArray(e)){var r=[];return e.forEach(function(e){e.call_to_create_source_pin_id?r.push(e):"story"===e.type&&e.objects&&Array.isArray(e.objects)?e.objects.forEach(function(e){r.push(e)}):"pin"===e.type&&r.push(e)}),r}return[]},BaseSearchResource:function(e){return e?p(e.results):[]},BoardContentRecommendationResource:d,BoardFeedResource:d,BoardlessPinsResource:d,BoardSectionPinsResource:d,BoardShopSavedProductsFeedResource:d,BrandCatalogFeedResource:d,CategoryFeedResource:d,DomainFeedResource:d,InterestResource:function(e){return e?e.results:[]},LiveSessionProductsResource:function(e){return e?Object.values(e).reduce(function(e,r){return e.concat(r)},[]):[]},NewsHubDetailsResource:function(e){return e?e.reduce(function(e,r){return r.content_items?e.concat(r.content_items.map(function(e){return e.content_object}).filter(Boolean)):e},[]):[]},RelatedModulesResource:p,RelatedPinFeedResource:d,RelatedStreamResource:d,SearchResource:d,TaggedObjectsResource:p,TodayArticleFeedResource:function(e){return(0,s.nx)(e)?e.reduce(function(e,r){if(Array.isArray(r.objects)){var t=[];return r.objects.forEach(function(e){var r;"todayarticle"===e.type&&(null==(r=e.content_pin)?void 0:r.type)==="pin"?t.push(e.content_pin):"pin"===e.type&&t.push(e)}),e.concat(t)}return e},[]):e||[]},TodayTabInterestFeedResource:f,TodayTabResource:f,TopicFeedResource:d,UserHomefeedResource:p,UserActivityPinsResource:d,UserRecentActivityResource:d,UserStoryPinsFeedResource:d,UserPinsResource:d,VisualLiveSearchResource:function(e){return e?e.results:[]},VisualLiveSearchProductFeedResource:d,VisualLinkVisualSearchResource:d,VisualSearchFlashlightUnifiedResource:function(e){return e?p(e.results):[]},BestPinsFeedAltResource:d,StoryFeedResource:p},y=t(564088),b=["savedInfo"],v=["savedInfo"],m=["savedInfo"];function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function E(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach(function(r){I(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function I(e,r,t){var n;return(n=function(e,r){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==O(n)?n:n+"")in e)?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var h=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.Z)(e,r,t?function(e,r){return null===r?e:void 0}:void 0);return(0,a.ZP)(e,n)?e:n},T=function(e,r){return S(S({},e),{},I({},r.id,S(S({},e[r.id]||{}),r)))},R=function(e,r){var t,n,o,a=r.payload,i=a.pinId,u=a.increment,l=a.reactionType;if(!e[i])return e;var c=null!=(t=e[i].reaction_counts)?t:{},s=null!=(n=c[l])?n:0,d=u?s+1:Math.max(s-1,0);return 0===d?(null==(o=e[i].reaction_counts)||delete o[l],T(e,{id:i,reaction_counts:S({},c)})):T(e,{id:i,reaction_counts:S(S({},c),{},I({},l,d))})};function w(e,r){var t=(0,y.Ig)();switch(r.type){case"CHANGE_CAROUSEL_SLOT_INDEX":var a=r.payload,i=a.id,u=a.index;if(i===e.id&&e.carousel_data)return S(S({},e),{},{carousel_data:S(S({},e.carousel_data),{},{index:u})});return e;case"SET_PIN_COMMENTS_DISABLED":var c=r.payload,s=c.id,d=c.pinCommentsDisabled;if(s===e.id)return S(S({},e),{},{comments_disabled:d,is_eligible_for_aggregated_comments:!d});return e;case"PIN_SAVE":var p=r.payload,f=p.boardId,_=p.localPinId,m=p.id,O=p.title,P=p.url,h=p.nodeId;if(m===e.id)return t&&h&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(h);r||(r=e.create(h,"Pin"));var t=r.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(f,"boardId"),t.setValue(_,"localPinId"),t.setValue(null,"score"),t.setValue(null,"sectionId"),t.setValue__UNSAFE(O,"title"),t.setValue(null,"type"),t.setValue(P,"url")}),S(S({},e),{},{savedInfo:{boardId:f,title:O,url:P,localPinId:_}});return e;case"PIN_UNSAVE":var T=r.payload,R=T.id,w=T.nodeId;if(R===e.id)return t&&w&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(w);r&&r.setValue(null,"savedInfo")}),e.savedInfo,E(e,b);return e;case"PIN_SHOW_SUGGESTED_CREATOR_RECS":if(r.payload.id===e.id)return S(S({},e),{},{show_suggested_creator_recs:r.payload.value});return e;case"PIN_QUICK_SAVE":var j=r.payload,A=j.pinId,N=j.boardId,U=j.localPinId,D=j.title,V=j.url,C=j.nodeId;if(A===e.id)return t&&C&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(C);r||(r=e.create(C,"Pin"));var t=r.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(N,"boardId"),t.setValue(U,"localPinId"),t.setValue(null,"score"),t.setValue(null,"sectionId"),t.setValue__UNSAFE(D,"title"),t.setValue(null,"type"),t.setValue(V,"url")}),S(S({},e),{},{savedInfo:{boardId:N,localPinId:U,title:D,url:V}});return e;case"PIN_SHOW_FEEDBACK":var k=r.payload,L=k.id,F=k.value,B=k.text,x=k.nodeId;if(L===e.id)return t&&x&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(x);r||(r=e.create(x,"Pin")),r.setValue(F,"showFeedback");var t=r.getOrCreateLinkedRecord("feedbackText","FeedbackText");t.setValue__UNSAFE(null==B?void 0:B.title,"title"),t.setValue__UNSAFE(null==B?void 0:B.subTitle,"subTitle");var n=null!=B?B:{},a=n.unfollow,i=n.undoCallbackProps,u=t.getOrCreateLinkedRecord("unfollow","Unfollow");u.setValue(null==a?void 0:a.action,"action"),u.setValue__UNSAFE(null==a?void 0:a.title,"title"),u.setValue__UNSAFE(null==a?void 0:a.subTitle,"subTitle");var l=t.getOrCreateLinkedRecord("undoCallbackProps","UndoCallbackProps");l.setValue(null==i?void 0:i.action,"action"),l.setValue(null==i?void 0:i.viewType,"viewType"),l.setValue(null==i?void 0:i.viewParameter,"viewParameter");var c=function(r,t){var n=r.getOrCreateLinkedRecord("actionOptions","ActionOptions");if(n.setValue(null==t?void 0:t.board_id,"boardId"),n.setValue(null==t?void 0:t.interest_id,"interestId"),n.setValue(null==t?void 0:t.interest_list,"interestList"),n.setValue(null==t?void 0:t.complaint_reason,"complaintReason"),n.setValue(null==t?void 0:t.feedback_type,"feedbackType"),n.setValue(null==t?void 0:t.pin_id,"pinId"),n.setValue(null==t?void 0:t.pin_type,"pinType"),n.setValue(null==t?void 0:t.pin,"pin"),n.setValue(null==t?void 0:t.promoted,"promoted"),n.setValue(null==t?void 0:t.recommendation_reason_id,"recommendationReasonId"),n.setValue(null==t?void 0:t.undo,"undo"),n.setValue(null==t?void 0:t.user_id,"userId"),n.setValue(null==t?void 0:t.query,"query"),n.setValue(null==t?void 0:t.news_id,"newsId"),n.setValue(null==t?void 0:t.through_id,"throughId"),n.setValue(null==t?void 0:t.client_tracking_params,"clientTrackingParams"),n.setValue(null==t?void 0:t.is_third_party_ad,"isThirdPartyAd"),null!=t&&t.through_properties){var a=Object.entries(t.through_properties).map(function(r){var t=function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,u=[],l=!0,c=!1;try{for(a=(t=t.call(e)).next;!(l=(n=a.call(t)).done)&&(u.push(n.value),2!==u.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(r,2)||function(e,r){if(e){if("string"==typeof e)return g(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1],i=e.create((0,o.Z)(),"ThroughProperties");return null==i||i.setValue(a,"data"),null==i||i.setValue(n,"key"),i});n.setLinkedRecords(a,"throughProperties")}};c(u,null==a?void 0:a.actionOptions),c(l,null==i?void 0:i.actionOptions)}),S(S({},e),{},{showFeedback:F,feedbackText:B});return e;case"PIN_UPDATE_COMMENT_COUNT":var M=r.payload,H=M.id,W=M.increment;if(H===e.id&&e.aggregated_pin_data){var K=S(S({},e.aggregated_pin_data),{},{comment_count:(e.aggregated_pin_data.comment_count||0)+W});return S(S({},e),{},{aggregated_pin_data:K})}return e;case"PIN_DID_IT":var G=r.payload,z=G.id,Z=G.value;if(z===e.id){var q=Z?1:-1,X=(e.aggregated_pin_data||{}).did_it_data,Y=S(S({},X),{},{images_count:((null==X?void 0:X.images_count)||0)+q}),Q=S(S({},e.aggregated_pin_data),{},{did_it_data:Y});return S(S({},e),{},{aggregated_pin_data:Q,done_by_me:Z})}return e;case"PIN_SHOW_FEEDBACK_OVERLAY":var $=r.payload,J=$.id,ee=$.value,er=$.nodeId;if(J===e.id)return t&&er&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(er);r||(r=e.create(er,"Pin")),r.setValue(ee,"showFeedbackOverlay")}),S(S({},e),{},{showFeedbackOverlay:ee});return e;case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":if(r.payload.id===e.id)return S(S({},e),{},{show_fewer_weight_loss_ads:r.payload.value});return e;case"APPROVE_PIN_SPONSORSHIP":var et,en=r.payload,eo=en.isApproved;if(en.pinId===e.id)return S(S({},e),{},{sponsorship:S(S({},e.sponsorship),{},{sponsor:eo?null==(et=e.sponsorship)?void 0:et.sponsor:void 0,status:eo?1:2})});return e;case"DELETE_PIN_SPONSORSHIP":var ea,ei,eu,el,ec=r.payload,es=ec.pinId,ed=ec.userId;if(es===e.id){if(ed===(null==(ea=e.sponsorship)||null==(ei=ea.creator)?void 0:ei.id))return S(S({},e),{},{sponsorship:void 0});if(ed===(null==(eu=e.sponsorship)||null==(el=eu.sponsor)?void 0:el.id))return S(S({},e),{},{sponsorship:S(S({},e.sponsorship),{},{sponsor:void 0,status:3})})}return e;case"PIN_UPDATE_REACTION_COUNT":var ep=r.payload,ef=ep.id,e_=ep.increment,ey=ep.reactionType;if(ef===e.id){var eb=e.reaction_counts,ev=void 0===eb?{}:eb,em=ev[ey]||0,eO=e_?em+1:Math.max(em-1,0),eg=e_?ey:0;if(0===eO){var eE=S(S({},e),{},{reaction_counts:S({},ev),reaction_by_me:eg});return delete eE.reaction_counts[ey],S({},eE)}var eP=S(S({},e),{},{reaction_counts:S(S({},ev),{},I({},ey,eO)),reaction_by_me:eg});return S({},eP)}return e;case"PIN_BETTER_SAVE":var eS=r.payload,eI=eS.pinId,eh=eS.boardId,eT=eS.localPin,eR=eS.localPinId,ew=eS.sectionId,ej=eS.title,eA=eS.type,eN=eS.url,eU=eS.nodeId;if(eI===e.id)return t&&eU&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(eU);r||(r=e.create(eU,"Pin"));var t=r.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(eh,"boardId"),t.setValue(eR,"localPinId"),t.setValue(null,"score"),t.setValue(ew,"sectionId"),t.setValue__UNSAFE(ej,"title"),t.setValue(eA,"type"),t.setValue(eN,"url")}),S(S({},e),{},{savedInfo:{boardId:null!=eh?eh:"",localPinId:eR||eT&&eT.id,sectionId:ew,title:ej,type:eA,url:eN}});return e;case"PIN_BETTER_SAVE_CUTOUT":var eD=r.payload,eV=eD.pinId,eC=eD.boardId,ek=eD.localPinId,eL=eD.title,eF=eD.type,eB=eD.url,ex=eD.nodeId;if(eV===e.id)return t&&ex&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(ex);r||(r=e.create(ex,"Pin"));var t=r.getOrCreateLinkedRecord("savedCutout","SaveTarget");t.setValue(eC,"boardId"),t.setValue(ek,"localPinId"),t.setValue__UNSAFE(eL,"title"),t.setValue(eF,"type"),t.setValue(eB,"url")}),S(S({},e),{},{savedCutout:{boardId:null!=eC?eC:"",localPinId:ek,title:eL,type:eF,url:eB}});return e;case"PIN_BETTER_UNSAVE":var eM=r.payload,eH=eM.pinId,eW=eM.nodeId;if(eH===e.id)return t&&eW&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(eW);r&&r.setValue(null,"savedInfo")}),e.savedInfo,E(e,v);return e;case"PIN_BETTER_UNSAVE_CUTOUT":var eK=r.payload,eG=eK.pinId,ez=eK.nodeId;if(eG===e.id){t&&ez&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(ez);r&&r.setValue(null,"savedCutout")});var eZ=S({},e);return delete eZ.savedCutout,S({},eZ)}return e;case"PIN_BETTER_SELECT_BOARD_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":var eq=r.payload,eX=eq.pinId,eY=eq.boardId,eQ=eq.sectionId,e$=eq.score,eJ=eq.title,e0=eq.type,e1=eq.url,e2=eq.nodeId;if(eX===e.id)return t&&e2&&(0,n.commitLocalUpdate)(t,function(e){var r=e.get(e2);r||(r=e.create(e2,"Pin"));var t=r.getOrCreateLinkedRecord("selectedItem","SaveTarget");t.setValue(eY,"boardId"),t.setValue(null,"localPinId"),t.setValue(e$,"score"),t.setValue(eQ,"sectionId"),t.setValue__UNSAFE(eJ,"subTitle"),t.setValue(e0,"type"),t.setValue(e1,"url")}),S(S({},e),{},{selectedItem:{boardId:null!=eY?eY:"",sectionId:eQ,score:e$,title:eJ,type:e0,url:e1}});return e;case"DELETE_PIN_MENTION":var e4=r.payload,e3=e4.pinId,e8=e4.userId;if(e3===e.id){var e6=e.story_pin_data;if(!e6)return e;var e5=e6.pages,e9=(void 0===e5?[]:e5).map(function(e){var r=e.blocks,t=(void 0===r?[]:r).map(function(e){return e.type===l.h8.MENTION_STICKER&&e.user_id===e8?S(S({},e),{},{is_removed:!0}):e});return S(S({},e),{},{blocks:t})}),e7=S(S({},e),{},{story_pin_data:S(S({},e6),{},{pages:e9})});return S({},e7)}return e;case"PIN_FAVORITE":var re=r.payload,rr=re.id,rt=re.increment,rn=re.value,ro=e.favorite_user_count;if(rr===e.id)return S(S({},e),{},{favorited_by_me:rn,favorite_user_count:(void 0===ro?0:ro)+rt});return e;default:return e}}var j=(0,c.Z)("pins",function(e,r){var t=e||{},o=(0,y.Ig)();switch(r.type){case u.zP:case u.aW:var a,i,l,c,s=r.payload,d=s.options,p=s.resource,f=s.response.resource_response.data,b=(d||{}).isDesktop;if(p in _){var v=_[p](f)||[],O=S({},t);return v.forEach(function(e){e.type&&"pin"!==e.type||(O[e.id]=h(t[e.id],e,!0))}),O}if(("PinResource"===p||"PinPageResource"===p)&&f){var g=(null!=d?d:{}).preserve_component_state,P=f||{};return S(S({},t),{},I({},P.id,void 0!==g&&g?h(P,t[P.id]):h(t[P.id],P)))}if("ApiResource"===p&&null!=d&&null!=(c=d.url)&&c.match(/\/v3\/pins\/([0-9]|[a-z]|[A-Z])+\/board_title_suggestions\//))return r.type===u.zP&&null!=(a=r.payload.options)&&a.pin_id?T(t,{id:r.payload.options.pin_id,boardTitleSuggestions:r.payload.response.resource_response.data.map(function(e){return e.title})}):t;if("BoardPickerBoardsResource"===p&&!b)return r.type===u.zP&&r.payload.normalizedResponse&&null!=(l=r.payload.options)&&l.pin_id?T(t,{id:r.payload.options.pin_id,boards_shortlist:r.payload.normalizedResponse.result.boards_shortlist}):t;else if("PinInterestsResource"===p){if(r.type===u.zP&&null!=(i=r.payload.options)&&i.pinId){var j=r.payload,A=j.options,N=j.response.resource_response.data;if(null!=N&&N.length)return T(t,{id:A.pinId,related_interest_ids:N.map(function(e){return e.id})})}}else if("StoryPinTaggedProductsResource"===p&&r.type===u.zP){var U=r.payload.response.resource_response.data;if(null!=U&&U[0])return U.reduce(function(e,r){return T(e,r)},t)}return t;case u.AF:var D=r.payload,V=function(e){var r=e.name,t=e.url,a=e.privacy,i=e.boardNodeId,u=e.boardId,l=e.nodeId;o&&l&&(0,n.commitLocalUpdate)(o,function(e){var n=e.get(l);n||(n=e.create(l,"Pin")),a&&n.setValue(a,"privacy");var o=e.get(i);o||((o=e.create(i,"Board")).setValue(u,"entityId"),o.setValue(r,"name"),o.setValue(t,"url"),o.setValue("board","type")),n.setLinkedRecord(o,"pinnedToBoard")})};if("RepinResource"===D.resource){var C,k=D.options,L=k.pin_id,F=k.board_id,B=D.response.resource_response.data.board,x=B.name,M=B.url,H=B.privacy,W=B.node_id;return V({name:x,url:M,privacy:H,boardNodeId:W,nodeId:null==t||null==(C=t[L])?void 0:C.node_id,boardId:F}),T(t,{id:L,pinned_to_board:{id:F,name:x,url:M,node_id:W,type:"board"},privacy:H})}if("BoardResource"===D.resource&&D.options.initial_pins){var K,G=D.options.initial_pins[0],z=D.response.resource_response.data,Z=z.name,q=z.id,X=z.url,Y=z.node_id;return V({name:Z,url:X,boardNodeId:Y,nodeId:null==t||null==(K=t[G])?void 0:K.node_id,boardId:q}),T(t,{id:G,pinned_to_board:{id:q,name:Z,url:X,node_id:Y,type:"board"}})}return t;case"CHANGE_CAROUSEL_SLOT_INDEX":case"PIN_DID_IT":case"PIN_SAVE":case"PIN_SHOW_SUGGESTED_CREATOR_RECS":case"PIN_UNSAVE":case"PIN_UPDATE_COMMENT_COUNT":case"SET_PIN_COMMENTS_DISABLED":case"PIN_SHOW_FEEDBACK":case"PIN_SHOW_FEEDBACK_OVERLAY":case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":case"PIN_FAVORITE":case"PIN_UPDATE_REACTION_COUNT":var Q=r.payload.id;if(!t[Q])return t;return S(S({},t),{},I({},Q,w(t[Q],r)));case"PIN_BETTER_SAVE":var $,J=r.payload,ee=J.localPin,er=J.pinId,et=J.nodeId,en=S({},t);return ee&&"pin"===ee.type&&(en[ee.id]=ee),en[er]=w(null!=($=t[er])?$:{id:er,node_id:null!=et?et:void 0,type:"pin"},r),en;case"PIN_BETTER_SAVE_CUTOUT":var eo,ea=r.payload,ei=ea.localPin,eu=ea.pinId,el=ea.nodeId,ec=S({},t);return ei&&"pin"===ei.type&&(ec[ei.id]=ei),t&&(ec[eu]=w(null!=(eo=t[eu])?eo:{id:eu,node_id:el,type:"pin"},r)),ec;case"PIN_BETTER_SELECT_BOARD_CUTOUT":var es,ed=r.payload,ep=ed.pinId,ef=ed.nodeId,e_=S({},t);return t&&(e_[ep]=w(null!=(es=t[ep])?es:{id:ep,node_id:ef,type:"pin"},r)),e_;case"APPROVE_PIN_SPONSORSHIP":case"DELETE_PIN_SPONSORSHIP":case"PIN_BETTER_UNSAVE":case"PIN_BETTER_UNSAVE_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":case"PIN_QUICK_SAVE":case"DELETE_PIN_MENTION":var ey=r.payload.pinId;if(!t[ey])return t;return S(S({},t),{},I({},ey,w(t[ey],r)));case"UPDATE_PINS_WITH_QUICKSAVE_REPIN":var eb=r.payload.newPin;if(eb&&"pin"===eb.type)return S(S({},t),{},I({},eb.id,eb));return t;case"PIN_REMOVE_USER_STORY_PIN_TAGGED_PRODUCTS":var ev,em,eO,eg=r.payload,eE=eg.blocksIds,eP=eg.pinId,eS=S({},t),eI=eS[eP];return eI=S(S({},eI),{},{story_pin_data:S(S({},eI.story_pin_data),{},{pages:null!=(ev=null==(em=eI.story_pin_data)||null==(eO=em.pages)?void 0:eO.map(function(e){var r;return e.blocks=null==(r=e.blocks)?void 0:r.map(function(e){return"story_pin_product_sticker_block"===e.type&&eE.includes(e.pin_id||"")&&(e.is_removed=!0),e}),e}))?ev:[]})}),eS[eP]=eI,eS;case"UPDATE_PIN_REACTION_COUNT":return R(t,r);case"PIN_DELETE":var eh=r.payload.pinId;return S({},Object.keys(t).reduce(function(e,r){return r!==eh&&(e[r]=t[r]),e},{}));case"PIN_EDIT":var eT=r.payload,eR=eT.pinId,ew=eT.description;return T(t,{id:eR,closeup_user_note:ew,board:{id:eT.boardId,type:"board"},section:{id:eT.sectionId},title:eT.title,unified_user_note:ew});case"ONE_TAP_SAVE":var ej=r.payload,eA=ej.boardId,eN=ej.localPinId,eU=ej.pinId,eD=ej.nodeId;if(t[eU])return o&&eD&&(0,n.commitLocalUpdate)(o,function(e){var r=e.get(eD);r||(r=e.create(eD,"Pin"));var t=r.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(eA,"boardId"),t.setValue(eN,"localPinId"),t.setValue(null,"score"),t.setValue(null,"sectionId"),t.setValue__UNSAFE(null,"title"),t.setValue(null,"type"),t.setValue(null,"url")}),T(t,{id:eU,savedInfo:{boardId:eA,localPinId:eN}});return t;case"ONE_TAP_UNSAVE":var eV=r.payload,eC=eV.pinId,ek=eV.nodeId,eL=t[eC];if(!eL)return t;o&&ek&&(0,n.commitLocalUpdate)(o,function(e){var r=e.get(ek);r&&r.setValue(null,"savedInfo")}),eL.savedInfo;var eF=E(eL,m);return S(S({},t),{},I({},eC,eF));default:return t}})},436968:function(e,r,t){t.d(r,{XT:function(){return j},rh:function(){return N},Cp:function(){return A},xw:function(){return U}});var n=t(994345);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach(function(r){var n,a;n=r,a=t[r],(n=function(e){var r=function(e,r){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==o(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var u={current:null,locationToErrorMap:{}};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach(function(r){var n,o;n=r,o=t[r],(n=function(e){var r=function(e,r){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==l(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var d={step:"welcome"};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach(function(r){var n,o;n=r,o=t[r],(n=function(e){var r=function(e,r){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==p(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var y={images:[]};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach(function(r){var n,o;n=r,o=t[r],(n=function(e){var r=function(e,r){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==b(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var O={images:[]};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach(function(r){I(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function I(e,r,t){var n;return(n=function(e,r){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==g(n)?n:n+"")in e)?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var h={recentSaves:[],recentUpsell:{}};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach(function(r){var n,o;n=r,o=t[r],(n=function(e){var r=function(e,r){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=T(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==T(r)?r:r+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var j={mainComponent:function(e,r){if(e=e||u,"SET_LOCATION_TO_ERROR_MAP_ENTRY"===r.type){var t=i({},e.locationToErrorMap);return t[r.payload.pathname]=r.payload.renderError,i(i({},e),{},{locationToErrorMap:t})}if("UNSET_LOCATION_TO_ERROR_MAP_ENTRY"===r.type){var n=i({},e.locationToErrorMap);return delete n[r.payload.pathname],i(i({},e),{},{locationToErrorMap:n})}return e}},A={nuxSelectedInterestImages:function(e,r){return(e=e||y,"SET_NUX_SELECTED_INTEREST_IMAGES"===r.type)?_(_({},e),{},{images:r.payload.images}):e},nuxSelectedPinImages:function(e,r){return(e=e||O,"SET_NUX_SELECTED_PIN_IMAGES"===r.type)?m(m({},e),{},{images:r.payload.images}):e},nuxProgress:function(e,r){return(e=e||d,"SET_NUX_PROGRESS"===r.type)?s(s({},e),{},{step:r.payload.step}):e},postRepinMoreIdeasUpsell:function(e,r){switch(e=e||h,r.type){case"PIN_BETTER_SAVE":var t,n=r.payload,o=n.localPin,a=n.boardId;if(!o||!a)return e;return S(S({},e),{},{recentSaves:[{boardId:a}].concat(function(e){if(Array.isArray(e))return E(e)}(t=e.recentSaves)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,r){if(e){if("string"==typeof e)return E(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});case"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN":var i=r.payload.boardId;return S(S({},e),{},{recentUpsell:S(S({},e.recentUpsell),{},I({},i,Date.now()))});default:return e}}},N=(0,n.combineReducers)(w(w({},j),A)),U=(0,n.combineReducers)(j)},534726:function(e,r,t){t.d(r,{ZP:function(){return _}});var n=t(35831),o=t(63064);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){c(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function c(e,r,t){var n;return(n=function(e,r){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==a(n)?n:n+"")in e)?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var s=["SearchResource","UserFollowingResource"],d=function(e,r){return l(l({},e),{},c({},r.id,l(l({},e["".concat(r.id)]),r)))},p=function(e,r){return r.reduce(function(e,r){var t=r.type;return t&&"user"!==t?e:d(e,r)},l({},e))};function f(e,r){var t,n;switch(r.type){case"UPDATE_USER_PIN_COUNT":var o=r.payload.increment;return l(l({},e),{},{pin_count:(e.pin_count||0)+o});case"USER_FOLLOW":var a=r.payload.value,i=a?1:-1;return l(l({},e),{},{explicitly_followed_by_me:a,follower_count:(null!=(t=e.follower_count)?t:0)+i});case"USER_FOLLOWING_COUNT":var u=r.payload.following;return l(l({},e),{},{following_count:(null!=(n=null==e?void 0:e.following_count)?n:0)+(u?1:-1)});case"USER_BLOCK":return l(l({},e),{},{blocked_by_me:r.payload.value},r.payload.value?{explicitly_followed_by_me:!1}:{});default:return e}}function _(e){var r,t=null!=(r=e&&e.id)?r:"";return(0,o.Z)("users",function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c({},_=null!=(u=e&&e.id)?u:"",l(l({},e||{}),{},{id:_})),o=arguments.length>1?arguments[1]:void 0,a=t?r[t]:void 0;switch(o.type){case"REPLACE_STATE":return l(l({},r),o.payload.users);case"BOARD_SECTION_DELETE":var u,_,y,b,v,m,O,g,E=o.payload,P=E.userId,S=E.pinCount,I=null!=(O=null==(g=r[P])?void 0:g.pin_count)?O:0;return d(r,{id:P,pin_count:I-S});case n.AF:var h=o.payload,T=h.options,R=h.resource,w=h.response,j=T.user_id;if(j){var A=r[j]||{},N=A.board_count,U=A.pin_count,D=void 0===U?0:U,V=w.resource_response;if("BoardResource"===R){var C=T.initial_pins,k=V.data.owner;return d(r,{id:j,pin_count:(void 0===k?{}:k).pin_count||D+C.length,board_count:(void 0===N?0:N)+1,last_repin_id:C[0]})}if("RepinResource"===R||"PinResource"===R&&"uploaded"===T.method){var L=T.pin_id,F=V.data.pinner;return d(r,{id:j,pin_count:((void 0===F?{}:F).pin_count||D)+1,last_repin_id:L})}}return r;case n.zP:case n.aW:var B=o.payload,x=B.resource,M=B.normalizedResponse,H=B.options,W=B.response.resource_response.data;if(o.type===n.zP&&"BoardPickerBoardsResource"===x&&M)return d(r,{id:(null==H?void 0:H.user_id)||"",recent_boards:M.result.boards_shortlist});if("UserResource"===x&&W)return d(r,W);if(s.includes(x)&&W)return p(r,W);if("TodayArticleResource"===x&&null!=W&&W.article_creator_user)return d(r,W.article_creator_user);if("TodayArticleFeedResource"===x&&Array.isArray(W))return p(r,W.filter(function(e){var r;return"story"===e.type&&(null==(r=e.user)?void 0:r.type)==="user"}).map(function(e){return e.user}));return r;case"USER_BLOCK":var K=o.payload.id;if(r[K])return l(l({},r),{},c({},K,f(r[K],o)));return r;case"USER_FOLLOW":var G=o.payload.id;if(r[G])return l(l({},r),{},c({},G,f(r[G],o)));return r;case"USER_FOLLOWING_COUNT":var z=o.payload.id;if(r&&r[z])return l(l({},r),{},c({},z,f(r[z],o)));return r;case"USER_BULK_FOLLOW":var Z=o.payload,q=Z.ids,X=Z.value,Y=l({},r);return q.forEach(function(e){var t=r[e];Y[e]=l(l({},t),{},{explicitly_followed_by_me:X})}),Y;case"USER_SETTING_CHANGE":return d(r,c({id:o.payload.id},o.payload.field,o.payload.value));case"USER_PARTNER_SETTING_CHANGE":return eu={id:o.payload.id,partner:c({},o.payload.field,o.payload.value)},l(l({},r),{},c({},eu.id,l(l({},r[eu.id]),{},{partner:l(l({},r[eu.id].partner),eu.partner)})));case"UPDATE_USER_PIN_COUNT":var Q=o.payload.userId;if(r[Q])return l(l({},r),{},c({},Q,f(r[Q],o)));return r;case"UPDATE_USER_SCHEDULED_PIN_COUNT":var $=o.payload,J=$.userId,ee=$.increment,er=r[J],et=er.scheduled_pin_count||0;return l(l({},r),{},c({},J,l(l({},er),{},{scheduled_pin_count:et+ee})));case"PROFILE_COVER_SOURCE":var en=o.payload,eo=en.coverSource,ea=en.id,ei=r[ea]||{};return l(l({},r),{},c({},ea,l(l({},ei),{},{profile_cover:eo})));case"BOARD_CREATE_COMPLETE":if(a&&!a.has_quicksave_board)return l(l({},r),{},c({},a.id,l(l({},a),{},{board_count:void 0===a.board_count?void 0:a.board_count+1})));return r;case"BOARD_DELETE":if(a){var eu,el,ec=o.payload.boardPinCount,es=null!=(el=a.pin_count)?el:0;return l(l({},r),{},c({},a.id,l(l({},a),{},{board_count:a.board_count?a.board_count-1:a.board_count,pin_count:es-(null!=ec?ec:0)})))}return r;case"PIN_DELETE":return d(r,{id:o.payload.userId,pin_count:(null!=(y=null==(b=r[o.payload.userId])?void 0:b.pin_count)?y:0)-1});case"PIN_ADD":var ed=o.payload.pinnerId;return d(r,{id:ed,pin_count:(null!=(v=null==(m=r[ed])?void 0:m.pin_count)?v:0)+1});case"SET_PERSONALIZATION_COOKIES":if(a){var ep=o.payload;return l(l({},r),{},c({},a.id,l(l({},a),{},{allow_personalization_cookies:ep.value})))}return r;case"SET_ANALYTICS_COOKIES":if(a){var ef=o.payload;return l(l({},r),{},c({},a.id,l(l({},a),{},{allow_analytic_cookies:ef.value})))}return r;case"SET_MARKETING_COOKIES":if(a){var e_=o.payload;return l(l({},r),{},c({},a.id,l(l({},a),{},{allow_marketing_cookies:e_.value})))}return r;case"ALLOW_ALL_COOKIES":if(a)return l(l({},r),{},c({},a.id,l(l({},a),{},{allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0})));return r;case"REJECT_ALL_COOKIES":if(a)return l(l({},r),{},c({},a.id,l(l({},a),{},{allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1})));return r;case"AUTHENTICATE_USER":case"REGISTER_USER":var ey=o.payload.user.id;return t=ey,l(l({},r),{},c({},ey,l(l({},r[ey]),o.payload.user)));case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":var eb=o.payload;if(a&&a.firstHomeFeedRequestAfterNux!==eb)return l(l({},r),{},c({},a.id,l(l({},a),{},{firstHomeFeedRequestAfterNux:eb})));return r;case"UPDATE_USER_SET":if(a){var ev=o.payload.partner?l(l({},a.partner),o.payload.partner):a.partner;return l(l({},r),{},c({},a.id,l(l(l({},a),o.payload),{},{partner:ev})))}return r;case"UPDATE_USER_SOCIAL_NETWORK":if(a){var em=o.payload.socialNetworkName;return l(l({},r),{},c({},a.id,l(l({},a),{},c({},"connected_to_".concat(em),o.payload.connected))))}return r;case"UPDATE_HAS_QUICKSAVE_BOARD":var eO=o.payload.createdQuicksaveBoard;if(a&&a.has_quicksave_board!==eO){var eg=o.payload.createdQuicksaveBoard;return l(l({},r),{},c({},a.id,l(l({},a),{},{has_quicksave_board:eg})))}return r;case"UPDATE_USER_SAVE_BEHAVIOR":var eE=o.payload.saveBehavior;if(a&&a.save_behavior!==eE)return l(l({},r),{},c({},a.id,l(l({},a),{},{save_behavior:eE})));return r;case"USER_DOMAIN_VERIFIED":if(a&&a.verified_user_websites){var eP,eS=o.payload.verifiedWebsite;return l(l({},r),{},c({},a.id,l(l({},a),{},{verified_user_websites:[].concat(function(e){if(Array.isArray(e))return i(e)}(eP=a.verified_user_websites)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(eP)||function(e,r){if(e){if("string"==typeof e)return i(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,void 0):void 0}}(eP)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[eS]),is_any_website_verified:!0})))}return r;case"USER_DOMAIN_UNVERIFIED":if(a&&a.verified_user_websites){var eI=o.payload.verifiedWebsite,eh=a.verified_user_websites&&a.verified_user_websites.indexOf(eI),eT=a.verified_user_websites&&a.verified_user_websites.slice(0);return eT&&eT.splice(eh,1),l(l({},r),{},c({},a.id,l(l({},a),{},{verified_user_websites:eT,isAnyWebsiteVerified:eT&&eT.length>0})))}return r;default:return r}})}}}]);