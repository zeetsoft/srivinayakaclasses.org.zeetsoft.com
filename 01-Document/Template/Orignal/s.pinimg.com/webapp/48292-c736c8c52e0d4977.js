"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["48292"],{592816:function(e,t,n){n.r(t);var i,r,l,a,o,s,c,u={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},c],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};u.hash="04834691a929e56b42c6699e90a97155",t.default=u;var d=u.default||u;if("query"===d.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(d);else{let e=[d.params.name,d.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=d}},817694:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var i=n(586659),r=n(20256),l=n(530355),a=n(667835),o=n(678213),s=n(19585),c=n(816358),u=n(15667),d=n(32937),p=n(941404),_=n(647709),m=n(104659),h=n(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=f(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var b=function(){if(document.body){var e=document.body.style;e.overflow="hidden",e.touchAction="none"}},w=function(){if(document.body){var e=document.body.style;e.overflow="visible",e.touchAction="auto"}};function x(e){var t,n,f=e.accessibilityModalLabel,y=e.align,x=void 0===y?"center":y,j=e.allowClickAndDrag,P=e.allowScroll,k=void 0!==P&&P,S=e.cancelButtonBackgroundColor,C=e.customizedHeading,A=e.children,I=e.closeOnOutsideClick,z=void 0===I||I,O=e.footer,T=e.heading,U=e.isOpen,R=e.mobileAccessibilityCloseIconLabel,E=e.mobileHeadingSize,L=e.mobileHideCloseIcon,Z=e.mobileIsFooter,D=e.mobileIsFullscreen,B=e.mobileIsFullpage,M=e.mobileIsSlideUp,N=e.onDismiss,F=e.shouldMoveCancelButtonRight,W=void 0!==F&&F,H=e.subHeading,Q=e.type,G=e.zIndex,K=e.mobileCancelButtonPaddingTop,J=e.mobileCancelButtonPaddingRight,X=e.mobileTopOffset,Y=(0,s.ZP)(),q=(0,u.B)().isRTL,V=(0,i.useRef)(null),$=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,l,a,o=[],s=!0,c=!1;try{for(l=(n=n.call(e)).next;!(s=(i=l.call(n)).done)&&(o.push(i.value),2!==o.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),ee=$[0],et=$[1],en=(0,m.G)().setAppFocusState,ei=(0,_.ZP)(),er=(0,a.vs)(),el=function(){if("undefined"==typeof window)return!1;var e,t,n=Math.max((null==(e=window.visualViewport)?void 0:e.width)||0,window.innerWidth,document.documentElement.clientWidth),i=Math.max((null==(t=window.visualViewport)?void 0:t.height)||0,window.innerHeight,document.documentElement.clientHeight);return n<=380||i<=760};(0,i.useEffect)(function(){return V.current=(0,l.Z)(function(){V.current&&et(!0)}),function(){"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&V.current&&(window.cancelAnimationFrame(V.current),V.current=null)}},[]),(0,i.useEffect)(function(){return U?(c.Z.pause(),en(!1),(0,p.My)("mweb_unauth.mobile_modal.".concat(Q||"unknown_type",".did_mount.is_open.true"))):(c.Z.resume(),en(!0)),function(){U&&(c.Z.resume(),en(!0),(0,p.My)("mweb_unauth.mobile_modal.".concat(Q||"unknown_type",".did_mount.is_open.false")))}},[en,U]),(0,i.useEffect)(function(){var e=U&&!k;return e&&b(),function(){e&&w()}},[U,k]);var ea=function(){return B?"fullpage":D?"fullscreen":"euPrompt"===Q?"euPrompt":"tablet"===ei?"tablet":Z?"footer":"signup"===Q?"signup":"repinPage"===Q?"repinPage":void 0};if(!U)return null;var eo=R&&!L;return(0,h.jsx)(d.Z,{allowClickAndDrag:j,children:(0,h.jsx)(r.mh,{children:(0,h.jsxs)(r.xu,{"aria-label":f,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:G||o.ZM,children:[(0,h.jsx)(r.iP,{accessibilityLabel:Y._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),dataTestId:"mobile-modal-mask-overlay",onTap:function(e){var t=e.event;t.clientX&&t.clientY&&(0,p.tj)("mweb_unauth.mobile_modal.wash_tap.".concat(Q||"unknown_type",".with_dismissal"),{x:t.clientX,y:t.clientY}),z&&N()},tapStyle:"none",children:(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new r.Ry(1)})}),(0,h.jsxs)(r.xu,{color:"default",dangerouslySetInlineStyle:M?(0,o.Vf)({isFullscreen:D,isTablet:"tablet"===ei,isShowing:ee,isRelatedInterestsModal:"related_interests_modal"===Q,isDarkMode:er}):g(g({},(0,o.JN)({isDarkMode:er,variant:ea()})),{},{__style:g(g({},(0,o.JN)({isDarkMode:er,variant:ea()}).__style),{},{transform:((null==(n=(0,o.JN)({isDarkMode:er,variant:ea()}).__style)?void 0:n.transform)||"")+function(){if(!X||M||!el())return"";var e,t,n=Math.min(1,(Math.max((null==(e=window.visualViewport)?void 0:e.width)||0,window.innerWidth,document.documentElement.clientWidth)-12)/380,(Math.max((null==(t=window.visualViewport)?void 0:t.height)||0,window.innerHeight,document.documentElement.clientHeight)-12)/600);return n=Math.max(.8,n)," scale(".concat(n,")")}()})}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:S||"rgba(0, 0, 0, 0)"}},children:(0,h.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:W?"end":"start",width:"100%",children:[eo&&!W&&(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:null!=K?K:void 0,paddingRight:null!=J?J:void 0}},"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,h.jsx)(r.hU,{accessibilityLabel:R,icon:"cancel",iconColor:er?"gray":"darkGray",onClick:N,padding:4,size:"lg"})}),T?(0,h.jsx)(r.kC.Item,{flex:"grow",children:(0,h.jsx)(r.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,h.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:R&&!L?{marginRight:q?-10:50,marginLeft:q?50:-10,paddingTop:16}:{paddingTop:16}},"data-test-id":"mobile-modal-heading",children:[D?T:(0,h.jsx)(r.xv,{align:x,size:E||"400",weight:"bold",children:T}),H?(0,h.jsx)(r.xv,{align:x,children:H}):null]})})}):null,C&&(0,h.jsx)(r.kC.Item,{flex:"grow",children:(0,h.jsx)(r.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:C})}),eo&&W&&(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:2,paddingTop:null!=K?K:2,paddingBottom:2,paddingRight:null!=J?J:void 0}},"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(r.hU,{accessibilityLabel:R,icon:"cancel",iconColor:er?"gray":"darkGray",onClick:N,padding:4,size:"lg"})})]})}),(0,h.jsxs)(r.xu,{overflow:"auto",children:[A,O]})]})]})})})}},607001:function(e,t,n){var i=n(417162),r=n(929915);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}t.Z=function(){var e=(0,i.g)(),t=(0,r.l)();return function(n){var i,r=n.mobileOptions,o=n.desktopOptions,s=n.reason,c=n.attributionLabel,u=n.pinId,d=n.savePinImageUrl;e?e.showDesktopSignupModal(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=l(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({signupFlow:(null==o?void 0:o.modalType)==="login"?{type:"login"}:{type:"signup"},reason:s,attributionLabel:c,savePinId:u,savePinImageUrl:d},null==o?void 0:o.modalOptions)):t&&t.showMobileSignupModal({reason:s,attributionLabel:c,headingType:null!=(i=null==r?void 0:r.headingType)?i:"none",pinId:u,savePinImageUrl:d})}}},815861:function(e,t,n){n.d(t,{Z:function(){return z}});var i=n(980787),r=n(675973),l=n(15667),a=n(936371),o=n(326687),s=n(672410),c=n(551383),u=n(378888),d=n(603316);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var m="http://play.google.com/store/apps/details?id=com.pinterest",h=["access_token","new_password","new_password_confirm","password","next"],f=function(e,t){return t?(0,u.ru)(e,{invite_code:t}):e},y=function(e,t,n){if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){var i=e.split("/")[2];e="discover_article/".concat(i,"/?is_deeplink=1")}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?f(e,n):"ios"===t||"ipad"===t?f(e.iOS,n):"android"===t?f(e.android,n):null},g=function(e){var t=e.deeplinkUri,n=e.invite_code,i=e.platform,r=e.fallbackUrl,l=e.unauthId,a=e.app_upsell_type;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=p(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({deeplink_path:y(t,i,n),current_page_url:(0,u.Gw)("undefined"!=typeof window?window.location.href:"",h),install_id:l,utm_source:140,utm_medium:2152,app_upsell_type:a},r?{af_r:r}:null)},v=function(e){var t=e.deeplinkUri,n=e.invite_code,i=e.platform,r=e.unauthId,l=e.app_upsell_type,a=JSON.stringify({deeplink_path:y(t,i,n),current_page_url:(0,u.Gw)("undefined"!=typeof window?window.location.href:"",h),install_id:r});return{referrer:(0,u.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:l})}},b=function(e){var t=e.unauthId,n=e.app_upsell_type;return{referrer:encodeURI((0,u.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:t,app_upsell_type:n}))}},w=function(){if("undefined"!=typeof window){var e=new URLSearchParams(window.location.search);return e.has("utm_source")&&e.get("utm_source").includes("google_search")}return!1},x=function(e){var t=e.isAuthenticated,n=e.checkExperiment,i=e.deeplinkUri,r=e.fallbackUrl,l=e.invite_code,a=e.logContextEvent,o=e.platform,p=e.redirectToLite,_=e.unauthId,h=e.userAgent,f=e.app_upsell_type,y=e.locale,x=e.isBot;if(null==a||a({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),i){var j=g({isAuthenticated:t,deeplinkUri:i,fallbackUrl:r,invite_code:l,platform:o,unauthId:_,userAgent:h,app_upsell_type:f});if((0,d.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:o}}),l&&(0,d.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,d.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!_}}),p){(0,d.nP)("mweb.deeplink.lite_link",{sampleRate:1}),null==a||a({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}});var P=b({unauthId:_,app_upsell_type:f});window.location.href=(0,u.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",P)}else if("android"===o){var k=v({deeplinkUri:i,invite_code:l,platform:o,unauthId:_,app_upsell_type:f});!x&&!t&&null!=y&&y.toLowerCase().includes("en-us")&&w()&&n&&"enabled"===n("single_tap_unauth_2").group?window.location.href="https://delivers.dtignite.com/v2/delivers/clickAd.jsp?siteId=16686&campaignId=49161&tsti=true&updateApp=false&enablePostInstallAutoLaunch=true&dvURL="+encodeURIComponent("https://app.appsflyer.com/com.pinterest?pid=dtsingletap_int&"+(0,u.XP)({c:"single_tap_unauth",af_c_id:"98888",clickid:(0,s.Z)()})):(0,c.v)()?(0,c.Z)().then(function(e){if(e.length>0){var t=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof i?i:i.android):window.location.href,n=(0,u.ru)(t,j);null==a||a({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.open(n)||null==a||a({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}})}else null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.location.href=(0,u.ru)(m,k)}).catch(function(){(0,d.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.location.href=(0,u.ru)(m,k))}else{if((0,d.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===o&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,u.ru)("https://pinterest.com/pinterest-predicts",j);return}null==a||a({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.location.href=(0,u.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",j)}}},j=n(382718);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=P(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n,i,r,l,a){try{var o=e[l](a),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(i,r)}function A(e){var t,n,a=e.children,s=e.invite_code,c=(0,l.B)(),u=c.locale,d=c.isAuthenticated,p=c.isBot,_=c.unauthId,m=c.userAgent,h=m.platform,f=m.raw,y=(0,i.u)().logContextEvent,g=(0,r.Z)().checkExperiment;return a((t=regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:n}}),x({isAuthenticated:d,checkExperiment:g,deeplinkUri:t,fallbackUrl:i,invite_code:s,logContextEvent:y,platform:h,redirectToLite:(0,o.Rp)({isBot:p,platform:h,userAgent:f}),unauthId:_,userAgent:f,app_upsell_type:n,locale:u,isBot:p});case 2:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(i,r){var l=t.apply(e,n);function a(e){C(l,i,r,a,o,"next",e)}function o(e){C(l,i,r,a,o,"throw",e)}a(void 0)})},function(e,t,i){return n.apply(this,arguments)}))}var I=function(e){return(0,j.jsx)(a.ty,{children:function(t){return(0,j.jsx)(A,S(S({},e),{},{invite_code:t}))}})};I.displayName="DeepLinkNavigator";var z=I},366859:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(20256),r=n(382718);function l(e){var t=e.children,n=e.onMouseEnter,l=e.onMouseLeave,a=e.onTouch,o=e.rounding,s=e.fullWidth,c=e.pressState,u=void 0===c?"none":c,d=e.accessibilityLabel,p=e.role,_=e.dataTestId,m=(Array.isArray(u)?u:[u]).includes("compress");return(0,r.jsx)(i.iP,{accessibilityLabel:d,dataTestId:_,fullWidth:void 0!==s&&s,onMouseEnter:n&&function(e){return n(e.event)},onMouseLeave:l&&function(e){return l(e.event)},onTap:a&&function(e){return a(e.event)},role:p,rounding:o,tapStyle:m?"compress":"none",children:t})}},278566:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(586659),r=n(963489),l=n(980787),a=n(346955),o=n(15667),s=n(941404),c=n(572227),u=n(155328),d=n(634405),p=n(815861),_=n(603316),m=n(382718);function h(e){var t=e.children,n=e.componentType,h=e.app_upsell_type,f=e.isShown,y=void 0===f||f,g=(0,r.TH)(),v=(0,l.u)(),b=v.flushContextEvents,w=v.logContextEvent,x=(0,a.SU)(),j=x.viewType,P=x.viewParameter,k=(0,c.Z)(),S=(0,o.B)().userAgent.platform;(0,i.useEffect)(function(){k({action:"view",item:"download-button",within:h})},[g,h,k]);var C=(0,i.useRef)(!1);(0,i.useEffect)(function(){y&&j&&202!==j?(w({component:n||13106,element:10308,event_type:9976,view_type:j,view_parameter:P,aux_data:{app_upsell_type:h,app_upsell_is_dupe:C.current}}),C.current=!0):(0,_.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:n,view_type:j,view_parameter:P,app_upsell_type:h,app_upsell_is_dupe:C.current}})},[j,P,n,h,w,y]);var A=(0,d.Z)();return(0,i.useEffect)(function(){A||(0,s.My)("mweb.app_upsell.forbidden_upsell.".concat(h))},[A,h]),(0,m.jsx)(p.Z,{children:function(e){return t({handleOpenApp:function(t){if(k({action:"click",item:"download-button",within:h}),(0,s.NC)("press_open_app",!0),w({component:n||13106,element:10308,event_type:102,view_type:j||202,view_parameter:P,aux_data:{app_upsell_type:h}}),w({component:n||13106,element:10308,event_type:9977,view_type:j||202,view_parameter:P,aux_data:{app_upsell_type:h}}),b(),e){var i;w({component:n||13106,element:10308,event_type:1701,view_type:j||202,view_parameter:P,aux_data:{app_upsell_type:h}}),e(null!=(i=null==t?void 0:t.deepLinkUri)?i:(0,u.Z)(g,"android"===S),h)}}})}})}},41672:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(650533),r=n(963489),l=n(20256),a=n(817694),o=n(19585),s=n(302148),c=n(506662),u=n(15667),d=n(886981),p=n(941404),_=n(378888),m=n(647709),h=n(341742),f=n(278566),y=n(228544),g=n(657235),v=n(920120),b=n(472500),w=n(326687),x=n(169053),j=n(382718),P=function(e){var t=e.description,n=e.handleDismiss,i=e.heading,r=e.i18n,a=e.appUpsellType,o=e.ctaText;return(0,j.jsx)(f.Z,{app_upsell_type:a,componentType:14155,children:function(e){var a=e.handleOpenApp;return(0,j.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,j.jsx)(l.xu,{paddingY:2,children:(0,j.jsx)(l.X6,{align:"center",size:"400",children:i})}),(0,j.jsx)(l.xu,{width:246,children:(0,j.jsx)(l.xv,{align:"center",size:"300",children:t})}),(0,j.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:5,children:[(0,j.jsx)(l.xu,{marginBottom:2,width:246,children:(0,j.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:function(){(0,g.Z)(),a()},size:"lg",text:o||r._('Open app', 'mweb.auth.referred_app_upsell.open_app', 'CTA text for referred app upsell')})}),(0,j.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:function(){n()},size:"lg",text:r._('Continue in browser', 'mweb.auth.referred_app_upsell.continue', 'Continue text for referred app upsell')})]})]})}})},k=function(e){var t=e.handleDismiss,n=e.i18n,i=e.iconSize,r=e.appUpsellType;return(0,j.jsxs)(l.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new l.Ry(5),children:[(0,j.jsx)(l.xu,{"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,j.jsx)(l.hU,{accessibilityLabel:n._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"cancel",onClick:t,size:"sm"})}),(0,j.jsxs)(l.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,j.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,j.jsx)(l.JO,{accessibilityLabel:n._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"brandPrimary",icon:"pinterest",size:i})}),(0,j.jsx)(P,{appUpsellType:r,description:n._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description1', 'description for referred app upsell'),handleDismiss:t,heading:n._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:n})]})]})},S=function(e){var t=e.backgroundImageUrl,n=e.handleDismiss,i=e.heroImage,r=e.i18n,a=e.multipleImages,o=e.appUpsellType;return(0,j.jsxs)(l.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new l.Ry(5),children:[(0,j.jsx)(l.xu,{height:319,position:"absolute",top:!0,width:"100%",zIndex:new l.Ry(2),children:(0,j.jsx)(l.Ee,{alt:r._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}),(0,j.jsxs)(l.xu,{alignItems:"center",bottom:!0,color:"light",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(12px)"}},direction:"column",display:"flex",left:!0,paddingX:5,position:"absolute",right:!0,top:!0,zIndex:new l.Ry(3),children:[(0,j.jsx)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{background:"transparent"}},"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,j.jsx)(l.hU,{accessibilityLabel:r._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"cancel",onClick:n,size:"sm"})}),(0,j.jsxs)(l.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,j.jsx)(l.kC,{justifyContent:"center",children:i}),(0,j.jsx)(P,{appUpsellType:o,description:a?r._('Save these ideas, get similar recs, and more', 'mweb.auth.referred_app_upsell.description2', 'description for referred app upsell'):r._('Save this idea, get similar recs, and more', 'mweb.auth.referred_app_upsell.description5', 'description for referred app upsell'),handleDismiss:n,heading:r._('It\'s better in the Pinterest app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:r})]})]})]})},C=function(e){var t=e.pinUrl,n=e.i18n;return(0,j.jsx)(l.xu,{height:235,marginBottom:6,overflow:"hidden",rounding:4,width:176,children:(0,j.jsx)(l.Ee,{alt:n._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:t})})};function A(e){var t=e.onDismiss,n=e.viewParameter,A=e.viewType,I=(0,o.ZP)(),z=(0,m.Wb)(),O=(0,u.B)(),T=O.isBot,U=O.userAgent,R=U.platform,E=U.raw,L=(0,w.Rp)({isBot:T,platform:R,userAgent:E}),Z=(0,v.Z)().trackAppUpsellDismiss,D=z?60:32,B=(0,i.$B)(),M=(0,r.TH)(),N=(0,_.mB)(M.search).invite_code,F=(0,y.C)(),W=F.appUpsellType,H=F.uiType;(0,h.Z)(function(){(0,p.My)("mweb.referred_app_upsell_view.".concat(H))});var Q=function(){Z({appUpsellType:W,viewType:A,viewParameter:n,component:14155,element:10308}),(0,g.Z)(),t()},G=null!=(en=B.params.id)?en:"",K=(0,d.Z)(G?{name:"PinResource",options:{field_set_key:"detailed",id:G}}:null).data,J=(0,x.S6)()(G),X=(0,i.UO)(),Y=X.username,q=X.slug,V=(0,d.Z)(Y&&q?{name:"BoardResource",options:{username:(0,_.Jx)(Y),slug:(0,_.Jx)(unescape(q||"")),field_set_key:"detailed"}}:null).data;if("full"===H){var $="",ee=null,et=!1;if((0,c.L6)(M)){var en,ei,er,el=null!=K?K:J;$=(null==el||null==(ei=el.images)||null==(er=ei.orig)?void 0:er.url)||"",ee=(0,j.jsx)(C,{i18n:I,pinUrl:$})}if((0,c.am)(M)&&V&&V.images&&V.images["474x"])if(V.images["474x"].length>2){$=V.images["474x"][0].url||"";var ea=V.images["474x"][1].url||"",eo=V.images["474x"][2].url||"";et=!0,ee=(0,j.jsx)(l.xu,{marginBottom:7,children:(0,j.jsxs)(l.kC,{children:[(0,j.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px",marginRight:"1px"}},height:117,overflow:"hidden",width:117,children:(0,j.jsx)(l.Ee,{alt:I._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:$})}),(0,j.jsxs)(l.kC,{direction:"column",children:[(0,j.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"16px",marginBottom:"1px"}},height:59,overflow:"hidden",width:57,children:(0,j.jsx)(l.Ee,{alt:I._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:ea})}),(0,j.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:"16px"}},height:57,overflow:"hidden",width:58,children:(0,j.jsx)(l.Ee,{alt:I._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:eo})})]})]})})}else V.images["474x"].length>0&&($=V.images["474x"][0].url||"",ee=(0,j.jsx)(C,{i18n:I,pinUrl:$}));return $?(0,j.jsx)(S,{appUpsellType:W,backgroundImageUrl:$,handleDismiss:Q,heroImage:ee,i18n:I,multipleImages:et}):(0,j.jsx)(k,{appUpsellType:W,handleDismiss:Q,i18n:I,iconSize:D,upsellAppIsAndroidLiteApp:L})}if("inline"===H){var es=(0,j.jsx)(l.xu,{color:"light",padding:1,rounding:1,children:(0,j.jsx)(l.JO,{accessibilityLabel:I._('Pinterest logo', 'AppUpsellFooter.icon', 'Pinterest logo icon for app upsell footer'),color:"brandPrimary",icon:"pinterest",inline:!0,size:28})}),ec=I._('It\'s better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell'),eu=I._('Get similar recs and more', 'mweb.auth.referred_app_upsell.description4', 'description for referred app upsell');return W.endsWith("social-referred")&&N&&(ec=(0,j.jsx)(b.UseCloseupInviteQuery,{variables:{inviteCode:N},children:function(e){var t,n,i,r;return(0,s.nk)(I._('{{ invitee }} shared this idea', 'mweb.auth.referred_app_upsell.heading5', 'heading for referred app upsell that has the invitee info'),{invitee:(null==(t=e.v3GetInviteCodeQuery)?void 0:t.__typename)==="InviteCodeResponse"?null==(n=e.v3GetInviteCodeQuery)||null==(i=n.data)||null==(r=i.sender)?void 0:r.firstName:""})}}),eu=I._('Open app to discover more', 'mweb.auth.referred_app_upsell.description6', 'description for referred app upsell'),N&&(es=(0,j.jsx)(b.UseCloseupInviteQuery,{variables:{inviteCode:N},children:function(e){var t,n,i;return(0,j.jsx)(l.xu,{height:48,overflow:"hidden",rounding:6,width:48,children:(null==(t=e.v3GetInviteCodeQuery)?void 0:t.__typename)==="InviteCodeResponse"&&(null==(n=e.v3GetInviteCodeQuery.data)||null==(i=n.sender)?void 0:i.imageMediumUrl)&&(0,j.jsx)(l.Ee,{alt:I._('App upsell profile image', 'mweb.auth.referred_app_upsell.image1', 'image for referred app upsell, using invitee profile image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e.v3GetInviteCodeQuery.data.sender.imageMediumUrl})})}}))),(0,j.jsx)(f.Z,{app_upsell_type:W,children:function(e){var t=e.handleOpenApp;return(0,j.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#F1F1F1"}},direction:"row",display:"flex",height:74,padding:4,width:"100%",zIndex:new l.Ry(99999),children:(0,j.jsx)(l.iP,{onTap:function(){(0,g.Z)(),t()},children:(0,j.jsxs)(l.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[es,(0,j.jsxs)(l.xu,{flex:"grow",marginStart:4,children:[(0,j.jsx)(l.xu,{marginBottom:1,children:(0,j.jsx)(l.xv,{children:ec})}),(0,j.jsx)(l.xv,{weight:"bold",children:eu})]}),(0,j.jsx)(l.xu,{"data-test-id":"referred-app-upsell-dismiss-button",children:(0,j.jsx)(l.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:function(e){var t=e.event;Q(),t.preventDefault(),t.stopPropagation()},size:"sm"})})]})})})}})}var ed=I._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell');return W.endsWith("social-referred")&&N&&(ed=(0,j.jsx)(b.UseCloseupInviteQuery,{variables:{inviteCode:N},children:function(e){var t,n,i,r;return(0,s.nk)(I._('Join {{ invitee }} on Pinterest', 'mweb.auth.referred_app_upsell.heading4', 'heading for referred app upsell that has the invitee info'),{invitee:(null==(t=e.v3GetInviteCodeQuery)?void 0:t.__typename)==="InviteCodeResponse"?null==(n=e.v3GetInviteCodeQuery)||null==(i=n.data)||null==(r=i.sender)?void 0:r.firstName:""})}})),(0,j.jsx)(a.default,{accessibilityModalLabel:I._('modal', 'mweb.auth.referred_app_upsell.modal_label', 'modal label'),closeOnOutsideClick:!1,isOpen:!0,mobileHideCloseIcon:!0,onDismiss:function(){},type:"app_upsell_v1",zIndex:new l.Ry(101),children:(0,j.jsxs)(l.xu,{"data-test-id":"appUpsell-iframe",padding:2,children:[(0,j.jsx)(l.xu,{display:"inlineBlock",position:"absolute",children:(0,j.jsx)(l.xu,{"data-test-id":"referred-app-upsell-dismiss-button",marginStart:1,marginTop:1,children:(0,j.jsx)(l.hU,{accessibilityLabel:I._('close', 'mweb.auth.referred_app_upsell.close', 'close button'),icon:"cancel",onClick:Q,size:"sm"})})}),(0,j.jsxs)(l.xu,{marginBottom:5,marginTop:8,paddingX:2,children:[(0,j.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,j.jsx)(l.JO,{accessibilityLabel:I._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"brandPrimary",icon:"pinterest",size:D})}),(0,j.jsx)(P,{appUpsellType:W,description:I._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description3', 'description for referred app upsell'),handleDismiss:Q,heading:ed,i18n:I})]})]})})}},155328:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(506662);function r(e,t){return"/"===e.pathname?"/":(0,i.am)(e)&&t?"board/".concat(e.pathname.substr(1)):e.pathname.substr(1)}},657235:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(111330),r=n(121836),l=n(753143),a=n(238589);function o(){var e=(0,l.M0)();e.setItem(i.Li,Date.now()),e.getItem(i.O7)||e.setItem(i.O7,Date.now()),(0,a.Nl)().setItem(r.JO,!0)}},920120:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(980787);function r(){var e=(0,i.u)().logContextEvent;return{trackAppUpsellDismiss:function(t){var n=t.appUpsellType,i=t.viewType;e({event_type:10220,view_type:null!=i?i:202,view_parameter:t.viewParameter,component:t.component,element:t.element,aux_data:{app_upsell_type:n}})}}}},472500:function(e,t,n){n.r(t),n.d(t,{UseCloseupInviteQuery:function(){return w},default:function(){return x}});var i,r=n(492996),l=n(20256),a=n(821806),o=n(936371),s=n(744862),c=n(19585),u=n(607001),d=n(572227),p=n(366859),_=n(603316),m=n(382718);function h(e){var t=e.isStoryPin,n=e.inviteText,i=e.inviterFirstName,r=e.isThinnerStyle,a=e.username,o=(0,d.Z)(),s=n.split(i);return(0,m.jsx)(l.xu,{children:(0,m.jsx)(p.Z,{onTouch:function(){(0,_.nP)("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,m.jsxs)(l.kC,{direction:"row",gap:{row:1,column:0},children:[(0,m.jsx)(l.xv,{inline:!0,size:"300",children:s[0]}),t?(0,m.jsx)(l.xv,{inline:!0,size:"300",weight:"bold",children:(0,m.jsx)(l.rU,{href:"/"+a,onClick:function(){o({action:"click",item:"invite-profiler"})},target:"blank",children:i})}):(0,m.jsx)(l.xv,{inline:!0,size:r?"200":"300",weight:r?"normal":"bold",children:(0,m.jsx)(l.rU,{href:"/"+a,onClick:function(){o({action:"click",item:"invite-profiler-not-story"})},target:"blank",children:i})}),(0,m.jsx)(l.xv,{inline:!0,size:r?"200":"300",children:s[1]})]})})})}function f(e){var t=e.inviter,n=e.socialContextBannerStyle,i=e.setShouldShowSocialUpsellBanner,r=n.shouldShowSignupUpsellText,a=n.isDismissible,o=(0,c.ZP)(),_=t.username,f=t.imageMediumUrl,y=t.firstName,g=(0,u.Z)(),v=(0,d.Z)();return(0,m.jsx)(l.kC,{alignItems:"center",justifyContent:a?"center":"start",children:(0,m.jsx)(l.xu,{children:(0,m.jsx)(l.iP,{fullHeight:!0,onTap:function(){v({action:"click",item:"close-button",within:"social-banner"}),g({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,m.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},direction:"row",display:"flex",height:44,marginBottom:6,marginStart:2*!a,marginTop:2,paddingX:a?4:2,paddingY:4,position:a?"static":"absolute",rounding:"pill",top:!0,width:a?1012:void 0,zIndex:new l.Ry(1),children:[(0,m.jsx)(l.xu,{marginBottom:8,marginEnd:1,marginTop:8,width:32,children:(0,m.jsx)(p.Z,{onTouch:function(e){e.stopPropagation(),_&&window.open("/"+_),v({action:"click",item:"user-rep",within:"social-banner"})},pressState:"none",children:null!=f&&f.includes("default")?(0,m.jsx)(l.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,m.jsx)(s.qE,{name:y,size:"fit",src:null!=f?f:void 0})})}),(0,m.jsxs)(l.kC,{direction:"row",flex:"grow",children:[(0,m.jsx)(h,{inviterFirstName:y,inviteText:r?(o._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",y):(o._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",y),isStoryPin:!1,isThinnerStyle:r,username:_}),r&&(0,m.jsx)(l.xu,{marginEnd:2,marginStart:1,children:(0,m.jsx)(l.xv,{inline:!0,size:"200",weight:"bold",children:o._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),a&&(0,m.jsx)(l.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:function(e){e.event.stopPropagation(),v({action:"dismiss",item:"close-button",within:"social-banner"}),null==i||i(!1)},size:"sm"})]})})})})}var y=n(278566),g=n(634405);function v(e){var t=e.inviter,n=t.imageMediumUrl,i=t.username,r=t.firstName,a=e.isStoryPin,o=(0,c.ZP)(),u=function(){return(0,_.nP)("mweb_social_unauth.closeup.avatar_click")},f=(0,g.Z)(),v=(0,d.Z)(),b=(o._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",i),w="undefined"!=typeof window&&window.innerWidth<360,x=i.length>25,j=(0,m.jsx)(p.Z,{pressState:"none",children:(0,m.jsxs)(l.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,m.jsx)(l.xu,{marginBottom:4,marginStart:0,marginTop:4,width:48,children:(0,m.jsx)(p.Z,{onTouch:u,pressState:"none",children:(0,m.jsx)(s.qE,{name:r,src:null!=n?n:void 0})})}),(0,m.jsx)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,m.jsx)(l.xu,{marginStart:0,children:(0,m.jsx)(h,{inviterFirstName:r,inviteText:(o._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",r),isStoryPin:a,isThinnerStyle:!1,username:i})})})]})});return f&&a?(0,m.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",minHeight:x?100:80,children:[(0,m.jsx)(l.xu,{marginBottom:4,marginTop:4,width:40,children:(0,m.jsx)(p.Z,{onTouch:u,pressState:"none",children:(0,m.jsx)(s.qE,{name:r,size:"fit",src:null!=n?n:void 0})})}),(0,m.jsx)(l.kC.Item,{flex:"grow",children:(0,m.jsxs)(l.xu,{alignItems:"center",direction:x?"column":"row",display:"flex",justifyContent:x?"start":"between",padding:3*!!x,children:[(0,m.jsxs)(l.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},wrap:!w,children:[(0,m.jsx)(l.kC,{children:(0,m.jsxs)(l.xv,{align:x?"center":"start",children:[(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(l.rU,{display:"inlineBlock",href:"/".concat(null!=i?i:"","/"),onClick:function(){v({action:"click",item:"invite-profiler"})},target:"blank",underline:"hover",children:i})}),b.split(i)[1]]})}),!x&&(0,m.jsx)(l.xv,{size:"100",children:o._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,m.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:3*!!x,minWidth:100*!x,children:(0,m.jsx)(y.Z,{app_upsell_type:"social-context-header",componentType:14161,children:function(e){var t=e.handleOpenApp;return(0,m.jsx)(l.zx,{onClick:function(){return t()},size:"md",text:o._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})}})})]})})]}):j}var b=(void 0!==i||(i=n(592816)).hash&&"04834691a929e56b42c6699e90a97155"!==i.hash&&console.error("The definition of 'UnauthCloseupInviteUpsellQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),w=function(e){var t=e.children,n=e.variables;return t((0,r.useLazyLoadQuery)(b,n))};function x(e){var t=e.inviterFirstNameRef,n=e.isDesktop,i=e.isStoryPin,r=e.setShouldShowSocialUpsellBanner,s=e.socialContextBannerStyle;return(0,m.jsx)(a.Z,{children:(0,m.jsx)(o.ty,{children:function(e){return e?(0,m.jsx)(w,{variables:{inviteCode:e},children:function(e){var a,o,c=null==(a=e.v3GetInviteCodeQuery)||null==(o=a.data)?void 0:o.sender,u=null!=c?c:Object.freeze({}),d=u.firstName,p=u.imageMediumUrl,_=u.username;return d&&_?(t&&(t.current=d),n?(0,m.jsx)(f,{inviter:{firstName:d,imageMediumUrl:p,username:_},setShouldShowSocialUpsellBanner:r,socialContextBannerStyle:null!=s?s:{isDismissible:!0,shouldShowSignupUpsellText:!0}}):(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginEnd:-2,marginStart:-2,paddingX:2,children:(0,m.jsx)(v,{inviter:{firstName:d,imageMediumUrl:p,username:_},isStoryPin:!!i})})):null}}):null}})})}}}]);