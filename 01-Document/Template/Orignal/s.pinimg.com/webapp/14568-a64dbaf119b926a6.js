(self.legacyJsonp=self.legacyJsonp||[]).push([["14568"],{954374:function(e,t,r){"use strict";r.d(t,{rU:function(){return v},dB:function(){return E},jy:function(){return O},kk:function(){return y},d7:function(){return k},qu:function(){return w},sA:function(){return x},my:function(){return S},x6:function(){return C},oB:function(){return R},Zp:function(){return A}});var n=r(586659),a=r(686319),o=r(954729),i=r(886981),l=r(805205),s=r(613100),c=r(989440),u=r(413145),d=["product_name","show_price"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){h(o,n,a,i,l,"next",e)}function l(e){h(o,n,a,i,l,"throw",e)}i(void 0)})}}var g={CLIENT_ID:"1522354"},b={CLIENT_ID:"1522355"},y={MIKMAK:"MIKMAK",PEAR:"PEAR",NONE:"NONE"},v=[s.lZ.REGULAR,s.lZ.VIDEO],x=10;function A(e,t){return P.apply(this,arguments)}function P(){return(P=p(regeneratorRuntime.mark(function e(t,r){var n,o,i,l,s,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i="carting_mikmak_".concat(r),e.next=4,(0,a.Z)({url:"/v3/integrations/commerce/",method:"GET",data:{client_id:t,external_business_id:i,advertiser_id:r}});case 4:if(null!=(n=(l=e.sent).resource_response)&&n.data){e.next=7;break}return e.abrupt("return",{isConnected:!1,integrationStatus:null});case 7:if(!(!(s=l.resource_response.data).coin_metadata||0===s.coin_metadata.length)){e.next=10;break}return e.abrupt("return",{isConnected:!1,integrationStatus:null});case 10:if((c=s.coin_metadata[0]).partner_metadata){e.next=13;break}return e.abrupt("return",{isConnected:!0,integrationStatus:!1});case 13:return d=JSON.parse(c.partner_metadata),e.abrupt("return",{isConnected:!0,integrationStatus:null!=(o=d.is_valid_connection)&&o});case 17:return e.prev=17,e.t0=e.catch(0),(0,u.T)({name:"ConnectionStatusAPIError",message:"Error fetching integration status",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",{isConnected:!1,integrationStatus:null});case 21:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}var w=function(){return"production"===(0,l.m)()?g:b},C=function(e){try{var t=(new URL(e).hostname||"").toLowerCase();return["mikmak.ai","mikmak.com","swaven.com"].some(function(e){return t===e||t.endsWith(".".concat(e))})}catch(e){return!1}},j=function(e){var t=12===e.product_id.length?"GTIN12":"UNKNOWN";return{industry_product_id:e.product_id,product_type_id:e.product_type_id||t,platform:"MIKMAK",product_name:e.product_name,show_price:void 0===e.show_price?null:e.show_price}};function z(){return(z=p(regeneratorRuntime.mark(function e(t){var r,n,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=w().CLIENT_ID,e.next=4,(0,a.Z)({url:"/ads/v4/commerce_integrations/product_webpage/parse",method:"GET",data:{client_id:o,product_webpage_url:t}});case 4:if(!(!(null!=(i=e.sent)&&null!=(r=i.resource_response)&&r.data)||!(null!=i&&null!=(n=i.resource_response)&&n.data))){e.next=7;break}return e.abrupt("return",null);case 7:if(!(!(l=i.resource_response.data).product_data||0===l.product_data.length)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",l.product_data.map(function(e){return j(e)}));case 13:return e.prev=13,e.t0=e.catch(0),(0,u.T)({name:"fetchAndParseMikmakProductsMetadataError",message:"Error fetching or parsing Mikmak url",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,null,[[0,13]])}))).apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=p(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e){return z.apply(this,arguments)}(t);case 3:if(!(!(r=e.sent)||!r.length||!r[0])){e.next=6;break}return e.abrupt("return",c.S.MISSING_PRODUCT_DATA_MIKMAK_CARTING_DESTINATION_URL);case 6:if(!(r.length>1)){e.next=8;break}return e.abrupt("return",c.S.MULTIPLE_PRODUCT_MIKMAK_CARTING_DESTINATION_URL);case 8:return e.abrupt("return",r[0]);case 11:return e.prev=11,e.t0=e.catch(0),(0,u.T)({name:"validateMikMakCartingDestinationUrlError",message:"Error validating Mikmak carting destination URL",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",c.S.MIKMAK_CARTING_DESTINATION_URL_VERFICIATION_ERROR);case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function S(e,t){return T.apply(this,arguments)}function T(){return(T=p(regeneratorRuntime.mark(function e(t,r){var n,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.map(function(e){return e.product_name,e.show_price,function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,d)}),e.next=4,(0,a.Z)({url:"/v3/carting/products/",method:"POST",data:{advertiser_id:r,products:JSON.stringify(n)}});case 4:if(null!=(o=e.sent)&&o.resource_response.data){e.next=7;break}return e.abrupt("return",null);case 7:if(!(!(i=o.resource_response.data)||0===i.length)){e.next=10;break}return e.abrupt("return",null);case 10:if(!(!(l=i[0])||!l.success&&!l.carting_product_id)){e.next=13;break}throw Error("Failed to create Mikmak product with error_code ".concat(null==l?void 0:l.error_code," and error_message ").concat(null==l?void 0:l.error_message));case 13:return e.abrupt("return",l);case 16:return e.prev=16,e.t0=e.catch(0),(0,u.T)({name:"createMikMakProductError",message:"Error creating Mikmak product",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}var E=function(){var e,t=f((0,n.useState)(null),2),r=t[0],a=t[1],o=(0,i.Z)(r),l=o.data,s=o.error,c=o.isLoaded,d=f((0,n.useState)(!1),2),_=d[0],m=d[1],h=f((0,n.useState)(null),2),g=h[0],b=h[1],y=f((0,n.useState)(null),2),v=y[0],x=y[1],A=(e=p(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),x(null),b(null),a({name:"ApiResource",options:{url:"/v3/carting/products/",data:{advertiser_id:r,products:JSON.stringify(t.map(function(e){return{industry_product_id:e,product_type_id:"GTIN12",platform:"PEAR"}}))},postInsteadOfGet:!0}}),e.abrupt("return",null);case 6:case"end":return e.stop()}},e)})),function(t,r){return e.apply(this,arguments)});return(0,n.useEffect)(function(){if(c&&r){if(m(!1),s){var e=Error(s.message||"API request failed");x(e),(0,u.T)({name:"createPearProductError",message:"Error creating PEAR product",message_detail:JSON.stringify({error_message:e.message}),stack:e.stack})}else l&&b(l);a(null)}},[c,r,s,l]),{createPearProduct:A,reset:function(){b(null),x(null),a(null)},data:g,isLoading:_,error:v}};function O(e,t){var r,n,a,i=e&&e.length>0&&null!=(r=e[0])&&r.carting_product_id?[null==(n=e[0])?void 0:n.carting_product_id]:[],l=(0,o.Z)(i.length>0&&t?{url:"/v3/carting/products/",params:{advertiser_id:Number(t),carting_product_ids:i}}:null),s=l.data,c=l.error;return c&&(0,u.T)({name:"useGetCartingPlatform",message:"Failed to fetch carting products",message_detail:JSON.stringify({advertiser_id:t,error_message:c instanceof Error?c.message:String(c)}),stack:c instanceof Error?c.stack:void 0}),s&&Array.isArray(s)&&s.length>0&&(null==(a=s[0])?void 0:a.platform)||y.NONE}function R(e,t){return M.apply(this,arguments)}function M(){return(M=p(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)({url:"/v3/carting/products/".concat(t,"/"),method:"DELETE",data:{advertiser_id:r}});case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),n=e.t0&&"object"===_(e.t0)&&"message"in e.t0&&"string"==typeof e.t0.message?e.t0.message:String(e.t0),(0,u.T)({name:"deleteCartingProductError",message:"Error deleting carting product",message_detail:JSON.stringify({error_message:n}),stack:e.t0&&"object"===_(e.t0)&&"stack"in e.t0&&"string"==typeof e.t0.stack?e.t0.stack:void 0}),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}},589526:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(20256),a=r(382718);function o(){return(0,a.jsx)(n.xu,{alignItems:"center",bottom:!0,color:"default","data-test-id":"loading-indicator",display:"flex",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,top:!0,children:(0,a.jsx)(n.xH,{show:!0})})}},523484:function(e,t,r){"use strict";function n(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;return new Promise(function(a,o){var i=0,l=t;function s(){return c.apply(this,arguments)}function c(){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r&&i>=r)){t.next=3;break}return o(Error("Max retries failed")),t.abrupt("return");case 3:return t.prev=3,t.next=6,e();case 6:n=t.sent,i+=1;case 8:return t.prev=8,void 0===n?(setTimeout(function(){s()},l),l*=2):a(n),t.finish(8);case 11:case"end":return t.stop()}},t,null,[[3,,8,11]])}),(c=function(){var e=this,r=arguments;return new Promise(function(a,o){var i=t.apply(e,r);function l(e){n(i,a,o,l,s,"next",e)}function s(e){n(i,a,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}s()})}r.d(t,{_:function(){return a}})},461951:function(e,t,r){"use strict";r.d(t,{$9u:function(){return ei},$wC:function(){return em},$wd:function(){return j},AEu:function(){return k},AMH:function(){return J},AmI:function(){return $},Apc:function(){return ej},BJZ:function(){return ef},ByL:function(){return Q},C9x:function(){return W},CkT:function(){return et},EFb:function(){return ey},Ecf:function(){return eu},EvS:function(){return C},FCL:function(){return ex},F_B:function(){return l},G4W:function(){return A},Gh8:function(){return B},GnN:function(){return ek},Hgl:function(){return ez},Klx:function(){return Y},KtD:function(){return ea},LZO:function(){return d},N$$:function(){return ew},NKq:function(){return er},OHS:function(){return S},QJA:function(){return T},QO3:function(){return u},RdP:function(){return ep},Ryt:function(){return O},Tp5:function(){return eI},Twt:function(){return m},UON:function(){return eS},UTl:function(){return E},V9q:function(){return eP},Vrx:function(){return eT},Wmm:function(){return n},Wyp:function(){return p},XSG:function(){return c},XgG:function(){return F},YmI:function(){return H},_HG:function(){return i},_dC:function(){return w},a85:function(){return P},b2_:function(){return b},b9x:function(){return eo},bJI:function(){return D},bcf:function(){return g},buv:function(){return ec},cYF:function(){return eh},cpp:function(){return y},cxq:function(){return M},d40:function(){return eg},dUT:function(){return I},etl:function(){return _},fcC:function(){return N},hWn:function(){return es},hio:function(){return f},ilB:function(){return h},jKP:function(){return L},jKo:function(){return e_},jc_:function(){return z},k29:function(){return V},kWh:function(){return G},klq:function(){return X},lbE:function(){return x},lwx:function(){return ev},nTo:function(){return Z},o6z:function(){return el},oVm:function(){return en},qiK:function(){return a},qqC:function(){return s},r1i:function(){return K},rEw:function(){return v},saV:function(){return eb},v$5:function(){return R},v2p:function(){return ed},v6B:function(){return eA},vvv:function(){return eC},xW7:function(){return q},z6F:function(){return U},zsO:function(){return o},zuj:function(){return ee}});var n="var(--sema-color-background-default)",a="var(--sema-color-background-primary)",o="var(--sema-color-background-secondary)",i="var(--sema-color-background-tertiary)",l="var(--sema-color-background-subtle)",s="var(--sema-color-background-selected)",c="var(--sema-color-background-education)",u="var(--sema-color-background-elevation)",d="var(--sema-color-background-scrim)",_="var(--sema-color-background-inverse)",f="var(--sema-color-background-light)",m="var(--sema-color-background-dark)",h="var(--sema-color-background-disabled)",p="var(--sema-color-background-transparent)",g="var(--sema-color-background-info-default)",b="var(--sema-color-background-info-weak)",y="var(--sema-color-background-recommendation-default)",v="var(--sema-color-background-recommendation-weak)",x="var(--sema-color-background-success-default)",A="var(--sema-color-background-success-weak)",P="var(--sema-color-background-warning-default)",w="var(--sema-color-background-warning-weak)",C="var(--sema-color-background-error-default)",j="var(--sema-color-background-error-weak)",z="var(--sema-color-background-wash-scrims-opaque)",k="var(--sema-color-background-gradient-darken-bottom-weak)",I="var(--sema-color-background-gradient-darken-bottom-strong)",S="var(--sema-color-background-gradient-darken-top-weak)",T="var(--sema-color-background-gradient-darken-top-strong)",E="var(--sema-color-border-decorative)",O="var(--sema-color-border-interactive)",R="var(--sema-color-border-selected)",M="var(--sema-color-border-disabled)",L="var(--sema-color-border-error)",B="var(--sema-color-border-education)",U="var(--sema-color-border-inverse)",N="var(--sema-color-border-transparent)",Z="var(--sema-color-border-focus-outer-default)",D="var(--sema-color-border-focus-inner-default)",F="var(--sema-color-text-default)",W="var(--sema-color-text-subtle)",H="var(--sema-color-text-inverse)",Y="var(--sema-color-icon-primary)",X="var(--sema-color-dataviz-10)",G="var(--sema-color-dataviz-11)",K="var(--sema-color-dataviz-12)",V="var(--sema-color-dataviz-01)",J="var(--sema-color-dataviz-02)",q="var(--sema-color-dataviz-03)",$="var(--sema-color-dataviz-04)",Q="var(--sema-color-dataviz-05)",ee="var(--sema-color-dataviz-06)",et="var(--sema-color-dataviz-07)",er="var(--sema-color-dataviz-08)",en="var(--sema-color-dataviz-09)",ea="var(--sema-color-hover-background-default)",eo="var(--sema-color-hover-background-elevation)",ei="var(--sema-color-hover-border-decorative)",el="var(--sema-color-hover-border-error)",es="var(--sema-color-pressed-background-default)",ec="var(--sema-color-pressed-background-elevation)",eu="var(--sema-elevation-shadow-floating)",ed="var(--sema-font-weight-heading-700)",e_="var(--sema-font-weight-UI-100)",ef="var(--sema-font-size-body-100)",em="var(--sema-font-family-heading-700)",eh="var(--sema-font-family-body-SM)",ep="var(--sema-rounding-200)",eg="var(--sema-rounding-300)",eb="var(--sema-rounding-400)",ey="var(--sema-rounding-pill)",ev="var(--sema-space-0)",ex="var(--sema-space-25)",eA="var(--sema-space-50)",eP="var(--sema-space-100)",ew="var(--sema-space-200)",eC="var(--sema-space-300)",ej="var(--sema-space-400)",ez="var(--sema-space-500)",ek="var(--sema-space-800)",eI="var(--sema-space-1000)",eS="var(--sema-space-1200)",eT="var(--sema-space-1400)"},640452:function(e,t,r){"use strict";var n=r(575108);t.Z=function(e){return n.Z.create("UserPasswordResource",e).callUpdate({showError:!1})}},572227:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(586659),a=r(963489),o=r(506662),i=r(579275),l=r(941404);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(){var e=(0,a.TH)();return(0,n.useCallback)(function(t){var r=t.action,n=t.item,a=t.within,u=t.tags,d=(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,i.Z)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.Q0)(e)?"videos-category":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";(0,l.My)("logged_out_product.interaction.".concat(d,".").concat(r),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({item:n||"none",within:a||"none"},void 0===u?{}:u))},[e])}},866906:function(e,t,r){"use strict";function n(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=e.toLowerCase();return"http://"===r.substring(0,7)&&(r=r.substring(7)),"https://"===r.substring(0,8)&&(r=r.substring(8)),t&&"www."===r.substring(0,4)&&(r=r.substring(4)),"/"===r.substring(r.length-1)&&(r=r.substring(0,r.length-1)),r}r.d(t,{Z:function(){return n}})},189746:function(e,t,r){"use strict";r.d(t,{E:function(){return _}});var n,a=r(898582),o=r(781011),i=r(694955),l=r(869273),s=r(403135);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){var n;return(n=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(u(n={},"Google Tag Manager","Google Tag Manager"),u(n,"Shopify","Shopify"),u(n,"WooCommerce","WooCommerce"),u(n,"WordPress","WordPress"),u(n,"Squarespace","Squarespace"),u(n,"Weebly","Weebly"),u(n,"Tealium","Tealium"),u(n,"Magento","Magento"),u(n,"Ecwid","Ecwid"),u(n,"Bigcommerce","BigCommerce"),n),_=function(e){var t=(0,a.Z)();if(e){var r=(0,s.Z)({platform:d[e]});if("Shopify"===e)return i.x$l;if(["Google Tag Manager","WordPress"].includes(e))return null!=t&&t.advertiser?"".concat(i.X9u,"/?").concat(r):(0,l.Z)("?".concat((0,s.Z)({redirect:e})),"https:",i.KUo)}return null!=t&&t.advertiser?i.X9u:(0,l.Z)("?".concat((0,s.Z)({redirect:o.qp.PINTEREST_TAG})),"https:",i.KUo)}},697902:function(e,t,r){"use strict";r.d(t,{S:function(){return a}});var n=r(473728);function a(e,t){var r="";if(e){var a=t._('Install the Pinterest tag on your {{tagIntegration}} store to track conversion events and see your top performing ads.', '[m10n] business.tagUpsells.text.store', '[m10n] Quick Promote success message from quick report, has a link to ads manager');switch(e){case"Ecwid":case"Bigcommerce":r=a;break;case"WordPress":r=t._('Install the Pinterest tag on your {{tagIntegration}} PixelYourSite plugin to track conversion events and see your top performing ads.', '[m10n] business.tagUpsells.text.wordpress', '[m10n] Quick Promote success message from quick report, has a link to ads manager');break;case"WooCommerce":r=t._('Install the Pinterest tag on your {{tagIntegration}} extension to track conversion events and see your top performing ads.', '[m10n] business.tagUpsells.text.wooCommerce', '[m10n] Quick Promote success message from quick report, has a link to ads manager');break;default:r=t._('Install the Pinterest tag on {{tagIntegration}} to track conversion events and see your top performing ads.', '[m10n] business.tagUpsells.text.default', '[m10n] Quick Promote success message from quick report, has a link to ads manager')}}return(0,n.Z)(r,{tagIntegration:e})}},448303:function(e,t,r){"use strict";r.d(t,{Cp:function(){return h},GT:function(){return u},V6:function(){return s},W2:function(){return d},W6:function(){return p},_L:function(){return m},fm:function(){return c}});var n=r(575108),a=r(951908),o=r(640452),i=r(536652);function l(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function s(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}var c=function(e){return{type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}},u=function(e){return{type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}}},d=function(e,t,r){return function(n){n({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:r}})}},_=function(e,t,r){return function(n){n({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:r}})}},f=function(e){var t=e.split(" ");return{first_name:t[0],last_name:t[1]}},m=function(e){var t,r,o=e.field,s=e.value,c=e.passcode,u=e.onSettingSavedHn,m=e.showErrorHn,h=e.surfaceTag,p=e.userId,g=e.passcodeSkipAcknowledged,b=void 0!==g&&g,y=e.otp,v=e.onFinallyHn;return t=regeneratorRuntime.mark(function e(t,r){var l,g,x,A,P,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=r().users[p],g={user_id:p,surface_tag:h},"full_name"===o?l.is_partner?g.business_name=s:(x=f(s),g.first_name=x.first_name,g.last_name=x.last_name||""):g[o]=s,c&&(g.passcode=c),a.i.includes(o)&&null!=b&&(g.user_confirm_skip_passcode=b),y&&(g.otp=y),e.prev=6,e.next=9,n.Z.create("UserSettingsResource",g).callUpdate();case 9:if(P=e.sent,!("email"===o&&null!=P&&null!=(A=P.resource_response.data)&&A.email_changing_to)){e.next=13;break}return m({email_changing_to:P.resource_response.data.email_changing_to}),e.abrupt("return");case 13:"profile_image_url"===o?t((0,i.b)("UserResource",{options:g})):"full_name"===o&&(l.is_partner?t(d(p,"first_name",s)):(t(d(p,"first_name",(w=f(s)).first_name)),t(d(p,"last_name",w.last_name)))),l.is_partner&&("account_type"===o||"contact_name"===o)?t(_(p,o,s)):t(d(p,o,s)),u(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),m(e.t0);case 21:return e.prev=21,null==v||v(),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[6,18,21,24]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function i(e){l(o,n,a,i,s,"next",e)}function s(e){l(o,n,a,i,s,"throw",e)}i(void 0)})},function(e,t){return r.apply(this,arguments)}},h=function(e,t,r,n,a,i,l){return function(){(0,o.Z)({new:t,new_confirm:r,old:e,passcode:n,recaptcha_v3_token:a}).then(i,l)}},p=function(e,t,r,a,o,i){return function(l){l(d(e,"".concat(t,".").concat(r),a));var s={},c="EmailSettingsResource";void 0!==o?(s={section:t,option:r,value:a,od:null==o?void 0:o.od,user_id:null==o?void 0:o.user_id},c="UnsubEmailSettingsResource"):s={section:t,option:r,value:a},n.Z.create(c,s).callUpdate().then(i).catch(function(){return l(d(e,"".concat(t,".").concat(r),!a))})}}},857796:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(20256),a=r(19585),o=r(382718),i=function(e){var t=e.network,r=(0,a.ZP)(),i=null;switch(t){case"youtube":i="youtube";break;case"etsy":i="etsy";break;case"instagram":i="instagram";break;case"amazon":i="service-amazon";break;case"target":i="target"}return null===i?null:"service-amazon"===i?(0,o.jsx)(function(){return(0,o.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(n.JO,{accessibilityLabel:r._('Amazon Icon', 'claim.claimaccount.Icon', 'Icon for amazon account claiming and unclaiming.'),color:"default",dangerouslySetSvgPath:{__path:"M14.1949 5.63371C13.6142 5.67979 12.9433 5.72587 12.2725 5.81599C11.2452 5.94813 10.2179 6.12838 9.36955 6.52953C7.71684 7.20308 6.59945 8.63353 6.59945 10.7369C6.59945 13.3782 8.29756 14.7179 10.4409 14.7179C11.1571 14.7179 11.7372 14.6304 12.2725 14.4956C13.1229 14.2273 13.8378 13.7346 14.6861 12.8415C15.1788 13.5124 15.3116 13.8261 16.1613 14.5417C16.3843 14.6318 16.6072 14.6318 16.7861 14.497C17.3221 14.0504 18.2592 13.2447 18.7519 12.7975C18.9741 12.6166 18.9301 12.3503 18.7966 12.1253C18.3039 11.4992 17.814 10.9611 17.814 9.75499V5.7279C17.814 4.02505 17.9462 2.46043 16.698 1.29832C15.6694 0.355749 14.0614 0 12.8119 0C12.633 0 12.4547 0 12.2752 0C9.99703 0.133491 7.58539 1.11604 7.04804 3.93764C6.95995 4.29339 7.22896 4.42959 7.40717 4.47499L9.90826 4.7894C10.1766 4.74197 10.3101 4.51971 10.3541 4.29474C10.5798 3.31287 11.3828 2.82025 12.2759 2.73012C12.3213 2.73012 12.366 2.73012 12.4554 2.73012C12.9907 2.73012 13.5708 2.95509 13.8845 3.39893C14.2389 3.93764 14.1969 4.65456 14.1969 5.27932L14.1949 5.63371ZM13.7036 10.9584C13.3912 11.5852 12.8545 11.9877 12.2738 12.1226C12.1851 12.1226 12.0522 12.1687 11.9174 12.1687C10.9349 12.1687 10.3521 11.4077 10.3521 10.2883C10.3521 8.8585 11.2018 8.18495 12.2738 7.87256C12.8545 7.73907 13.5254 7.693 14.1955 7.693V8.23035C14.1949 9.26032 14.2369 10.0647 13.7036 10.9584ZM24 17.1715V17.3172C23.9763 18.192 23.5148 19.8705 22.4225 20.7941C22.2043 20.9635 21.9854 20.8666 22.0817 20.6219C22.3995 19.8461 23.1259 18.045 22.7864 17.6323C22.5458 17.3172 21.5491 17.3409 20.7 17.4141C20.3124 17.4629 19.9716 17.4852 19.7046 17.5381C19.4627 17.5605 19.4125 17.3436 19.6565 17.1742C19.9722 16.9554 20.3131 16.7859 20.7007 16.6619C22.0823 16.25 23.6863 16.4925 23.9051 16.7609C23.9526 16.83 24 16.9757 24 17.1715ZM21.6947 18.8723C21.379 19.1142 21.0408 19.3345 20.7 19.5317C18.1515 21.0637 14.8515 21.8633 11.9885 21.8633C7.376 21.8633 3.25066 20.1612 0.120748 17.3172C-0.147588 17.0977 0.0712821 16.7826 0.387052 16.952C3.76023 18.9211 7.93436 20.1137 12.2542 20.1137C14.9735 20.1137 17.9069 19.6028 20.6993 18.5071C20.8924 18.4366 21.1113 18.3363 21.3058 18.2659C21.7429 18.0687 22.1318 18.5586 21.6947 18.8723Z"},size:24})})},{}):"target"===i?(0,o.jsx)(function(){return(0,o.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(n.JO,{accessibilityLabel:r._('Target Icon', 'claim.claimaccount.Icon', 'Icon for target account claiming and unclaiming.'),color:"default",dangerouslySetSvgPath:{__path:"M12.0005 0C18.627 0 24 5.373 24 12.0005 24 18.627 18.627 24 11.9995 24 5.373 24 0 18.627 0 11.9995 0 5.373 5.373 0 12.0005 0zm0 19.826a7.8265 7.8265 0 10-.001-15.652C7.7133 4.2246 4.2653 7.7136 4.2653 12c0 4.2864 3.448 7.7754 7.7342 7.826h.001zm0-3.9853a3.8402 3.8402 0 110-7.6803c2.1204.0006 3.839 1.7197 3.839 3.8401s-1.7186 3.8396-3.839 3.8402z"},size:24})})},{}):(0,o.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(n.JO,{accessibilityLabel:r._('Social Media Connect Icon', 'claim.claimaccount.Icon', 'Icon for social media'),color:"default",icon:i,size:24})})}},544254:function(e,t,r){"use strict";r.d(t,{Ch:function(){return en},NV:function(){return ea},ZP:function(){return ei}});var n=r(586659),a=r(963489),o=r(20256),i=r(589526),l=r(523484),s=r(686319),c=r(475498),u=r(821342),d=r(19585),_=r(886981),f=r(694955),m=r(87853),h=r(341742),p=r(313002),g=r(657043),b=r(982166),y=r(382718);function v(e){var t=e.title,r=e.message,a=e.confirmText,i=e.cancelText,l=e.accessibilityLabel,s=e.onConfirm,c=e.onCancel,u=e.size,_=(0,d.ZP)(),f=(0,n.useMemo)(function(){return{confirm:_._('Confirm', 'confirmation.modal.button.confirm', 'A button to confirm yes to the current action'),cancel:_._('Cancel', 'confirmation.modal.button.cancel', 'A button to confirm no to the current action')}},[]);return(0,y.jsx)(b.ZP,{accessibilityModalLabel:l||"",footer:(0,y.jsxs)(o.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,y.jsx)(o.zx,{color:"gray",onClick:c,text:i||f.cancel}),(0,y.jsx)(o.zx,{color:"red",onClick:s,text:a||f.confirm})]}),heading:(0,y.jsx)(o.X6,{size:"400",children:t}),isOpen:!0,onDismiss:c||function(){},size:u,children:(0,y.jsx)(o.xu,{marginEnd:2,marginStart:6,children:(0,y.jsx)(o.xv,{size:"300",children:r})})})}function x(e){var t=e.onCancel,r=e.onConfirm,n=(0,d.ZP)();return(0,y.jsx)(v,{accessibilityLabel:n._('Whether you want to back fill Instagram posts from the last 90 days', 'instagram.claiming.backfill.modal.accessibilityModalLabel', 'accessibility modal label for backfill Instagram posts'),cancelText:n._('No', 'instagram.claiming.backfill.modal.no.text', 'Button text that denies backfilling Instagram posts'),confirmText:n._('Yes', 'instagram.claiming.backfill.modal.yes.text', 'Button text to agree backfilling Instagram posts'),message:n._('By enabling auto-publish you have the option to import Instagram posts from the last 90 days', 'instagram.claiming.backfill.modal.text', 'Text explaining that while enabling auto-publish, one has a choice to also import Instagram posts from the last 90 days '),onCancel:t,onConfirm:r,title:n._('Publish Instagram posts from the last 90 days?', 'instagram.claiming.backfill.modal.header', 'Header for encouraging users to backfill posts from the last 90 days')})}var A=r(29859);function P(e){var t=e.title,r=e.expanded,a=e.children,i=(0,n.useId)();return(0,y.jsxs)("div",{className:"settings-expander-wrapper",children:[(0,y.jsx)("style",{children:"\n        .settings-expander-wrapper > div {\n          width: fit-content;\n          min-width: 100%;\n        }\n      "}),(0,y.jsx)(o.UQ.Expandable,{expandedIndex:void 0!==r&&r?0:void 0,id:i,items:[{children:a,title:t}],size:"md"})]})}var w=r(302148),C=r(675973),j=r(647709);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k(e){var t,r=e.handleChange,a=e.isAutoPublishDisabled,i=(0,d.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{for(o=(r=r.call(e)).next;!(s=(n=o.call(r)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return z(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],c=l[1];return(0,y.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,y.jsxs)(o.kC,{alignItems:"center",gap:1,children:[(0,y.jsx)(o.X6,{accessibilityLevel:3,size:"200",children:a?i._('Auto-publish disabled', 'instagram.claiming.pause.autopublish.label.disabled', 'Heading for pausing auto-publish'):i._('Disable auto-publish', 'instagram.claiming.pause.autopublish.label.enabled', 'Heading for pausing auto-publish')}),(0,y.jsx)(o.u,{text:i._('While toggled, we\'ll stop auto-publishing new posts from Instagram. If you disable and later enable, content posted on Instagram while disabled won\'t be auto-published.', 'instagram.claiming.pause.autopublish.text', 'Text for pausing auto-publish'),children:(0,y.jsx)(o.hU,{accessibilityLabel:"Additional info",bgColor:"white",icon:"info-circle",iconColor:"darkGray",size:"md"})})]}),(0,y.jsx)(o.rs,{id:"auto-publish-disable-switch",onChange:function(e){e.value?c(!0):r(!1)},switched:a}),s&&(0,y.jsx)(v,{accessibilityLabel:i._('Confirm that you want to disable auto-publishing of Instagram posts', 'instagram.claiming.disable.auto.publish.confirmation.accessibility.label', 'Accessibility label for disabling auto-publishing of Instagram posts'),message:i._('New Instagram Posts will not be automatically published to Pinterest. This will not impact any of your existing Pins created from auto-publish.', 'instagram.claiming.disable.auto.publish.confirmation.message', 'Confirmation message for disabling auto-publishing of Instagram posts'),onCancel:function(){c(!1)},onConfirm:function(){c(!1),r(!0)},title:i._('Confirm disable auto-publish?', 'instagram.claiming.disable.auto.publish.confirmation.title', 'Title for disabling auto-publishing of Instagram posts')})]})}var I=r(765533);function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||E(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return O(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function R(e){var t,r=e.filterKeywords,a=e.handleUpdateFilterKeywords,i=e.isAutoPublishDisabled,l=(0,d.ZP)(),s=T((0,n.useState)(!1),2),c=s[0],u=s[1],_=T((0,n.useState)(""),2),f=_[0],m=_[1],h=T((0,n.useState)(r||[]),2),p=h[0],g=h[1];(0,n.useEffect)(function(){g((r||[]).sort()),u(!1)},[r,g,u]);var b=(0,n.useCallback)(function(e){a(e,u)},[a]),v=(0,w.Wc)(l._('Max {{max_character_count}} characters per tag', 'ClaimInstagram.KeywordFiltering.ErrorMessage', 'Label for error message when too many characters in keyword input, max_character_count: the max number of characters allowed in a keyword'),{max_character_count:String(35)}),x=function(e){return p.length>=25?function(){}:e},A=(0,n.useRef)(null),P=p.map(function(e,t){return(0,y.jsx)(o.Vp,{accessibilityRemoveIconLabel:"Remove ".concat(e," tag"),onRemove:function(){var e=S(p);e.splice(t,1),b(e),A.current&&A.current.focus()},size:"sm",text:e},e)});return(0,y.jsxs)(o.xu,{marginTop:5,children:[(0,y.jsx)(o.X6,{accessibilityLevel:3,size:"200",children:l._('Exclude by keywords', 'ClaimInstagram.KeywordFiltering.Header', 'Heading for exclude by keywords')}),(0,y.jsx)(o.xv,{size:"200",children:l._('Automatically exclude branded, sponsored, or copyrighted Instagram content from auto-publishing by adding caption phrases, hashtags, or keywords.', 'ClaimInstagram.KeywordFiltering.Subtext', 'Text for exclude by keywords')}),(0,y.jsx)(o.xu,{marginTop:3,children:(0,y.jsx)(o.nv,{autoComplete:"off",disabled:c||i,helperText:(null!=(t=null==r?void 0:r.length)?t:0)>=25?l._('Maximum of 25 keywords reached', 'ClaimInstagram.KeywordFiltering.helperText-limitReached', 'Helper text displayed when the user reaches the limit for the number of excluded keywords'):void 0,id:"ig-keyword-filtering",label:l._('Enter a word, phrase or hashtag', 'ClaimInstagram.KeywordFiltering.InputLabel', 'Label for exclude keywords input'),maxLength:{characterCount:35,errorAccessibilityLabel:v},onChange:x(function(e){var t=e.value.split(",");if(t.length>1){var r=t.filter(function(e){return""!==e});r.length>0&&b([].concat(S(p),S(r))),m("")}else m(t[t.length-1]||"")}),onKeyDown:x(function(e){e.event.keyCode===I.Z.ENTER&&""!==f.trim()&&(b([].concat(S(p),[f.trim()])),m(""))}),size:"lg",tags:P,value:f})})]})}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function L(e){var t,r,a,i,l,s,c=e.handleUpdateAutoPublish,u=e.handlePauseAutoPublish,_=e.handleBoardSelection,f=e.handleUpdateFilterKeywords,m=e.selectedBoard,h=e.instagramFeed,g=e.disableBoardPickerButton,b=e.hasDeletedBoardError,v="desktop"===(0,j.ZP)(),x=(0,d.ZP)(),z=(0,p.d)(),I=z.showAlert,S=z.hideAlert,T=(0,(0,C.Z)().checkExperiment)("dweb_ig_keyword_filtering").anyEnabled,E={title:(null==h||null==(r=h.board)?void 0:r.name)||"",boardId:(null==h||null==(a=h.board)?void 0:a.id)||"",url:(null==h||null==(i=h.board)?void 0:i.url)||""},O=(null==h?void 0:h.filter_keywords)||[],L=null;null!=h&&h.section?L={title:h.section.title,boardId:h.section.id,url:h.section.slug}:null!=h&&h.board&&(L={title:E.title,boardId:E.boardId,url:E.url}),null!=(l=L)&&null!=(s=l.url)&&s.includes("quick_saves")&&(L.title=x._('Profile', 'instagram.claiming.select.board.dropdown.profile.label', 'Profile label for the board picker'));var B=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!!h&&!h.is_ingestion_enabled))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{for(o=(r=r.call(e)).next;!(s=(n=o.call(r)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return M(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=B[0],N=B[1];(0,n.useEffect)(function(){(null==h?void 0:h.is_ingestion_enabled)===!1&&N(!0)},[h,null==h?void 0:h.is_ingestion_enabled,N]);var Z=null==h?void 0:h.fallback_board,D=Z?{title:null==Z?void 0:Z.name,boardId:null==Z?void 0:Z.id,url:null==Z?void 0:Z.url}:null,F=m||L||D||{title:"",boardId:"",url:""};if((0,n.useEffect)(function(){b&&null!=h&&h.is_ingestion_enabled&&D?(_(D),I({message:(0,w.nk)(x._('The board you selected is missing or deleted. We\u2019ll auto-publish your Instagram posts to your {{board}} board until you select a new board.', 'ClaimInstagram.BoardError.BoardDeleted', 'Error message showing user that the board linked for auto-publishing instagram content is deleted. board:<This is the name of the board where the Instagram posts will be published>'),{board:D.title}).join(""),type:"warning",primaryAction:{accessibilityLabel:x._('Change board', 'ClaimInstagram.BoardWarning.Button.ChangeBoard', 'Change board button text'),label:x._('Change board', 'ClaimInstagram.BoardWarning.Button.ChangeBoard', 'Change board button text'),onClick:function(){var e=document.querySelector('#ig-select-board [role="button"]');e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(function(){return e.click()},300))}}})):S()},[b,null==D?void 0:D.title,null==h?void 0:h.is_ingestion_enabled]),!h)return null;var W=(null==m?void 0:m.privacy)==="secret";return(0,y.jsx)(o.xu,{marginStart:8,minWidth:v?460:void 0,children:(0,y.jsx)(P,{expanded:!0,title:x._('Account Claiming Settings', 'instagram.claiming.autopublish.settings.expander', 'Tile for the expanded section for the Instagram account claiming settings'),children:(0,y.jsxs)(o.kC,{direction:"column",gap:4,children:[!U&&(0,y.jsxs)(o.xu,{"data-test-id":"board-picker-dropdown",children:[(0,y.jsx)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:(0,y.jsx)(o.xv,{size:"200",children:x._('Selected board for Instagram posts', 'instagram.claiming.select.board.dropdown.label', 'Label text for selecting board dropdown')})}),(0,y.jsxs)(o.xu,{marginTop:2,children:[(0,y.jsxs)(o.kC,{alignContent:"between",alignItems:"center",gap:2,children:[(0,y.jsx)(o.xu,{flex:"grow",id:"ig-select-board",width:v?330:void 0,children:(0,y.jsx)(A.Z,{disableDefaultBoard:!0,onItemChosen:_,placeholder:x._('Select a board', 'instagram.claiming.select.board.dropdown.placeholder', 'Placeholder text for board dropdown to select board'),selectedItem:F,showButton:!1,showFlyoutSaveButton:!1,showSaveToProfile:b&&!F||void 0,showSectionSaveButton:!1})}),(0,y.jsx)(o.xu,{flex:"none",children:(0,y.jsx)(o.zx,{color:"red",dataTestId:"board-update-button",disabled:!F||g,onClick:function(){c()},size:"md",text:x._('Update', 'instagram.claiming.update.board', 'Update the selected board')})})]}),(0,y.jsxs)(o.xu,{alignItems:"center",display:"flex",marginBottom:1,marginTop:3,children:[W&&(0,y.jsx)(o.JO,{accessibilityLabel:x._('lock', 'ClaimInstagram.FeedConnected.PrivateBoard.Lock', 'Indicates to the user this is a lock icon to indicate private.'),color:"default",icon:"lock"}),(0,y.jsx)(o.xv,{color:"subtle",size:"100",children:W?x._('You have selected a private board, your posts are not visible to Pinners', 'instagram.claiming.select.board.dropdown.helper.text.private', 'Tells the user they have selected a private board, and that posts will not be visible to users.'):x._('If your board is private, Pinners can\'t view your content.', 'instagram.claiming.select.board.dropdown.helper.text', 'Helper text for selecting board dropdown')})]})]})]}),T&&(0,y.jsxs)(o.xu,{children:[(0,y.jsx)(o.iz,{}),(0,y.jsx)(R,{filterKeywords:O,handleUpdateFilterKeywords:f,isAutoPublishDisabled:U})]}),(0,y.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,y.jsx)(o.iz,{}),(0,y.jsx)(k,{handleChange:function(e){N(e),u(e,!0)},isAutoPublishDisabled:U})]})]})})})}function B(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function U(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){B(o,n,a,i,l,"next",e)}function l(e){B(o,n,a,i,l,"throw",e)}i(void 0)})}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var D="/v3/feed_ingestion/feeds/instagram/";function F(e){var t,r,a,i,l=e.claimNetwork,u=e.instagramFeedResource,_=e.isConnected,f=e.loggingFunctions,h=(0,d.ZP)(),b=(0,m.dI)().showOneToast,v=N((0,n.useState)(null),2),A=v[0],P=v[1],w=N((0,n.useState)(!1),2),C=w[0],j=w[1],z=N((0,n.useState)(!1),2),k=z[0],I=z[1],S=(0,p.d)(),T=S.showAlert,E=S.hideAlert,O=S.alert,R=u.data,M=R&&R[0]||null,B=null==M?void 0:M.board,Z=!!(_&&M&&!B),F=function(e){var t=e.text,r=e.error;b(function(e){var n=e.hideToast;return(0,y.jsx)(o.xu,{children:(0,y.jsx)(c.Z,{duration:5e3,onHide:n,text:t,type:r?"error":"default"})})})},W=(t=U(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!A||!M)){e.next=2;break}return e.abrupt("return");case 2:if(t=!A.boardId,r=!A.sectionId,_){e.next=7;break}return e.next=7,l();case 7:return A.boardId&&A.sectionId&&f.logTapUpdateBoard(A.boardId,A.sectionId),e.prev=8,e.next=11,(0,s.Z)({url:D,method:"PUT",data:{feed_id:M.id,board:A.boardId,section:A.sectionId,save_to_profile:t,should_clear_section:r}});case 11:f.logAutoPublishSuccess({action:"update"}),F({text:h._('Board is successfully updated', 'instagram.claiming.update.board.toast.text.updated', 'Tells the user the current board has been updated.')}),j(!0),u.refresh(),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(8),f.logAutoPublishFailure({action:"update"}),F({text:null!=(n=(0,g.Z)(e.t0,"message"))?n:"",error:!0}),j(!0);case 22:case"end":return e.stop()}},e,null,[[8,17]])})),function(){return t.apply(this,arguments)}),H=(r=U(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:if(!(t||r)){e.next=18;break}return f.logTapPauseAutoPublish(),e.prev=4,e.next=7,(0,s.Z)({url:D,method:"PUT",data:{feed_id:M.id,is_ingestion_enabled:!t}});case 7:f.logAutoPublishSuccess({action:"pause"}),F({text:t?h._('Successfully disabled auto-publish', 'Instagram.AutoPublish.Toast.Disabled', 'Automatic publishing of instagram media is disabled.'):h._('Successfully enabled auto-publish', 'Instagram.AutoPublish.Toast.Enabled', 'Automatic publishing of instagram media is disabled.')}),u.refresh(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),f.logAutoPublishFailure({action:"pause"}),F({text:null!=(n=(0,g.Z)(e.t0,"message"))?n:"",error:!0});case 16:e.next=19;break;case 18:I(!0);case 19:case"end":return e.stop()}},e,null,[[4,12]])})),function(e,t){return r.apply(this,arguments)}),Y=(a=U(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:return f.logTapUnpauseAutoPublish(t),e.prev=3,e.next=6,(0,s.Z)({url:D,method:"PUT",data:{feed_id:M.id,is_ingestion_enabled:!0,is_backfilled:t}});case 6:f.logAutoPublishSuccess({action:"unpause"}),t?F({text:h._('Auto-publish enabled. Importing your previous pasts may take 48-72 hours.', 'instagram.autopublish.and.backfill.enabled', 'Automatic publishing and backfill of instagram media is enabled.')}):F({text:h._('Auto-publish enabled.', 'instagram.autopublish.enabled', 'Automatic publishing of instagram media is enabled.')}),u.refresh(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),f.logAutoPublishFailure({action:"unpause"}),F({text:null!=(r=(0,g.Z)(e.t0,"message"))?r:"",error:!0});case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e){return a.apply(this,arguments)}),X=(i=U(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:return r(!0),e.prev=3,e.next=6,(0,s.Z)({url:D,method:"PUT",data:{feed_id:M.id,filter_keywords:t}});case 6:f.logUpdateFilterKeywordsSuccess(),F({text:h._('Filter keywords were successfully updated', 'instagram.claiming.update.filterKeywords.toast.text.updated', 'Tells the user the filter keywords have been updated.')}),u.refresh(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),f.logUpdateFilterKeywordsFailure(),F({text:null!=(n=(0,g.Z)(e.t0,"message"))?n:"",error:!0}),r(!1);case 16:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,t){return i.apply(this,arguments)});return(0,y.jsxs)(o.xu,{paddingY:4,children:[k&&(0,y.jsx)(x,{onCancel:function(){I(!1),Y(!1)},onConfirm:function(){I(!1),Y(!0)}}),(0,y.jsx)(o.xu,{"data-test-id":"connected-feed-container",children:(0,y.jsx)(L,{disableBoardPickerButton:C,handleBoardSelection:function(e){P(e),j(!1),(null==e?void 0:e.privacy)!=="secret"||O?Z||E():T({type:"info",message:h._('The board you selected for auto-publish is private. Your posts are not visible to Pinners. Edit Instagram claiming settings to change.', 'ClaimInstagram.BannerAlert.PrivateBoard', 'Show a banner to alert the user that the selected board is private, and pins will not be visible'),closable:!0})},handlePauseAutoPublish:H,handleUpdateAutoPublish:W,handleUpdateFilterKeywords:X,hasDeletedBoardError:Z,instagramFeed:M,selectedBoard:A})})]})}var W=r(857796),H=r(744862),Y="none",X="year";function G(e){var t=e.setSelectedBackfillOption,r=e.selectedBackfillOption,a=(0,d.ZP)(),i=[{backfillOption:"quarter",label:a._('90 days', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.QuarterYear', 'Radio group button that has the text "90 days"')},{backfillOption:"half_year",label:a._('180 days', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.HalfYear', 'Radio group button that has the text "180 days"')},{backfillOption:X,label:a._('365 days', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.Year', 'Radio group button that has the text "365 days"')},{backfillOption:Y,label:a._('None', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.None', 'Radio group button that has the text "None"')}];return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(o.xv,{size:"300",children:a._('Also publish posts from the last:', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupLabelText', 'Tells the user that checking the box will publish their post from the previous X days, depending on their selection in the radio group')}),(0,y.jsx)(o.xu,{smPaddingY:3,children:(0,y.jsx)(o.FX,{id:"claim-confirmation-modal-publish-backfill-radio-group",legend:a._('Choose the number of days to backfill Instagram content', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupLegendText', 'Radio group description for accessible users, informing them that the selected radio button corresponds to the number of days to backfill Instagram content'),legendDisplay:"hidden",children:i.map(function(e){return(0,y.jsx)(n.Fragment,{children:(0,y.jsx)(o.FX.RadioButton,{checked:r===e.backfillOption,id:e.backfillOption,label:e.label,name:"backfillOption",onChange:function(){t(e.backfillOption)},value:e.backfillOption})},e.backfillOption)})})}),(0,y.jsx)(o.xv,{color:"subtle",size:"200",children:a._('Content is generally imported within 2-5 days.', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupHelperTextMain', 'Let user know that Instagram content takes 2-5 days to import')}),(0,y.jsx)(o.xu,{smMarginTop:1,children:(0,y.jsx)(o.xv,{color:"subtle",size:"200",children:(0,y.jsx)(o.rU,{display:"inline",externalLinkIcon:{size:"200"},href:"https://help.pinterest.com/article/claim-your-account",target:"blank",children:a._('Learn more about imports', 'ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupHelperTextLink', 'External learn more link that links to a Pinterest help article about account claiming')})})})]})}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function V(e){var t,r=e.username,a=e.userProfileUrl,i=e.onDone,l=(0,d.ZP)(),s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(X))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{for(o=(r=r.call(e)).next;!(s=(n=o.call(r)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return K(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1];return(0,y.jsx)(H.u_,{accessibilityModalLabel:l._('Instagram account claimed', 'ClaimAccounts.ClaimConfirmationModal.AccessibilityLabel', 'Accessibility label for the modal that tells the user their Instagram account has been claimed'),align:"start",closeOnOutsideClick:!1,footer:(0,y.jsx)(o.kC,{justifyContent:"center",children:(0,y.jsx)(o.zx,{color:"red",dataTestId:"claim-confirmation-modal-done-button",onClick:function(){return i(c)},size:"lg",text:l._('Done', 'ClaimAccounts.ClaimConfirmationModal.DoneButton', 'Done button for the user to close the modal and finish the process')})}),heading:(0,y.jsxs)(o.kC,{alignItems:"center",direction:"column",gap:2,children:[(0,y.jsx)(o.X6,{accessibilityLevel:1,size:"600",children:(0,y.jsx)(o.xu,{"data-test-id":"claim-instagram-confirmation-heading-header",children:l._('Congrats!', 'ClaimAccounts.ClaimConfirmationModal.Heading', 'Congrats, short for congratulations for connecting their account')})}),(0,y.jsx)(o.xv,{children:(0,y.jsx)("span",{"data-test-id":"claim-instagram-confirmation-heading-text",children:r&&a?(0,y.jsxs)("span",{children:[l._('Your Pinterest is connected to ', 'ClaimAccounts.ClaimConfirmationModal.HeaderTextWithUsername', 'Tells the user that their username is now connected.  Will be followed by "@username"'),(0,y.jsx)(o.rU,{accessibilityLabel:l._('Go to your Instagram profile', 'ClaimAccounts.ClaimConfirmationModal.InstagramProfileLink', 'Tells the user it\'s a link to their Instagram profile'),display:"inline",href:a,target:"blank",children:"@".concat(r)})]}):l._('Your Pinterest is connected', 'ClaimAccounts.ClaimConfirmationModal.HeaderTextWithoutUsername', 'Just tells the user that they are connected, if the username is not available')})})]}),isOpen:!0,onDismiss:function(){return i(c)},padding:"default",size:"sm",children:(0,y.jsxs)(o.xu,{paddingX:7,paddingY:2,children:[(0,y.jsx)(o.X6,{size:"400",children:l._('We created a new board for your Instagram posts', 'ClaimAccounts.ClaimConfirmationModal.BodySubHeader', 'Tells the user that a new board was created for their Instagram posts')}),(0,y.jsx)(o.xu,{paddingY:2,children:(0,y.jsx)(o.xv,{size:"300",children:l._('You can select a different board or rename the board any time after finishing setup.', 'ClaimAccounts.ClaimConfirmationModal.BodyText', 'Tells the user they can change the board name or select a different board after completing')})}),(0,y.jsxs)(o.xu,{paddingY:5,children:[(0,y.jsx)(o.xv,{size:"100",children:l._('Board name', 'ClaimAccounts.ClaimConfirmationModal.BoardNameLabel', 'Acts as a label to tell the user this is the board name')}),(0,y.jsxs)(o.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,y.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:1,padding:3,rounding:2,children:(0,y.jsx)(o.JO,{accessibilityLabel:l._('Save to profile icon', 'ClaimAccounts.ClaimConfirmationModal.DefaultBoardLabel', 'Icon to indicate saving to profile.'),color:"default",icon:"history",size:24})}),(0,y.jsx)(o.xv,{size:"400",weight:"bold",children:l._('Social', 'ClaimAccounts.ClaimConfirmationModal.DefaultBoardText', 'The name of the default board where pins will be saved')})]})]}),(0,y.jsx)(o.xu,{children:(0,y.jsx)(G,{selectedBackfillOption:c,setSelectedBackfillOption:u})})]})})}function J(e){var t=e.isIngestionEnabled,r=e.handleReclaim,n=(0,d.ZP)(),a=new Date<new Date("2024-12-04"),i="";return i=i=a?t?n._('Reclaim your account by December 4, 2024 to continue auto-publishing.', 'InstagramMigrationBanner.message.isPublishedNotIsNewApi', 'The users needs to reclaim before the date to continue publishing.'):n._('Reclaim your account by December 4, 2024 to continue getting attribution and analytics for your future Instagram content on Pinterest.', 'InstagramMigrationBanner.message.notIsPublishedNotIsNewApi', 'The users needs to reclaim before the date to continue getting attributes and analytics.'):t?n._('Your Instagram posts are no longer auto-publishing to Pinterest. Reclaim your account to continue.', 'InstagramMigrationBanner.message.isPublishedIsNewApi', 'The users needs to reclaim before the date to continue publishing.'):n._('Your Instagram has been unlinked. Reclaim your account to continue getting attribution and analytics for your future Instagram content on Pinterest.', 'InstagramMigrationBanner.message.notIsPublishedIsNewApi', 'The users needs to reclaim before the date to continue getting attributes and analytics.'),(0,y.jsx)(o.he,{iconAccessibilityLabel:n._('Warning', 'pinbuilder.common.warningBanner.icon', 'The accessibility label for warning label\'s icon'),message:i,primaryAction:{accessibilityLabel:n._('Reclaim your account to update connection', 'InstagramMigrationBanner.ReclaimButtonA11yLabel', 'Accessibility text to reclaim a their instagram account'),label:n._('Reclaim', 'InstagramMigrationBanner.ReclaimButtonLabel', 'Button text to reclaim a their Instagram account'),onClick:r,role:"button"},type:a?"warning":"error"})}var q=r(686106);function $(e){var t=e.username,r=e.userProfileUrl,n=e.onDone,a=e.boardName,i=e.loggingFunctions,l=(0,d.ZP)();return(0,h.Z)(function(){i.logViewBackfillMigrationSuccess()}),(0,y.jsx)(H.u_,{accessibilityModalLabel:l._('Instagram account reclaimed', 'ClaimAccounts.ReclaimInstagramConfirmation.AccessibilityLabel', 'Accessibility label for the modal that tells the user their Instagram account has been reclaimed'),align:"start",closeOnOutsideClick:!1,footer:(0,y.jsx)(o.kC,{justifyContent:"center",children:(0,y.jsx)(o.zx,{color:"red",dataTestId:"reclaim-confirmation-modal-done-button",onClick:n,size:"lg",text:l._('Done', 'ClaimAccounts.ReclaimInstagramConfirmation.DoneButton', 'Done button for the user to close the modal and finish the process')})}),heading:(0,y.jsxs)(o.kC,{alignItems:"center",direction:"column",gap:2,children:[(0,y.jsx)(o.X6,{accessibilityLevel:1,size:"600",children:(0,y.jsx)(o.xu,{"data-test-id":"reclaim-instagram-confirmation-heading-header",children:l._('You\'re reconnected', 'ClaimAccounts.ReclaimInstagramConfirmation.Heading', 'Congrats, short for congratulations for reconnecting their account')})}),(0,y.jsx)(o.xv,{children:(0,y.jsx)("span",{"data-test-id":"reclaim-instagram-confirmation-heading-text",children:t&&r?(0,y.jsxs)("span",{children:[l._('Your Pinterest is connected to ', 'ClaimAccounts.ReclaimInstagramConfirmation.HeaderTextWithUsername', 'Tells the user that their username is now connected.  Will be followed by "@username"'),(0,y.jsx)(o.rU,{accessibilityLabel:l._('Go to your Instagram profile', 'ClaimAccounts.ReclaimInstagramConfirmation.InstagramProfileLink', 'Tells the user it\'s a link to their Instagram profile'),display:"inline",href:r,target:"blank",children:"@".concat(t)})]}):l._('Your Pinterest is connected', 'ClaimAccounts.ReclaimInstagramConfirmation.HeaderTextWithoutUsername', 'Just tells the user that they are connected, if the username is not available')})})]}),isOpen:!0,onDismiss:n,padding:"default",size:"sm",children:(0,y.jsxs)(o.xu,{paddingX:7,paddingY:0,children:[(0,y.jsx)(o.X6,{size:"400",children:l._('Your Instagram posts are auto-publishing to board:', 'ClaimAccounts.ReclaimInstagramConfirmation.BodySubHeader', 'Tells the user that their Instagram posts are published to a board')}),(0,y.jsx)(o.xu,{marginBottom:5,marginTop:5,children:(0,y.jsxs)(o.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,y.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:1,padding:3,rounding:2,children:(0,y.jsx)(o.JO,{accessibilityLabel:l._('Save to profile icon', 'ClaimAccounts.ReclaimInstagramConfirmation.DefaultBoardLabel', 'Icon to indicate saving to profile.'),color:"default",icon:"history",size:24})}),(0,y.jsx)(o.xv,{size:"400",weight:"bold",children:a})]})}),(0,y.jsx)(o.xu,{marginBottom:2,children:(0,y.jsx)(o.xv,{color:"subtle",size:"300",weight:"bold",children:l._('Pinterest had no access to auto-publish your Instagram content between December 4, 2024 and your reconnection.', 'ClaimAccounts.ReclaimInstagramConfirmation.ReclaimWarningText', 'The date range between the disconnection and reconnection of the Instagram account')})}),(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.xv,{color:"subtle",size:"300",children:l._('Your Instagram posts that fell within this gap will now automatically be auto-published to your connected board, and based on the content volume, could take up to days. Pins within this gap may appear out of order. As always, you can move or edit your pins after they\'re published.', 'ClaimAccounts.ReclaimInstagramConfirmation.AutoPublishNoticeText', 'Tells the user that their Instagram posts will be auto-published to the board')})})]})})}function Q(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function ee(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){Q(o,n,a,i,l,"next",e)}function l(e){Q(o,n,a,i,l,"throw",e)}i(void 0)})}}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?er(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var en="claim_instagram",ea="true",eo="VALID",ei=function(e){var t,r,p,g,b,v,x,A,P,w=(0,d.ZP)(),C=(0,u.Z)(),j=C.isAuth?null==(r=C.socialNetwork)?void 0:r.instagram:void 0,z=null!=(p=null==j?void 0:j.username)?p:void 0,k=null!=(g=null==j?void 0:j.url)?g:void 0,I=(0,q.p)().instagramFeedResource,S=et((0,n.useState)(!1),2),T=S[0],E=S[1],O=et((0,n.useState)(!1),2),R=O[0],M=O[1],L=et((0,n.useState)(!1),2),B=L[0],U=L[1],N=(0,m.dI)().showOneToast,Z=(0,a.TH)().search,H=null==(b=(0,_.Z)({name:"UserSettingsResource",noCache:!0}).data)||null==(v=b.instagram_data)?void 0:v.is_new_api,X=e.claimNetwork,G=e.loggingFunctions,K=e.networkInfo,Q=K.connected,er=K.username,ei=K.url,el=K.instagram_token_status,es=void 0===el?eo:el,ec={username:er||z||"",url:ei||k};function eu(){return(eu=ee(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==I||I.refresh(),M(!0);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}(0,n.useEffect)(function(){null==I||I.refresh()},[]);var ed=function(){G.logTapClaim(),E(!0),X(!1)({onSuccess:function(){G.logAccountClaimingSuccess(),function(){eu.apply(this,arguments)}()},onFailure:function(){G.logAccountClaimingFailure(),E(!1)},onExitAuth:function(){G.logAccountClaimingExitAuth(),E(!1)}}),null==I||I.refresh()},e_=function(){G.logTapReclaim(),E(!0),X(!0)({onSuccess:function(e){G.logAccountReclaimingSuccess(),null==I||I.refresh(),E(!1),(null==e?void 0:e.is_migration_backfilled)===!0&&U(!0)},onFailure:function(){G.logAccountReclaimingFailure(),E(!1)},onExitAuth:function(){G.logAccountClaimingExitAuth(),E(!1)}}),null==I||I.refresh()};(0,h.Z)(function(){var e;new URLSearchParams(Z).get(en)===ea&&(e=window.open("","","width=1,height=1,left=0,top=0"))&&(e.close(),1)&&(Q?Q&&!H&&e_():ed())});var ef=(0,n.useCallback)(function(){if(!I)return null;var e=I.data;return e&&e[0]||null},[I]),em=(0,n.useCallback)(function(e){var t=e.text,r=e.error;N(function(e){var n=e.hideToast;return(0,y.jsx)(o.xu,{children:(0,y.jsx)(c.Z,{duration:3e3,onHide:n,text:t,type:r?"error":"default"})})})},[N]),eh=(0,n.useCallback)((t=ee(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ef()){e.next=4;break}return console.warn("IG feed should have been created on the backend."),e.abrupt("return");case 4:return(n={feed_id:r.id}).backfill_option=t,e.next=8,(0,l._)(ee(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)({url:D,method:"PUT",data:n});case 2:return i=null==(o=e.sent)||null==(t=o.resource_response)||null==(r=t.data)||null==(a=r[0])?void 0:a.backfill_status,e.abrupt("return","backfilling"===i||void 0);case 5:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[ef]),ep=(ef()||{}).is_ingestion_enabled,eg=(0,n.useCallback)(function(e){M(!1),E(!1),G.logTapDone(e),e&&e!==Y&&eh(e),em(H?{text:w._('Instagram account is successfully claimed, auto-publish is enabled', 'ClaimInstagram.ClaimButton.Done.Success.Toast', 'Tells the user that they are connected and also that auto-publish is turned on.')}:{text:w._('You reclaimed your Instagram account!', 'ClaimInstagram.ReclaimButton.Done.Success.Toast', 'Tells the user that they have reclaimed their Instagram account.')})},[eh,w,H,G,em]);return(0,y.jsxs)(o.xu,{children:[(0,y.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(o.xu,{marginEnd:4,children:(0,y.jsx)(W.Z,{network:"instagram"})}),(0,y.jsx)(o.kC,{alignItems:"center",children:(0,y.jsx)(o.X6,{accessibilityLevel:2,size:"300",children:w._('Instagram', 'ClaimInstagram.Label', 'Instagram account claiming label.')})})]}),Q&&!!ec.username&&!!ec.url&&(0,y.jsxs)(o.xu,{marginStart:10,marginTop:1,children:[(0,y.jsx)(o.xv,{color:"subtle",size:"200",children:(0,y.jsxs)(o.rU,{href:ec.url,target:"blank",children:[w._('Connected to', 'ClaimInstagram.connection.heading', 'Instagram account heading, followed by instagram username')," @".concat(ec.username)]})}),!H&&(0,y.jsx)(o.xu,{marginTop:4,children:(0,y.jsx)(J,{handleReclaim:e_,isIngestionEnabled:!!ep})})]}),(0,y.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.xu,{"data-test-id":"claim-instagram-text-container",marginStart:10,marginTop:1,children:Q&&ec.username&&ec.url?(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.xu,{marginTop:4,children:(0,y.jsx)(o.xv,{children:w._('Private Instagram posts will be visible to everyone, including non-Pinners, when auto-published. If your Pinterest account or board is private, posts will not be visible to others.', 'ClaimInstagram.connection.subheadingShort', 'Helper text for claimed instagram account users')})})}):(0,y.jsxs)(o.xv,{size:"200",children:[w._('Connect your account to auto-publish your Instagram posts as Pins.', 'ClaimInstagram.description.textNew', 'description of Instagram claiming feature')," ",(0,y.jsx)(o.xv,{color:"link",inline:!0,weight:"bold",children:(0,y.jsx)(o.rU,{display:"inline",href:f.fTb,target:"blank",underline:"hover",children:w._('Learn more', 'ClaimInstagram.description.LearnMoreLink', 'Text link for learning more about claiming an account')})})]})})}),(0,y.jsx)(o.xu,{flex:"none",marginStart:3,children:Q?(0,y.jsxs)(o.kC,{gap:2,justifyContent:"start",children:[(0,y.jsx)(o.zx,{color:"gray",onClick:function(){G.logTapUnclaim(),X(!1)({onSuccess:G.logAccountUnclaimingSuccess,onFailure:G.logAccountUnclaimingFailure})},size:"md",text:w._('Unclaim', 'ClaimInstagram.UnclaimText', 'Button text to unclaim a verified domain')}),es!==eo&&(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.zx,{color:"red",onClick:e_,size:"md",text:w._('Reconnect', 'ClaimInstagram.ReconnectText', 'Button text to reconnect to an instagram account')})})]}):(0,y.jsx)(o.zx,{color:"gray",dataTestId:"claim-button",onClick:ed,size:"md",text:w._('Claim', 'ClaimInstagram.ClaimButton.Text', 'Button prompt to claim website')})})]}),Q&&es===eo&&I&&(0,y.jsx)(F,{claimNetwork:X(!1),instagramFeedResource:I,isConnected:Q,loggingFunctions:G}),R&&(0,y.jsx)(V,{onDone:eg,username:z,userProfileUrl:k}),B&&(0,y.jsx)($,{boardName:null==I||null==(x=I.data)||null==(A=x[0])||null==(P=A.board)?void 0:P.name,loggingFunctions:G,onDone:function(){G.logTapBackfillMigrationSuccessDone(),U(!1)},username:z,userProfileUrl:k}),T&&(0,y.jsx)(i.Z,{})]})}},756549:function(e,t,r){"use strict";r.d(t,{Z:function(){return M}});var n=r(586659),a=r(20256),o=r(255581),i=r(980787),l=r(464332),s=r(937392),c=r(982166),u=r(19585),d=r(694955),_=r(189746),f=r(697902),m=r(379843),h=r(755328),p=r(302148),g=r(382718);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t=e.domainVerificationCode,r=e.onChoose,o=(0,u.ZP)(),i=b((0,n.useState)(!1),2),l=i[0],s=i[1],c=b((0,n.useState)(!1),2),d=c[0],_=c[1],f=b((0,n.useState)(!1),2),y=f[0],v=f[1],x=b((0,n.useState)(!1),2),A=x[0],P=x[1],w={boxSizing:"border-box",borderRadius:"4px",cursor:"pointer",padding:4,border:"solid 1px #8E8E8E",position:"relative"},C=function(){(0,h.Z)("/website/confirm/download/")},j='<meta name="p:domain_verify" content="'.concat(t,'"/>'),z="pinterest-site-verification=".concat(t);return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(a.xu,{alignContent:"center","data-test-id":"choose-verify-method-step",display:"flex",justifyContent:"center",paddingX:10,paddingY:10,children:(0,g.jsx)(a.X6,{size:"700",children:o._('Choose how you want to claim', 'claim.claimwebsitemodal.chooseClaimOption', 'Heading for website claim options')})}),(0,g.jsxs)(a.xu,{"data-test-id":"choose-verify-method-options",display:"flex",paddingX:3,paddingY:7,children:[(0,g.jsxs)(a.xu,{column:4,dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #E7E5E5"}},direction:"column",display:"flex",paddingX:4,children:[(0,g.jsx)(a.xv,{align:"center",color:"default",weight:"bold",children:o._('Add HTML tag', 'claim.claimwebsitemodal.copyHTMLOption', 'Label for adding an HTML tag to claim a website')}),(0,g.jsx)(a.xu,{paddingY:2,children:(0,g.jsx)(a.xv,{size:"200",children:(0,p.nk)(o._('Paste this tag into the <head> section of your website. {{ learnMoreLink }}', 'claim.claimwebsitemodal.copyHTMLExplanation', 'Label for adding an HTML tag to claim a website'),{learnMoreLink:(0,g.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(a.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-12101",target:"blank",underline:"hover",children:o._('Learn More', 'claim.claimwebsitemodal.metataghelpCenter', 'Text for metatag help center article')})},"learnMoreLink")})})}),(0,g.jsx)(a.xu,{marginTop:"auto",children:(0,g.jsx)("div",{onFocus:function(){return v(!1)},onMouseLeave:function(){return v(!1)},onMouseOver:function(){return v(!0)},padding:2,children:(0,g.jsx)(m.CopyToClipboard,{onCopy:function(){s(!0),setTimeout(function(){s(!1)},700),r("metatag")},text:j,children:(0,g.jsxs)("div",{style:w,children:[(0,g.jsx)(a.xv,{overflow:"breakWord",size:"100",children:j}),l&&(0,g.jsx)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#4A90E2"}},display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(a.xv,{size:"100",children:o._('Copied!', 'claim.claimwebsitemodal.metatagConfirmation', 'Confirmation message for metatag copy')})}),y&&!l&&(0,g.jsx)(a.xu,{alignItems:"center",bottom:!0,color:"tertiary",display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(a.xv,{size:"100",children:o._('Click to copy', 'claim.claimwebsitemodal.metatagConfirmation', 'Confirmation message for metatag copy')})})]})})})})]}),(0,g.jsxs)(a.xu,{column:4,direction:"column",display:"flex",paddingX:4,children:[(0,g.jsx)(a.xv,{align:"center",color:"default",weight:"bold",children:o._('Upload HTML file', 'claim.claimwebsitemodal.downloadHMTLOption', 'Label for uploading an html file to claim a website')}),(0,g.jsx)(a.xu,{paddingY:2,children:(0,g.jsx)(a.xv,{size:"200",children:(0,p.nk)(o._('Upload this HTML tag to your website\'s root directory. {{ learnMoreLink }}', 'claim.claimwebsitemodal.downloadHTMLExplanation', 'Label for uploading an html file to claim a website'),{learnMoreLink:(0,g.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(a.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-12106",target:"blank",underline:"hover",children:o._('Learn More', 'claim.claimwebsitemodal.downloadHTMLhelpCenter', 'Text for html download help center article')})},"learnMoreLink")})})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginEnd:2,marginStart:2,marginTop:"auto",children:(0,g.jsx)(a.zx,{color:"gray",name:"download-button",onClick:function(){C(),r("filename")},text:o._('Download', 'claim.claimwebsitemodal.downloadButton', 'Button label for downloading a file to claim a website')})})]}),(0,g.jsxs)(a.xu,{column:4,dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #E7E5E5"}},direction:"column",display:"flex",paddingX:4,children:[(0,g.jsx)(a.xv,{align:"center",color:"default",weight:"bold",children:o._('Add TXT record', 'claim.claimwebsitemodal.TXTRecordOption', 'Label for adding an DNS TXT record to claim a website')}),(0,g.jsx)(a.xu,{paddingY:2,children:(0,g.jsx)(a.xv,{size:"200",children:(0,p.nk)(o._('Add this verification record to your domain host. {{ learnMoreLink }}', 'claim.claimwebsitemodal.TXTRecordExplanation', 'Label for adding an DNS TXT record to claim a website'),{learnMoreLink:(0,g.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(a.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-14291",target:"blank",underline:"hover",children:o._('Learn More', 'claim.claimwebsitemodal.TXTRecordExplanation', 'Text for DNS TXT help center article')})},"learnMoreLink")})})}),(0,g.jsx)(a.xu,{marginTop:"auto",children:(0,g.jsx)("div",{onFocus:function(){return P(!1)},onMouseLeave:function(){return P(!1)},onMouseOver:function(){return P(!0)},padding:2,children:(0,g.jsx)(m.CopyToClipboard,{onCopy:function(){_(!0),setTimeout(function(){_(!1)},700),r("dnstxt")},text:z,children:(0,g.jsxs)("div",{style:w,children:[(0,g.jsx)(a.xv,{overflow:"breakWord",size:"100",children:z}),d&&(0,g.jsx)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#4A90E2"}},display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(a.xv,{overflow:"noWrap",size:"100",children:o._('Copied!', 'claim.claimwebsitemodal.dnsTXTConfirmation', 'Confirmation message for DNS TXT copy')})}),A&&!d&&(0,g.jsx)(a.xu,{alignItems:"center",bottom:!0,color:"tertiary",display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(a.xv,{size:"100",children:o._('Click to copy', 'claim.claimwebsitemodal.metatagConfirmation', 'Confirmation message for metatag copy')})})]})})})})]})]})]})},x=r(581722),A=r(575108),P=r(812759),w=r(994817),C=r.n(w),j=r(448303);function z(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S(e){var t,r,o=e.onVerified,l=e.onVerifying,s=e.verificationMethod,c=e.bizhub,d=(0,u.ZP)(),_=k((0,n.useState)("default"),2),f=_[0],m=_[1],h=k((0,n.useState)(""),2),p=h[0],b=h[1],y=k((0,n.useState)(""),2),v=y[0],w=y[1],I=(0,i.u)().logContextEvent,S=(0,P.DY)().refetch,T=(0,P.aR)().refetch,E=(0,x.I0)(),O=d._('Oops, we are unable to verify your website. Please try again.', 'claim.claimwebsitemodal.errorMessage', 'Error message for verifying website'),R=function(e){w(e.value.trim())},M=function(){var e=C()(v);return(e.protocol||(e=C()("http://".concat(v))),e.file)?"hasFile":e.path&&"/"!==e.path?"hasPath":"none"},L=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s&&A.Z.create("WebsiteVerifyResource",{type:s||"metatag",website:v}).callUpdate().then(function(e){var t=e.resource_response.data||{},r=t.status,n=t.website;"success"===r?(o(n),E((0,j.fm)(n)),m("verified"),w(n),T(),S()):(m("default"),b(O))}).catch(function(e){var t=e.message,r=e.message_detail;75===e.api_error_code?(l(v),m("asyncVerifying")):m("default"),b(r||t||O)});case 1:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function i(e){z(o,n,a,i,l,"next",e)}function l(e){z(o,n,a,i,l,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)}),B=function(){if(c&&I({event_type:101,component:14963,element:14314,view_type:251}),I({event_type:101,component:14963,element:14314}),b(""),"hasFile"===M())return void b(d._('Files cannot be verified. Add a trailing slash (/) to your path.', 'claim.claimwebsitemodal.websitePathFileNotSupport', 'Error message for unsupported website paths files'));m("verifying"),L()};return(0,g.jsxs)(n.Fragment,{children:["default"===f&&(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(a.xu,{alignContent:"center","data-test-id":"verify-website-step",display:"flex",justifyContent:"center",paddingX:10,paddingY:10,children:(0,g.jsx)(a.X6,{size:"700",children:d._('Verify', 'claim.claimwebsitemodal.VerifyHeader', 'Verify')})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:6,paddingY:6,children:(0,g.jsx)(a.xv,{children:d._('Enter your website URL below and click the button to verify.', 'claim.claimwebsitemodal.Verify', 'Message for verifying website')})}),(0,g.jsxs)(a.xu,{alignItems:"start",display:"flex",justifyContent:"center",marginBottom:8,marginTop:11,paddingX:6,children:[(0,g.jsx)(a.xu,{flex:"grow",marginEnd:2,maxWidth:366,children:(0,g.jsx)("form",{onSubmit:B,children:(0,g.jsx)(a.nv,{dataTestId:"verify-website-input",errorMessage:p,id:"websiteURL",onChange:function(e){return R(e)},placeholder:d._('Example: www.pinterest.com', 'claim.claimwebsitemodal.exampleWebsite', 'Example website for claim'),size:"lg",value:v})})}),(0,g.jsx)(a.xu,{children:(0,g.jsx)(a.zx,{color:"gray",disabled:!v,fullWidth:!0,name:"verify-button",onClick:B,size:"lg",text:d._('Verify', 'claim.claimwebsitemodal.verifyButton', 'Button to verify website')})})]})]}),"verifying"===f&&(0,g.jsxs)(a.xu,{paddingX:6,paddingY:10,children:[(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:10,children:(0,g.jsx)(a.xH,{accessibilityLabel:d._('Loading', 'claim.claimwebsitemodal.Loading', 'Accessibility label for loading spinner'),show:!0})}),(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(a.X6,{children:d._('Verifying your website', 'claim.claimwebsitemodal.verifyingMessage', 'Message for verifying website')})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,g.jsx)(a.xv,{size:"200",children:d._('Let\'s see if everything is connected.', 'claim.claimwebsitemodal.verifyconnectionMessage', 'Message for checking to see if everything is connected')})})]}),"verified"===f&&(0,g.jsxs)(a.xu,{paddingX:6,paddingY:9,children:[(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:10,children:(0,g.jsx)(a.JO,{accessibilityLabel:d._('Verified', 'claim.claimwebsitemodal.verifiedMessage', 'Accessibility label for verifying successfully completed'),color:"success",icon:"check-circle",size:48})}),(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(a.X6,{children:d._('Connected', 'claim.claimwebsitemodal.connectedconfirmationMessage', 'Message for confirming website verification')})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:2,children:(0,g.jsx)(a.xv,{size:"200",children:d._('You\'re all set!', 'claim.claimwebsitemodal.finalMessage', 'Message confirming domain has been verified')})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:1,children:(0,g.jsx)(a.xv,{color:"subtle",size:"200",children:v})})]}),"asyncVerifying"===f&&(0,g.jsxs)(a.xu,{paddingX:6,paddingY:9,children:[(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:10,children:(0,g.jsx)(a.JO,{accessibilityLabel:d._('Verification in progress', 'claim.claimwebsitemodal.verifyingMessageIcon', 'Accessibility label for verifying website in progress'),color:"success",icon:"clock",size:48})}),(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(a.X6,{children:d._('Verification in progress', 'claim.claimwebsitemodal.verificationInProgress', 'Message for confirming website verification')})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:2,children:(0,g.jsx)(a.xv,{size:"200",children:d._('Your website is in the process of being claimed. We will email you within the next hour with an update.', 'claim.claimwebsitemodal.verificationMessage', 'Message shown to users to let them know a verification is being done.')})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:1,children:(0,g.jsx)(a.xv,{color:"subtle",size:"200",children:v})})]})]})}var T=r(603316);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t){var r=(e||"default").replace(/ /g,"");(0,T.nP)("web.partner.claimWebsiteTagUpsell.".concat(r,".").concat(t),{sampleRate:1})}var M=(0,s.RL)(1000298)(function(e){var t,r,m=e.onHide,h=e.onDone,p=e.domainVerificationCode,b=e.experience,y=e.bizhub,x=(0,i.u)().logContextEvent,A=(0,u.ZP)(),P=E((0,n.useState)(1),2),w=P[0],C=P[1],j=E((0,n.useState)(""),2),z=j[0],k=j[1],I=E((0,n.useState)(null),2),T=I[0],O=I[1],M=(0,s.oS)(502468),L=z&&b&&502468===b.experience_id,B=(null==b||null==(t=b.display_data)?void 0:t.tag_integration)||"",U=(null==b||null==(r=b.display_data)?void 0:r.in_woocommerce_exp)||"";(0,n.useEffect)(function(){y&&x({event_type:120,component:13624,view_type:251}),x({event_type:120,component:13624}),M.viewExperience(1000298,502468),R(B,"render")},[L]);var N=function(){L&&(x({event_type:101,component:13624,element:11925}),M.dismissExperience(1000298,502468),R(B,"dismiss")),y&&x({event_type:120,element:11925,component:13624,view_type:251}),m()},Z=function(e){C(e),y&&1===e&&x({event_type:101,component:13624,element:34,view_type:251}),y&&2===e&&x({event_type:101,component:13624,element:12019,view_type:251})},D=U?d.oit:(0,_.E)(B||"default"),F=D.includes("shopify")||D===d.oit;return(0,g.jsxs)(c.ZP,{accessibilityModalLabel:A._('Claim your website', 'claim.claimwebsitemodal.modalLabel', 'Accessibility label for confirm website modal'),footer:L?(0,g.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,g.jsx)(a.xv,{size:"200",children:(0,f.S)(B,A)||A._('To track how well ads drive conversion events on your claimed site, install the Pinterest tag.', 'claim.claimwebsitemodal.installTagUpsell', 'Upsell to install the Pinterest tag')}),(0,g.jsx)(a.xu,{flex:"none",marginStart:3,children:(0,g.jsx)(a.ZP,{color:"red",dataTestId:"install-tag-button",fullWidth:!0,href:D,onClick:function(){x({event_type:101,component:13624,element:11926}),M.completeExperience(1000298,502468),R(B,"complete")},target:F?"blank":null,text:A._('Install tag', 'claim.claimwebsitemodal.tag_upsell_step.install', 'Button label for installing the Pinterest tag')})})]}):(0,g.jsxs)(a.xu,{display:"flex",padding:2,children:[(0,g.jsx)(a.xu,{flex:"grow",children:(z||T)&&(!T||1!==w)?(0,g.jsx)(a.zx,{name:"back-button",onClick:function(){return Z(1)},text:A._('Back', 'claim.claimwebsitemodal.backButton', 'Text of the button to return to choose the method of website verification')}):(0,g.jsx)(a.zx,{name:"cancel-button",onClick:N,text:A._('Cancel', 'claim.claimwebsitemodal.cancelButton', 'Text of the button to exit website claim process')})}),(0,g.jsxs)(a.xu,{"data-test-id":"continue-button",display:"flex",flex:"grow",justifyContent:"end",children:[1===w&&(0,g.jsx)(a.zx,{color:"red",disabled:!T,name:"continue-button",onClick:function(){Z(2)},text:A._('Continue', 'claim.claimwebsitemodal.nextButton', 'Text of the button to go to next page')}),2===w&&z&&(0,g.jsx)(a.zx,{color:"red",name:"done-button",onClick:function(){y&&x({event_type:101,component:13624,element:11926,view_type:251}),l.t8(o.T7,"1",(0,l.kZ)(o.T7)),h()},text:A._('Done', 'claim.claimwebsitemodal.doneButton', 'Text of the button to finish the wizard')})]})]}),onDismiss:N,size:"md",children:[1===w&&(0,g.jsx)(v,{domainVerificationCode:p,onChoose:function(e){O(e)}}),2===w&&(0,g.jsx)(S,{bizhub:!0,onVerified:k,onVerifying:k,verificationMethod:T})]})})},783505:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var a=i(r(586659)),o=i(r(556579));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");for(var t,n,i=arguments.length,s=Array(i),d=0;d<i;d++)s[d]=arguments[d];return n=(e=(t=c(r)).call.apply(t,[this].concat(s)))&&("object"===l(e)||"function"==typeof e)?e:u(this),_(u(n),"onClick",function(e){var t=n.props,r=t.text,i=t.onCopy,l=t.children,s=t.options,c=a.default.Children.only(l),u=(0,o.default)(r,s);i&&i(r,u),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(e)}),n}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&d(r,e),t=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["text","onCopy","options","children"]),n=a.default.Children.only(t);return a.default.cloneElement(n,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r,{onClick:this.onClick}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.default.PureComponent);t.CopyToClipboard=f,_(f,"defaultProps",{onCopy:void 0,options:void 0})},379843:function(e,t,r){"use strict";var n=r(783505).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},556579:function(e,t,r){"use strict";var n=r(10049);e.exports=function(e,t){var r,a,o,i,l,s,c,u,d=!1;t||(t={}),o=t.debug||!1;try{if(l=n(),s=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",document.body.appendChild(u),s.selectNode(u),c.addRange(s),!document.execCommand("copy"))throw Error("copy command was unsuccessful");d=!0}catch(n){o&&console.error("unable to copy using execCommand: ",n),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),d=!0}catch(n){o&&console.error("unable to copy using clipboardData: ",n),o&&console.error("falling back to prompt"),r="message"in t?t.message:"Copy to clipboard: #{key}, Enter",a=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",i=r.replace(/#{\s*key\s*}/g,a),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),u&&document.body.removeChild(u),l()}return d}},10049:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},621576:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},448006:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},350402:function(e,t,r){var n=r(399368);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},399368:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);