(self.legacyJsonp=self.legacyJsonp||[]).push([["29259"],{135885:function(e,t,n){"use strict";n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="610a35d46510240eb58e262c1909310c",t.default=i},5375:function(e,t,n){"use strict";n.r(t);var r,i,a,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardBody_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[a={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{args:null,kind:"FragmentSpread",name:"RecipeMetadata_recipe"}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useNormalizePinData_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardAttribution_pin"}],type:"Pin",abstractKey:null};o.hash="81db65fd15680cc0281b801ed4a8cb94",t.default=o},716125:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CutoutObject_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="f1b62436c05814e4188c8863a11dce6b",t.default=r},431225:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CutoutObjects_pin",selections:[{args:null,kind:"FragmentSpread",name:"CutoutObject_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="d2b8de09e9a0bd76025dff9de4c764e8",t.default=r},500698:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Descriptors_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};r.hash="9d15639e8d9dd61426917dc218fbb3a6",t.default=r},625957:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightSpotlightDots_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};r.hash="3a8409077905af94eb39568e4a5a57fc",t.default=r},212480:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OneBar_oneBarModules",selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"OneBarModule_oneBarModules"}],type:"OneBarModule",abstractKey:null};r.hash="45cea1099e24f55ebce4abebdb411447",t.default=r},815025:function(e,t,n){"use strict";n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RecipeMetadata_recipe",selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:r,storageKey:null}],storageKey:null}],type:"RecipeMetadata",abstractKey:null};i.hash="12f77507a9fdec344b44b7e659fa5ac1",t.default=i},984110:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsImageContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{args:null,kind:"FragmentSpread",name:"Descriptors_pin"},{args:null,kind:"FragmentSpread",name:"VisualSearchCropper_pin"}],type:"Pin",abstractKey:null};r.hash="727c8ab2c1c256e3b4478a36890f92d6",t.default=r},55575:function(e,t,n){"use strict";n.r(t);var r,i,a,o,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"RelatedProductsPageQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,{args:null,kind:"FragmentSpread",name:"RelatedProductsPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RelatedProductsPageQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"b86d7fcbfae2ed1a4a0326984d0ac06dd58ba97fdf2909abe25d0d155a6703e6",metadata:{},name:"RelatedProductsPageQuery",operationKind:"query",text:null}};l.hash="0f7b98a1f02dbf8528df0452aa26efd4",t.default=l;var u=l.default||l;if("query"===u.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(u);else{let e=[u.params.name,u.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=u}},376985:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsPage_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchPageWithPinData_pin"}],type:"Pin",abstractKey:null};r.hash="91d05676e413b7b47653c2f8fa609093",t.default=r},758809:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsUnifiedFeed_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchMasonryGrid_pin"}],type:"Pin",abstractKey:null};r.hash="20c2c7f4ff982fb93a9608faa14f3ed2",t.default=r},582328:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StelaCutouts_pin",selections:[{args:null,kind:"FragmentSpread",name:"StelaCutout_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="2d79886cca650301394af9cbacdeede4",t.default=r},584411:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthCropperContainer_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightSpotlightDots_pin"}],type:"Pin",abstractKey:null};r.hash="939d46d8644385a7918ed8179ce77a4c",t.default=r},165135:function(e,t,n){"use strict";n.r(t);var r,i,a,o,l,u,s,c,d,f,p,y,m,h,g,v,b,S,_,w,x,k,j,P,O,C,R,I=(r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],i=[{kind:"Variable",name:"pin",variableName:"pinId"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},u=[{kind:"Literal",name:"spec",value:"564x"}],f=[{kind:"Literal",name:"spec",value:"736x"}],p=[d={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],y=[{kind:"Literal",name:"spec",value:"474x"}],m=[{kind:"Literal",name:"spec",value:"236x"}],h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},v=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],S={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:b=[a],storageKey:null},_={alias:"image236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"236x")'},w={alias:"image474x",args:y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"474x")'},x={alias:"image564x",args:u,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"564x")'},k={alias:"image736x",args:f,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"736x")'},j={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},R=[c],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopFlashlightPageFetchData_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o,{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},l],storageKey:null},{alias:"imageSpec_564x",args:u,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[s,c,d],storageKey:'images(spec:"564x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[s,c,d,a],storageKey:'images(spec:"orig")'},{alias:"imageSpec_736x",args:f,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_474x",args:y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},o,l,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[h,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[g,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:v,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,h,S,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:b,storageKey:null}],storageKey:null},_,w,x,k],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,S,{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},_,w,x,k],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[j,P,O],storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},O,a],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},C,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g,{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:R,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:R,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:R,storageKey:'images(spec:"170x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:R,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[C,h,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},c,O],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[C,P,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},j,O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:b,storageKey:null},O],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},O],storageKey:null},O],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"4f98fda893ba1980532b9905b28f196e419e75b106a6485f5f63653917b888e1",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});I.hash="c1c702b23a1454b46f8e2fa9d8036257",t.default=I;var A=I.default||I;if("query"===A.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(A);else{let e=[A.params.name,A.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=A}},514336:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchData_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopFlashlightPage_pin"}],type:"Pin",abstractKey:null};r.hash="01839fc3bcd9cdaf206873364167d157",t.default=r},579652:function(e,t,n){"use strict";n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardBody_pin"},{args:null,kind:"FragmentSpread",name:"UnauthCropperContainer_pin"}],type:"Pin",abstractKey:null};i.hash="93612431e09eadc717c32d98e8d91e06",t.default=i},172359:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchCarousel_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"CSSCarouselModule_story"}],type:"Story",abstractKey:null};r.hash="f426019c8f8e2668ff17a413d85a72dd",t.default=r},829187:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsImageContent_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"}],type:"Pin",abstractKey:null};r.hash="3a9a747c3135f426fe0cf32ca9147a5d",t.default=r},934209:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchCropper_pin",selections:[{args:null,kind:"FragmentSpread",name:"useSamSegmentation_pin"},{args:null,kind:"FragmentSpread",name:"StelaCutouts_pin"},{args:null,kind:"FragmentSpread",name:"CutoutObjects_pin"}],type:"Pin",abstractKey:null};r.hash="66496d579d49595f2dec36d1c939738c",t.default=r},922081:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchImageContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"VisualSearchCropper_pin"},{args:null,kind:"FragmentSpread",name:"Descriptors_pin"}],type:"Pin",abstractKey:null};r.hash="355940c4e98c8536ca89baf5b758fce5",t.default=r},331921:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchLayout_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchImageContainer_pin"}],type:"Pin",abstractKey:null};r.hash="3c3f391c3bf9eec79c18ed9a3fe63800",t.default=r},552558:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchMasonryGrid_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="4998effb3bbd67a125c188d857131114",t.default=r},553593:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchPageWithPinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"VisualSearchContainer_pin"},{args:null,kind:"FragmentSpread",name:"VisualSearchLayout_pin"}],type:"Pin",abstractKey:null};r.hash="a97627ca011ed4139267bc5a970d6d7a",t.default=r},799956:function(e,t,n){"use strict";n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNormalizePinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:r=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null};i.hash="01a93671cde480baa2cfd8b781589acd",t.default=i},742235:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r,i=n(586659),a=n(492996),o=n(963489),l=n(20256),u=n(618140),s=n(29313),c=n(748130),d=n(289032),f=n(19585),p=n(816358),y=n(809295),m=n(15667),h=n(271910),g=n(382718);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){var r;return(r=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=(void 0!==r||(r=n(212480)).hash&&"45cea1099e24f55ebce4abebdb411447"!==r.hash&&console.error("The definition of 'OneBar_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function x(e){var t,n,r,v=e.center,_=e.hasProductFiltersApplied,x=e.hrefOverride,k=e.itemHeight,j=void 0===k?u.Lu:k,P=e.marginBottom,O=void 0===P?u.JC:P,C=e.oneBarModulesKey,R=e.oneBarModulesRest,I=e.onFilterButtonClick,A=e.paddingBottom,E=void 0===A?u.uS:A,T=e.paddingX,F=void 0===T?u.jf:T,M=e.variant,D=e.viewParameter,L=e.viewType,Z=(0,i.useRef)(null),K=null==(t=Z.current)||null==(n=t.firstElementChild)||null==(r=n.firstElementChild)?void 0:r.firstElementChild,z=S((0,i.useState)(0),2),B=z[0],N=z[1],U=S((0,i.useState)(0),2),H=U[0],W=U[1],V=S((0,i.useState)(!1),2),G=V[0],$=V[1],q=S((0,i.useState)(!1),2),Y=q[0],X=q[1],Q=S((0,i.useState)(0),2),J=Q[0],ee=Q[1],et=(0,o.TH)(),en=(0,f.ZP)(),er=(0,m.B)().isRTL,ei=(0,i.useRef)(!1),ea=new y.ZP,eo=(0,a.useFragment)(w,C),el=eo&&[eo]||R,eu=void 0!==v&&v&&((null==K?void 0:K.clientWidth)||0)>=((null==K?void 0:K.scrollWidth)||0);(0,i.useEffect)(function(){var e=function(e){"Tab"===e.key&&(ei.current=!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[]),(0,i.useEffect)(function(){N(0)},[et]),(0,i.useEffect)(function(){W((null==K?void 0:K.clientWidth)||0);var e=(0,d.Z)(function(){W((null==K?void 0:K.clientWidth)||0)},100,{maxWait:200});return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[K]),(0,i.useEffect)(function(){var e=Z.current;return e&&p.Z.addObstruction("top",e),function(){e&&p.Z.removeObstruction("top",e)}}),(0,i.useEffect)(function(){for(var e,t=(null==K?void 0:K.scrollWidth)||0,n=0,r=0;r<B;r+=1)n+=(null==K||null==(e=K.children[r])?void 0:e.offsetWidth)||0;var i=t-n,a=H>=t;a&&N(0),$(B>0&&!a),X(i>H&&B<el.length&&!a),ee(n)},[K,B,el.length,H,J,er]);var es=function(){B+3<el.length?N(B+3):N(el.length-1)},ec=function(){B-3>=0?N(B-3):N(0)},ed=(0,i.useRef)(null),ef=((0,s.e)()||{isFiltersDrawerFocused:!1}).isFiltersDrawerFocused,ep=S((0,i.useState)(ef),2),ey=ep[0],em=ep[1];return(0,i.useEffect)(function(){if(!ef&&ey){var e;null==(e=ed.current)||e.focus()}em(ef)},[ef,ey]),el.length>0&&(0,g.jsx)(h.q,{children:function(e){var t,n=e.hovered,r=e.onMouseEnter,i=e.onMouseLeave;return(0,g.jsxs)(l.xu,{ref:Z,color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:E}},"data-root-margin":"search-one-bar","data-test-id":"scrollable-one-bar-root",marginBottom:O,onMouseEnter:r,onMouseLeave:i,position:"relative",children:[(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{overflowX:"clip"}},paddingX:F,position:"relative",children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:(b(t={},er?"right":"left","-".concat(J,"px")),b(t,"transition","left 0.3s, right 0.3s"),t)},position:"relative",children:(0,g.jsx)(l.kC,{alignItems:"center",gap:{row:2,column:0},height:j,justifyContent:eu?"center":void 0,children:el.map(function(e,t){return(0,g.jsx)(l.xu,{ref:1===t?ed:void 0,onFocus:function(){ei.current||N(t)},onMouseDown:function(){return ei.current=!0},tabIndex:1===t?-1:void 0,children:(0,g.jsx)(c.Z,{hasProductFiltersApplied:_,hrefOverride:x,impressionsFramework:ea,index:t,module:e,oneBarModulesKey:null!=eo?eo:null,onFilterButtonClick:I,variant:M,viewParameter:D,viewType:L})},"OneBarModule-".concat(e.entityId||e.id||""))})})})}),n&&(0,g.jsxs)(l.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{background:(0,u.KC)(er,G,Y),paddingBottom:u.uS,paddingLeft:u.EA,paddingRight:u.EA,pointerEvents:"none"}},"data-test-id":"one-bar-navigation-arrows",display:"flex",justifyContent:"between",left:!0,position:"absolute",right:!0,top:!0,children:[(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:G&&(0,g.jsx)(l.hU,{accessibilityLabel:en._('Back', 'oneBar.navArrow.back', 'Accessibility laber for a button that navigates back to previous search guides'),bgColor:"white",icon:"arrow-back",onClick:ec})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:Y&&(0,g.jsx)(l.hU,{accessibilityLabel:en._('Forward', 'oneBar.navArrow.forward', 'Accessibility laber for a button that navigates forward to see more search guides'),bgColor:"white",icon:"arrow-forward",onClick:es})})]})]})}})}},699473:function(e,t,n){"use strict";t.Z={css:(0,n(450808).Ll)(["pulsing {\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}"]),animation:"pulsing 2s infinite"}},241646:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r=20},37326:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(586659),i=n(20256),a=n(19585),o=n(762525),l=n(382718);function u(e){var t=e.title,n=(0,a.ZP)();return(0,l.jsx)(r.Fragment,{children:t?(0,l.jsx)(i.X6,{accessibilityLevel:1,size:"600",children:t}):(0,l.jsx)(o.Z,{text:n._('Image Search Page', 'imageSearch.accessibilityHiddenHeading', 'Accessibility label for image search page')})})}},721465:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r,i=n(586659);n(492996);var a=n(963489),o=n(20256),l=n(980787),u=n(28427),s=n(19585),c=n(355363),d=n(2761),f=n(793760),p=n(159527),y=n(378888),m=n(341742),h=n(845421),g=n(330510),v=n(382718),b=(void 0!==r||(r=n(552558)).hash&&"4998effb3bbd67a125c188d857131114"!==r.hash&&console.error("The definition of 'VisualSearchMasonryGrid_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function S(e){var t=e.alignStart,n=e.auxData,r=e.isFilterOpened,S=e.isProductFeed,_=e.pinKey,w=e.searchId,x=e.viewParameter,k=e.viewType,j=e.visualSearchFlashlightUnifiedResource,P=(0,g.D)(),O=(0,u.Z)(b,_),C=(0,s.ZP)(),R=(0,a.TH)(),I=(0,l.u)().logContextEvent,A=(0,i.useRef)(null),E=(0,i.useRef)(!1);(0,i.useEffect)(function(){var e;null==(e=A.current)||e.handleResize()},[r]),(0,m.Z)(function(){var e=(0,p.Z)(function(){E.current||(I({event_type:110,view_type:k,view_parameter:x}),E.current=!0)},1e3);return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}});var T=j.data,F=j.isFetching,M=j.fetchMore,D=j.isAtEnd,L=(null==T?void 0:T.results)||[];return(0,v.jsxs)(o.xu,{"data-test-id":"visual-search-feed",children:[(0,v.jsx)(c.Z,{isAtEndOfFeed:D,itemCount:L.length,children:(0,v.jsx)(o.Rk,{ref:A,align:t?"start":"center",getColumnSpanConfig:function(e){var t,n="story"===e.type&&(null==(t=e.display_options)?void 0:t.num_columns_requested);return 0===n?1/0:n||1},items:L,loadItems:M,minCols:1,renderItem:function(e){var t=e.data,r=e.itemIdx;switch(t.type){case"pin":return(0,v.jsx)(h.Z,{auxData:n,componentType:0,duploQueryRef:null,pinId:t.id,slotIndex:r,surface:S?"ShoppingDynamicHeightGrid":"SearchItem",viewData:{search_identifier:w},viewParameter:x,viewType:k});case"story":if(P&&"unified_entry_point_flashlight_header"===t.story_type)return null;if(null!=O&&O.entityId){var i,a,o=(0,y.mB)(R.search),l=(0,y.mB)(null==(a=t.action)?void 0:a.url).full_feed_title||"";o.full_feed_title=(0,d.Z)(l);var u=(0,y.XP)(o);i="/pin/".concat(O.entityId,"/visual-search/products/?").concat(u)}return(0,v.jsx)(f.default,{component:14339,dangerouslySetActionUrl:i,initialSlotIndex:r,showExpanded:!1,story:t,storyKey:{type:"Legacy",data:t},styleOverrides:{justifyContent:"start"},view:k,viewParameter:x});default:return null}},scrollContainer:function(){return window}})}),(0,v.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,v.jsx)(o.xH,{accessibilityLabel:C._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:F})})]})}},258193:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(586659);function i(e){var t=e||{},n=t.category_filters,r=t.domain_filters,i=t.price_filters;return!!n||!!r||!!i}var a=n(449029),o=n(949044),l=n(886981),u=n(974705);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){return"shop_the_look_module"===e||"stela_landing_page_category_filter"===e};function h(e){var t,n,s=e.resourceOptions,c=p((0,r.useState)(),2),y=c[0],h=c[1],g=p((0,r.useState)(""),2),v=g[0],b=g[1],S=p((0,r.useState)(),2),_=S[0],w=S[1],x=(0,a._)(),k=x.cachedOneBarModules,j=x.setCachedOneBarModules,P=x.cachedDescriptorModules,O=x.setCachedDescriptorModules,C=(0,l.Z)(s?{name:"VisualSearchFlashlightUnifiedResource",options:s}:null),R=C.auxData,I=null==R||null==(t=R.metadata)?void 0:t.one_bar_modules,A=null==R||null==(n=R.metadata)?void 0:n.descriptors_one_bar_modules,E=s||{},T=E.pin_id,F=void 0===T?"":T,M=E.entrypoint,D=m(M)?k[F]:(0,o.Z)(u.Z,!0)(I),L=null!=P&&P[F]?P[F]:(0,o.Z)(u.Z,!0)(A);return(0,r.useEffect)(function(){I&&m(M)&&j(function(e){if(e[F])return e;var t=(0,o.Z)(u.Z,!0)(I);return d(d({},e),{},f({},F,t))})},[I,j,F,M]),(0,r.useEffect)(function(){A&&O(function(){return P[F]?P:f({},F,(0,o.Z)(u.Z,!0)(A))})},[A,F,O,P]),(0,r.useEffect)(function(){var e=C.data,t=null==e?void 0:e.search_identifier;t&&b(t),h(e)},[C]),(0,r.useEffect)(function(){var e=C.data,t=null==e?void 0:e.search_identifier,n=null==y?void 0:y.search_identifier;e&&(!t||!n||t!==n)&&!i(y)&&i(e)&&w({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[_,y,C]),{descriptorModules:L,filters:_,oneBarModules:D,searchId:v,setSearchId:b,visualSearchFlashlightUnifiedResource:C}}},442212:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(586659),i=n(20256),a=n(521009),o=n(642407),l=n(101844),u=n(740787),s=n(598600),c=n(826972),d=n(756282),f=n(503246),p=n(187356),y=n(675973),m=n(378547),h=n(382718);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n,v,b,S,_,w=e.children,x=e.cropArea,k=x.x,j=x.y,P=x.w,O=x.h,C=e.cropSource,R=e.hoveredCutoutIndex,I=e.imageContainerX,A=e.imageContainerY,E=e.imageSize,T=E.width,F=void 0===T?1:T,M=E.height,D=void 0===M?1:M,L=e.objectDetection,Z=e.onChange,K=e.onMouseDown,z=e.onMouseMoveSetCropArea,B=e.setHoveredCutoutIndex,N=e.setSelectedCutoutIndex,U=e.viewParameter,H=e.viewType,W=(0,y.Z)().checkExperiment,V=(0,a.Z)(),G=(0,r.useRef)(null),$=(0,r.useMemo)(function(){return{x:0,y:0,w:F,h:D}},[D,F]),q=(0,r.useMemo)(function(){return(0,s.Z)({cropArea:{x:k,y:j,w:P,h:O},imageSize:{width:F,height:D}})},[O,P,k,j,D,F]),Y=g((0,r.useState)(function(){return(0,f.ZP)({x:k,y:j,w:P,h:O},$)?$:q}),2),X=Y[0],Q=Y[1],J=(0,r.useMemo)(function(){return(0,f.ZP)(X,$)},[X,$]),ee=g((0,r.useState)("none"),2),et=ee[0],en=ee[1],er=g((0,r.useState)("none"),2),ei=er[0],ea=er[1],eo=g((0,r.useState)(!1),2),el=eo[0],eu=eo[1],es=g((0,r.useState)(!1),2),ec=es[0],ed=es[1],ef=g((0,r.useState)(!1),2),ep=ef[0],ey=ef[1],em=g((0,r.useState)(0),2),eh=em[0],eg=em[1],ev=g((0,r.useState)(0),2),eb=ev[0],eS=ev[1],e_=W("web_cropper_object_selection"),ew=e_.anyEnabled,ex=e_.group,ek=X.x,ej=X.y,eP=X.w,eO=X.h,eC=(0,r.useMemo)(function(){return(0,d.Z)({w:eP,h:eO,minSize:o.Zn,maxSize:o.e4})},[eO,eP]),eR=o.e4-eC,eI=ew?o.O3:o.ps,eA=o.Y4-eC,eE=o.SP,eT=o.SP,eF=F-o.SP,eM=D-o.SP,eD="number"==typeof R,eL=ec?"none":"0.3s cubic-bezier(0.42, 0, 0.58, 1.2)",eZ=(0,u.Z)({cropperSelection:et,anchorSelection:ei,hasMouseMoved:ec}),eK=ew?(n=(t={cropperSelection:et,isTargetOnObject:el,cropSource:C,hasClickedOnObject:ep,experimentGroup:ex}).cropperSelection,v=t.isTargetOnObject,b=t.cropSource,S=t.hasClickedOnObject,_=t.experimentGroup,("none"===n||v)&&(9===b||S)?"enabled_dark"===_?o.pg:o.z3:0):0,ez=function(e){e.preventDefault();var t=e.clientX,n=e.clientY,r=e.target,i=t-I,a=n-A;ed(!1),ey(!1),eg(i),eS(a),null==K||K(ej);var l=r.id,u=g(l.split(" "),2),s=u[0],c=u[1],d="".concat(s)===o.tT,f=l===o.at,y=l===o.eX,h=l===p.P,v=l===m.I;d?(en("anchor"),ea(void 0===c?"none":c)):y?en("cropbox"):f?en("background"):(!(ek<i&&i<ek+eP&&ej<a&&a<ej+eO)||J?en("background"):en("cropbox"),eu(h||v))},eB=function(e){if("none"!==et){var t=e.clientX,n=e.clientY,r=t-I,i=n-A;if(!(Math.abs(r-eh)<o.yG&&Math.abs(i-eb)<o.yG&&!ec&&["cropbox","background"].includes(et)))switch(ed(!0),eu(!1),null==B||B(null),null==N||N(-1),et){case"anchor":var a=["nw","sw"].includes(ei),l=["nw","ne"].includes(ei),u=Math.max(Math.min(r,eF),eE),s=Math.max(Math.min(i,eM),eT),c=a?Math.min(u,ek+eP-o.yz):ek,d=l?Math.min(s,ej+eO-o.yz):ej;Q({x:c,y:d,w:a?Math.max(ek+eP-u,o.yz):Math.max(u-ek,o.yz),h:l?Math.max(ej+eO-s,o.yz):Math.max(s-ej,o.yz)}),null==z||z(d);break;case"cropbox":var f=Math.max(Math.min(ek+(r-eh),F-eP-eE),eE),p=Math.max(Math.min(ej+(i-eb),D-eO-eT),eT);eg(r),eS(i),Q({x:f,y:p,w:eP,h:eO}),null==z||z(p);break;case"background":var y=Math.max(Math.min(r,F),0),m=Math.max(Math.min(i,D),0),h=y-eh,g=m-eb,v=Math.min(eb,m);Q({x:Math.min(eh,y),y:v,w:Math.abs(h),h:Math.abs(g)}),null==z||z(v)}}},eN=function(){if(en("none"),ea("none"),eu(!1),ed(!1),"none"!==et){if(el&&("cutouts"===L&&eD||"dots"===L))return void ey(!0);var e=function(e,t){Z({cropArea:e,cropSource:t}),Q(e)};if(ec){var t=Math.max(Math.min(ek,F-o.yz-eE),eE),n=Math.max(Math.min(ej,D-o.yz-eT),eT),r=eO<o.yz?o.yz:n+eO>D-eT?D-n-eT:eO,i=eP<o.yz?o.yz:t+eP>F-eE?F-t-eE:eP;e({x:t,y:n,w:i,h:r},6),"cropbox"===et?V({event_type:7603,view_type:H,view_parameter:U}):"anchor"===et?V({event_type:7604,view_type:H,view_parameter:U}):"background"===et&&V({event_type:16584,view_type:H,view_parameter:U})}else J||"background"===et?(e((0,c.Z)({mouseX:eh,mouseY:eb,cropSize:o.Rk,minBound:o.SP,imageWidth:F,imageHeight:D}),6),V({event_type:16585,view_type:H,view_parameter:U})):"cropbox"===et&&(e($,5),V({event_type:16586,view_type:H,view_parameter:U}))}};return(0,r.useEffect)(function(){ep&&(Q(q),null==z||z(q.y))},[q,ep,z]),(0,r.useEffect)(function(){var e=G.current;return null==e||e.addEventListener("mousedown",ez),window.addEventListener("mousemove",eB),window.addEventListener("mouseup",eN),function(){null==e||e.removeEventListener("mousedown",ez),window.removeEventListener("mousemove",eB),window.removeEventListener("mouseup",eN)}}),(0,h.jsxs)(i.xu,{ref:G,bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:eZ}},"data-test-id":"visual-search-cropper",left:!0,position:"absolute",right:!0,top:!0,children:[(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{border:"".concat(eI,"px solid rgba(255, 255, 255, 0.20)"),borderRadius:"".concat(eA,"px"),boxShadow:"0 0 0 99999px rgba(0, 0, 0, 0.35)",left:ek,top:ej,transition:eL,backgroundColor:"rgba(0, 0, 0, ".concat(eK,")")}},height:eO,position:"absolute",width:eP}),(0,h.jsx)(i.xu,{bottom:!0,id:o.at,left:!0,position:"absolute",right:!0,top:!0}),(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{visibility:J?"hidden":"visible",left:ek,top:ej}},"data-test-id":"cropper-section",height:eO,id:o.eX,position:"absolute",width:eP}),w,(0,h.jsx)(l.Z,{anchorSelection:ei,h:eO,handleCount:ew?2:4,size:eR,transition:eL,visibility:J||"background"===et&&ec?"hidden":"visible",w:eP,x:ek,y:ej})]})}},187356:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(586659),i=n(20256),a=n(19585),o=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c="flashlight-dot-style";t.Z=(0,r.forwardRef)(function(e,t){var n,d=e.icon,f=e.onClick,p=e.onMouseDown,y=e.onMouseEnter,m=e.onMouseLeave,h=e.onMouseUp,g=e.selected,v=e.style,b=e.text,S=e.x,_=e.y,w=e.zIndex,x=e.backdropDiameter,k=void 0===x?32:x,j=e.dotDiameter,P=void 0===j?16:j,O=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(n,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=O[0],R=O[1],I=(0,a.ZP)(),A=C?k+4:k;return(0,o.jsx)(i.xu,{ref:t,dangerouslySetInlineStyle:{__style:{top:_-A/2,left:S-A/2,outline:"none"}},position:"absolute",zIndex:new i.Ry(w||0),children:(0,o.jsx)(i.iP,{accessibilityLabel:I._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),dataTestId:"flashlight-dot",onMouseDown:p,onMouseEnter:function(e){var t=e.event;R(!0),null==y||y({event:t})},onMouseLeave:function(e){var t=e.event;R(!1),null==m||m({event:t})},onMouseUp:h,onTap:f,tabIndex:0,children:(0,o.jsxs)(i.xu,{alignItems:"center",borderStyle:"none",color:"default",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({boxShadow:g?"0 0 0 3px #e60023":"none",borderRadius:P,top:(A-P)/2,left:(A-P)/2},v)},"data-test-id":c,display:"flex",height:P,id:c,justifyContent:"center",padding:0,position:"absolute",width:P,children:[!!b&&(0,o.jsx)(i.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:b}),d&&(0,o.jsx)(i.JO,{accessibilityLabel:I._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:d,inline:!0,size:P/2})]})})})})},941023:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(586659);n(492996);var a=n(521009),o=n(187356),l=n(341742),u=n(382718);function s(e){var t=e.showAnimation,n=e.auxData,r=e.index,i=e.isStela,s=e.onClick,c=e.onHover,d=e.onUnhover,f=e.spotlightCenter,p=e.viewParameter,y=e.viewType,m=(0,a.Z)(),h=i?1221:1260;(0,l.Z)(function(){m({event_type:120,element:h,aux_data:n,view_parameter:p,view_type:y})});var g=parseFloat((.1*(r+1)).toFixed(2));return(0,u.jsx)(o.Z,{onClick:function(){m({aux_data:n,element:h,event_type:101,view_parameter:p,view_type:y}),s(r)},onMouseEnter:function(e){var t=e.event;t&&(t.stopPropagation(),t.preventDefault()),null==c||c(r)},onMouseLeave:function(e){var t=e.event;t&&(t.stopPropagation(),t.preventDefault()),null==d||d()},style:{animation:t?"spotlightDotPop 0.6s ease-out ".concat(g,"s both"):"none"},x:f.x,y:f.y})}var c=n(28427),d=n(369416),f=n(431338),p=n(556872);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=(void 0!==r||(r=n(625957)).hash&&"3a8409077905af94eb39568e4a5a57fc"!==r.hash&&console.error("The definition of 'FlashlightSpotlightDots_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),v=function(e){var t,n=e.showAnimation,r=e.pinKey,a=e.imageSignature,o=e.imageSize,l=e.currentSpotlightIdx,y=e.handleSpotlightClick,m=e.handleSpotlightHover,v=e.handleSpotlightUnhover,b=e.viewParameter,S=e.viewType,_=e.visualObjects,w=(0,c.Z)(g,r),x=(0,f.Z)(w),k=w?(null!=(t=w.visualObjects)?t:[]).filter(function(e){return e.isStela}):null!=_?_:[];return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(d.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    transform: scale(0);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}"}),k.map(function(e,t){if(t===l)return null;var r,i,c,d=e.x,f=e.y,g=e.w,_=e.h,k=(0,p.Z)({cropArea:{x:d,y:f,w:g,h:_},scaledWidth:null!=(r=o.width)?r:0,scaledHeight:null!=(i=o.height)?i:0}),j={x:k.x+k.w/2,y:k.y+k.h/2},P=h(h({},x({override:{entrypoint:"flashlight"}})),{},{pin_id:null!=(c=null==w?void 0:w.entityId)?c:"",image_signature:a,visual_objects:JSON.stringify([{x:e.x,y:e.y,w:e.w,h:e.h}])}),O="".concat(j.x).concat(j.y);return(0,u.jsx)(s,{auxData:P,index:t,isStela:!!(null!=e&&e.isStela),onClick:y,onHover:m,onUnhover:v,showAnimation:n,spotlightCenter:j,viewParameter:b,viewType:S},O)})]})}},351222:function(e,t,n){"use strict";n.d(t,{Pw:function(){return r},SB:function(){return i},ZP:function(){return o},x9:function(){return a}});var r=80,i=55,a=function(e){return"phone"===e?i:r};function o(e,t){return t?0:a(e)}},399573:function(e,t,n){"use strict";function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function e(t,n){if(null==t||"object"!==a(t)&&"function"!=typeof t)return t;var o,l=n.find(function(e){return e.value===t});if(l)return l.result;var u=Object.prototype.toString.call(t);switch(u){case"[object Array]":o=Array(t.length);break;case"[object Set]":o=new Set;break;case"[object Object]":case"[object Arguments]":o={};break;case"[object Map]":o=new Map;break;default:return t}var s=[].concat(function(e){if(Array.isArray(e))return i(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||r(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:o}]);switch(u){case"[object Array]":t.forEach(function(t,n){o[n]=e(t,s)});break;case"[object Set]":t.forEach(function(t){o.add(e(t,s))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||r(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],a=n[1];o[i]=e(a,s)});break;case"[object Map]":t.forEach(function(t,n){o.set(n,e(t,s))})}return o}(e,[])}n.d(t,{Z:function(){return o}})},140725:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},Z:function(){return f}});var r=n(586659),i=n(521009),a=n(346955),o=n(991384),l=n(15667);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,a.A$)().setViewContextData,u=(0,l.B)().requestIdentifier,s=(0,i.Z)(),d=(0,a.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,o.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),s(c(c({},e),{},{event_type:13,request_identifier:u}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},980787:function(e,t,n){"use strict";n.d(t,{B:function(){return s},u:function(){return u}});var r=n(346955),i=n(729434),a=n(382718),o=(0,i.Z)("ContextLogger"),l=o.Provider,u=o.get;function s(e){var t=e.children,n=e.value;return n.injectSetViewContextDataFromHook=(0,r.A$)().setViewContextData,(0,a.jsx)(l,{value:n,children:t})}},521009:function(e,t,n){"use strict";var r=n(980787);t.Z=function(){return(0,r.u)().logContextEvent}},166379:function(e,t,n){"use strict";n.d(t,{k:function(){return r.kH}});var r=n(654937),i=n(15667);t.Z=function(e){var t=e.dateFormatType,n=e.useUTC,a=e.value,o=(0,i.B)();return(0,r.ZP)(o.locale,a,t,void 0===n||n)}},722194:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(586659),i=n(413145),a=n(603316);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var p=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");p.prototype=Object.create(e&&e.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),e&&l(p,e);var t,n,r=(t=s(),function(){var e,n=c(p);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function p(){var e;if(!(this instanceof p))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return d(u(e=r.call.apply(r,[this].concat(n))),"state",{error:null,info:null}),d(u(e),"resetError",function(){e.setState({error:null,info:null})}),e}return n=[{key:"componentDidCatch",value:function(e,t){try{var n,r=this.props.name,o=this.props.type||"secondary";(0,i.T)({extraData:null!=(n=e.extraData)?n:{},errorBoundary:r,errorBoundaryType:o,message:e.message,name:e.name,stack:e.stack}),(0,a.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,a.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,r=t.info;return n&&r?e?e({error:n,info:r,resetError:this.resetError}):null:this.props.children}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(p.prototype,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component)},355940:function(e,t,n){"use strict";t.Z=n(722194).Z},469167:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(586659),i=n(20256),a=n(748065),o=n(980787),l=n(722194);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var d={},f=function(e){var t=e.__id||e.id;return"string"==typeof t&&t||null},p=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");s(this,"idMap",new Map),s(this,"objMap",new WeakMap)}return e=[{key:"get",value:function(e){var t,n=f(e);return null!=(t=this.objMap.get(e))?t:n?this.idMap.get(n):void 0}},{key:"has",value:function(e){var t,n=f(e);return null!=(t=this.objMap.has(e))?t:!!n&&this.idMap.has(n)}},{key:"set",value:function(e,t){var n=f(e);n&&this.idMap.set(n,t),this.objMap.set(e,t)}},{key:"reset",value:function(){this.idMap=new Map,this.objMap=new WeakMap}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n,r,i;return"number"==typeof e?e:"lg1"===t?null!=(r=null!=(i=e[t])?i:e.lg)?r:1:null!=(n=e[t])?n:1}var h=n(467925),g=n(947543);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=n(699473),S=n(461951),_=n(369416),w=n(382718),x=b.Z.css,k=b.Z.animation,j={backgroundColor:S.zsO,animation:k,borderRadius:S.saV};function P(e){var t=e.data.height;return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(_.Z,{unsafeCSS:x}),(0,w.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:j},"data-test-id":"skeleton-pin",children:(0,w.jsx)(i.xu,{height:t})})]})}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return R(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var I=n(93966),A=n(675973),E=n(15667),T=n(647709),F=n(603316),M=n(160374),D=n(183152);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e){var t,n,u,s,c,f,b,S,x,k,j,R,L,K,B,N,U,H,W,V,G,$,q,Y,X,Q,J,ee,et,en,er,ei,ea,eo,el,eu,es,ec,ed=e.align,ef=e.cacheKey,ep=e.id,ey=e.isFetching,em=e.isGridCentered,eh=e.items,eg=e.layout,ev=e.loadItems,eb=e.masonryRef,eS=e.optOutFluidGridExperiment,e_=e.renderItem,ew=e.scrollContainerRef,ex=e.virtualize,ek=void 0===ex||ex,ej=e.getColumnSpanConfig,eP=e._getResponsiveModuleConfigForSecondItem,eO=e.isLoadingStateEnabled,eC=e.initialLoadingStatePinCount,eR=e.isLoadingAccessibilityLabel,eI=e.isLoadedAccessibilityLabel,eA=(0,T.ZP)(),eE=(0,E.B)(),eT=eE.isAuthenticated,eF=eE.isRTL,eM=(0,o.u)().logContextEvent,eD=(0,A.Z)(),eL="desktop"===eA,eZ=(0,D.Zv)(),eK=(0,M.DB)(),ez=((0,r.useRef)(eh.map(function(){return{fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}})),eL&&!(void 0!==eS&&eS)),eB=(0,h.Z)(ez),eN=eB.experimentalColumnWidth,eU=eB.experimentalGutter,eH=null!=(ei=e.serverRender)?ei:!!eL,eW="flexible"===eg||"uniformRowFlexible"===eg||"desktop"!==eA||ez,eV=eW&&null!=eg&&eg.startsWith("uniformRow")?"uniformRowFlexible":void 0,eG=null!=eV?eV:eH?"serverRenderedFlexible":"flexible",e$=null!=(ea=null!=(eo=e.columnWidth)?eo:eN)?ea:I.yF;eW&&(e$=Math.floor(e$));var eq=null!=(el=null!=(eu=e.gutterWidth)?eu:eU)?el:eL?I.oX:1,eY=null!=(es=e.minCols)?es:I.yc,eX=((0,r.useRef)(0),e$+eq),eQ=function(e){if(null!=e){var t,n=((t=d[e])&&t.screenWidth===window.innerWidth||(d[e]={screenWidth:window.innerWidth}),d[e]);return n.measurementCache||(n.measurementCache=new p),n.measurementCache}}(ef),eJ=(0,r.useCallback)(function(){return(null==ew?void 0:ew.current)||window},[ew]),e0=(0,r.useRef)(!0),e1=eD.checkExperiment("web_masonry_pin_overlap_calculation_and_logging").anyEnabled,e2=eD.checkExperiment("web_masonry_fluid_reflow"),e5=e2.anyEnabled,e6=e2.group,e3=eD.checkExperiment("visual_search_stl_eligibility_check_migration_gss_css",{dangerouslySkipActivation:!0}).anyEnabled,e8=(void 0===em||em)&&e0.current?"centered":"",e4=(B=K={gutterWidth:eq,flexible:eW,items:eh,isRTL:eF,itemWidth:e$,maxColumns:null!=(ec=e.maxColumns)?ec:Math.max(eh.length,I.g5),minColumns:eY,getColumnSpanConfig:ej,_getResponsiveModuleConfigForSecondItem:eP},N="m_".concat(Object.keys(B).sort().reduce(function(e,t){var n=B[t];return null==n||"object"===y(n)||"function"==typeof n?e:"boolean"==typeof n?e+(n?"t":"f"):e+n},"").replace(/\:/g,"\\:")),U=K.flexible,H=K.gutterWidth,W=K.isRTL,V=K.itemWidth,G=K.maxColumns,$=K.minColumns,q=K.items,Y=K.getColumnSpanConfig,X=K._getResponsiveModuleConfigForSecondItem,Q=Y?q.map(function(e,t){var n;return{index:t,columnSpanConfig:null!=(n=Y(e))?n:1}}).filter(function(e){return 1!==e.columnSpanConfig}):[],J=V+H,et=(ee=Array.from({length:G+1-$},function(e,t){return t+$}).map(function(e){var t,n,r=e===$?0:e*J,i=e===G?null:(e+1)*J-.01;Y&&X&&q.length>1&&(t=Y(q[0]),n=X(q[1]));var a=Q.reduce(function(r,i){var a,o,l,u,s,c,d,f,p,y,h=i.columnSpanConfig,g=Math.min(function(e){var t=e.columnCount,n=e.columnSpanConfig,r=e.firstItemColumnSpanConfig,i=e.isFlexibleWidthItem,a=e.secondItemResponsiveModuleConfig,o=t<=2?"sm":t<=4?"md":t<=6?"lg1":t<=8?"lg":"xl",l=m(n,o);if(i){var u=m(r,o);l="number"==typeof a?a:a?Math.max(a.min,Math.min(a.max,t-u)):1}return l}({columnCount:e,columnSpanConfig:h,isFlexibleWidthItem:!!n&&i===q[1],firstItemColumnSpanConfig:null!=(p=t)?p:1,secondItemResponsiveModuleConfig:null!=(y=n)?y:1}),e),v=null!=i.index&&r.numberOfVisibleItems>=g+i.index,b=U?100/e*g:V*g+H*(g-1),S=r.numberOfVisibleItems;return v?S-=g-1:i.index<S&&(S+=1),{styles:r.styles.concat((o=(a={className:N,index:i.index,columnSpanConfig:h,visible:v,width:b,flexible:U}).className,l=a.index,u=a.columnSpanConfig,s=a.visible,c=a.width,d=a.flexible,f="number"==typeof u?u:btoa(JSON.stringify(u)),d?"\n      .".concat(o,' .static[data-column-span="').concat(f,'"]:nth-child(').concat(l+1,") {\n        visibility: ").concat(s?"visible":"hidden"," !important;\n        position: ").concat(s?"inherit":"absolute"," !important;\n        width: ").concat(c,"% !important;\n      }"):"\n      .".concat(o,' .static[data-column-span="').concat(f,'"]:nth-child(').concat(l+1,") {\n        visibility: ").concat(s?"visible":"hidden"," !important;\n        position: ").concat(s?"inherit":"absolute"," !important;\n        width: ").concat(c,"px !important;\n      }"))),numberOfVisibleItems:S}},{styles:"",numberOfVisibleItems:e}),o=a.styles,l=a.numberOfVisibleItems,u=U?"\n      .".concat(N," .static {\n        box-sizing: border-box;\n        width: calc(100% / ").concat(e,") !important;\n      }\n    "):"\n      .".concat(N," {\n        max-width: ").concat(e*J,"px;\n      }\n\n      .").concat(N," .static {\n        width: ").concat(V,"px !important;\n      }\n    ");return{minWidth:r,maxWidth:i,styles:"\n      .".concat(N," .static:nth-child(-n+").concat(l,") {\n        position: static !important;\n        visibility: visible !important;\n        float: ").concat(W?"right":"left",";\n        display: block;\n      }\n\n      .").concat(N," .static {\n        padding: 0 ").concat(H/2,"px;\n      }\n\n      ").concat(u,"\n\n      ").concat(o,"\n    ")}})).map(function(e){var t=e.minWidth,n=e.maxWidth,r=e.styles;return"\n    @container (min-width: ".concat(t,"px) ").concat(n?"and (max-width: ".concat(n,"px)"):""," {\n      ").concat(r,"\n    }\n  ")}),en=ee.map(function(e){var t=e.minWidth,n=e.maxWidth,r=e.styles;return"\n    @media (min-width: ".concat(t,"px) ").concat(n?"and (max-width: ".concat(n,"px)"):""," {\n      ").concat(r,"\n    }\n  ")}),er="\n    ".concat(et.join(""),"\n    @supports not (container-type: inline-size) {\n      ").concat(en.join(""),"\n    }\n  "),{className:N,styles:"\n    .masonryContainer:has(.".concat(N,") {\n      container-type: inline-size;\n    }\n\n    .masonryContainer > .centered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .").concat(N," .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ").concat(er,"\n  ")}),e9=e4.className,e7=e4.styles,te="".concat(e8," ").concat(e9).trim(),tt=(0,g.Z)(),tn=tt.anyEnabled,tr=(tt.expName,tt.group),ti=tt.isMeasureAllEnabled,ta=((0,r.useRef)(void 0),(0,r.useRef)(eh.length)),to=(0,r.useRef)(0),tl=(0,r.useRef)(null);(0,r.useEffect)(function(){ta.current=eh.length,to.current+=1},[eh]),(0,r.useEffect)(function(){if(e0.current&&(e0.current=!1),window.earlyGridRenderStats){var e,t=z(z({},(0,M.M3)({earlyHydrationConfig:eK,handlerId:eZ,requestContext:eE})),{},{status:null!=(e=window.earlyGridRenderStats.status)?e:"unknown"});(0,F.nP)("earlyHydrationDebug.masonry.earlyGridRender.status.".concat(window.earlyGridRenderStats.status),{tags:t}),(0,F.LY)("earlyHydrationDebug.masonry.earlyGridRender.init",window.earlyGridRenderStats.init,{tags:t}),window.earlyGridRenderStats.start&&(0,F.LY)("earlyHydrationDebug.masonry.earlyGridRender.start",window.earlyGridRenderStats.start,{tags:t}),window.earlyGridRenderStats.end&&(0,F.LY)("earlyHydrationDebug.masonry.earlyGridRender.end",window.earlyGridRenderStats.end,{tags:t})}},[]),(0,r.useEffect)(function(){return function(){}},[]);var tu=(0,r.useCallback)(function(e){var t=e.reduce(function(e,t){return e+t}),n=t/e.length;(0,F.nP)("webapp.masonry.multiColumnWhitespace.count",{sampleRate:1,tags:{fluidResizeExperiment:e6||"unknown",experimentalMasonryGroup:tr||"unknown",handlerId:eZ,isAuthenticated:eT,multiColumnItemSpan:e.length}}),(0,F.S0)("webapp.masonry.multiColumnWhitespace.average",n,{sampleRate:1,tags:{columnWidth:e$,experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",handlerId:eZ,isAuthenticated:eT,minCols:eY,multiColumnItemSpan:e.length}}),eM({event_type:15878,component:14468,aux_data:{total_whitespace_px:t}}),eM({event_type:16062,component:14468,aux_data:{average_whitespace_px:n}}),eM({event_type:16063,component:14468,aux_data:{max_whitespace_px:Math.max.apply(Math,function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Z(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}),e.forEach(function(t){t>=50&&((0,F.nP)("webapp.masonry.multiColumnWhitespace.over50",{sampleRate:1,tags:{experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",handlerId:eZ,isAuthenticated:eT,multiColumnItemSpan:e.length}}),eM({event_type:16261,component:14468})),t>=100&&((0,F.nP)("webapp.masonry.multiColumnWhitespace.over100",{sampleRate:1,tags:{experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",handlerId:eZ,isAuthenticated:eT,multiColumnItemSpan:e.length}}),eM({event_type:16262,component:14468}))})},[e$,tr,e6,eZ,eT,eM,eY]),ts=(u=void 0===(n=(t={isLoadingStateEnabled:eO,items:eh,renderItem:(0,r.useCallback)(function(e){return(0,w.jsx)(l.Z,{name:"MasonryItem",children:e_(e)})},[e_]),isFetching:ey,initialLoadingStatePinCount:eC}).initialLoadingStatePinCount)?50:n,c=void 0===(s=t.infiniteScrollPinCount)?10:s,f=t.isFetching,S=void 0===(b=t.items)?[]:b,x=t.renderItem,k=t.isLoadingStateEnabled,j=+(S.filter(function(e){return"object"===O(e)&&null!==e&&"type"in e&&"closeup_module"===e.type}).length>0),R=k&&f,L=(0,r.useMemo)(function(){return Array.from({length:S.length>j?c:u}).reduce(function(e,t,n){return[].concat(C(e),[{height:n%2==0?356:236,key:"skeleton-pin-".concat(n),isSkeleton:!0}])},[])},[S.length,j,c,u]),{_items:(0,r.useMemo)(function(){return R?[].concat(C(S),C(L)):S},[R,S,L]),_renderItem:(0,r.useMemo)(function(){return k?function(e){var t=e.itemIdx,n=e.data;return t>=S.length&&n&&"object"===v(n)&&"key"in n&&"height"in n?(0,w.jsx)(P,{data:n},n.key):x(e)}:x},[k,x,S.length])}),tc=ts._items,td=ts._renderItem,tf=eO&&ey,tp=(0,r.useRef)(new Set);(0,r.useEffect)(function(){if(e1){var e=setTimeout(function(){requestAnimationFrame(function(){var e=Array.from(null!=(f=null==(p=tl.current)?void 0:p.querySelectorAll("[data-grid-item-idx]"))?f:[]);if(0!==e.length){for(var t=e.map(function(e){var t=e.getAttribute("data-grid-item-idx");return{rect:e.getBoundingClientRect(),itemIdx:t}}),n=0,r=0,i=0,a=0,o=0,l=0,u=0;u<t.length;u+=1)for(var s=null==(y=t[u])?void 0:y.rect,c=null==(m=t[u])?void 0:m.itemIdx,d=u+1;d<t.length;d+=1){var f,p,y,m,h,g,v=null==(h=t[d])?void 0:h.rect,b=null==(g=t[d])?void 0:g.itemIdx;if(s&&v&&c&&b){var S=[c,b].sort().join("|");if(!tp.current.has(S)&&s.right>=v.left&&s.left<=v.right&&s.bottom>=v.top&&s.top<=v.bottom&&s.height>0&&v.height>0){tp.current.add(S),n+=1;var _=Math.max(0,Math.min(s.right,v.right)-Math.max(s.left,v.left))*Math.max(0,Math.min(s.bottom,v.bottom)-Math.max(s.top,v.top));_>8e4?l+=1:_>4e4?o+=1:_>1e4?a+=1:_>5e3?i+=1:_>2500&&(r+=1)}}}n>0&&(0,F.QX)("webapp.masonry.pinOverlapHits",n,{tags:{isAuthenticated:eT,isDesktop:eL,handlerId:eZ,experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",visualSearchSTLexperiment:e3?"true":"false"}}),r>0&&(0,F.QX)("webapp.masonry.pinOverlap.AreaPx.over2500",r,{tags:{isAuthenticated:eT,isDesktop:eL,handlerId:eZ,experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",visualSearchSTLexperiment:e3?"true":"false"}}),i>0&&(0,F.QX)("webapp.masonry.pinOverlap.AreaPx.over5000",i,{tags:{isAuthenticated:eT,isDesktop:eL,handlerId:eZ,experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",visualSearchSTLexperiment:e3?"true":"false"}}),a>0&&(0,F.QX)("webapp.masonry.pinOverlap.AreaPx.over10000",a,{tags:{isAuthenticated:eT,isDesktop:eL,handlerId:eZ,experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",visualSearchSTLexperiment:e3?"true":"false"}}),o>0&&(0,F.QX)("webapp.masonry.pinOverlap.AreaPx.over40000",o,{tags:{isAuthenticated:eT,isDesktop:eL,handlerId:eZ,experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",visualSearchSTLexperiment:e3?"true":"false"}}),l>0&&(0,F.QX)("webapp.masonry.pinOverlap.AreaPx.over80000",l,{tags:{isAuthenticated:eT,isDesktop:eL,handlerId:eZ,experimentalMasonryGroup:tr||"unknown",fluidResizeExperiment:e6||"unknown",visualSearchSTLexperiment:e3?"true":"false"}})}})},1e3);return function(){clearTimeout(e)}}},[e$,tr,e6,eT,eL,e1,eh,eZ,e3]);var ty=(0,a.Z)(),tm=(0,r.useCallback)(function(e){eb&&(eb.current=e)},[eb]);return(0,w.jsxs)(r.Fragment,{children:[eO&&!e0.current&&(0,w.jsx)(i.xu,{"aria-live":"polite",display:"visuallyHidden",children:tf?eR:eI}),(0,w.jsx)("div",{ref:tl,"aria-busy":eO?!!tf:void 0,className:"masonryContainer","data-test-id":"masonry-container",id:ep,style:ez?{padding:"0 ".concat(eq/2,"px")}:void 0,children:(0,w.jsxs)("div",{className:te,children:[eH&&e0.current?(0,w.jsx)(_.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:e7}):null,(0,w.jsx)(i.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?eX*e.maxColumns:void 0,children:tn?(0,w.jsx)(i.GX,{ref:ty?tm:function(e){eb&&(eb.current=e)},_dynamicHeights:!0,_getResponsiveModuleConfigForSecondItem:eP,_logTwoColWhitespace:tu,_measureAll:ti,align:ed,columnWidth:e$,getColumnSpanConfig:ej,gutterWidth:eq,items:tc,layout:eW?eG:null!=eg?eg:"basic",loadItems:ev,measurementStore:eQ,minCols:eY,renderItem:td,scrollContainer:eJ,virtualBufferFactor:.3,virtualize:ek}):(0,w.jsx)(i.Rk,{ref:ty?tm:function(e){eb&&(eb.current=e)},_dynamicHeights:!0,_fluidResize:e5,_getResponsiveModuleConfigForSecondItem:eP,_logTwoColWhitespace:tu,align:ed,columnWidth:e$,getColumnSpanConfig:ej,gutterWidth:eq,items:tc,layout:eW?eG:null!=eg?eg:"basic",loadItems:ev,measurementStore:eQ,minCols:eY,renderItem:td,scrollContainer:eJ,virtualBufferFactor:.3,virtualize:ek})})]})})]})}},19585:function(e,t,n){"use strict";n.d(t,{oz:function(){return a},q6:function(){return i}});var r=(0,n(729434).Z)("i18n"),i=r.Provider,a=r.Consumer;t.ZP=r.get},115247:function(e,t,n){"use strict";var r=n(586659);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}t.Z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var t,n,d=(t=l(),function(){var e,n=u(f);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return o(e)}(this,e)});function f(){var e;if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(o(e=d.call.apply(d,[this].concat(n))),"ref",(0,r.createRef)()),s(o(e),"observer",null),s(o(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},377654:function(e,t,n){"use strict";n.d(t,{Rq:function(){return r},Vf:function(){return i},jd:function(){return a},oy:function(){return o}});var r=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},i=28,a=function(e){return window.innerHeight>=748&&r(e)},o=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)}},914061:function(e,t,n){"use strict";n.r(t);var r=n(20256),i=n(93966),a=n(377654),o=n(657389),l=n(15667),u=n(382718);t.default=function(e){var t=e.children,n=e.dataLayoutShiftBoundaryId,s=e.hasFixedHeader,c=e.hasGutter,d=void 0===c||c,f=e.height,p=e.showKeychainError,y=e.useViewport,m=(0,l.B)(),h=(0,a.jd)(m.userAgent.platform)?a.Vf:0;return(0,u.jsx)(r.xu,{"data-layout-shift-boundary-id":n||"PageContainer",height:void 0!==y&&y?"calc(100vh - ".concat(h,"px)"):f,paddingX:d?i.D6:void 0,paddingY:void 0!==s&&s||void 0!==p&&p?void 0:3,children:(0,u.jsx)(o.C,{value:!!d,children:t})})}},991384:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=o(t,n);return void 0!==l?l:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,r,i){return t[i]=e(t[i],n[i],o),t},function(e){if(Array.isArray(e))return a(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===i(t)&&n&&"object"===i(n)?Object.keys(n).reduce(function(t,r){return t[r]=e(t[r],n[r],o),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,a;r=t,a=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},267828:function(e,t,n){"use strict";function r(e,t,n){return!!(e&&e.trim().length>0&&t&&!n)}n.d(t,{r:function(){return r}})},918874:function(e,t,n){"use strict";n(492996);var r,i=n(28427),a=n(19585),o=(void 0!==r||(r=n(799956)).hash&&"01a93671cde480baa2cfd8b781589acd"!==r.hash&&console.error("The definition of 'useNormalizePinData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);t.Z=function(e){var t,n,r,l=(0,a.ZP)(),u=(0,i.Z)(o,e),s=u.trackedLink||u.link||u.imageSpec_orig&&u.imageSpec_orig.url,c=u.richMetadata,d=u.richSummary,f=l._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return c&&c.products&&c.products[0]&&c&&c.products[0].name&&c.products[0].offerSummary&&(f=l._('Product sold by ', 'pin annotation', 'pin annotation'),t=null==(n=(null==(r=c.products)?void 0:r[0])||void 0)?void 0:n.offerSummary),!t&&d&&d&&d.products&&d.products[0]&&d&&d.products[0].name&&d.products[0].offerSummary&&(f=l._('Product sold by ', 'pin annotation', 'pin annotation')),{pinLink:s,pinCreditPrefix:f,pinTitle:u.closeupUnifiedTitle,pinDescription:u.closeupUnifiedDescription,pinCategory:u.category}}},274320:function(e,t,n){"use strict";n.d(t,{a:function(){return i},r:function(){return a}});var r=(0,n(729434).Z)("ExperimentContext"),i=r.Provider,a=r.get},440568:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{k:function(){return l}});var o=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]);function l(e){try{if(!e)return{};return Object.fromEntries(JSON.parse(e))}catch(t){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(function(e,t){var n=r(t.split("="),2),i=n[0],a=n[1];return e[i]=JSON.parse(a),e},{})}}t.Z=function(e){return e?JSON.stringify(Object.entries("object"===a(e)?e:{}).filter(function(e){var t=r(e,1)[0];return"string"==typeof t&&!o.has(t)&&!t.startsWith("__track__")}).sort(function(e,t){var n=r(e,1)[0],i=r(t,1)[0];return n.localeCompare(i)}).map(function(e){var t=r(e,2),n=t[0],i=t[1];return[n,null!=i?i:null]})):""}},636208:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(-1===t||-1===n||t===n)return e;var a=n+i,o=t+i;if(a<0||a>=e.length||o<0||o>=e.length)return e;for(var l=function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[o],s=o<a?1:-1,c=o;c!==a;c+=s)l[c]=e[c+s];return l[a]=u,l}n.d(t,{Z:function(){return i}})},15667:function(e,t,n){"use strict";n.d(t,{B:function(){return a},P2:function(){return l},Ts:function(){return i},gf:function(){return o}});var r=n(146663),i=r.getRequestContext,a=r.useRequestContext,o=r.useUpdateRequestContext,l=r.RequestContextProvider},146663:function(e,t,n){"use strict";n.r(t),n.d(t,{RequestContextProvider:function(){return p},getRequestContext:function(){return f},useRequestContext:function(){return y},useUpdateRequestContext:function(){return m}});var r=n(586659),i=n(324529),a=n(734215),o=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r.createContext)(null);function f(){return(0,r.use)(d).requestContextState}function p(e){var t,n=e.children,l=e.initialValue,u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(l))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=u[0],p=u[1],y=(0,r.useMemo)(function(){return{requestContextState:f,updateRequestContext:function(e){var t=s(s({},f),e);(0,a.Z)(f,e)||p(t),(0,i.J)(t)}}},[f]);return(0,o.jsx)(d,{value:y,children:n})}function y(){var e=(0,r.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function m(){var e=(0,r.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},707079:function(e,t,n){"use strict";n.d(t,{F_:function(){return f},MA:function(){return p},ZP:function(){return s},y8:function(){return c}});var r=n(729434);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var s=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");l(this,"pending",{})}return e=[{key:"add",value:function(e,t,n){var r,i,a=this;n&&(this.pending[e]=o(o({},null!=(r=this.pending[e])?r:{}),{},l({},t,n)),null==(i=n.finally)||i.call(n,function(){return a.remove(e,t)}))}},{key:"remove",value:function(e,t){var n;null!=(n=this.pending[e])&&n[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}},{key:"get",value:function(e,t){var n,r;return null!=(n=null==(r=this.pending[e])?void 0:r[t])?n:null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),c=new s,d=(0,r.Z)("PendingFetches"),f=d.Provider,p=d.getMaybe},791948:function(e,t,n){"use strict";n.d(t,{UZ:function(){return S},Z8:function(){return _},my:function(){return w},vL:function(){return k},w1:function(){return x}});var r=n(586659),i=n(581722),a=n(575108),o=n(729434),l=n(72918),u=n(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){var r,i,a=[].concat(function(e){if(Array.isArray(e))return y(e)}(r=null!=(i=t[e][n.payload.name])?i:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||p(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n.payload.handler]),o=d({},t);return o[e]=d(d({},t[e]),{},f({},n.payload.name,a)),o}function h(e,t,n){if(!t[e][n.payload.name])return t;var r=t[e][n.payload.name].filter(function(e){return e!==n.payload.handler}),i=d({},t);return i[e]=d(d({},t[e]),{},f({},n.payload.name,r)),i}var g=(0,o.Z)("ResourceContext"),v=g.Provider,b=g.get;function S(e){var t,n=e.children,i=e.resourceCreator,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(function(e,t){switch(t.type){case"addListener":return m("listeners",e,t);case"addMoreListener":return m("moreListeners",e,t);case"removeListener":return h("listeners",e,t);case"removeMoreListener":return h("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||p(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],s=l.listeners,c=l.moreListeners,d=o[1];a.Z.fetchCompleteCallback=function(e){var t=e.resource,n=e.options,r=e.response,i=e.normalizedResponse,a=e.refresh,o=e.resourceSchema;s[t]&&s[t].forEach(function(e){return e({isRefresh:a,normalizedResponse:i,options:n,schema:o,resource:t,response:r})})},a.Z.fetchMoreCompleteCallback=function(e){var t=e.resource,n=e.options,r=e.response,i=e.normalizedResponse,a=e.refresh,o=e.resourceSchema;c[t]&&c[t].forEach(function(e){return e({isRefresh:a,normalizedResponse:i,options:n,schema:o,resource:t,response:r})})};var f=(0,r.useMemo)(function(){return{listenerDispatch:d,resourceCreator:i}},[i]);return(0,u.jsx)(v,{value:f,children:n})}function _(e,t){var n=b().listenerDispatch;(0,r.useEffect)(function(){return n({type:"addListener",payload:{name:e,handler:t}}),function(){n({type:"removeListener",payload:{name:e,handler:t}})}},[n,e,t])}function w(e,t){var n=b().listenerDispatch;(0,r.useEffect)(function(){return n({type:"addMoreListener",payload:{name:e,handler:t}}),function(){n({type:"removeMoreListener",payload:{name:e,handler:t}})}})}function x(){var e=(0,i.I0)();return(0,r.useCallback)(function(t,n){return e((0,l.jB)(t,n))},[e])}function k(){return b().resourceCreator}},536652:function(e,t,n){"use strict";n.d(t,{U:function(){return m},b:function(){return h}});var r=n(575108),i=n(399573),a=n(440568),o=n(849233),l=n(72918),u=n(82347),s=n(954300);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,i)}function y(e){var t,n,c=e.addSuspenseResourceSSRData,d=e.fetchOptions,m=e.resource,h=e.resourceCreator,v=e.retry;return t=regeneratorRuntime.mark(function e(t,n){var p,b,S,_,w,x,k,j,P,O,C,R,I,A,E,T,F,M,D,L,Z,K,z,B,N,U;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_=d.bookmark,w=d.headers,x=d.options,k=d.refresh,j=d.schema,P=(0,a.Z)(x),!(null!=(p=n().resources)&&null!=(b=p[m])&&null!=(S=b[P])&&S.fetching&&!v)){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return O=v?v.bookmark:_,C=(0,i.Z)(x),R=O?f(f({},C),{},{bookmarks:[O]}):C,t((0,l.LQ)(m,x,!0)),e.prev=8,I=null!=h?h:r.Z.create,e.next=12,I(m,R).callGet(void 0,w);case 12:if(A=e.sent,c&&g(A)&&c(m,R,A),g(A)||(E=null==(T=A.bookmarks)?void 0:T[0]),F=A.resource_response.data,D=(M=(0,s.f)({data:F,opts:{bookmark:_,options:x,schema:j},resource:m})).normalizedResponse,L=M.resourceSchema,g(A)?(E=null!=(K=A.resource_response.bookmark)?K:"",D=(z=(0,u.Z)(A)).normalizedResponse,L=z.schema,Z=z.response):Z=A,!(Array.isArray(F)&&0===F.length&&E&&E!==o.qx)||(B=v?v.count:0)>=o.s9){e.next=23;break}return e.abrupt("return",t(y({resource:m,fetchOptions:d,retry:{count:B+1,bookmark:E},resourceCreator:h})));case 23:Z&&(_?(t((0,l.Dm)(m,x,Z,D,L)),r.Z.fetchMoreCompleteCallback&&r.Z.fetchMoreCompleteCallback({resource:m,options:x,response:Z,normalizedResponse:D,refresh:k,resourceSchema:L})):(t((0,l.Sr)(m,x,Z,D,k,L)),r.Z.fetchCompleteCallback&&r.Z.fetchCompleteCallback({resource:m,options:x,response:Z,normalizedResponse:D,refresh:k,resourceSchema:L}))),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(8),c&&(U=null!=(N=e.t0.http_status)?N:500,c(m,x,{resource:{name:m,options:x},resource_response:{data:null,error:e.t0,http_status:U,status:"failure"}})),t((0,l.Tl)(m,x,e.t0));case 30:return e.abrupt("return",void 0);case 31:case"end":return e.stop()}},e,null,[[8,26]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function o(e){p(a,r,i,o,l,"next",e)}function l(e){p(a,r,i,o,l,"throw",e)}o(void 0)})},function(e,t){return n.apply(this,arguments)}}var m=function(e,t,n,r){return y({resource:e,fetchOptions:{bookmark:t.bookmark,headers:t.headers,options:t.options,refresh:!1,schema:t.schema},resourceCreator:n,addSuspenseResourceSSRData:r})},h=function(e,t,n){return y({resource:e,fetchOptions:{headers:t.headers,options:t.options,refresh:!0,schema:t.schema},resourceCreator:n})};function g(e){return"resource"in e}},35831:function(e,t,n){"use strict";n.d(t,{AF:function(){return r},KK:function(){return i},aW:function(){return l},cR:function(){return a},se:function(){return u},zP:function(){return o}});var r="CREATE_COMPLETE",i="FETCHING",a="FETCH_ERROR",o="FETCH_COMPLETE",l="FETCH_MORE_COMPLETE",u="RESOURCE_INVALIDATE"},72918:function(e,t,n){"use strict";n.d(t,{Dm:function(){return c},LQ:function(){return l},Sr:function(){return s},Tl:function(){return u},XM:function(){return o},jB:function(){return d}});var r=n(35831),i=n(23534);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,i){return{type:r.AF,payload:{resource:e,options:t,response:n,normalizedResponse:i}}}function l(e,t,n){return{type:r.KK,payload:{resource:e,options:t,isFetching:n}}}var u=function(e,t,n){return{type:r.cR,payload:{resource:e,options:t,error:n}}};function s(e,t,n,o,l,u){var s,c,d;return{type:r.zP,payload:{isRefresh:l,normalizedResponse:o,options:t,resource:e,response:n,schema:u},meta:(s={},(d=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(c=i.s,"string"),(c="symbol"==a(d)?d:d+"")in s)?Object.defineProperty(s,c,{value:!0,enumerable:!0,configurable:!0,writable:!0}):s[c]=!0,s)}}function c(e,t,n,i,a){return{type:r.aW,payload:{resource:e,options:t,response:n,normalizedResponse:i,schema:a}}}function d(e,t){return{type:r.se,payload:{resource:e,optionsOrOptionsKey:t}}}},82347:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(60101),i=n(24315),a=n(954300);function o(e){var t=e.resource,n=e.resource_response,o=t.name,l=t.options,u=(0,i.Z)(n),s=n.data,c=n.error,d=(0,a.J)(o,{options:l});return{error:c,isRefresh:!1,normalizedResponse:d&&s?(0,r.Fv)(s,d):null,options:l,resource:o,response:{auxData:u,bookmarks:n.bookmark?[n.bookmark]:void 0,resource_response:{data:s,error:c}},schema:d}}},943257:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(586659),i=n(581722),a=n(963489),o=n(440568),l=n(15667),u=n(536652),s=n(849233),c=n(707079),d=n(791948);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}(0,n(512395).kr)();var p=function(e){var t=e.httpStatus;return!t||t>=500};function y(e,t,n){var y,m=e.enabledRouteRefresh,h=e.headers,g=e.name,v=e.noCache,b=e.options,S=e.schema,_=(0,c.MA)(),w=(0,d.vL)(),x=(0,i.I0)(),k=(0,o.Z)(b),j=(0,r.useRef)(void 0),P=(0,a.ur)(),O=(0,r.useRef)(void 0),C=function(e){var t;return null==(t=e[g])?void 0:t[k]},R=(0,i.v9)(function(e){var t;return null==(t=C(e.resources))?void 0:t.data}),I=(0,i.v9)(function(e){var t;return null==(t=C(e.resources))?void 0:t.error}),A=!!I||void 0!==R,E=(0,i.v9)(function(e){var t;return!!(null==(t=C(e.resources))?void 0:t.fetching)}),T=(0,i.v9)(function(e){var t;return null==(t=C(e.resources))?void 0:t.nextBookmark}),F=A&&!E&&T===s.qx,M=!!(A&&m&&"POP"!==P&&!t),D=function(e){if(Array.isArray(e))return e}(y=(0,r.useState)(M))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(y,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,2):void 0}}(y,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),L=D[0],Z=D[1],K=L;(0,i.wU)(R,O.current)||(L&&(O.current||!M)&&(K=!1,Z(!1)),O.current=R);var z=(0,r.useCallback)(function(e){var t=x((0,u.U)(g,{options:b,schema:S,bookmark:e,headers:h},w,void 0));e||null==_||_.add(g,k,t)},[x,g,k,S,h]),B=(0,r.useCallback)(function(){var e=x((0,u.b)(g,{options:b,schema:S,headers:h},w));null==_||_.add(g,k,e)},[x,g,k,S,h]),N=(0,r.useCallback)(function(){t||(B(),Z(!0))},[t,B]),U=(0,r.useCallback)(function(){!T||F||E||t||z(T)},[t,z,F,E,T]),H=(0,l.B)().isBot,W=(0,r.useCallback)(function(){if(!(E||null!=_&&_.get(g,k))&&!t&&j.current!==k){var e=void 0===j.current;j.current=k,!A||n&&e&&I&&p(I)?z():(!H&&v||M)&&B()}},[n,z,B,t,I,H,E,A,M,g,v,k,_]),V=(0,r.useMemo)(function(){return{name:g,optionsKey:k}},[g,k]);return(0,r.useMemo)(function(){return{fetchResource:W,ref:V,refresh:N,fetchMore:U,isFetching:E,isLoaded:A,isRefreshing:K}},[U,W,E,A,V,K,N])}},444185:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(849233),i=n(943257);function a(e){var t=null!=e?e:{name:r.fY,options:null},n=t.enabledRouteRefresh,a=t.headers,o=t.name,l=t.noCache,u=t.options,s=t.schema,c=!e,d=(0,i.Z)({enabledRouteRefresh:n,headers:a,name:o,noCache:l,options:u,schema:s},c,!1),f=d.fetchResource,p=d.ref,y=d.fetchMore,m=d.isFetching,h=d.isLoaded,g=d.isRefreshing,v=d.refresh;return c||f(),{ref:p,fetchMore:y,isFetching:m,isLoaded:h,isRefreshing:g,refresh:v}}},821806:function(e,t,n){"use strict";t.Z=n(782259).Z},734215:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(Object.is(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(function(n){return e[n]===t[n]})}n.d(t,{Z:function(){return i}})},2761:function(e,t,n){"use strict";function r(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}n.d(t,{Z:function(){return r}})},738140:function(e,t,n){"use strict";n.d(t,{$:function(){return i},a:function(){return a}});var r=(0,n(729434).Z)("timeSpentContext"),i=r.Provider,a=r.getMaybe},732888:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,i=n(672410),a=n(573313);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor((window.performance.timeOrigin+window.performance.now())*1e6)}:function(){return 1e6*Date.now()};Object.defineProperty(r=function e(t){var n=this;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");l(this,"start",function(){return n.startTime=u(),n.startTime}),l(this,"end",function(){return n.endTime=u(),n.duration=n.startTime?n.endTime-n.startTime:null,n.duration});try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,a.Z)()}t&&Object.assign(this,t)},"prototype",{writable:!1}),t.Z=r},998212:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=(0,n(729434).Z)("TimeSpentManagerContext"),i=r.Provider;t.Z=r.getMaybe},359829:function(e,t,n){"use strict";function r(e,t){var n=0,r=!1,i=-1;return e.forEach(function(e,a){var o,l,u,s,c,d,f,p,y,m,h,g,v,b,S=e.x,_=e.y,w=e.h,x=e.w,k=(o={x:void 0===S?0:S,y:void 0===_?0:_,h:void 0===w?0:w,w:void 0===x?0:x},l=t.x,u=t.y,s=t.w,c=t.h,d=o.x,f=o.y,p=o.w,y=o.h,m=Math.max(l,d),h=Math.min(l+s,d+p),g=Math.max(u,f),v=Math.min(u+c,f+y),(b=m<h&&g<v?(h-m)*(v-g):0)/(s*c+p*y-b));k>=.9&&k>n&&(n=k,r=!0,i=a)}),{isCropAreaOnDotArea:r,indexToHide:i}}n.d(t,{Z:function(){return r}})},144633:function(e,t,n){"use strict";function r(e){var t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6;break;case 9:t=9}return t}n.d(t,{Z:function(){return r}})},611304:function(e,t,n){"use strict";function r(e){var t,n,r,i,a,o,l,u,s,c,d,f,p;return{h:null!=(t=null==e?void 0:e.h)?t:void 0,is_stela:null!=(n=null==e?void 0:e.isStela)?n:void 0,labelId:null!=(r=null==e?void 0:e.labelId)?r:void 0,label_x:null!=(i=null==e?void 0:e.labelX)?i:void 0,label_y:null!=(a=null==e?void 0:e.labelY)?a:void 0,label:null!=(o=null==e?void 0:e.label)?o:void 0,max_annotation_num_documents:null!=(l=null==e?void 0:e.maxAnnotationNumDocuments)?l:void 0,score:null!=(u=null==e?void 0:e.score)?u:void 0,show_on_closeup:null!=(s=null==e?void 0:e.showOnCloseup)?s:void 0,title:null!=(c=null==e?void 0:e.title)?c:void 0,w:null!=(d=null==e?void 0:e.w)?d:void 0,x:null!=(f=null==e?void 0:e.x)?f:void 0,y:null!=(p=null==e?void 0:e.y)?p:void 0}}n.d(t,{Z:function(){return r}})},645435:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(586659),i=n(20256),a=n(264251),o=n(230543),l=n(25837),u=n(819199),s=n(382718);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t=e.children,n=e.className,c=e.forwardRef,d=e.offset,p=void 0===d?0:d,y=e.position,m=e.shouldShowShadow,h=void 0!==m&&m,g=e.style,v=void 0===g?{}:g,b=e.top,S=e.stickyZIndex,_=(0,a.g)().setIsContentHeaderPresent;(0,r.useEffect)(function(){return _(!0),function(){_(!1)}},[]);var w=(0,u.bj)(),x=w.currentScrollPosition,k=w.isScrolled,j=w.setSubheaderShadow;(0,r.useEffect)(function(){return h&&j("contentHeader"),function(){h&&j(null)}},[h]);var P=!1;"pending"!==b&&(P=null!=b?x>=b:k);var O=(0,o.t)(),C=(0,s.jsx)("div",{ref:c,className:n,style:f(f(f({},v),{},{top:O+p},P&&h?f(f({},l.Rz),{},{transition:v.transition||l.Rz.transition,zIndex:499}):{}),y&&"sticky"!==y?{position:y}:{}),children:t});return"sticky"===y?(0,s.jsx)(i.Le,{top:O+p,zIndex:S||new i.Ry(1),children:C}):C}},264251:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},g:function(){return s}});var r=n(586659),i=n(729434),a=n(382718);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,i.Z)("ContentHeader"),u=l.Provider,s=l.get;function c(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],s=i[1],c=(0,r.useMemo)(function(){return{isContentHeaderPresent:l,setIsContentHeaderPresent:s}},[l]);return(0,a.jsx)(u,{value:c,children:n})}},751961:function(e,t,n){"use strict";var r=n(366859),i=n(382718);t.Z=function(e){var t=e.children;return(0,i.jsx)(r.Z,{onTouch:function(e){if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){var t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:t})}},984126:function(e,t,n){"use strict";var r=n(20256),i=n(19585),a=n(382718);t.Z=function(e){var t=e.isInModal,n=(0,i.ZP)();return(0,a.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new r.Ry(1),children:(0,a.jsx)(r.xH,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},819199:function(e,t,n){"use strict";n.d(t,{Hv:function(){return f},bj:function(){return d}});var r=n(586659),i=n(729434),a=n(289032),o=n(382718);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,i.Z)("HeaderShadow"),c=s.Provider,d=s.get;function f(e){var t=e.children,n=l((0,r.useState)(!1),2),i=n[0],u=n[1],s=l((0,r.useState)(0),2),d=s[0],f=s[1],p=l((0,r.useState)(null),2),y=p[0],m=p[1];(0,r.useEffect)(function(){var e=(0,a.Z)(function(){u(window.scrollY>0),f(window.scrollY)},50);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]);var h=(0,r.useMemo)(function(){return{currentScrollPosition:d,isScrolled:i,setSubheaderShadow:m,subheaderShadow:y}},[d,i,m,y]);return(0,o.jsx)(c,{value:h,children:t})}},169053:function(e,t,n){"use strict";n.d(t,{EQ:function(){return s},JC:function(){return u},S6:function(){return c},_S:function(){return d}});var r=n(581722),i=n(729434),a=n(382718),o=(0,i.Z)("Pins"),l=o.Provider,u=o.get,s=o.getMaybe;function c(){var e=u();return function(t){return e[t]}}function d(e){var t=e.children,n=(0,r.v9)(function(e){return e.pins},r.wU);return(0,a.jsx)(l,{value:n,children:t})}},425140:function(e,t,n){"use strict";n.d(t,{G:function(){return b},Z:function(){return S}});var r=n(586659),i=n(20256),a=n(469167),o=n(467925),l=n(93966),u=n(355363),s=n(62937),c=n(647709),d=n(341742),f=n(348268),p=n(357823),y=n(130858),m=n(79293),h=n(648200),g=n(382718);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=25;function S(e){var t,n=e.align,b=e.customLayoutType,S=e.getColumnSpanConfig,_=e.getResponsiveModuleConfigForSecondItem,w=e.emptyState,x=e.feedItems,k=e.feedKey,j=e.maxColumns,P=e.minColumns,O=e.pagination,C=O.hasNext,R=O.isLoadingNext,I=O.loadNext,A=O.refetch,E=e.pullToRefresh,T=e.renderFeedItem,F=e.serverRender,M=e.isLoadingStateEnabled,D=e.isLoadingAccessibilityLabel,L=e.isLoadedAccessibilityLabel,Z=e.layout,K=e.forceShowLoadingState,z=(0,c.HG)(),B=(0,o.Z)(),N=B.experimentalColumnWidth,U=B.experimentalGutter,H=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),W=H[0],V=H[1],G=1===j?window.innerWidth:void 0,$="userSearch"===b?window.innerWidth-16:200,q=R&&0===x.length&&!W&&!M,Y="desktopFlashlight"===b||"ideaPage"===b&&z?-2:l.qG,X=null!=P?P:2;return"userSearch"===b&&(X=1),(0,d.Z)(function(){return window.addEventListener("online",I),function(){return window.removeEventListener("online",I)}}),(0,g.jsxs)(i.xu,{"data-test-id":"MobileFeed",children:[(0,g.jsx)(p.Z,{enabled:!!E,onPull:function(){A(),V(!0)},refreshing:W}),(0,g.jsxs)(i.xu,{"data-test-id":"grid",marginEnd:Y,marginStart:Y,opacity:W?.5:1,children:[(0,g.jsx)(u.Z,{isAtEndOfFeed:!C,isPlaceholderGrid:M&&R&&!x.length,itemCount:x.length,children:x.length?(0,g.jsx)(i.xu,{"data-test-id":"feed",marginTop:(0,f.kk)({isDesktop:z}),children:(0,g.jsx)(s.Z.Consumer,{children:function(e){return(0,g.jsx)(r.Fragment,{children:(0,g.jsx)(h.Z,{children:(0,g.jsx)(a.default,{_getResponsiveModuleConfigForSecondItem:_,align:n||("ideaPage"===b?"start":void 0),cacheKey:k,columnWidth:z?null!=N?N:l.yF:null!=G?G:$,getColumnSpanConfig:S,gutterWidth:z?null!=U?U:4*l.jC:void 0,id:F?k:void 0,isFetching:null!=K?K:R,isLoadedAccessibilityLabel:null!=L?L:"",isLoadingAccessibilityLabel:null!=D?D:"",isLoadingStateEnabled:null!=K?K:!!M,items:K?[]:x,layout:null!=Z?Z:void 0,loadItems:I,maxColumns:j,minCols:X,optOutFluidGridExperiment:null!=j,renderItem:function(e){return T(e.data,e.itemIdx)},scrollContainerRef:e,serverRender:F})})})}})}):R?(0,g.jsx)(y.Z,{}):null!=w?w:null}),q&&(0,g.jsx)(i.xu,{column:12,paddingY:2,children:(0,g.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===b})})]})]})}},290003:function(e,t,n){"use strict";n.d(t,{Z:function(){return e7}});var r,i,a,o,l,u,s,c=n(586659);n(492996);var d=n(650533),f=n(20256),p=n(28427),y=n(801082),m=n(19585),h=n(886981),g=n(634737),v=n(963489),b=n(241646),S=n(583270),_=n(382718);function w(e){var t,n,r=e.isTopRow,i=e.image;return(0,_.jsxs)(f.zd,{height:r?217:168,wash:!0,width:r?236:117,children:[i.url&&(0,_.jsx)(f.Ee,{alt:i.alt||"",fit:"cover",naturalHeight:null!=(t=i.height)?t:1,naturalWidth:null!=(n=i.width)?n:1,src:i.url}),!!i.price&&(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},"data-test-id":"shopping-upsell-price",height:24,left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:i.price})]})}var x=n(980787),k=n(744862),j=n(351607),P=n(97484),O=n(47426),C=n(483858),R=n(865690);function I(e,t){if(e){if("string"==typeof e)return A(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E={container:{borderRadius:"".concat(P.Oc,"px ").concat(P.Oc,"px 25px 25px"),WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},T=function(e){var t=e.images,n=e.firstImageIndex,r=n+1,i=n+2;return(0,_.jsxs)(f.xu,{overflow:"hidden",rounding:4,children:[(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:E.content},children:t.at(n)?(0,_.jsx)(w,{image:t[n],isTopRow:!0}):null}),t.length>i?(0,_.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,_.jsx)(w,{image:t[r]}),(0,_.jsx)(w,{image:t[i]})]}):null]})};function F(e){var t,n,r,i,a,o,l=e.dangerouslySetActionUrl,u=e.query,s=e.story,d=e.slotIndex,p=(0,x.u)().logContextEvent,y=s.action,m=s.id,h=s.objects,g=s.story_type,v=s.subtitle,b=y||{},S=b.text,w=b.url,P=function(e){if(Array.isArray(e))return e}(t=(0,c.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||I(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=P[0],M=P[1],D=(0,c.useCallback)(function(){return M(!0)},[M]),L=(0,c.useCallback)(function(){return M(!1)},[M]),Z=(h||[]).reduce(function(e,t){var n,r,i,a,o,l,u,s,c;return"pin"!==t.type?e:[].concat(function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{domain:t.domain,image:{alt:t.title||t.description,height:null==(n=t.images)||null==(r=n["474x"])?void 0:r.height,url:null==(i=t.images)||null==(a=i["474x"])?void 0:a.url,width:null==(o=t.images)||null==(l=o["474x"])?void 0:l.width,price:null==(u=((null==(s=t.rich_summary)||null==(c=s.products)?void 0:c[0])||{}).offer_summary)?void 0:u.price}}])},[]),K=(Z[0]||{}).domain||void 0;["search_product_collage_story","shop_article_story"].includes(g)?(n=2,r=43,i={story_id:m,story_type:g,entered_query:u}):"shop_brand_story"===g||"shop_brand_affinity_story"===g?(n=1,r=92,K&&(i={story_type:g,commerce_data:JSON.stringify({domain:K})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(g)?(n=72,r=3050):"related_domain_collage"===g?(n=72,r=3455):"related_products_collage"===g&&(n=1,r=3177);var z=function(){return p({event_type:101,element:372,component:200,view_type:n,view_parameter:r,aux_data:{story_type:g}})},B=v?4:2;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(g)&&y){var N=y.user;a=N&&(N.image_medium_url||N.image_large_url),o=N&&N.full_name}var U=l||w;if(!U)return null;var H=(0,O.Z)({url:U})?"nofollow":"none";return(0,_.jsx)(j.Fw,{componentType:200,contextLogData:i||{},impressionType:"Story",loggingId:g,slotIndex:d,viewParameter:r,viewType:n,children:function(e){var t=e.impressionTrackerRef;return(0,_.jsx)(f.xu,{ref:t,children:(0,_.jsx)(f.Tg,{href:U,onTap:z,rel:H,children:(0,_.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:E.container},onMouseEnter:D,onMouseLeave:L,overflow:"hidden",position:"relative",children:[(0,_.jsx)(T,{firstImageIndex:+!!["related_domain_collage","related_products_collage"].includes(g),images:Z.map(function(e){return e.image})}),(0,_.jsx)(f.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:2,paddingX:3,paddingY:B,rounding:"pill",children:(0,_.jsxs)(f.xu,{alignContent:"start",direction:"column",display:"flex",justifyContent:"center",margin:2,children:[v?(0,_.jsx)(f.xu,{marginBottom:1,children:(0,_.jsx)(f.xv,{align:"start",color:"subtle",children:v.format})}):null,(0,_.jsx)(f.xv,{align:"start",weight:"bold",children:S})]})}),o&&a&&(0,_.jsx)(f.xu,{margin:2,position:"absolute",right:!0,top:!0,children:(0,_.jsx)(k.qE,{name:o,outline:!0,size:"md",src:a})}),(0,_.jsx)(C.Z,{visibility:F?"visible":"none",children:(0,_.jsx)(R.Z,{additionalStyles:E.visualOverlay})})]})})})}})}var M=n(302148),D=n(941404),L=(void 0!==r||(r=n(135885)).hash&&"610a35d46510240eb58e262c1909310c"!==r.hash&&console.error("The definition of 'BestPinCardAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),Z=function(){(0,D.NC)("click_best_pin_board",!0)},K=function(){(0,D.NC)("click_best_pin_profile",!0)},z=function(e){var t=e.pin.pinner,n=null!=t?t:{},r=n.username,i=n.fullName,a=(null==t?void 0:t.imageMediumUrl)||(null==t?void 0:t.imageSmallUrl);return(0,_.jsx)(f.Tg,{fullWidth:!1,href:"/".concat(null!=r?r:"","/"),onTap:K,rounding:"circle",children:(0,_.jsx)(k.qE,{name:null!=i?i:"",outline:!0,size:"sm",src:null!=a?a:""})})},B=function(e){var t=e.pin,n=(0,m.ZP)(),r=t.board,i=t.pinner,a=null!=r?r:{},o=a.name,l=a.privacy,u=a.url,s=(null==r?void 0:r.entityId)||"",c=null!=i?i:{},d=c.username,p=c.fullName,y=(0,_.jsx)(f.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(f.rU,{display:"inlineBlock",href:"/".concat(null!=d?d:"","/"),onClick:K,underline:"hover",children:p})},p);return"protected"===l?(0,M.nk)(n._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:y}):(0,M.nk)(n._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:y,boardName:(0,_.jsx)(f.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(f.rU,{href:null!=u?u:"",onClick:Z,children:o},"board")},s)})},N=function(e){var t=e.pinKey,n=(0,p.Z)(L,t);return(0,_.jsxs)(f.xu,{alignItems:"center","data-test-id":"pin-attribution",direction:"row",display:"flex",marginTop:3,children:[(0,_.jsx)(z,{pin:n}),(0,_.jsx)(f.xu,{marginEnd:2}),(0,_.jsx)(f.xv,{size:"200",children:(0,_.jsx)(B,{pin:n})})]})},U=function(e){e.target&&e.target instanceof HTMLElement&&(e.target.style.textDecoration="underline")},H=function(e){e.target&&e.target instanceof HTMLElement&&(e.target.style.textDecoration="none")},W=n(521009);function V(e){var t,n,r=e.pageType,i=e.pinCreditPrefix,a=e.pin,o=e.pinLink,l=e.viewParameter,u=(0,m.ZP)(),s=(0,W.Z)();if("topic"!==r.page&&(!a.domain||"Uploaded by user"===a.domain))return null;var c="topic"!==r.page||r.isAuth?"100":"200",d="topic"===r.page&&!!a.nativeCreator,p=d?null==(t=a.nativeCreator)?void 0:t.fullName:a.domain;return(0,_.jsx)(f.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,_.jsx)(f.rU,{display:"inlineBlock",href:d?"/".concat((null==(n=a.nativeCreator)?void 0:n.username)||"","/"):o,onClick:function(){"topic"===r.page?(0,D.NC)("click_topic_best_pin_link"):s({event_type:12,view_type:3,object_id_str:a.entityId,component:85,view_parameter:l})},rel:"nofollow",target:"blank",underline:"hover",children:(0,_.jsx)(f.xv,{size:c,children:(0,M.nk)(u._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:i,pinCredit:(0,_.jsx)(f.xv,{inline:!0,size:c,weight:"bold",children:"topic"!==r.page?(0,_.jsxs)("span",{"data-gestalt-valid-html":"Text",onBlur:H,onFocus:U,onMouseLeave:H,onMouseOver:U,children:[" ",a.domain]}):p},d?"creatorProfile":"pinLinkDomain")})})})})}var G=n(166379),$=n(110870),q=n(267828),Y=n(695263),X=n(918874),Q=n(873408),J=n(776250),ee=n(492841),et=n(594414),en=(void 0!==i||(i=n(815025)).hash&&"12f77507a9fdec344b44b7e659fa5ac1"!==i.hash&&console.error("The definition of 'RecipeMetadata_recipe' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function er(e){var t=e.recipeKey,n=(0,p.Z)(en,t);if(null!=n&&null!=(r=n.aggregateRating)&&r.ratingValue&&n.aggregateRating.reviewCount){var r,i,a,o,l="number"==typeof(null==(i=n.cookTimes)||null==(a=i.cook)?void 0:a.m)&&"number"==typeof(null==(o=n.cookTimes.prep)?void 0:o.m)?"".concat(n.cookTimes.cook.m+n.cookTimes.prep.m," minutes \xb7 "):"";return(0,_.jsxs)(c.Fragment,{children:[(0,_.jsx)(et.Z,{max_rating:n.aggregateRating.bestRating,rating:n.aggregateRating.ratingValue},n.aggregateRating.ratingValue),(0,_.jsx)(f.xv,{inline:!0,size:"200",children:" ".concat(n.aggregateRating.reviewCount," \xb7 ").concat(l)})]})}return null}var ei=n(15667),ea=(void 0!==a||(a=n(5375)).hash&&"81db65fd15680cc0281b801ed4a8cb94"!==a.hash&&console.error("The definition of 'BestPinCardBody_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),eo=function(e){var t=null;e.lastRepinDate&&(t=new Date(e.lastRepinDate));var n=null;return(e.createdAt&&(n=new Date(e.createdAt)),t)?n?t>n?t:n:t:n},el=function(e){var t="";if(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished)return t;var n=eo(e);if(n&&n.getFullYear()===new Date().getFullYear()){var r=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),i=e.category;r.has(i)&&(t=n?(0,_.jsx)(G.Z,{dateFormatType:G.k.LONG_MONTH_YEAR,useUTC:!1,value:n}):"")}return t},eu=function(e,t){var n,r,i,a=new Date(null!=(n=null==(r=(null!=(i=e.richMetadata)?i:{}).article)?void 0:r.datePublished)?n:Date.now()),o=a.getTime(),l=new Date().getTime();return null==t||l-o<=31536e6*t?(0,_.jsx)(G.Z,{dateFormatType:G.k.LONG_MONTH_YEAR,useUTC:!1,value:a}):""};function es(e){var t,n,r,i,a,o,l,u,s,c,d,y,m,h,g,v,b,S,w,x,k,j,P,O=e.pinKey,C=e.viewportSize,R=e.pageType,I=(0,p.Z)(ea,O),A=(0,X.Z)(I),E=A.pinCreditPrefix,T=A.pinLink,F=(0,Q.Z)(I),M=(0,Y.eK)({richMetadataDescription:null==(t=I.richMetadata)?void 0:t.description,richSummaryDisplayName:null==(n=I.richSummary)?void 0:n.displayName,closeupUnifiedDescription:I.closeupUnifiedDescription}).description;"videos_category"===R.page&&(M=(0,Y.kt)(M,(null==(P=I.nativeCreator)?void 0:P.username)||""));var D="wide"===C,L=(0,Y.Ly)({pinTitle:I.title,gridTitle:I.gridTitle,richSummaryDisplayName:null!=(r=null==(i=I.richSummary)?void 0:i.displayName)?r:"",richMetadataTitle:null!=(a=null==(o=I.richMetadata)?void 0:o.title)?a:"",storyPinDataId:I.storyPinDataId,storyPinDataMetadataPinTitle:null==(l=I.storyPinData)||null==(u=l.metadata)?void 0:u.pinTitle,pinJoinVisualAnnotation:null==(s=I.pinJoin)?void 0:s.visualAnnotation});(I.gridTitle||"").trim()&&L!==I.gridTitle&&(L=(0,Y.EU)(I.gridTitle,200));var Z=(0,q.r)(null==(c=I.richMetadata)||null==(d=c.recipe)?void 0:d.name,!!(null!=(y=I.richMetadata)&&null!=(m=y.recipe)&&m.categorizedIngredients),null!=(h=null==(g=I.richMetadata)||null==(v=g.recipe)?void 0:v.fromAggregatedData)&&h)?null==(b=I.richMetadata)?void 0:b.recipe:null,K=!!(I.richMetadata&&I.richMetadata.article&&I.richMetadata.article.datePublished)&&eu(I,2),z=el(I)||K,B=(0,ei.B)(),U=B.isBot,H=B.isSocialBot;return(0,_.jsx)(f.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",flex:"grow",padding:8,position:"relative",width:"100%",children:(0,_.jsxs)(f.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",children:[(0,_.jsx)(V,{pageType:R,pin:{entityId:I.entityId,domain:I.domain||"",nativeCreator:I.nativeCreator&&{fullName:I.nativeCreator.fullName,username:I.nativeCreator.username}},pinCreditPrefix:"topic"===R.page&&I.nativeCreator?"Created by":E,pinLink:null!=T?T:"",viewParameter:(0,J.Z)({hasPin:!0,hasPinRichMetadata:!!I.richMetadata,hasPinRichMetadataProducts:!!(null!=(S=I.richMetadata)&&S.products),hasPinRichMetadataArticle:!!(null!=(w=I.richMetadata)&&w.article),hasPinRichMetadataRecipe:!!(null!=(x=I.richMetadata)&&x.recipe),hasPinStoryPinData:!!I.storyPinData})}),(0,_.jsx)(f.kC,{direction:"row",justifyContent:"between",children:(0,_.jsx)(f.xu,{display:"flex",marginEnd:3*!D,marginTop:3*!!D,overflow:"hidden",children:L&&(0,_.jsx)("h2",{"data-test-id":"UnauthBestPinCardTitle",style:{fontWeight:600,fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:L})})}),z?(0,_.jsx)(f.xu,{marginTop:1,children:(0,_.jsx)(f.xv,{color:"subtle",children:z})}):null,M&&(0,_.jsx)(f.xu,{display:"flex",marginTop:3,overflow:"hidden",children:(0,_.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[Z&&(0,_.jsx)(er,{recipeKey:Z}),M]})}),Z&&(0,_.jsx)(ee.Z,{marginOverrides:Z?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:Z.categorizedIngredients,name:Z.name,image:(0,$.Z)({imagesUrls:F,embedSrc:null==(k=I.embed)?void 0:k.src,embedType:null==(j=I.embed)?void 0:j.type,excludeOriginals:!U&&!H})}}}),(0,_.jsx)(f.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginTop:2,children:(0,_.jsx)(N,{pinKey:I})})]})})}var ec=n(642407),ed=n(774055);function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ep={nw:0,ne:90,se:180,sw:270},ey={ne:[7,-7],se:[7,7],sw:[-7,7],nw:[-7,-7]},em={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},eh=function(e,t,n,r){if("rounded"!==r)return"translate(".concat(t,", ").concat(n,"), rotate(").concat(ep[e],")");var i,a=function(e){if(Array.isArray(e))return e}(i=ey[e])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(i,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(e,2):void 0}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=a[0],l=a[1];return"translate(".concat(t+o,", ").concat(n+l,"), rotate(").concat(ep[e],")")};function eg(e){var t=e.corner,n=e.x,r=e.y,i=e.size,a=e.cornerStyle;return(0,_.jsxs)("g",{"data-test-id":"cropper-corner-".concat(t),style:{cursor:em[t],pointerEvents:"auto"},transform:eh(t,n,r,a),children:[(0,_.jsx)("rect",{className:"cropperHandle ".concat(t),fill:"rgba(0,0,0,0)",height:i,stroke:"none",width:i,x:0,y:0}),"rounded"===a?(0,_.jsx)("path",{className:"cropperHandle ".concat(t),d:"M16 0H24V8H16C11.5817 8 8 11.5817 8 16V24H0V16C0 7.16343 7.16345 0 16 0Z",fill:"#fff"}):(0,_.jsx)("path",{className:"cropperHandle ".concat(t),d:"M ".concat(i," 0 L 0 0 L 0 ").concat(i),fill:"none",stroke:"#fff",strokeWidth:6})]})}var ev={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function eb(e){var t=e.edge,n=e.x,r=e.y,i=e.w,a=e.h;return(0,_.jsx)("rect",{className:"cropperHandle ".concat(t),fill:"rgba(0,0,0,0)",height:a,stroke:"none",style:{cursor:ev[t],pointerEvents:"auto"},width:i,x:n,y:r})}function eS(e){var t=e.x,n=e.y,r=e.w,i=e.h,a="rounded";return(0,_.jsxs)(c.Fragment,{children:[(0,_.jsx)(eg,{corner:"nw",cornerStyle:a,size:20,x:t,y:n}),(0,_.jsx)(eg,{corner:"ne",cornerStyle:a,size:20,x:t+r,y:n}),(0,_.jsx)(eg,{corner:"sw",cornerStyle:a,size:20,x:t,y:n+i}),(0,_.jsx)(eg,{corner:"se",cornerStyle:a,size:20,x:t+r,y:n+i}),(0,_.jsx)(eb,{edge:"n",h:30,w:Math.max(r-40,0),x:t+20,y:n-10}),(0,_.jsx)(eb,{edge:"e",h:Math.max(i-40,0),w:30,x:t+r-20,y:n+20}),(0,_.jsx)(eb,{edge:"s",h:30,w:Math.max(r-40,0),x:t+20,y:n+i-10}),(0,_.jsx)(eb,{edge:"w",h:Math.max(i-40,0),w:30,x:t-20,y:n+20})]})}var e_=n(598600),ew=n(187356),ex=n(369416),ek=n(341742),ej=n(378547);function eP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eO(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eO(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eC(e){var t,n,r=e.children,i=e.cropArea,a=e.imageSize,o=e.objectDetection,l=e.onChange,u=e.previewCropArea,s=e.showPreviewArea,d=e.viewParameter,p=e.viewType,y=(0,W.Z)(),m=(0,c.useRef)(null),h=(0,c.useRef)(null),g=eP((0,c.useState)(0),2),v=g[0],b=g[1],S=eP((0,c.useState)(0),2),w=S[0],x=S[1],k=eP((0,c.useState)(0),2),j=k[0],P=k[1],O=eP((0,c.useState)(0),2),C=O[0],R=O[1],I=eP((0,c.useState)((0,e_.Z)({cropArea:i,imageSize:a})),2),A=I[0],E=I[1],T=eP((0,c.useState)(null),2),F=T[0],M=T[1],D=eP((0,c.useState)(null),2),L=D[0],Z=D[1],K=eP((0,c.useState)(!1),2),z=K[0],B=K[1],N=eP((0,c.useState)(!1),2),U=N[0],H=N[1],V=function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,n=e.clientY,r=t-v,i=n-w;H(!1),P(r),R(i);var a=e.target,o=a.classList.contains("cropperHandle"),l="shadowMask"===a.id,u="cropSection"===a.id,s=a.id===ew.P,c=a.id===ej.I;o?(M("resize"),a.classList.contains("ne")?Z("ne"):a.classList.contains("nw")?Z("nw"):a.classList.contains("se")?Z("se"):a.classList.contains("sw")?Z("sw"):a.classList.contains("n")?Z("n"):a.classList.contains("s")?Z("s"):a.classList.contains("e")?Z("e"):a.classList.contains("w")&&Z("w")):l?(M("select"),E(ec.OI)):u?M("move"):(A.x<r&&r<A.x+A.w&&A.y<i&&i<A.y+A.h?M("move"):(M("select"),E(ec.OI)),B(s||c))},G=function(e){if(F){B(!1);var t=e.clientX,n=e.clientY,r=t-v,i=n-w;if("resize"===F){var o,l,u=Math.max(Math.min(r,(null!=(o=a.width)?o:1)-ec.SP),ec.SP),s=Math.max(Math.min(i,(null!=(l=a.height)?l:1)-ec.SP),ec.SP),c=A.x,d=A.y,f=A.w,p=A.h;switch(L){case"ne":u<c&&s>d+p?Z("sw"):u<c?Z("nw"):s>d+p&&Z("se");break;case"nw":u>c+f&&s>d+p?Z("se"):u>c+f?Z("ne"):s>d+p&&Z("sw");break;case"se":u<c&&s<d?Z("nw"):u<c?Z("sw"):s<d&&Z("ne");break;case"sw":u>c+f&&s<d?Z("ne"):u>c+f?Z("se"):s<d&&Z("nw");break;case"n":s>d+p&&Z("s");break;case"s":s<d&&Z("n");break;case"e":u<c&&Z("w");break;case"w":u>c+f&&Z("e")}switch(L){case"ne":E(function(e){var t=e.x,n=e.y,r=e.h,i=Math.max(u-t,ec.xZ),a=Math.max(r+(n-s),ec.xZ);return{x:t,y:a<=ec.xZ?n:s,w:i,h:a}});break;case"nw":E(function(e){var t=e.x,n=e.y,r=e.w,i=e.h,a=Math.max(r+(t-u),ec.xZ),o=Math.max(i+(n-s),ec.xZ);return{x:a===ec.xZ?t:u,y:o===ec.xZ?n:s,w:a,h:o}});break;case"se":E(function(e){var t=e.x,n=e.y,r=Math.max(u-t,ec.xZ),i=Math.max(s-n,ec.xZ);return{x:t,y:n,w:r,h:i}});break;case"sw":E(function(e){var t=e.x,n=e.y,r=Math.max(e.w+(t-u),ec.xZ),i=Math.max(s-n,ec.xZ);return{x:r===ec.xZ?t:u,y:n,w:r,h:i}});break;case"n":E(function(e){var t=e.x,n=e.y,r=e.w,i=Math.max(n-s+e.h,ec.xZ);return{x:t,y:i===ec.xZ?n:s,w:r,h:i}});break;case"s":E(function(e){var t=e.x,n=e.y,r=e.w,i=Math.max(s-n,ec.xZ);return{x:t,y:n,w:r,h:i}});break;case"e":E(function(e){var t=e.x,n=e.y,r=e.h,i=Math.max(u-t,ec.xZ);return{x:t,y:n,w:i,h:r}});break;case"w":E(function(e){var t=e.x,n=e.y,r=e.w,i=e.h,a=Math.max(r-u+t,ec.xZ);return{x:a===ec.xZ?t:u,y:n,w:a,h:i}})}}else if("move"===F){var y,m,h=r-j,g=i-C,b=Math.max(Math.min(A.x+h,(null!=(y=a.width)?y:1)-A.w-ec.SP),ec.SP),S=Math.max(Math.min(A.y+g,(null!=(m=a.height)?m:1)-A.h-ec.SP),ec.SP);P(r),R(i),E(function(e){return{x:b,y:S,w:e.w,h:e.h}})}else if("select"===F){var _,x,k=Math.max(Math.min(r,null!=(_=a.width)?_:1),0),O=Math.max(Math.min(i,null!=(x=a.height)?x:1),0);E({x:Math.min(j,k),y:Math.min(C,O),w:Math.abs(k-j),h:Math.abs(O-C)})}}},$=function(){if(M(null),Z(null),B(!1),F){if(z&&"dots"===o)return void H(!0);if(0===A.w&&0===A.h){var e,t;l({cropArea:{x:ec.SP,y:ec.SP,w:(null!=(e=a.width)?e:1)-2*ec.SP,h:(null!=(t=a.height)?t:1)-2*ec.SP},cropSource:5}),y({event_type:16586,view_type:p,view_parameter:d})}else{var n,r,i,u,s,c,f,m,h=Math.max(Math.min(A.x,(null!=(n=a.width)?n:1)-ec.xZ-ec.SP),ec.SP),g=Math.max(Math.min(A.y,(null!=(r=a.height)?r:1)-ec.xZ-ec.SP),ec.SP);s=A.h<ec.xZ?ec.xZ:g+A.h>(null!=(i=a.height)?i:1)-ec.SP?(null!=(f=a.height)?f:1)-g-ec.SP:A.h,c=A.w<ec.xZ?ec.xZ:h+A.w>(null!=(u=a.width)?u:1)-ec.SP?(null!=(m=a.width)?m:1)-h-ec.SP:A.w,"move"===F?y({event_type:7603,view_type:p,view_parameter:d}):"resize"===F?y({event_type:7604,view_type:p,view_parameter:d}):"select"===F&&y({event_type:16584,view_type:p,view_parameter:d}),l({cropArea:{x:h,y:g,w:c,h:s},cropSource:6})}}};return(0,ek.Z)(function(){if(h.current){var e=h.current.getBoundingClientRect(),t=e.x,n=e.y;b(t),x(n)}}),(0,c.useEffect)(function(){U&&E(null!=i?i:ec.OI)},[i,U]),(0,c.useEffect)(function(){var e=h.current;return e&&(e.addEventListener("mousedown",V),window.addEventListener("mousemove",G),window.addEventListener("mouseup",$)),function(){e&&(e.removeEventListener("mousedown",V),window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",$))}}),(0,_.jsxs)(f.xu,{ref:h,dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},"data-test-id":"visual-search-cropper",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,_.jsx)(ex.Z,{unsafeCSS:ec.iC}),(0,_.jsxs)("svg",{"data-gestalt-valid-html":"Box",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,_.jsx)("defs",{children:(0,_.jsxs)("mask",{id:"Mask",children:[(0,_.jsx)("rect",{fill:"white",height:null!=(t=a.height)?t:"100%",rx:"0",ry:"0",width:null!=(n=a.width)?n:"100%",x:"0",y:"0"}),(0,_.jsx)("rect",{height:A.h,id:"hole",rx:0,ry:0,width:A.w,x:A.x,y:A.y},"".concat(A.x).concat(A.y)),(0,_.jsx)(ed.Z,{classNames:"preview-crop-area",in:s&&!F,mountOnEnter:!0,nodeRef:m,timeout:300,unmountOnExit:!0,children:(0,_.jsx)(f.xu,{ref:m,children:(0,_.jsx)("rect",{height:u.h,id:"preview",rx:4,ry:4,width:u.w,x:u.x,y:u.y},"".concat(u.x).concat(u.y))})})]})}),(0,_.jsx)("rect",{fill:"rgba(0,0,0,0.5)",height:"100%",id:"shadowMask",mask:"url(#Mask)",width:"100%",x:"0",y:"0"}),(0,_.jsx)("use",{className:"v2cropSection","data-test-id":"cropper-section",fill:"rgba(0,0,0,0)",href:"#hole",id:"cropSection",stroke:"white",strokeWidth:"2",style:{cursor:"move"}})]}),r,(0,_.jsx)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:"select"!==F&&(0,_.jsx)(eS,{h:A.h,w:A.w,x:A.x,y:A.y})})]})}var eR=n(941023),eI=n(359829),eA=n(74678),eE=n(556872),eT=n(611304);function eF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eM(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eM(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eD=(void 0!==o||(o=n(584411)).hash&&"939d46d8644385a7918ed8179ce77a4c"!==o.hash&&console.error("The definition of 'UnauthCropperContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function eL(e){var t=e.cropArea,n=e.customCropper,r=e.imageSignature,i=e.imageSize,a=e.pinKey,o=e.showAnimation,l=e.trafficSource,u=e.viewParameter,s=e.viewType,d=(0,p.Z)(eD,a),f=eF((0,c.useState)("none"),2),y=f[0],m=f[1],h=eF((0,c.useState)(!1),2),g=(h[0],h[1]),v=eF((0,c.useState)({x:0,y:0,w:0,h:0}),2),b=v[0],S=v[1],w=eF((0,c.useState)({isCropAreaOnDotArea:!1,indexToHide:-1}),2),x=w[0],k=w[1],j=x.indexToHide,P=(0,c.useMemo)(function(){var e;return(null!=(e=d.visualObjects)?e:[]).filter(function(e){return e.isStela}).map(eT.Z)},[d.visualObjects]);return(0,c.useEffect)(function(){var e,n,r=P&&!!P.length,a=(0,eA.Z)({cropArea:t,scaledHeight:null!=(e=i.height)?e:0,scaledWidth:null!=(n=i.width)?n:0});r&&(m("dots"),k((0,eI.Z)(P,a)))},[t,i.height,i.width,P]),(0,_.jsx)(eC,{cropArea:t,imageSize:i,objectDetection:y,onChange:n,previewCropArea:b,showPreviewArea:!1,viewParameter:u,viewType:s,children:"dots"===y&&(0,_.jsx)(eR.Z,{currentSpotlightIdx:j,handleSpotlightClick:function(e){var t,r,a=P[e],o=a.x,u=a.y,s=a.w,c=a.h,d=a.title;n({cropArea:(0,eE.Z)({cropArea:{x:o,y:u,w:s,h:c},scaledHeight:null!=(t=i.height)?t:0,scaledWidth:null!=(r=i.width)?r:0}),cropSource:4,trafficSource:l,title:d||""})},handleSpotlightHover:function(e){if(e!==j){var t,n,r=P[e],a=r.x,o=r.y,l=r.w,u=r.h;S((0,eE.Z)({cropArea:{x:a,y:o,w:l,h:u},scaledWidth:null!=(t=i.width)?t:0,scaledHeight:null!=(n=i.height)?n:0})),g(!0)}},handleSpotlightUnhover:function(){g(!1)},imageSignature:r,imageSize:i,pinKey:d,showAnimation:o,viewParameter:u,viewType:s})},JSON.stringify(t))}var eZ=n(506662),eK=n(728994),ez=n(123998),eB=n(572227),eN=n(351222),eU=n(378888),eH=n(870358),eW=n(85363),eV=n(845421),eG=n(588836),e$=n(425140);function eq(e){return(eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eY(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=eq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eq(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eQ=0,eJ="",e0=(void 0!==l||(l=n(579652)).hash&&"93612431e09eadc717c32d98e8d91e06"!==l.hash&&console.error("The definition of 'UnauthDesktopFlashlightPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function e1(e){var t,n,r=e.imageSpec_564x,i=e.imageSpec_orig,a=e.imageSignature,o=r&&i,l=(null!=o?o:{}).url,u=null!=(t=null==o?void 0:o.width)?t:1,s=null!=(n=null==o?void 0:o.height)?n:void 0;return"number"==typeof u&&"number"==typeof s&&u>564&&(s*=564/u,u=564),{width:u,height:s,url:l,imageSignature:a}}var e2=function(e){var t=e.data,n=e.index,r=e.viewParameter,i=e.productsURL;switch(t.type){case"pin":return(0,_.jsx)(eV.Z,{duploQueryRef:null,pinId:t.id,slotIndex:n,viewParameter:r,viewType:72});case"story":return i&&(0,_.jsx)(F,{dangerouslySetActionUrl:i,slotIndex:n,story:t});default:return null}},e5=function(e){var t=e.resourceOptions,n=(0,m.ZP)(),r=(0,h.Z)({name:"VisualLiveSearchResource",options:t}),i=r.data,a=r.isAtEnd,o=r.isFetching,l=r.fetchMore,u=(0,v.TH)(),s="".concat(u.pathname,"products/").concat(u.search);return(0,_.jsxs)(c.Fragment,{children:[i&&(0,_.jsx)(e$.Z,{customLayoutType:"desktopFlashlight",feedItems:i.results||[],feedKey:"flashlight-dweb-unauth",pagination:{loadNext:l,hasNext:a,isLoadingNext:o,refetch:function(){}},renderFeedItem:function(e,t){return e2({data:e,index:t,viewParameter:3050,productsURL:s})}}),(0,_.jsx)(f.xH,{accessibilityLabel:n._('Loading visual search results...', 'unauthDesktopVisualSearch.flashlightFeed.loading', 'Accessibility label for loading visual search results'),show:o})]})},e6=function(e){var t=e.resourceOptions,n=(0,m.ZP)(),r=(0,h.Z)({name:"VisualLiveSearchProductFeedResource",options:t}),i=r.data,a=r.isAtEnd,o=r.isFetching,l=r.fetchMore;return(0,_.jsxs)(c.Fragment,{children:[i&&(0,_.jsx)(e$.Z,{customLayoutType:"desktopFlashlight",feedItems:i||[],feedKey:"flashlight-products-dweb-unauth",pagination:{loadNext:l,hasNext:a,isLoadingNext:o,refetch:function(){}},renderFeedItem:function(e,t){return e2({data:e,index:t,viewParameter:3334})}}),(0,_.jsx)(f.xH,{accessibilityLabel:n._('Loading visual search product results...', 'unauthDesktopVisualSearch.flashlightProductFeed.loading', 'Accessibility label for loading visual search product results'),show:o})]})};function e3(e){var t=e.pinKey,n=(0,m.ZP)(),r=(0,ei.B)().isRTL,i=(0,W.Z)(),a=(0,v.s0)(),o=(0,v.TH)(),l=(0,c.useRef)(null),u=(0,d.$B)(),s=(0,eB.Z)(),y=(0,g.Z)(u.params.id||"").pinId,h=(0,eU.mB)(o.search),w=(0,S.Z)(o),x=function(e){var t=parseInt(null!=e?e:"",10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(h.cropSource),k=(0,eZ.hd)(o),j=(0,p.Z)(e0,t),P=(0,eK.Z)({pinKey:j}).getNormalizedPinImage;if((0,c.useEffect)(function(){if(!w&&j){var e=P(),t=e.width,n=e.height;a((0,eW.Z)({cropArea:{h:n-2*ec.SP,w:t-2*ec.SP,x:ec.SP,y:ec.SP},isProductPage:k,pinId:y,surfaceType:"flashlight"}),{replace:!0})}},[P,a,w,k,j,y]),(0,ek.Z)(function(){i({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:y}})}),(0,c.useEffect)(function(){var e=l.current;return e&&eJ===y&&(e.scrollTop=eQ),function(){e&&(eQ=e.scrollTop,eJ=y)}}),!j)return(0,_.jsx)(ez.Z,{objectId:"",view:72,children:(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{top:eN.Pw}},position:"relative",children:(0,_.jsx)(f.xH,{accessibilityLabel:n._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})});var O=j.imageSignature,C=j.description,R=e1(j),I=R.width,A=R.height,E=R.url,T=function(e){var t,n,r,i,a,o=e.initialCropArea,l=e.pin;if(o)a=eX({},o);else{var u=l.visualObjects,s=e1(l),c=s.width,d=void 0===c?1:c,f=s.height,p=void 0===f?1:f;if(u&&u.length){var y=u[0],m=y.x,h=y.y,g=y.w,v=y.h;a=(0,eE.Z)({cropArea:{x:m,y:h,w:g,h:v},scaledWidth:d,scaledHeight:p})}else{var b=d/6,S=p/6,_=d-2*b,w=p-2*S;a={x:b,y:S,w:_,h:w}}}return{x:Math.floor(null!=(t=a.x)?t:0),y:Math.floor(null!=(n=a.y)?n:0),w:Math.floor(null!=(r=a.w)?r:0),h:Math.floor(null!=(i=a.h)?i:0)}}({initialCropArea:w,pin:j}),F=o.state&&o.state.internalNavigation,M=I+b.n,D=(null!=M?M:1)+24,L={pin_id:y,imageSignature:O,crop:(0,eA.Z)({cropArea:T,scaledWidth:I,scaledHeight:A}),crop_source:x||5},Z={__style:{top:140}};return(0,_.jsx)(ez.Z,{objectId:"",view:72,children:(0,_.jsxs)(c.Fragment,{children:[(0,_.jsxs)(f.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{top:80}},display:"flex",height:60,position:"fixed",width:"100%",zIndex:new f.Ry(4),children:[!r&&(0,_.jsx)(f.xu,{left:!0,position:"absolute",children:(0,_.jsx)(eG.Z,{})}),(0,_.jsx)(f.xu,{flex:"grow",children:(0,_.jsx)(f.X6,{align:"center",size:"400",children:k?n._('Shop similar items', 'unauthDesktopFlashlightPage.flashlightProductsFeed.header', 'Header explaining results of flashlight products search'):n._('Visually similar results', 'unauthDesktopFlashlightPage.flashlightFeed.header', 'Header explaining results of flashlight search')})}),r&&(0,_.jsx)(f.xu,{position:"absolute",right:!0,children:(0,_.jsx)(eG.Z,{icon:"directional-arrow-left"})})]}),k?(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:Z,position:"relative",children:(0,_.jsx)(e6,{resourceOptions:L})}):(0,_.jsxs)(f.xu,{display:"flex",paddingX:12,children:[(0,_.jsxs)(f.xu,{ref:l,dangerouslySetInlineStyle:Z,height:"calc(100% - ".concat(140,"px)"),marginEnd:3,marginStart:3,overflow:"auto",position:"fixed",width:M,zIndex:new f.Ry(4),children:[(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{width:I,height:A}},"data-test-id":"flashlight-enabled-image",children:(0,_.jsxs)(f.zd,{height:A,rounding:2,width:I,children:[E&&(0,_.jsx)(f.Ee,{alt:null!=C?C:"",naturalHeight:null!=A?A:1,naturalWidth:null!=I?I:1,src:E}),(0,_.jsx)(eL,{cropArea:T,customCropper:function(e){var t=e.cropArea,n=e.cropSource,r=window.location.pathname+window.location.search,i=(0,eW.Z)({cropArea:t,cropSource:null!=n?n:6,isProductPage:k,pinId:y,surfaceType:"flashlight"});s({action:"trigger",item:"cropper-changed",within:"flashlight-page"}),i!==r&&y&&a({pathname:"/pin/".concat(y,"/visual-search/"),search:(0,eH.Z)({cropArea:t,cropSource:null!=n?n:6,surfaceType:"flashlight"})},{state:{internalNavigation:!0}})},imageSignature:null!=O?O:void 0,imageSize:{height:A,width:I},pinKey:j,showAnimation:!F,surfaceType:"flashlight",viewParameter:3050,viewType:72})]})}),(0,_.jsx)(f.xu,{"data-test-id":"closeupDescription",direction:"column",display:"flex",margin:5,maxWidth:null!=I?I:1,position:"relative",children:(0,_.jsx)(es,{pageType:{isAuth:!1,page:"flashlight"},pinKey:j,viewportSize:"narrow"})})]}),(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:eX(eX({},Z.__style),r?{marginRight:"".concat(D,"px")}:{marginLeft:"".concat(D,"px")})},position:"relative",width:"100%",children:(0,_.jsx)(e5,{resourceOptions:L})})]})]})})}var e8=(void 0!==u||(u=n(514336)).hash&&"01839fc3bcd9cdaf206873364167d157"!==u.hash&&console.error("The definition of 'UnauthDesktopFlashlightPageFetchData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u),e4=(void 0!==s||(s=n(165135)).hash&&"c1c702b23a1454b46f8e2fa9d8036257"!==s.hash&&console.error("The definition of 'UnauthDesktopFlashlightPageFetchDataPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function e9(){var e,t=(0,d.$B)(),n=(0,g.Z)(t.params.id||"").pinId,r=(0,y.Z)({strategy:"Legacy",query:e4,variables:{pinId:n},useGetLegacyData:function(e){var t=e.pinId;return(0,h.Z)({name:"PinResource",options:{id:t,field_set_key:"detailed",fetch_visual_search_objects:!0}}).data}}),i=(null==r||null==(e=r.v3GetPinQuery)?void 0:e.__typename)==="V3GetPin"?r.v3GetPinQuery.data:null,a=(0,p.Z)(e8,i);return(0,_.jsx)(e3,{pinKey:a})}function e7(){var e=(0,m.ZP)();return(0,_.jsx)(c.Suspense,{fallback:(0,_.jsx)(f.xH,{accessibilityLabel:e._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:(0,_.jsx)(e9,{})})}},551651:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(586659),i=n(346955),a=n(503246),o=n(706753),l=n(382718);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=d(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&f(i,e);var t,n,r=(t=p(),function(){var e,n=y(i);return e=t?Reflect.construct(n,arguments,y(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function i(){if(!(this instanceof i))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setCurrentPageData)({viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.setCurrentPageData,r=t.viewData,i=t.viewParameter,o=t.viewType;i===e.viewParameter&&o===e.viewType&&(0,a.ZP)(r,e.viewData)||n({viewData:r,viewParameter:i,viewType:o})}},{key:"componentWillUnmount",value:function(){this.props.clearCurrentPageData()}},{key:"render",value:function(){var e=this.props,t=e.auxData,n=e.children,r=e.component,i=e.objectIdStr,a=e.viewData,u=e.viewParameter,s=e.viewType,c=e.clientTrackingParams;return(0,l.jsx)(o.Z,{auxData:t,clientTrackingParams:c,component:r,objectIdStr:i,viewData:a,viewParameter:u,viewType:s,children:n})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function h(e){var t=(0,i.A$)(),n=t.setViewContextData,r=t.clearViewContextData;return(0,l.jsx)(m,c(c({},e),{},{clearCurrentPageData:r,setCurrentPageData:n}))}},706753:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(586659),i=n(521009),a=n(941404);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=function(e,t){var n,r=Object.keys(n={event_type:13,view_type:e.viewType,view_parameter:e.viewParameter,view_data:e.viewData,aux_data:e.auxData,object_id_str:e.objectIdStr,component:e.component,clientTrackingParams:e.clientTrackingParams,element:e.element}).reduce(function(e,t){return void 0===n[t]&&delete e[t],e},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n));-1===Object.keys(r).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),t(r)};function s(e){var t=e.auxData,n=e.clientTrackingParams,a=e.children,o=e.component,l=e.element,s=e.objectIdStr,c=e.viewData,d=e.viewParameter,f=e.viewType,p=(0,i.Z)(),y=JSON.stringify(t),m=JSON.stringify(c);return(0,r.useEffect)(function(){u(e,p)},[p,y,n,o,l,s,m,d,f]),r.Children.only(a)}},954300:function(e,t,n){"use strict";n.d(t,{J:function(){return a},f:function(){return o}});var r=n(60101),i=n(388023),a=function(e,t){var n=t.bookmark,r=t.options,a=t.schema||i.Z[e];return"function"==typeof a?a({resource:e,options:r,bookmark:n}):a};function o(e){var t=e.data,n=e.opts,i=n.bookmark,o=n.options,l=n.schema,u=a(e.resource,{bookmark:i,options:o,schema:l});return{normalizedResponse:u&&t?(0,r.Fv)(t,u):null,resourceSchema:u}}},305516:function(e,t,n){"use strict";n.d(t,{Z:function(){return tN}});var r,i,a,o,l,u,s,c,d,f,p,y,m,h,g=n(586659);n(492996);var v=n(650533),b=n(20256),S=n(355940),_=n(28427),w=n(801082),x=n(19585),k=n(900675),j=n(444185),P=n(634737),O=n(984126),C=n(963489),R=n(583270),I=n(258193),A=n(642407),E=n(728994),T=n(378888),F=n(144633),M=n(74678),D=n(814685),L=n(330510),Z=n(241646),K=n(980787),z=n(390843),B=n(163404),N=n(382718);function U(e){var t=e.arrowType,n=e.viewParameter,r=e.viewType,i=(0,x.ZP)(),a=(0,C.s0)(),o=(0,C.TH)(),l=(0,z.ou)().previous,u=(0,K.u)().logContextEvent,s=(0,B.Z)(o.pathname);return(0,N.jsx)(b.xu,{"data-test-id":"go-back-button",children:(0,N.jsx)(b.hU,{accessibilityLabel:i._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:null!=t?t:"directional-arrow-left",iconColor:"darkGray",onClick:function(){if(u({event_type:101,view_type:r,element:34,view_parameter:n}),0===l.length)return void a("/pin/".concat(s,"/"),{replace:!0});a(-1)}})})}var H=n(37326),W=n(816358),V=n(645435);function G(e){var t=e.isProductPage,n=e.title,r=e.viewParameter,i=e.viewType,a=(0,g.useRef)(null);return(0,g.useEffect)(function(){return a.current&&W.Z.addObstruction("top",a.current),function(){a.current&&W.Z.removeObstruction("top",a.current)}}),(0,N.jsx)(V.Z,{position:t?"sticky":"fixed",shouldShowShadow:!0,children:(0,N.jsxs)(b.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:"12px"}},display:"flex",justifyContent:"center",children:[(0,N.jsx)(b.xu,{alignItems:"center",display:"flex",height:48,left:!0,marginStart:5,position:"absolute",right:!0,width:48,children:(0,N.jsx)(U,{arrowType:n?"directional-arrow-left":"cancel",viewParameter:r,viewType:i})}),(0,N.jsx)(b.xu,{ref:a,alignItems:"center",color:"default","data-test-id":"related-products-header",display:"flex",height:48,children:(0,N.jsx)(H.Z,{title:n})})]})})}var $=n(527895),q=n(761578),Y=n(956077),X=n(271910);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J(e){var t,n=e.defaultPillColor,r=e.hoveredPillColor,i=e.pressedPillColor,a=e.isSelected,o=e.label,l=e.onTap,u=e.ref,s=e.selectedPillColor,c=function(e){if(Array.isArray(e))return e}(t=(0,g.useState)(n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Q(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],f=c[1];return(0,g.useEffect)(function(){f(a?s:n)},[a,s,n]),(0,N.jsx)(b.iP,{onMouseDown:function(){return f(i)},onMouseEnter:function(){a||f(r)},onMouseLeave:function(){a||f(n)},onTap:l,rounding:4,tapStyle:"compress",children:(0,N.jsx)(b.xu,{ref:u,dangerouslySetInlineStyle:{__style:{background:d}},"data-test-id":"descriptor-pill-".concat(o),paddingX:4,paddingY:2,rounding:4,children:(0,N.jsx)(b.kC,{alignItems:"center",minHeight:32,children:(0,N.jsx)(b.mg,{color:a?"light":"dark",overflow:"noWrap",children:o})})})})}var ee=function(e){var t=e.showBackArrow,n=e.showFwdArrow,r=e.handleClickBack,i=e.handleClickForward,a=(0,x.ZP)();return(0,N.jsxs)(b.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"descriptors-navigation-arrows",display:"flex",justifyContent:"between",left:!0,position:"absolute",right:!0,top:!0,children:[(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},marginStart:2,children:t&&(0,N.jsx)(b.hU,{accessibilityLabel:a._('Back', 'descriptor.navArrow.back', 'Accessibility label for a button that navigates back to previous search guides'),bgColor:"washLight",dataTestId:"descriptor-bar-back-button",icon:"arrow-back",onClick:r,size:"md"})}),(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},marginEnd:2,children:n&&(0,N.jsx)(b.hU,{accessibilityLabel:a._('Forward', 'descriptor.navArrow.forward', 'Accessibility label for a button that navigates forward to see more search guides'),bgColor:"washLight",dataTestId:"descriptor-bar-forward-button",icon:"arrow-forward",onClick:i,size:"md"})})]})},et=function(e,t,n,r,i){var a=(0,K.u)().logContextEvent,o=(0,g.useRef)([]),l=(0,g.useRef)([]);return(0,g.useEffect)(function(){var u=0,s=o.current.map(function(r,i){var a=(null==r?void 0:r.offsetWidth)||0,o=u,l=u+a;u+=a+4;var s=(n[i]||{auxData:{}}).auxData,c=e+t,d=o+16>e&&o<c,f=l>e&&l-16<c;return{moduleId:(null==s?void 0:s.moduleId)||"",isVisible:d||f}});s.forEach(function(e,t){var n=l.current[t];if((!n||!1===n.isVisible)&&e.isVisible){var o=(i||{}).auxData;a({event_type:9993,view_type:72,view_parameter:3050,component:14047,aux_data:{image_signature:r||"",descriptor:null==o?void 0:o.query}})}}),l.current=s},[o,e,t,n,a,r,i,l]),{descriptorsRefs:o}},en=n(15667);function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ea=function(e){var t=(0,g.useRef)(null),n=(0,en.B)().isRTL,r=(0,g.useRef)(!1),i=er((0,g.useState)(0),2),a=i[0],o=i[1],l=er((0,g.useState)(0),2),u=l[0],s=l[1],c=er((0,g.useState)(!1),2),d=c[0],f=c[1],p=er((0,g.useState)(!1),2),y=p[0],m=p[1],h=t.current,v=null!=h?h:{},b=v.clientWidth,S=void 0===b?0:b,_=v.scrollWidth,w=void 0===_?0:_,x=S||0,k=!!h&&x>=(w||0),j=e.length;(0,g.useEffect)(function(){var e=(null==h?void 0:h.scrollWidth)||0,t=0;Array.from((null==h?void 0:h.children)||[]).slice(0,a).forEach(function(e){t+=e.offsetWidth||0}),s(t=Math.min(t,e-S+8));var n=e-t,r=x>=e;r&&0!==a&&o(0),f(a>0&&!r),m(n>x&&a<j&&!r)},[h,a,j,x,n,S]);var P=(0,g.useCallback)(function(e){if(h){var t,n,r=Array.from(h.children);if(!(e<0)&&!(e>=r.length)){var i=0;r.slice(0,e).forEach(function(e){var t;i+=null!=(t=null==e?void 0:e.offsetWidth)?t:0});var a=null!=(t=null==(n=r[e])?void 0:n.offsetWidth)?t:0;if(i<u){s(i),o(e);return}if(i+a>u+S){s(i+a-S),o(e);return}o(e)}}},[h,u,S]),O=(0,g.useCallback)(function(e,t){var n,r,i=e.current;if(i&&!(t<0)&&!(t>=i.length)){var a=Array.from({length:t}).reduce(function(e,t,n){var r,a;return e+(null!=(r=null==(a=i[n])?void 0:a.offsetWidth)?r:0)},0),l=a+(null!=(n=null==(r=i[t])?void 0:r.offsetWidth)?n:0);if(!(a>=u)||!(l<=u+S)){var c=a<u?a:l-S;s(Math.max(0,Math.min(c,Math.max(0,w-S+8)))),o(Array.from({length:i.length}).reduce(function(e,t,n){var r,a,o=e.foundIndex,l=e.accWidth;if(-1!==o)return e;var u=l+(null!=(r=null==(a=i[n])?void 0:a.offsetWidth)?r:0);return{foundIndex:l>=c?n:-1,accWidth:u}},{foundIndex:-1,accWidth:0}).foundIndex)}}},[u,S,w]),C=(0,g.useCallback)(function(e){if("Tab"===e.key){var t=Array.from((null==h?void 0:h.children)||[]),n=document.activeElement,r=t.findIndex(function(e){return e.contains(n)});-1!==r&&(!e.shiftKey&&r<t.length-1?P(r+1):e.shiftKey&&r>0&&P(r-1))}},[h,P]);return(0,g.useEffect)(function(){if(h)return h.addEventListener("keydown",C,!0),function(){h.removeEventListener("keydown",C,!0)}},[h,C]),{barContainer:t,centerModules:k,clientWidth:S,offset:u,showBackArrow:d,showFwdArrow:y,onFocus:function(){r.current||o(a)},index:a,setIndex:o,handleClickForward:function(){a+2<j?o(a+2):o(j-2)},handleClickBack:function(){a-2>=0?o(a-2):o(0)},onMouseDown:function(){r.current=!0},scrollToPillByOffset:O}};function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return el(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eu=function(e){return"linear-gradient(to ".concat("left"===e?"right":"left",", transparent, white 40px) intersect")},es=(void 0!==r||(r=n(500698)).hash&&"9d15639e8d9dd61426917dc218fbb3a6"!==r.hash&&console.error("The definition of 'Descriptors_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function ec(e){var t=e.pressedPillColor,n=e.defaultPillColor,r=e.descriptorModules,i=e.hoveredPillColor,a=e.pinKey,o=e.selectedPillColor,l=e.isWebImageSearchRedesign,u=eo((0,g.useState)(),2),s=u[0],c=u[1],d=eo((0,g.useState)(0),2),f=d[0],p=d[1],y=(0,C.s0)(),m=(0,C.TH)().search,h=ea(r),v=h.barContainer,S=h.clientWidth,w=h.centerModules,x=h.offset,k=h.showBackArrow,j=h.showFwdArrow,P=h.handleClickForward,O=h.handleClickBack,R=h.onFocus,I=h.onMouseDown,A=h.scrollToPillByOffset,E=(0,_.Z)(es,a),F=(0,K.u)().logContextEvent,M=et(x,S,r,E.imageSignature||"",s).descriptorsRefs;(0,g.useEffect)(function(){if(void 0===s){var e=r.findIndex(function(e){return(e.display||{isSelected:!1}).isSelected});-1!==e&&(c(r[e]),A(M,e))}},[r,s,A]);var D=function(e){if(!e)return 0;var t=e.getBoundingClientRect(),n=window.innerHeight;return t.bottom>n?t.bottom-n:0};(0,g.useEffect)(function(){p(l?D(v.current):0)},[v,l]);var L=(0,T.mB)(m).cropSource;if(!Number.isNaN(L)&&5!==Number(L))return null;var Z=function(e){var t,n=e,r=(0,T.mB)(m).surfaceType;r&&(n=e.replace(new RegExp("^(.*surfaceType=".concat(r,").*$")),"$1")),y(null!=(t=n)?t:"",{replace:!0})},z=function(e){var t,n=(0,T.mB)(m).surfaceType,r=e;n&&(r=e.replace(/(surfaceType=)[^&]*/,"$1".concat(n))),y(null!=(t=r)?t:"",{replace:!0})},B=function(e){var t=e.id,n=(s||{}).id;return null!=t&&n===t},U=function(e,t){var n=B(e),r=(e.action||{}).feedUrl;r&&(n?(Z(r),c(void 0)):(z(r),A(M,t),c(e)));var i=e.auxData;F({event_type:102,view_type:72,view_parameter:3050,component:14047,aux_data:{image_signature:E.imageSignature||"",descriptor:null==i?void 0:i.query}})},H=[k?eu("left"):"",j?eu("right"):""].filter(Boolean).join(", ")||"none";return(0,N.jsx)(X.q,{children:function(e){var a=e.hovered,l=e.onMouseEnter,u=e.onMouseLeave;return(0,N.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:{bottom:f}},"data-test-id":"scrollable-descriptor-bar-root",left:!0,onMouseEnter:l,onMouseLeave:u,overflow:"hidden",position:"absolute",right:!0,children:[(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{mask:H}},children:(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{left:"-".concat(x,"px"),transition:"left 0.3s, right 0.3s"}},position:"relative",children:(0,N.jsx)(b.xu,{ref:v,display:"flex",justifyContent:w?"center":void 0,marginStart:2,paddingY:2,children:r.map(function(e,r){var a=e.action,l=e.display;if(null==(a||{}).feedUrl)return null;var u=(l||{}).displayText;return(0,N.jsx)(b.xu,{marginEnd:1,onFocus:R,onMouseDown:I,children:(0,N.jsx)(J,{ref:function(e){M.current[r]=e},defaultPillColor:n,hoveredPillColor:i,isSelected:B(e),label:u||"",onTap:function(){return U(e,r)},pressedPillColor:t,selectedPillColor:o})},"descriptors-module-".concat(e.id||r))})})})}),a&&(0,N.jsx)(ee,{handleClickBack:function(){O();var e=(s||{}).auxData;F({event_type:108,view_type:72,view_parameter:3050,component:14046,aux_data:{image_signature:E.imageSignature||"",descriptor:null==e?void 0:e.query}})},handleClickForward:function(){P();var e=(s||{}).auxData;F({event_type:108,view_type:72,view_parameter:3050,component:14046,aux_data:{image_signature:E.imageSignature||"",descriptor:null==e?void 0:e.query}})},showBackArrow:k,showFwdArrow:j})]})}})}var ed=n(790314);function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ep(e){return(0,g.useMemo)(function(){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,ed.Rn)({hexColor:e||"#FFFFFF",saturationMultiplier:3,brightnessMultiplier:1.6,minSaturationClamp:.15,mixVal:.3,minBrightnessClamp:0}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],i=n[1],a="rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", 0.95)"),o="rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", 0.95)"),l=(0,ed.e3)((0,ed.rk)((0,ed.t7)("rgba(117, 117, 112, 0.2)"),(0,ed.t7)(a))),u=(0,ed.e3)((0,ed.rk)((0,ed.t7)("rgba(117, 117, 112, 0.4)"),(0,ed.t7)(a)));return{defaultColor:a,selectedColor:o,hoveredColor:l,pressedColor:u}},[e])}function ey(e){var t=e.defaultPillColor,n=e.hoveredPillColor,r=e.pressedPillColor,i=e.viewParameter,a=e.viewType,o=(0,x.ZP)(),l=(0,C.s0)(),u=(0,v.$B)(),s=(0,X.Z)(),c=s.active,d=s.focused,f=s.hovered,p=s.onBlur,y=s.onFocus,m=s.onMouseDown,h=s.onMouseEnter,g=s.onMouseLeave,S=s.onMouseUp,_=(0,P.Z)(u.params.id||"").pinId,w=(0,z.ou)().previous,k=(0,K.u)().logContextEvent;return(0,N.jsx)(b.xu,{"data-test-id":"go-back-button",children:(0,N.jsx)(b.iP,{onBlur:p,onFocus:y,onMouseDown:m,onMouseEnter:h,onMouseLeave:g,onMouseUp:S,onTap:function(){if(k({event_type:101,view_type:a,element:34,view_parameter:i}),0===w.length)return void l("/pin/".concat(_,"/"),{replace:!0});l(-1)},tapStyle:"compress",children:(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{background:c?r:d||f?n:t,backdropFilter:"blur(80px)"}},padding:3,rounding:4,children:(0,N.jsx)(b.JO,{accessibilityLabel:o._('Go back', 'imageSearch.cancelButton', 'Cancel button for going back to the Pin page'),color:"default",icon:"cancel",size:24})})})})}var em=n(442212),eh=n(675973),eg=n(359829),ev=n(870358),eb=n(369416),eS=n(556872),e_=n(665290),ew=n(341742),ex=n(281503);function ek(e){return(ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=ek(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ek(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ek(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eO=Math.ceil(40),eC=eO+1;function eR(e){var t,n=e.isHidden,r=e.isObjectLevelCrop,i=e.isSelected,a=e.maskHeight,o=e.maskId,l=e.maskUrl,u=e.maskWidth,s=e.maskX,c=e.maskY,d=(0,eh.Z)().checkExperiment,f="enabled_once"===d("web_cutout_glow").group,p={insetIntensity:""===(t=d("web_cutout_glow_inset").group.split("_"))[0]||Number.isNaN(Number(t[0]))?void 0:Number(t[0]),debugMode:t.includes("debug"),showHiddenCutoutsinDebug:t.includes("all")},y=p.insetIntensity,m=p.debugMode,h=p.showHiddenCutoutsinDebug,v="glow-sweep-".concat(o),S=Math.round(.35*a),_=4*S,w=a/2+S/2,x=r?.25:.5,k=(0,ex.Z)({debugMode:m,insetIntensity:y,kind:"glow",maskHeight:a,maskId:o,maskUrl:l,maskWidth:u}),j=k.svgElement,P=k.maskStyle;return(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:eP(eP({left:s,top:c},P),{},{visibility:i?"hidden":"visible"})},"data-test-id":"cutout-item",height:a,id:e_.Ii,position:"absolute",width:u,children:(!n||h)&&(0,N.jsxs)(g.Fragment,{children:[j,(0,N.jsx)(eb.Z,{unsafeCSS:"\n          @keyframes ".concat(v," {\n            0%                    { mask-position: 0 -").concat(w,"px; opacity: ").concat(x,"; }\n            ").concat(eO,"% { mask-position: 0  ").concat(w,"px; opacity: ").concat(x,"; }\n            ").concat(eC,"%      { mask-position: 0  ").concat(w,"px; opacity: 0; }\n            100%                  { mask-position: 0 -").concat(w,"px; opacity: 0; }\n          }")}),(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",animation:f?"".concat(v," ").concat(5,"s linear forwards"):"".concat(v," ").concat(5,"s linear infinite"),animationDelay:"1s",maskImage:"\n              radial-gradient(\n                ellipse ".concat(_,"px ").concat(S,"px at center,\n                white 0%,\n                white 15%,\n                rgba(255, 255, 255, 0.9) 30%,\n                rgba(255, 255, 255, 0.7) 45%,\n                rgba(255, 255, 255, 0.5) 55%,\n                rgba(255, 255, 255, 0.3) 65%,\n                rgba(255, 255, 255, 0.15) 72%,\n                rgba(255, 255, 255, 0.06) 80%,\n                rgba(255, 255, 255, 0.01) 90%,\n                transparent 100%\n              )"),maskPosition:"0 -".concat(w,"px"),maskSize:"100% 100%",maskRepeat:"no-repeat"}},"data-test-id":"cutout-glow-oval",height:"100%",opacity:0,width:"100%",children:(0,N.jsx)(b.Ee,{alt:"cutout-glow-background-image",color:"white",fetchPriority:"high",fit:"cover",loading:"eager",naturalHeight:a,naturalWidth:u,role:"presentation",src:r?void 0:"https://s.pinimg.com/webapp/cutout-glow-background-c870a580.jpg"})})]})})}var eI=n(854146),eA=(void 0!==i||(i=n(716125)).hash&&"f1b62436c05814e4188c8863a11dce6b"!==i.hash&&console.error("The definition of 'CutoutObject_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function eE(e){var t=e.isHovered,n=e.isObjectLevelCrop,r=e.isPinLevelCrop,i=e.isSelected,a=e.mask,o=e.pinKey,l=e.viewParameter,u=e.viewType,s=(0,L.D)(),c=(0,K.u)().logContextEvent,d=(0,_.Z)(eA,o),f=(0,(0,E.Z)({pinKey:d,maxWidth:s?D.M:A.Wm}).getNormalizedPinImage)(),p=f.height,y=f.width,m=f.url,h=a.id,v=a.isHidden,b=a.maskHeight,S=a.maskUrl,w=a.maskWidth,x=a.maskX,k=a.maskY;return(0,ew.Z)(function(){v||c({event_type:120,element:14154,view_parameter:l,view_type:u,aux_data:{commerce_data:JSON.stringify({pin_has_cutout:!0})}})}),(0,N.jsxs)(g.Fragment,{children:[(0,N.jsx)(eI.Z,{imageHeight:p,imageUrl:m,imageWidth:y,isHovered:t,isPinLevelCrop:r,isSelected:i,maskHeight:b,maskId:h,maskUrl:S,maskWidth:w,maskX:x,maskY:k}),(0,N.jsx)(eR,{isHidden:v,isObjectLevelCrop:n,isSelected:i,maskHeight:b,maskId:h,maskUrl:S,maskWidth:w,maskX:x,maskY:k})]})}function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eF(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eF(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eM=function(e,t,n){var r=n.maskX,i=n.maskY,a=n.maskWidth,o=n.maskHeight;return e>=r&&e<=r+a&&t>=i&&t<=i+o},eD=function(e,t,n){if(t<0||n<0||t>=e.canvas.width||n>=e.canvas.height)return!1;try{var r=e.getImageData(t,n,1,1).data[0];return void 0!==r&&r>0}catch(e){return!1}},eL=function(e){var t=e.id,n=e.mask_image,r=e.mask_bounds;if(!t||!n||!r||2!==r.length)return!1;var i=eT(r,2),a=i[0],o=i[1];if(!a||!o||2!==a.length||2!==o.length)return!1;var l=eT(a,2),u=l[0],s=l[1],c=eT(o,2);return[u,s,c[0],c[1]].every(function(e){return"number"==typeof e&&!Number.isNaN(e)})},eZ=function(e){try{var t=atob(e),n=Uint8Array.from(t,function(e){return e.charCodeAt(0)}),r=new Blob([n],{type:"image/png"});return URL.createObjectURL(r)}catch(e){return null}},eK=function(e,t,n){if(!eL(e))return null;var r=e.id,i=e.mask_image,a=e.mask_bounds,o=e.is_hidden,l=eT(a[0],2),u=l[0],s=l[1],c=eT(a[1],2),d=c[0],f=c[1],p=eZ(i);return p?{maskData:{id:r,isHidden:!!o,maskHeight:f*n,maskHeightRatio:f,maskUrl:p,maskWidth:d*t,maskWidthRatio:d,maskX:u*t,maskXRatio:u,maskY:s*n,maskYRatio:s},maskUrl:p}:null};function ez(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,i)}function eB(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){ez(a,r,i,o,l,"next",e)}function l(e){ez(a,r,i,o,l,"throw",e)}o(void 0)})}}function eN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eU(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eW=(void 0!==a||(a=n(431225)).hash&&"d2b8de09e9a0bd76025dff9de4c764e8"!==a.hash&&console.error("The definition of 'CutoutObjects_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function eV(e){var t,n,r,i,a,o,l,u,s,c,d,f,p,y,m,h,v,S,w,x,k,j,P,O,R,I=e.bitmapMasks,F=e.hoveredCutoutIndex,M=e.imageContainerX,Z=e.imageContainerY,z=e.pinKey,B=e.selectedCutoutIndex,U=e.setHoveredCutoutIndex,H=e.setSelectedCutoutIndex,W=e.trafficSource,V=e.viewParameter,G=e.viewType,$=(0,L.D)(),q=(0,K.u)().logContextEvent,Y=(0,C.TH)(),X=(0,C.s0)(),Q=(0,_.Z)(eW,z),J=(0,E.Z)({pinKey:Q,maxWidth:$?D.M:A.Wm}).getNormalizedPinImage,ee=(0,g.useRef)(null),et=function(e){if(Array.isArray(e))return e}(t=(0,g.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eH(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eH(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),en=et[0],er=et[1],ei=(0,T.mB)(Y.search),ea=ei.w,eo=ei.h,el=ei.cropSource,eu=J(),es=eu.height,ec=eu.width,ed=(0,g.useMemo)(function(){return Number(ea)===ec&&Number(eo)===es||void 0===ea&&void 0===eo},[eo,es,ec,ea]),ef=(0,g.useMemo)(function(){return 9===Number(el)},[el]),ep=(r=(n=eN((0,g.useState)([]),2))[0],i=n[1],o=(a=eN((0,g.useState)([]),2))[0],l=a[1],s=(u=eN((0,g.useState)(!1),2))[0],c=u[1],(0,g.useEffect)(function(){var e,t=I.reduce(function(e,t){var n=eK(t,ec,es);return n&&(e.maskData.push(n.maskData),e.urls.push(n.maskUrl)),e},{maskData:[],urls:[]}),n=t.maskData,r=t.urls;if(l(n),0===n.length)return i([]),c(!1),function(){return r.forEach(function(e){return URL.revokeObjectURL(e)})};var a=!1;return c(!0),(e=eB(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.map(function(){var e=eB(regeneratorRuntime.mark(function e(t){var n,r,i,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=document.createElement("canvas")).getContext("2d",{willReadFrequently:!0})){e.next=4;break}return e.abrupt("return",null);case 4:return i=t.maskWidth,o=t.maskHeight,n.width=i,n.height=o,e.prev=7,(l=new Image).crossOrigin="anonymous",e.abrupt("return",new Promise(function(e){l.onload=function(){if(a)return void e(null);r.drawImage(l,0,0,i,o),e(r)},l.onerror=function(){return e(null)},l.src=t.maskUrl}));case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,null,[[7,13]])}));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:r=e.sent,a||(i(r),c(!1));case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})(),function(){a=!0,r.forEach(function(e){return URL.revokeObjectURL(e)})}},[I,ec,es]),{cutoutContexts:r,maskData:o,isLoading:s}),ey=ep.cutoutContexts,em=ep.maskData,eg=(f=(d={maskData:em,cutoutContexts:ey,imageContainerX:M,imageContainerY:Z,setHoveredCutoutIndex:U,viewParameter:V,viewType:G}).maskData,p=d.cutoutContexts,y=d.imageContainerX,m=d.imageContainerY,h=d.setHoveredCutoutIndex,v=d.viewParameter,S=d.viewType,w=(0,K.u)().logContextEvent,k=(x=(0,(0,eh.Z)().checkExperiment)("web_cutout_hit_detection_cache")).anyEnabled,P="control"===(j=x.group)?1:"employees"===j?5:Number(j.split("_")[1]||5),O=(0,g.useRef)(new Map),(0,g.useEffect)(function(){O.current.clear()},[f]),R=(0,g.useCallback)(function(e,t){e!==t&&(h(e),null!==e&&w({event_type:105,element:14154,view_parameter:v,view_type:S,aux_data:{commerce_data:JSON.stringify({pin_has_cutout:!0})}}))},[h,w,v,S]),(0,g.useCallback)(function(e,t,n){var r,i=k?"".concat(Math.round(e.clientX/P)*P,",").concat(Math.round(e.clientY/P)*P):"";if(k&&O.current.has(i))return void R(null!=(r=O.current.get(i))?r:null,t);for(var a=e.clientX-y,o=e.clientY-m,l=f.length-1;l>=0;l-=1){var u=f[l],s=p[l];if(s&&u&&l!==n&&eM(a,o,u)&&eD(s,a-u.maskX,o-u.maskY)){k&&O.current.set(i,l),R(l,t);return}}k&&O.current.set(i,null),R(null,t)},[k,p,y,m,f,P,R])),ew=(0,g.useCallback)(function(){return er(!1)},[]),ex=(0,g.useCallback)(function(e){(e.movementX||e.movementY)&&er(!0),0===e.buttons?eg(e,F,B):null==U||U(null)},[eg,F,B,U]),ek=(0,g.useCallback)(function(e){return eg(e,F,B)},[eg,F,B]),ej=(0,g.useCallback)(function(){return U(null)},[U]),eP=(0,g.useCallback)(function(){if(en||null===F)return void er(!1);if(U(null),H(F),em[F]){var e=em[F],t=e.maskXRatio,n=e.maskYRatio,r=e.maskWidthRatio,i=e.maskHeightRatio,a=(0,eS.Z)({cropArea:{x:t,y:n,w:r,h:i},scaledWidth:ec,scaledHeight:es}),o=(0,ev.Z)({cropArea:a,cropSource:9,trafficSource:W});window.location.search!==o&&(q({event_type:101,element:14154,view_parameter:V,view_type:G,aux_data:{commerce_data:JSON.stringify({pin_has_cutout:!0})}}),X("".concat(window.location.pathname).concat(o),{replace:!0}))}},[en,X,F,q,em,es,ec,U,H,W,V,G]);return(0,g.useEffect)(function(){var e=ee.current;if(e)return e.addEventListener("mousedown",ew),e.addEventListener("mousemove",ex),e.addEventListener("mouseup",ek),e.addEventListener("mouseleave",ej),e.addEventListener("click",eP),function(){e.removeEventListener("mousedown",ew),e.removeEventListener("mousemove",ex),e.removeEventListener("mouseup",ek),e.removeEventListener("mouseleave",ej),e.removeEventListener("click",eP)}},[ew,ex,ek,ej,eP]),(0,N.jsxs)(b.xu,{ref:ee,bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"number"==typeof F?"pointer":"auto"}},"data-bitmaps-ready":em.length>0,"data-test-id":"cutouts-container",left:!0,position:"absolute",right:!0,role:"none",top:!0,children:[(0,N.jsx)(eb.Z,{unsafeCSS:e_.iF}),em.map(function(e,t){return(0,N.jsx)(eE,{isHovered:F===t,isObjectLevelCrop:ef,isPinLevelCrop:ed,isSelected:B===t,mask:e,pinKey:Q,viewParameter:V,viewType:G},e.id)})]})}var eG=n(739067),e$=n(378547);function eq(e){return(eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eY(e){return function(e){if(Array.isArray(e))return e1(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e0(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eX(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,i)}function eQ(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){eX(a,r,i,o,l,"next",e)}function l(e){eX(a,r,i,o,l,"throw",e)}o(void 0)})}}function eJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||e0(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e0(e,t){if(e){if("string"==typeof e)return e1(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e1(e,t):void 0}}function e1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e2=(void 0!==o||(o=n(582328)).hash&&"2d79886cca650301394af9cbacdeede4"!==o.hash&&console.error("The definition of 'StelaCutouts_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function e5(e){var t=e.bitmapMasks,r=e.hoveredCutoutIndex,i=e.imageContainerX,a=e.imageContainerY,o=e.pinImageHovered,l=e.pinKey,u=e.selectedCutoutIndex,s=e.setHoveredCutoutIndex,c=e.setSelectedCutoutIndex,d=e.trafficSource,f=e.viewParameter,p=e.viewType,y=(0,L.D)(),m=(0,C.TH)(),h=(0,K.u)().logContextEvent,v=(0,C.s0)(),S=(0,_.Z)(e2,l),w=(0,E.Z)({pinKey:S,maxWidth:y?D.M:A.Wm}).getNormalizedPinImage,x=(0,g.useRef)(null),k=eJ((0,g.useState)(!1),2),j=k[0],P=k[1],O=eJ((0,g.useState)([]),2),R=O[0],I=O[1],F=eJ((0,g.useState)(!1),2),M=F[0],Z=F[1],z=eJ((0,g.useState)(!1),2),B=z[0],U=z[1],H=(0,T.mB)(m.search),W=H.w,V=H.h,G=w(),$=G.height,q=G.width,Y=(0,g.useMemo)(function(){return Number(W)===q&&Number(V)===$||void 0===W&&void 0===V},[V,$,q,W]),X=(0,g.useMemo)(function(){return{commerce_data:JSON.stringify({pin_has_cutout:!0})}},[]);(0,g.useEffect)(function(){if(t){var e=[],r=[];return t.forEach(function(e){var t,n,a=e.id,o=e.mask_image,l=e.mask_bounds,u=e.is_hidden,s=eJ(null!=(t=null==l?void 0:l[0])?t:[],2),c=s[0],d=s[1],f=eJ(null!=(n=null==l?void 0:l[1])?n:[],2),p=f[0],y=f[1];if(void 0!==a&&void 0!==o&&void 0!==c&&void 0!==d&&void 0!==p&&void 0!==y){var m=function(e){return i.apply(this,arguments)}({id:a,isHidden:!!u,maskHeightRatio:y,maskImage:o,maskWidthRatio:p,maskXRatio:c,maskYRatio:d,pinImageHeight:$,pinImageWidth:q});r.push(m)}}),eQ(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r);case 2:I(e.sent);case 4:case"end":return e.stop()}},e)}))(),function(){e.forEach(function(e){URL.revokeObjectURL(e)})}}function i(){return(i=eQ(regeneratorRuntime.mark(function t(r){var i,a,o,l,u,s,c,d,f,p,y,m,h,g,v,b,S,_,w,x;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.id,a=r.isHidden,o=r.maskHeightRatio,l=r.maskImage,u=r.maskWidthRatio,s=r.maskXRatio,c=r.maskYRatio,d=r.pinImageHeight,f=r.pinImageWidth,t.next=3,n.e("32030").then(n.bind(n,538011));case 3:return y=(p=t.sent).ContourTracer,m=p.initializeWasm,t.next=7,m();case 7:return h=new y,g=atob(l),v=new Blob([Uint8Array.from(g,function(e){return e.charCodeAt(0)})],{type:"image/png"}),t.next=13,createImageBitmap(v);case 13:return b=t.sent,S=h.trace(b,{useAlpha:!1,threshold:80}),_=URL.createObjectURL(v),e.push(_),w=f*u,x=d*o,t.abrupt("return",{contours:S,contourXRatio:w/b.width,contourYRatio:x/b.height,id:i,isHidden:a,maskHeightRatio:o,maskUrl:_,maskWidthRatio:u,maskXRatio:s,maskYRatio:c});case 20:case"end":return t.stop()}},t)}))).apply(this,arguments)}},[t,$,q]);var Q=(0,g.useMemo)(function(){var e=[];return R.forEach(function(t,n){var r=t.contours;r&&0!==r.length&&(e[n]=r.map(function(e){var t=e.points.map(function(e){return e.x}),n=e.points.map(function(e){return e.y});return{minX:Math.min.apply(Math,eY(t)),minY:Math.min.apply(Math,eY(n)),maxX:Math.max.apply(Math,eY(t)),maxY:Math.max.apply(Math,eY(n))}}))}),e},[R]),J=(0,g.useCallback)(function(e){for(var t=e.clientX-i,n=e.clientY-a,o=R.length-1;o>=0;o-=1){var l=function(e){var i=R[e];if(e===u||!i)return"continue";var a=i.contours,o=i.contourXRatio,l=i.contourYRatio,c=i.maskXRatio,d=i.maskYRatio,y=(t-c*q)/o,m=(n-d*$)/l,g=Q[e];if(a.some(function(e,t){var n=null==g?void 0:g[t];return n&&y>=n.minX&&y<=n.maxX&&m>=n.minY&&m<=n.maxY&&(0,eG.Z)({x:y,y:m},e.points)}))return r!==e&&(null==s||s(e),h({event_type:105,element:14154,view_parameter:f,view_type:p,aux_data:{commerce_data:JSON.stringify({pin_has_cutout:!0})}})),{v:void 0}}(o);if("continue"!==l&&"object"===eq(l))return l.v}null==s||s(null)},[R,Q,r,i,a,h,$,q,u,s,f,p]),ee=function(){return P(!1)},et=function(e){(e.movementX||e.movementY)&&P(!0),0===e.buttons?J(e):null==s||s(null)},en=function(e){J(e)},er=function(){return null==s?void 0:s(null)},ei=(0,g.useCallback)(function(){if(j||null===r||!R[r])return void P(!1);null==c||c(r);var e=R[r],t=e.maskXRatio,n=e.maskYRatio,i=e.maskWidthRatio,a=e.maskHeightRatio,o=(0,eS.Z)({cropArea:{x:t,y:n,w:i,h:a},scaledWidth:q,scaledHeight:$}),l=(0,ev.Z)({cropArea:o,cropSource:9,trafficSource:d});l!==window.location.search&&(h({event_type:101,element:14154,view_parameter:f,view_type:p,aux_data:X}),v("".concat(window.location.pathname).concat(l),{replace:!0}))},[X,R,j,v,r,h,$,q,c,d,f,p]);return((0,g.useEffect)(function(){var e=x.current;return e&&(e.addEventListener("mousedown",ee),e.addEventListener("mousemove",et),e.addEventListener("mouseup",en),e.addEventListener("mouseleave",er),e.addEventListener("click",ei)),function(){e&&(e.removeEventListener("mousedown",ee),e.removeEventListener("mousemove",et),e.removeEventListener("mouseup",en),e.removeEventListener("mouseleave",er),e.removeEventListener("click",ei))}}),t)?(0,N.jsxs)(b.xu,{ref:x,bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"number"==typeof r?"pointer":"auto"}},"data-bitmaps-ready":R.length>0,"data-test-id":"cutouts-container",left:!0,position:"absolute",right:!0,role:"none",top:!0,children:[(0,N.jsx)(eb.Z,{unsafeCSS:e_.iF}),R.map(function(e,t){return(0,N.jsx)(e$.Z,{auxData:X,bitmapData:e,hasAnimatedCutoutsOnLand:B,hasLoggedRender:M,hoveredCutoutIndex:r,index:t,isPinLevelCrop:Y,pinImageHovered:o,pinKey:S,selectedCutoutIndex:u,setHasAnimatedCutoutsOnLand:U,setHasLoggedRender:Z,viewParameter:f,viewType:p},e.id)})]}):null}var e6=n(68408);function e3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e8(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e8(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e4=(void 0!==l||(l=n(934209)).hash&&"66496d579d49595f2dec36d1c939738c"!==l.hash&&console.error("The definition of 'VisualSearchCropper_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function e9(e){var t=e.cropArea,n=e.cropSource,r=e.imageContainerX,i=void 0===r?0:r,a=e.imageContainerY,o=void 0===a?0:a,l=e.imageSize,u=e.onMouseDown,s=e.onMouseMoveSetCropArea,c=e.pinKey,d=e.trafficSource,f=e.viewParameter,p=e.viewType,y=(0,eh.Z)().checkExperiment,m=(0,_.Z)(e4,c),h=(0,C.s0)(),v=(0,e6.Z)({pinKey:m}),b=e3((0,g.useState)("none"),2),S=b[0],w=b[1],x=e3((0,g.useState)(null),2),k=x[0],j=x[1],P=e3((0,g.useState)(-1),2),O=P[0],R=P[1],I=(null!=v?v:{}).bitmap_masks,A=(0,g.useMemo)(function(){return(null!=I?I:[]).filter(eL).map(function(e){var t=e.id,n=e.mask_bounds,r=e3(n[0],2),i=r[0],a=r[1],o=e3(n[1],2);return{x:i,y:a,w:o[0],h:o[1],id:t}})},[I]);return(0,g.useEffect)(function(){var e,n,r=(0,M.Z)({cropArea:t,scaledHeight:null!=(e=l.height)?e:0,scaledWidth:null!=(n=l.width)?n:0});if(A&&A.length){var i=(0,eg.Z)(A,r);w("cutouts"),R(i.indexToHide)}},[t,A,l.height,l.width]),(0,N.jsx)(em.Z,{cropArea:t,cropSource:n,hoveredCutoutIndex:k,imageContainerX:i,imageContainerY:o,imageSize:l,objectDetection:S,onChange:function(e){var t=e.cropArea,n=e.cropSource;if("cutouts"===S){var r,i,a=(0,M.Z)({cropArea:t,scaledHeight:null!=(r=l.height)?r:0,scaledWidth:null!=(i=l.width)?i:0}),o=(0,eg.Z)(A,a),u=o.isCropAreaOnDotArea,s=o.indexToHide;u&&(n=9,null==R||R(s))}var c=window.location.search,f=(0,ev.Z)({cropArea:t,cropSource:n,trafficSource:d});c!==f&&h({pathname:window.location.pathname,search:f},{replace:!0})},onMouseDown:u,onMouseMoveSetCropArea:s,setHoveredCutoutIndex:j,setSelectedCutoutIndex:R,viewParameter:f,viewType:p,children:function(){if("cutouts"!==S||!(null!=I&&I.length))return null;var e=y("web_cutout_glow").anyEnabled;return(0,N.jsx)(e?eV:e5,{bitmapMasks:I,hoveredCutoutIndex:k,imageContainerX:i,imageContainerY:o,pinKey:m,selectedCutoutIndex:O,setHoveredCutoutIndex:j,setSelectedCutoutIndex:R,trafficSource:d,viewParameter:f,viewType:p})}()})}var e7=(void 0!==u||(u=n(984110)).hash&&"727c8ab2c1c256e3b4478a36890f92d6"!==u.hash&&console.error("The definition of 'RelatedProductsImageContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function te(e){var t=e.cropArea,n=e.cropSource,r=e.description,i=e.descriptorModules,a=e.height,o=e.imageContainerX,l=e.imageContainerY,u=e.imageUrl,s=e.pinKey,c=e.trafficSource,d=e.viewParameter,f=e.viewType,p=e.width,y=(0,L.D)(),m=(0,_.Z)(e7,s),h=ep(m.dominantColor),g=h.defaultColor,v=h.selectedColor,S=h.hoveredColor,w=h.pressedColor,x=((0,q.Z)()||{}).height,k=void 0===x?0:x,j=l+a,P=j>k,O=P?Math.min(j-64-12,k-64-12):a-64;return(0,N.jsxs)(b.xu,{"data-test-id":"flashlight-enabled-image",height:a,width:p,children:[(0,N.jsxs)(b.zd,{height:a,rounding:y?6:4,width:p,children:[(0,N.jsx)($.Z,{_enableViewTransitions:!0,type:"image",children:(0,N.jsx)(b.Ee,{alt:r,naturalHeight:a,naturalWidth:p,onLoad:function(){(0,Y.Nx)("visualSearchMainPinImageRender")},src:u})}),(0,N.jsx)(e9,{cropArea:t,cropSource:n,imageContainerX:o,imageContainerY:l,imageSize:{height:a,width:p},pinKey:m,trafficSource:c,viewParameter:d,viewType:f}),y&&(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{insetInlineStart:0}},position:"absolute",top:!0,children:(0,N.jsx)(ey,{defaultPillColor:g,hoveredPillColor:S,pressedPillColor:w,viewParameter:d,viewType:f})})]}),i&&i.length>0&&(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{top:O}},height:64,position:P?"fixed":"absolute",width:p,children:(0,N.jsx)(ec,{defaultPillColor:g,descriptorModules:i,hoveredPillColor:S,pinKey:m,pressedPillColor:w,selectedPillColor:v})})]})}var tt=n(742235),tn=n(780879),tr=n(721465),ti=n(288910),ta=(void 0!==s||(s=n(758809)).hash&&"20c2c7f4ff982fb93a9608faa14f3ed2"!==s.hash&&console.error("The definition of 'RelatedProductsUnifiedFeed_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function to(e){var t=e.alignStart,n=e.auxData,r=e.isFilterOpened,i=e.isProductOnlyFeed,a=e.oneBarModules,o=e.pinKey,l=e.viewParameter,u=e.viewType,s=e.visualSearchFlashlightUnifiedResource,c=(0,_.Z)(ta,o),d=!i&&a&&a.length>0,f=s.data,p=null==f?void 0:f.search_identifier;return(0,N.jsxs)(g.Fragment,{children:[d&&(0,N.jsx)(b.xu,{position:"relative",zIndex:new b.Ry(1),children:(0,N.jsx)(ti.v,{children:(0,N.jsx)(tn.f,{children:(0,N.jsx)(tt.default,{oneBarModulesKey:null,oneBarModulesRest:a,paddingX:8})})})}),(0,N.jsx)(b.xu,{overflow:"hidden",children:(0,N.jsx)(tr.Z,{alignStart:t,auxData:n,isFilterOpened:r,isProductFeed:i,pinKey:c,searchId:p,viewParameter:l,viewType:u,visualSearchFlashlightUnifiedResource:s})})]})}var tl=n(449029),tu=n(140725),ts=n(93966),tc=n(255957),td=n(123998);function tf(e){return{viewType:72,viewParameter:9===e.cropSource?3462:3050}}var tp=n(230543),ty=n(74459);function tm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return th(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?th(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tg=(void 0!==c||(c=n(829187)).hash&&"3a9a747c3135f426fe0cf32ca9147a5d"!==c.hash&&console.error("The definition of 'VisualSearchContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c);function tv(e){var t,n=e.cropArea,r=e.cropSource,i=e.isProductPage,a=e.oneBarModules,o=e.pinKey,l=e.searchId,u=e.descriptorModules,s=e.title,c=e.trafficSource,d=e.visualSearchFlashlightUnifiedResource,f=(0,_.Z)(tg,o),p=(0,E.Z)({pinKey:f,maxWidth:A.Wm}).getNormalizedPinImage,y=(0,C.TH)(),m=((0,q.Z)()||{}).width,h=(0,tp.t)(),v=(0,ty.Z)(),S=(0,tl._)(),w=S.imageContainerScrollTop,x=S.imageContainerScrollTopForPinId,k=(0,g.useRef)(null),j=tm((0,g.useState)(0),2),P=j[0],O=j[1],R=tm((0,g.useState)(0),2),I=R[0],T=R[1],F=((y||{}).state||{}).internalNavigation,M=p(),D=M.width,L=M.height,K=M.url,z=D+Z.n,B=i?0:z+48,U=(void 0===m?0:m)-v-B-Z.n,H=tf({cropSource:r}),W=H.viewType,V=H.viewParameter,$={commerce_data:JSON.stringify({is_product_only_feed:i})},Y=function(){var e=k.current;if(e){var t=e.getBoundingClientRect(),n=t.x,r=t.y,i=e.scrollTop;O(n),T(r-i)}};return(0,ew.Z)(function(){Y(),k.current&&0!==w.current&&x.current===f.entityId&&(k.current.scrollTop=w.current)}),(0,N.jsx)(tc.Z,{constraints:i?[]:["visualSearchMainPinImageRender"],measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,N.jsx)(td.Z,{objectId:l,view:W,children:(0,N.jsx)(tu.Z,{log:{aux_data:$,view_type:W,view_parameter:V},children:(0,N.jsxs)(b.xu,{"data-test-id":"related-products",children:[(0,N.jsx)(G,{isProductPage:i,title:i?s:"",viewParameter:V,viewType:W}),!i&&(0,N.jsx)(b.xu,{ref:k,bottom:!0,dangerouslySetInlineStyle:{__style:{top:h+80,left:v,right:v}},height:"inherit",marginBottom:3,marginStart:12,onScroll:function(){var e;Y(),w.current=(null==(e=k.current)?void 0:e.scrollTop)||0,x.current=f.entityId},overflow:"auto",position:"fixed",width:z,children:(0,N.jsx)(te,{cropArea:n,cropSource:r,description:null!=(t=f.description)?t:"",descriptorModules:u,height:L,imageContainerX:P,imageContainerY:I,imageSignature:f.imageSignature||"",imageUrl:K,pinKey:f,showAnimation:!(void 0!==F&&F),trafficSource:c,viewParameter:V,viewType:W,width:D})}),(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{top:80*!i,left:B,right:B}},paddingX:ts.jC,position:"relative",width:U,children:(0,N.jsx)(to,{auxData:$,isProductOnlyFeed:i,oneBarModules:a,pinKey:f,viewParameter:V,viewType:W,visualSearchFlashlightUnifiedResource:d})})]})})})})}var tb=n(762525),tS=n(469167),t_=n(355363),tw=n(159527),tx=n(845421),tk=n(816533),tj=n(757947),tP=n(162903),tO=(void 0!==d||(d=n(172359)).hash&&"f426019c8f8e2668ff17a413d85a72dd"!==d.hash&&console.error("The definition of 'VisualSearchCarousel_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function tC(e){var t,n,r=e.auxData,i=e.hasActionCTA,a=e.legacyStory,o=e.searchIdentifier,l=e.storyKey,u=e.trafficSource,s=e.viewParameter,c=e.viewType,d=(0,v.TH)(),f=(0,_.Z)(tO,l),p=(0,g.useCallback)(function(e){var t=e.item,n=e.index;if(i&&f.objects&&n===f.objects.length-1){var a,l,p,y,m=null==(a=t.images)||null==(l=a["236x"])?void 0:l.url,h=d.pathname+"products/"+d.search;return m&&(0,N.jsx)(tj.Z,{auxData:r,buttonText:(null==(p=f.action)?void 0:p.text)||"See more",component:14339,dataTestId:"shop-action-item-button",element:179,imageWidth:tk.Z,previewImageSrc:m,storyId:null!=(y=f.storyId)?y:void 0,storyType:f.storyType,url:h,view:c,viewParameter:s})}return(0,N.jsx)(tx.r,{auxData:r,componentType:14339,isInDesktopCarousel:!0,pinId:t.id||"",pinImageCrop:{width:tk.Z,height:tk.Z},pinKey:null,slotIndex:n,surface:"VisualInspirationShoppingPin",trafficSource:u,viewData:{search_identifier:o},viewParameter:s,viewType:c})},[i,f.objects,null==(t=f.action)?void 0:t.text,f.storyId,f.storyType,r,u,o,s,c,d.pathname,d.search]),y=null==a||null==(n=a.objects)?void 0:n.filter(function(e){return"pin"===e.type});return y&&0!==y.length?(0,N.jsx)(tP.Z,{items:y,itemWidth:tk.Z,renderItem:p,showBorder:!0,storyKey:f,view:c,viewParameter:s}):null}function tR(e){var t=e.auxData,n=e.isProductOnlyFeed,r=e.oneBarModules,i=e.trafficSource,a=e.viewParameter,o=e.viewType,l=e.visualSearchFlashlightUnifiedResource,u=(0,x.ZP)(),s=(0,K.u)().logContextEvent,c=(0,g.useRef)(!1),d=(0,g.useRef)(null),f=!n&&r&&r.length>0,p=l.data,y=l.isFetching,m=l.fetchMore,h=l.isAtEnd,v=p||{},S=v.results,_=void 0===S?[]:S,w=v.search_identifier,k=_.find(function(e){return"story"===e.type&&"stela_shop"===e.story_type})||{},j=k.action,P=k.objects,O=j||{},C=O.text,R=O.url,I=(null==P?void 0:P.length)||0,A=!!(C&&R),E=(0,tw.Z)(function(){c.current||(s({event_type:110,view_type:o,view_parameter:a}),c.current=!0)},1e3),T=(0,g.useCallback)(function(e){var r=e.data,l=e.itemIdx;if("story"===r.type)return"unified_entry_point_flashlight_header"===r.story_type?null:(0,N.jsx)(tC,{auxData:t,hasActionCTA:A,legacyStory:r,searchIdentifier:w,storyKey:{type:"Legacy",data:r},trafficSource:i,viewParameter:a,viewType:o});if("pin"===r.type){var u=l+I-!!A;return(0,N.jsx)(tx.r,{auxData:t,componentType:0,pinId:r.id,pinKey:null,slotIndex:u,surface:n?"ShoppingDynamicHeightGrid":"SearchItem",trafficSource:i,viewData:{search_identifier:w},viewParameter:a,viewType:o})}return null},[t,w,i,o,a,A,I,n]),F=(0,g.useCallback)(function(e){return"story"!==e.type},[]);return(0,N.jsxs)(g.Fragment,{children:[f&&(0,N.jsx)(V.Z,{position:"sticky",shouldShowShadow:!0,children:(0,N.jsx)(ti.v,{children:(0,N.jsx)(tn.f,{children:(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{paddingInlineEnd:"8px"}},children:(0,N.jsx)(tt.default,{itemHeight:48,marginBottom:0,oneBarModulesKey:null,oneBarModulesRest:r,paddingBottom:12,paddingX:3})})})})}),(0,N.jsx)(b.xu,{ref:d,"data-test-id":"visual-search-feed",onScroll:E,overflow:"hidden",children:(0,N.jsx)(t_.Z,{isAtEndOfFeed:h,itemCount:_.length,children:(0,N.jsx)(tS.default,{align:n?"center":"start",getColumnSpanConfig:function(e){var t,n="story"===e.type&&(null==(t=e.display_options)?void 0:t.num_columns_requested);return 0===n?1/0:n||1},isFetching:y,isLoadedAccessibilityLabel:u._('Visual search results loaded', 'visualSearch.masonry.loaded.label', 'Accessibility label when masonry has finished loading'),isLoadingAccessibilityLabel:u._('Loading visual search results', 'visualSearch.masonry.loading.label', 'Accessibility label for masonry loading state'),isLoadingStateEnabled:!0,items:_,layout:"basic",loadItems:m,minCols:1,renderItem:T,scrollContainer:function(){var e;return null!=(e=d.current)?e:window},virtualize:F})})})]})}function tI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tA(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tA(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tE=(void 0!==f||(f=n(922081)).hash&&"355940c4e98c8536ca89baf5b758fce5"!==f.hash&&console.error("The definition of 'VisualSearchImageContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),f);function tT(e){var t,n,r,i,a,o,l,u,s,c,d=e.cropArea,f=e.cropSource,p=e.descriptorModules,y=e.pinKey,m=e.trafficSource,h=e.viewParameter,v=e.viewType,S=(0,_.Z)(tE,y),w=(0,E.Z)({pinKey:S,maxWidth:D.M}).getNormalizedPinImage,x=(0,tp.t)(),k=(0,ty.Z)(),j=(0,tl._)(),P=j.imageContainerScrollTop,O=j.imageContainerScrollTopForPinId,C=(0,g.useRef)(null),R=tI((0,g.useState)(0),2),I=R[0],T=R[1],F=tI((0,g.useState)(0),2),M=F[0],L=F[1],Z=tI((0,g.useState)(0),2),K=Z[0],z=Z[1],B=ep(S.dominantColor),U=B.defaultColor,H=B.selectedColor,W=B.hoveredColor,V=B.pressedColor,G=(n=(t={scrollContainerRef:C,imageY:M}).scrollContainerRef,r=t.imageY,i=(0,tp.t)(),a=(0,g.useRef)(!1),o=(0,g.useRef)(!0),l=(0,g.useCallback)(function(e){return i-r-(e-A.SP)},[i,r]),u=(0,g.useCallback)(function(e){l(e)>0?(a.current=!0,o.current=!1):(a.current=!1,o.current=!0)},[l]),s=(0,g.useCallback)(function(e){if(n.current&&0!==n.current.scrollTop){var t=l(e);a.current&&t<=0&&(a.current=!1,o.current=!0),o.current&&t>0&&(n.current.scrollTop-=t)}},[l,n]),{setScrollAvailability:u,scrollCropperInView:(0,g.useMemo)(function(){return(0,tw.Z)(s,16)},[s])}),q=G.setScrollAvailability,X=G.scrollCropperInView,Q=(0,g.useCallback)(function(){return(0,Y.Nx)("visualSearchMainPinImageRender")},[]),J=w(),ee=J.width,et=J.height,en=J.url,er=ee+16,ei=p&&p.length>0,ea=64*!!ei,eo=(0,g.useCallback)(function(){var e=C.current;if(e){var t=e.getBoundingClientRect(),n=t.x,r=t.y,i=e.scrollTop;T(n),L(r-i)}z(16*(et>=window.innerHeight-x&&!ei))},[x,et,ei]),el=(0,g.useCallback)(function(){var e;eo(),P.current=(null==(e=C.current)?void 0:e.scrollTop)||0,O.current=S.entityId},[eo,S.entityId,P,O]);return(0,ew.Z)(function(){var e=P.current,t=O.current;C.current&&0!==e&&t===S.entityId&&(C.current.scrollTop=e),eo()}),(0,N.jsxs)(g.Fragment,{children:[(0,N.jsx)(b.xu,{ref:C,bottom:!0,dangerouslySetInlineStyle:{__style:{top:x,insetInlineStart:k,height:"min(".concat(et,"px, calc(100vh - ").concat(x,"px))"),paddingBottom:"".concat(K,"px")}},"data-test-id":"visual-search-image-container",marginStart:3,onScroll:el,overflow:"auto",position:"fixed",width:er,children:(0,N.jsx)(b.xu,{"data-test-id":"flashlight-enabled-image",height:et+ea,width:ee,children:(0,N.jsxs)(b.zd,{height:et,rounding:6,width:ee,children:[(0,N.jsx)($.Z,{_enableViewTransitions:!0,type:"image",children:(0,N.jsx)(b.Ee,{alt:null!=(c=S.description)?c:"",naturalHeight:et,naturalWidth:ee,onLoad:Q,src:en})}),(0,N.jsx)(e9,{cropArea:d,cropSource:f,imageContainerX:I,imageContainerY:M,imageSize:{height:et,width:ee},onMouseDown:q,onMouseMoveSetCropArea:X,pinKey:S,trafficSource:m,viewParameter:h,viewType:v})]})})}),(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{top:x,insetInlineStart:k}},"data-test-id":"visual-search-cancel-button-container",marginStart:5,marginTop:2,position:"fixed",children:(0,N.jsx)(ey,{defaultPillColor:U,hoveredPillColor:W,pressedPillColor:V,viewParameter:h,viewType:v})}),ei&&(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{top:"min(".concat(x+et-64,"px, calc(100vh - ").concat(64,"px))"),insetInlineStart:k}},"data-test-id":"visual-search-descriptor-container",height:64,marginStart:3,position:"fixed",width:ee,children:(0,N.jsx)(ec,{defaultPillColor:U,descriptorModules:p,hoveredPillColor:W,isWebImageSearchRedesign:!0,pinKey:S,pressedPillColor:V,selectedPillColor:H})}),(0,N.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{boxSizing:"content-box"}},"data-test-id":"visual-search-image-container-placeholder",height:1,marginStart:3,minWidth:er})]})}var tF=(void 0!==p||(p=n(331921)).hash&&"3c3f391c3bf9eec79c18ed9a3fe63800"!==p.hash&&console.error("The definition of 'VisualSearchLayout_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p);function tM(e){var t=e.cropArea,n=e.cropSource,r=e.isProductPage,i=e.oneBarModules,a=e.pinKey,o=e.searchId,l=e.descriptorModules,u=e.trafficSource,s=e.visualSearchFlashlightUnifiedResource,c=(0,_.Z)(tF,a),d=(0,x.ZP)(),f=d._('Shop similar', 'visualSearch.productPage.header', 'Shop similar visual searched items.'),p=tf({cropSource:n}),y=p.viewType,m=p.viewParameter,h={commerce_data:JSON.stringify({is_product_only_feed:r})};return(0,N.jsx)(tc.Z,{constraints:r?[]:["visualSearchMainPinImageRender"],measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,N.jsx)(td.Z,{objectId:o,view:y,children:(0,N.jsxs)(tu.Z,{log:{aux_data:h,view_type:y,view_parameter:m},children:[r?(0,N.jsx)(G,{isProductPage:!0,title:f,viewParameter:m,viewType:y}):(0,N.jsx)(tb.Z,{text:d._('Image Search Page', 'imageSearch.accessibilityHiddenHeading', 'Accessibility label for image search page')}),(0,N.jsxs)(b.kC,{children:[!r&&(0,N.jsx)(tT,{cropArea:t,cropSource:n,descriptorModules:l,pinKey:c,trafficSource:u,viewParameter:m,viewType:y}),(0,N.jsx)(b.kC.Item,{flex:"grow",children:(0,N.jsx)(tR,{auxData:h,isProductOnlyFeed:r,oneBarModules:i,trafficSource:u,viewParameter:m,viewType:y,visualSearchFlashlightUnifiedResource:s})})]})]})})})}var tD=(void 0!==y||(y=n(553593)).hash&&"a97627ca011ed4139267bc5a970d6d7a"!==y.hash&&console.error("The definition of 'VisualSearchPageWithPinData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),y);function tL(e){var t=e.pinKey,n=(0,C.TH)(),r=(0,_.Z)(tD,t),i=(0,L.D)(),a=(0,E.Z)({pinKey:r,maxWidth:i?D.M:A.Wm}).getNormalizedPinImage,o=(0,T.mB)(n.search),l=o.cropSource,u=o.entrypoint,s=o.full_feed_title,c=o.filters,d=o.hybrid_search_param,f=o.journey_depth,p=o.search_query,y=o.source_module_id,m=o.selected_descriptors,h=o.requestParams,v=o.rs,b=a(),S=b.width,w=b.height,x=(0,g.useMemo)(function(){var e;return null!=(e=(0,R.Z)(n,S,w))?e:{x:0,y:0,w:S,h:w}},[n,S,w]),k=(0,F.Z)(Number(l))||5,j=n.pathname.includes("/products"),P=(0,I.Z)({resourceOptions:{crop:(0,M.Z)({cropArea:x,scaledWidth:S,scaledHeight:w}),crop_source:k,entry_source:j?"shopping":"flashlight",entrypoint:u||j&&"feed_module"||null,field_set_key:"shopping_grid_item",image_signature:r.imageSignature||void 0,is_shopping:j,pin_id:r.entityId,request_params:h,source:v,filters:c,hybrid_search_param:d,selected_descriptors:m,journey_depth:parseInt(f,10)||void 0,search_query:p,source_module_id:y}}),O=P.searchId,Z=P.visualSearchFlashlightUnifiedResource,K=P.oneBarModules,z=P.descriptorModules;return r?(0,N.jsx)(i?tM:tv,{cropArea:x,cropSource:k,descriptorModules:z,isProductPage:j,oneBarModules:K,pinKey:r,searchId:O,title:void 0===s?"":s,trafficSource:v,visualSearchFlashlightUnifiedResource:Z}):null}function tZ(e){var t=e.pinKey;return(0,N.jsx)(L.h,{children:(0,N.jsx)(tL,{pinKey:t})})}var tK=(void 0!==m||(m=n(55575)).hash&&"0f7b98a1f02dbf8528df0452aa26efd4"!==m.hash&&console.error("The definition of 'RelatedProductsPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m),tz=(void 0!==h||(h=n(376985)).hash&&"91d05676e413b7b47653c2f8fa609093"!==h.hash&&console.error("The definition of 'RelatedProductsPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h);function tB(e){var t,n=e.pinId,r=e.relatedProductsDataRef,i=(0,x.ZP)(),a=(0,w.Z)({strategy:"Legacy",query:tK,variables:{pinId:n},useGetLegacyData:function(){return(0,k.Z)(r).data}}),o=(null==a||null==(t=a.v3GetPinQuery)?void 0:t.__typename)==="V3GetPin"?a.v3GetPinQuery.data:null,l=(0,_.Z)(tz,o);return(0,N.jsx)(g.Suspense,{fallback:(0,N.jsx)(b.xH,{accessibilityLabel:i._('Loading Pin data', 'RelatedProductsPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:l&&(0,N.jsx)(tZ,{pinKey:l})})}function tN(){var e=(0,v.$B)(),t=(0,P.Z)(e.params.id||"").pinId,n=(0,j.Z)({name:"PinResource",options:{id:t,field_set_key:"detailed"}}).ref;return(0,N.jsx)(S.Z,{name:"RelatedProductsPage_RelatedProductsPageWrapper",children:(0,N.jsx)(g.Suspense,{fallback:(0,N.jsx)(O.Z,{}),children:(0,N.jsx)(tB,{pinId:t,relatedProductsDataRef:n})})})}},388023:function(e,t,n){"use strict";var r=n(428725);t.Z={AggregatedCommentResource:r.rm,AggregatedCommentFeedResource:r.LR,AggregatedCommentReplyResource:r.rm,AggregatedCommentReplyFeedResource:r.LR,AggregatedActivityFeedResource:r.LR,BestPinsFeedAltResource:r.LR,BoardArchiveResource:r.LR,BoardContentRecommendationResource:r.LR,BoardFeedResource:r.LR,BoardFollowingResource:r.LR,BoardInviteResource:r.sf,BoardInvitesResource:r.Ht,BoardlessPinsResource:r.LR,BoardPickerBoardsResource:{all_boards:r.LR,boards_shortlist:r.LR},BoardSectionEditResource:r._F,BoardSectionsRepinResource:r.LR,BoardSectionsResource:r.LR,BoardsFeedResource:r.LR,BoardResource:r.IY,BoardSectionResource:r._F,BoardSectionPinsResource:r.LR,BoardToolsFeedResource:r.LR,ContactRequestsResource:r.LR,ConversationsResource:r.LR,ConversationMessagesResource:r.dq,DidItCommentsResource:r.LR,DidItLikedByResource:r.Gn,DidItUserFeedResource:r.LR,InterestFollowingResource:r.LR,InterestResource:r.cC,MoreIdeasTabsBoardsResource:r.LR,NewsHubResource:r.LR,NewsHubDetailsResource:r.LR,NewsHubSummaryResource:r.t6,NuxInterestsResource:r.LR,PinResource:r.Cj,PinsFromBrandResource:r.LR,ReactionsResource:r.fE,RelatedArticlesResource:r.LR,RelatedInterestsResource:r.LR,RelatedModulesResource:r.LR,RelatedPinFeedResource:r.LR,RelatedStreamResource:r.LR,RepinResource:r.Cj,BaseSearchResource:{results:r.LR},SearchResource:r.LR,SectionToolsFeedResource:r.LR,ShareSuggestionsTypeaheadResource:{items:r.LR},StoryFeedResource:r.LR,StoryPinTaggedProductsResource:r.LR,TodayArticleFeedResource:r.LR,TodayArticleResource:r.iF,TodayTabInterestFeedResource:r.LR,TodayTabResource:r.LR,TopicFeedResource:r.LR,UnifiedCommentsResource:r.LR,UserActivityPinsResource:r.LR,UserFollowingResource:r.LR,UserRecentActivityResource:r.LR,UserHomefeedResource:r.LR,UserPinsResource:r.LR,UserSettingsResource:r.EA,UserStoryPinsFeedResource:r.LR,UserResource:r.EA,VisualLiveSearchResource:{results:r.LR},VisualLiveSearchProductFeedResource:r.LR,VisualSearchFlashlightUnifiedResource:r.LR,SeoTier1CandidateResource:r.LR}},428725:function(e,t,n){"use strict";n.d(t,{Cj:function(){return f},EA:function(){return u},Gn:function(){return C},Ht:function(){return O},IY:function(){return d},LR:function(){return I},_F:function(){return m},cC:function(){return w},dq:function(){return g},fE:function(){return y},iF:function(){return _},rm:function(){return s},sN:function(){return R},sf:function(){return x},t6:function(){return P}});var r=n(60101);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,a;r=t,a=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),u=new r.fK.Entity(l.user),s=new r.fK.Entity(l.aggregatedComment,{user:u,tagged_users:[u]}),c=new r.fK.Entity(l.article),d=new r.fK.Entity(l.board),f=new r.fK.Entity(l.pin),p=new r.fK.Entity(l.reaction),y=new r.fK.Array(p),m=new r.fK.Entity(l.boardsection),h=new r.fK.Entity(l.conversationMessage,{sender:u,users:[u],board:d,pin:f,user:u}),g=new r.fK.Array(h),v=new r.fK.Entity(l.contactrequest),b=new r.fK.Entity(l.story),S=new r.fK.Entity(l.triedit),_=new r.fK.Entity(l.todayArticle,{article_creator_user:u,content_pin:f,content_pin_official_user:u,video_pin:f}),w=new r.fK.Entity(l.topic,{},{processStrategy:function(e){return o(o({},e),{},{slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}}),x=new r.fK.Entity(l.invite,{invited_by_user:u,invited_user:u,board:d},{idAttribute:function(e){return"".concat(e.board.id,":").concat(e.invited_user.id)}}),k=function(e){switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},j=new r.fK.Union({user:u,board:d,invite:x,pin:f,topic:w,triedit:S},k),P=new r.fK.Entity(l.notification,{content_items:[{content_object:j}],header_icon_objects:[j]}),O=new r.fK.Array(x),C=new r.fK.Array(u),R=new r.fK.Array(d),I=new r.fK.Array({aggregatedComment:s,article:c,board:d,boardsection:m,contactrequest:v,conversationMessage:h,notification:P,pin:f,story:b,todayArticle:_,topic:w,triedit:S,user:u},k,function(e){switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});b.define({objects:I})},23534:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,a;i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{b:function(){return u},s:function(){return o}});var o="RTK_autoBatch",l=function(e){return function(t){setTimeout(t,e)}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return function(t){return function(){var n=t.apply(void 0,arguments),r=!0,i=!1,u=!1,s=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:l(10):"callback"===e.type?e.queueNotification:l(e.timeout),d=function(){u=!1,i&&(i=!1,s.forEach(function(e){return e()}))};return a(a({},n),{},{subscribe:function(e){var t=n.subscribe(function(){return r&&e()});return s.add(e),function(){t(),s.delete(e)}},dispatch:function(e){try{var t;return(i=!(r=!(null!=e&&null!=(t=e.meta)&&t[o])))&&!u&&(u=!0,c(d)),n.dispatch(e)}finally{r=!0}}})}}}},474147:function(e,t,n){"use strict";n.d(t,{J:function(){return k}});var r=n(636208),i=n(35831),a=n(712064),o=n(356299),l=n(388023),u=n(428725),s=n(696323),c=n(339618);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){var r;return(r=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=new Set(["PinResource","RepinResource"]),b={ApiResource:function(e){var t,n,r,i;return(null==e?void 0:e.url)==="/v3/orientation/nux_creator_recommendations/"?"nux-creator-recommendations":(null==e?void 0:e.url)==="/v3/users/me/interests/"?"recommended-interests:".concat(null==(r=e.data)?void 0:r.blend_type):(null==e?void 0:e.url)==="/v3/usecases/".concat(null==(t=e.data)?void 0:t.use_case_id,"/feed/")?"useCaseFeed":(null==e?void 0:e.url)==="/v3/boards/".concat(null==(n=e.data)?void 0:n.board_id,"/automagical/pins/")?"automagical-board-feed:".concat(null==(i=e.data)?void 0:i.board_id):""},AggregatedActivityFeedResource:function(e){return"trieditfeed:".concat(e.aggregated_pin_data_id)},AggregatedCommentFeedResource:function(e){return"aggregated-comments:".concat(e.objectId)},AggregatedCommentReplyFeedResource:function(e){return"".concat(s.Z.AGGREGATED_COMMENT_REPLIES,":").concat(e.objectId)},BoardlessPinsResource:function(e){return"boardless-pins:".concat(e.userId)},BestPinsFeedAltResource:function(e){return"idea-page-best-pins:".concat(e.interest)},BoardArchiveResource:function(){return"archived-boards"},BoardContentRecommendationResource:function(e){return"recommendation-feed:".concat(e.id)},BoardFeedResource:function(e){return"boardfeed:".concat(e.board_id)},BoardSectionsRepinResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionsResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionPinsResource:function(e){return"board-section-pins:".concat(e.section_id)},BoardsFeedResource:function(e){return"profile-boards:".concat(e.username)},BoardToolsFeedResource:function(e){return"board-tools:".concat(e.boardId)},ConversationsResource:function(){return"conversations"},DidItLikedByResource:function(e){return"triedit-likes:".concat(e.didItDataId)},DidItUserFeedResource:function(e){return"profile-tried:".concat(e.username)},InterestResource:function(e){return"klp-pins:".concat(e.interest)},MoreIdeasTabsBoardsResource:function(){return"homefeed-more-ideas-tabs"},NewsHubResource:function(){return"notifications"},NewsHubDetailsResource:function(e){return"newshubdetail:".concat(e.news_id)},NuxInterestsResource:function(){return"nuxTopics"},PinsFromBrandResource:function(e){return"brand-pins:".concat(e.pin)},ReactionsResource:function(e){return"reactions:".concat(e.pin_id)},RelatedArticlesResource:function(e){return"related-articles:".concat(e.article_id)},RelatedModulesResource:function(e){return"related-modules:".concat(e.pin_id)},RelatedPinFeedResource:function(e){return"related-pins:".concat(e.pin)},RelatedStreamResource:function(e){return"related-story-pins:".concat(e.pinId)},SearchResource:function(e){var t="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.article||"");return e.auto_correction_disabled?"".concat(t,":auto-correction-disabled"):t},BaseSearchResource:function(e){var t=e.appliedProductFilters,n=e.article,r=e.auto_correction_disabled,i=e.filters,a=e.journey_depth,o=e.query,l=e.scope,u=e.selected_one_bar_modules,s=e.source_id,d=e.source_module_id,f=e.top_pin_ids;return"search:".concat((0,c.Z)({appliedFilters:t,article:n,autoCorrectionDisabled:r,filters:i,journeyDepth:a,query:o,scope:l,selectedOneBarModules:u,sourceId:s,sourceModuleId:d,topPinIds:f}))},SectionToolsFeedResource:function(e){return"section-tools:".concat(e.sectionId)},ShareSuggestionsTypeaheadResource:function(e){return"share-suggestions:".concat(e.board||e.user,":").concat(e.term)},StoryFeedResource:function(e){return"story-feed:".concat(e.feed_type,":").concat(e.request_params)},StoryPinTaggedProductsResource:function(){return"story-pin-tagged-products"},TodayArticleFeedResource:function(e){return"today-article:".concat(e.id)},TodayTabInterestFeedResource:function(e){return"today-article-interestfeed:".concat(e.interest_id)},TodayTabResource:function(){return"today-tab"},SeoTier1CandidateResource:function(){return"tier1-feed"},UnifiedCommentsResource:function(e){return"unified-comments:".concat(e.aggregated_pin_id)},UserActivityPinsResource:function(e){return"profile-pins-feed:".concat(e.user_id)},UserHomefeedResource:function(e){return e.pin_quiz?"pin-quiz":"homefeed"},UserFollowingResource:function(e){return"user-following:".concat(e.username)},UserRecentActivityResource:function(e){return"user-recent-activity:".concat(e.filter_type)},UserStoryPinsFeedResource:function(e){return"story-pins-feed:".concat(e.user_id)},VisualLiveSearchResource:function(e){return"visual-search:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualLiveSearchProductFeedResource:function(e){return"visual-search-products:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualSearchFlashlightUnifiedResource:function(e){return"related-products-unified:".concat(e.pin_id)},InterestFollowingResource:function(e){return"topic-following:".concat(e.username)},UserPinsResource:function(e){return"profile-pins:".concat(e.username)},TopicFeedResource:function(e){return e.best_pins?"best-topic-pins:".concat(e.interest):"topic-pins:".concat(e.interest)}},S={AggregatedActivityFeedResource:function(e){var t=e.options.aggregated_pin_data_id;return{type:s.Z.TRIED_IT_FEED,id:t}},AggregatedCommentFeedResource:function(e){var t=e.options.objectId;return{type:s.Z.AGGREGATED_COMMENTS,id:t}},AggregatedCommentReplyFeedResource:function(e){var t=e.options,n=t.isUnifiedComment,r=t.objectId;return{type:n?s.Z.AGGREGATED_COMMENT_REPLIES:s.Z.AGGREGATED_COMMENTS,id:r,reversed:!0}},ApiResource:function(e){var t=e.options,n=t.url,r=t.data;return n==="/v3/usecases/".concat(null==r?void 0:r.use_case_id,"/feed/")?{type:s.Z.USE_CASE_TAB,id:r.use_case_id}:n==="/v3/boards/".concat(null==r?void 0:r.board_id,"/automagical/pins/")?{type:s.Z.AUTOMAGICAL_BOARD_FEED,id:r.board_id}:null},BoardFeedResource:function(e){var t=e.options.board_id;return{type:s.Z.BOARDFEED,id:t}},BoardlessPinsResource:function(e){var t=e.options.userId;return{type:s.Z.BOARDLESS_PINS,id:t}},BoardSectionPinsResource:function(e){var t=e.options.section_id;return{type:s.Z.BOARD_SECTION_PINS,id:t}},BoardSectionsResource:function(e){var t=e.options.board_id;return{type:s.Z.BOARD_SECTIONS,id:t}},BoardsResource:function(e){var t=e.options,n=t.username,r=t.sort,i=t.filter_types;return{type:s.Z.PROFILE_BOARDS,id:(0,o.Z)(n,r,i)}},BaseSearchResource:function(e){var t,n=e.options,r=n.appliedProductFilters,i=n.appliedUnifiedFilters,o=n.auto_correction_disabled,l=n.filters,u=n.journey_depth,c=n.query_pin_sigs,d=n.query,f=n.rs,p=n.scope,y=n.selected_one_bar_modules,m=n.source_id,h=n.source_module_id,g=n.top_pin_ids,v=n.user,b=e.response;return{type:s.Z.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:r,appliedUnifiedFilters:i,autoCorrectionDisabled:o,filters:l,journeyDepth:u,query:d,rs:f,scope:p,selectedOneBarModules:y,selectedPinImgSig:c,sourceId:m,sourceModuleId:h,topPinIds:g,user:v}),items:(null==(t=b.resource_response.data)?void 0:t.results)||[]}},DidItCommentsResource:function(e){var t=e.options.objectId;return{type:s.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}},DidItUserFeedResource:function(e){var t=e.options.username;return{type:s.Z.TRIED_IT_FEED,id:t}},RelatedArticlesResource:function(e){var t=e.options.article_id;return{type:s.Z.TODAY_TAB,id:t}},StoryPinDraftsResource:function(e){var t=e.options.userId;return{type:s.Z.STORY_PIN_DATA,id:t}},TodayTabInterestFeedResource:function(e){var t=e.options.interest_id;return{type:s.Z.TODAY_ARTICLE_INTEREST_FEED,id:t}},TodayTabResource:function(){return{type:s.Z.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var t=e.options.aggregated_pin_id;return{type:s.Z.UNIFIED_COMMENTS,id:t}},UnifiedCommentsResource:function(e){var t=e.options,n=t.aggregated_pin_id,r=t.is_reversed;return{type:s.Z.UNIFIED_COMMENTS,id:n,reversed:r}},UserActivityPinsResource:function(e){var t=e.options.user_id;return{type:s.Z.PROFILE_PINS_FEED,id:t}},UserStoryPinsFeedResource:function(e){var t=e.response,n=e.options.user_id;return{type:s.Z.STORY_PINS_FEED,id:n,items:t.resource_response.data||[]}}},_=function(e,t){var n=t.pinId,r=t.feedId;return e[r]?h(h({},e),{},g({},r,e[r].filter(function(e){return"pin"!==e.type||e.id!==n}))):e},w=function(e,t){var n=t.pinId,r=t.feedId;return e[r]?h(h({},e),{},g({},r,[{type:"pin",id:n}].concat(f(e[r])))):e},x=function(e,t){var n=t.pinId,r=t.oldFeedId,i=t.newFeedId;return r===i?e:w(_(e,{pinId:n,feedId:r}),{pinId:n,feedId:i})},k=function(e,t){return e in b?b[e](t):null},j=function(e,t){var n,r,i;switch(e.type){case"story":return{id:null!=(n=e.id)?n:"",type:"story",story_type:null!=(r=e.story_type)?r:""};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===s.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:var a="useCaseFeed"===t&&"tracking_params"in e;return h({type:"pin",id:null!=(i=e.id)?i:""},a&&{trackingParams:e.tracking_params})}},P=function(e,t){return t?"board-section-pins:".concat(t):"boardfeed:".concat(e)},O=function(e,t,n){var r=n||l.Z[e];if(r===u.LR)return t.result;if(r===u.sN)return t.result.map(function(e){return{id:e,schema:"board"}});if(r===u.Gn)return t.result.map(function(e){return{id:e,schema:"user"}});if(r===u.Ht)return t.result.map(function(e){return{id:e,schema:"invite"}});if(r===u.fE)return t.result.map(function(e){return{id:e,schema:"reaction"}});if("object"===d(r)){var i=Object.entries(r).find(function(e){return(function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,2)||p(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===u.LR});if(i)return t.result[i[0]]}return null},C=function(e,t){return e.map(function(e){var n=e.id,r=e.schema;return"home_feed_tabs"===e.type?e:r?{id:n,type:r,trackingParams:"pin"===r?t.pins[n].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean)},R=function(e,t,n){return Object.keys(e).reduce(function(r,i){var a=e[i]||[],o=a.filter(function(e){if(e.type!==t)return!0;if("reaction"===t){var r=e.id.lastIndexOf(":");return e.id.substring(0,r)!==n}return e.id!==n});return a.length!==o.length&&(r[i]=o),r},h({},e))};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.zP:case i.aW:var n=t.payload,a=n.resource,o=n.options,l=n.normalizedResponse,u=n.schema;if(l&&a in b){var c=O(a,l,u);if(c&&Array.isArray(c)){var d=b[a](o);if("BoardToolsFeedResource"===a||"SectionToolsFeedResource"===a)return h(h({},e),{},g({},d,c));if("UnifiedCommentsResource"===a){var p=C(c,l.entities);if(e[d]&&(i.zP||i.aW===t.type))return h(h({},e),{},g({},d,[].concat(f(e[d]),f(p))));return h(h({},e),{},g({},d,p))}var y=[].concat(f(t.type===i.aW&&e[d]||[]),f(C(c,l.entities)));return h(h({},e),{},g({},d,y))}}else{var m,_=n.response.resource_response.data;if(!(null!=(m=n.options)&&m.redux_normalize_feed))return e;var w=S[n.resource]({options:n.options,response:n.response});if(w){var k=w.type,I=w.id,A=w.items,E=w.reversed,T=(A||_||[]).filter(Boolean).map(function(e){return j(e,k)});E&&(T=T.reverse());var F="".concat(k,":").concat(I),M=e[F];if(M||t.type!==i.aW){var D=M||[],L=T;return t.type===i.aW&&(L=E?T.concat(D):D.concat(T)),h(h({},e),{},g({},F,L))}}}break;case"FEED_ITEM_REORDERED":var Z=t.payload,K=Z.feedType,z=Z.feedId,B=Z.itemType,N=Z.targetItemId,U=Z.sourceItemId,H="".concat(K,":").concat(z),W=e[H]||[],V=-1,G=-1;if([s.Z.BOARDFEED,s.Z.BOARD_SECTION_PINS,s.Z.BOARD_SECTIONS,"profileBoards"].includes(K)&&(V=W.findIndex(function(e){return e.type===B&&e.id===U}),G=W.findIndex(function(e){return e.type===B&&e.id===N})),-1!==V&&-1!==G)return h(h({},e),{},g({},H,(0,r.Z)(W,V,G)));break;case"FEED_ITEMS_REMOVED":var $=t.payload,q=$.feedType,Y=$.feedId,X=$.inverseSelection,Q=$.itemType,J=$.itemIds,ee=void 0===J?[]:J,et="".concat(q,":").concat(Y),en=e[et]||[];if(en&&en.length>0&&(q===s.Z.BOARD_SECTION_PINS||q===s.Z.BOARDFEED)){var er=en.filter(function(e){var t=ee.includes(e.id);return!(e.type===Q&&(X&&!t||!X&&t))}),ei=!!er.find(function(e){return"pin"===e.type});return h(h({},e),{},g({},et,ei?er:[]))}if(en&&en.length>0&&q===s.Z.BOARD_SECTIONS){var ea=en.filter(function(e){var t=ee.includes(e.id);return!(e.type===Q&&t)});return h(h({},e),{},g({},et,ea))}if(en&&en.length>0&&(q===s.Z.AGGREGATED_COMMENTS||q===s.Z.BOARDLESS_PINS||q===s.Z.PROFILE_PINS_FEED||q===s.Z.STORY_PINS_FEED||q===s.Z.UNIFIED_COMMENTS||q===s.Z.TRIED_IT_FEED||q===s.Z.STORY_PIN_DATA)){var eo=en.filter(function(e){var t=ee.includes(e.id);return!(e.type===Q&&t)});return h(h({},e),{},g({},et,eo))}break;case"FEED_ITEMS_ADDED":var el=t.payload,eu=el.feedType,es=el.feedId,ec=el.itemType,ed=el.itemIds,ef=void 0===ed?[]:ed,ep=el.prepend,ey="".concat(eu,":").concat(es),em=e[ey]||[];if(em&&(eu===s.Z.BOARD_SECTION_PINS||eu===s.Z.BOARDFEED||eu===s.Z.BOARDLESS_PINS)){var eh=ef.map(function(e){return{id:e,type:ec}}),eg=0;"story"===(em[0]||{}).type&&(eg=1),"story"===(em[1]||{}).type&&(eg=2);var ev=[].concat(f(em.slice(0,eg)),f(eh),f(em.slice(eg)));return h(h({},e),{},g({},ey,ev))}if(em&&eu===s.Z.BOARD_SECTIONS){var eb=f(ef).reverse().map(function(e){return{id:e,type:"boardsection"}}),eS=em?[].concat(f(eb),f(em)):f(eb);return h(h({},e),{},g({},ey,eS))}if(eu===s.Z.AGGREGATED_COMMENTS||eu===s.Z.AGGREGATED_COMMENT_REPLIES||eu===s.Z.PROFILE_PINS_FEED||eu===s.Z.STORY_PINS_FEED||eu===s.Z.UNIFIED_COMMENTS){var e_=ef.map(function(e){return{id:e,type:ec}}),ew=em?[].concat(f(ep?e_:em),f(ep?em:e_)):e_;return h(h({},e),{},g({},ey,ew))}if(eu===s.Z.TRIED_IT_FEED){var ex=ef.map(function(e){return{id:e,type:ec}}),ek=em?[].concat(f(ex),f(em)):ex;return h(h({},e),{},g({},ey,ek))}break;case"FEED_INVALIDATE":var ej=t.payload,eP=ej.feedType,eO=ej.feedId,eC="".concat(eP,":").concat(eO);return e[eC],h(h({},e),{},g({},eC,null));case"APPEND_FEED_ITEMS":var eR,eI=t.payload,eA=eI.id,eE=eI.items,eT=eI.options,eF=e[eA];if(eF)return eR=eT.isPrepend?eF[0]&&"story"===eF[0].type?[].concat(eF[0],eE,eF.slice(1)):eE.concat(eF):eF.concat(eE),h(h({},e),{},g({},eA,eR));return h(h({},e),{},g({},eA,eE));case"PIN_DELETE":return R(e,"pin",t.payload.pinId);case"BOARD_ARCHIVE":var eM=t.payload,eD=eM.boardId,eL=eM.username,eZ="profile-boards:".concat(null!=eL?eL:"");if(e[eZ])return h(h({},e),{},g({},eZ,e[eZ].filter(function(e){return e.id!==eD})));break;case"BOARD_UNARCHIVE":var eK=t.payload.boardId,ez="archived-boards";if(e[ez])return h(h({},e),{},g({},ez,e[ez].filter(function(e){return e.id!==eK})));break;case"BOARD_DELETE":return R(e,"board",t.payload.boardId);case"BOARD_SECTION_DELETE":return R(e,"boardsection",t.payload.boardSectionId);case"PINS_MOVE":var eB=t.payload,eN=eB.source,eU=eB.target,eH=eB.pinIds,eW=eB.userId,eV=eN.boardlessPins&&eW&&"boardless-pins:".concat(eW)||eN.boardId&&P(eN.boardId,eN.sectionId),eG=P(eU.boardId,eU.sectionId);return eH.reduce(function(e,t){return x(e,{pinId:t,oldFeedId:eV,newFeedId:eG})},e);case"PINS_MOVE_ALL":var e$=t.payload,eq=e$.source,eY=e$.target,eX=e$.excludePinIds,eQ=P(eq.boardId,eq.sectionId),eJ=P(eY.boardId,eY.sectionId),e0=h(h({},e),{},g({},eQ,eX.map(function(e){return{type:"pin",id:e}})));return delete e0[eJ],e0;case"PIN_EDIT":var e1=t.payload,e2=e1.pinId,e5=e1.boardId,e6=e1.sectionId,e3=e1.source;return x(e,{pinId:e2,oldFeedId:P(e3.boardId,e3.sectionId),newFeedId:P(e5,void 0===e6?"":e6)});case i.AF:if(v.has(t.payload.resource)){var e8,e4=t.payload.response.resource_response.data,e9=e4.board;if("quick_saves"===e9.layout)e8="boardless-pins:".concat(t.payload.options.user_id);else{var e7=t.payload.options.section;e8=e7?"board-section-pins:".concat(e7):"boardfeed:".concat(e9.id)}if(e[e8]){var te=h({},e),tt={id:e4.id,type:"pin",trackingParams:null==e4?void 0:e4.tracking_params};return te[e8]=[tt].concat(e[e8]),te}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){var tn=t.payload.normalizedResponse.result,tr=t.payload.normalizedResponse.entities.boardsections[tn].board,ti="board-sections:".concat(tr);if(e[ti]){var ta=h({},e);return ta[ti]=[{id:tn,type:"boardsection"}].concat(e[ti]),ta}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){for(var to={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},tl=h({},e),tu=0,ts=["aggregated-comments","unified-comments"];tu<ts.length;tu++){var tc=ts[tu],td="".concat(tc,":").concat(t.payload.options.objectId);e[td]&&(tl=h(h({},tl),{},g({},td,[to].concat(tl[td]))))}return tl}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){var tf="".concat(s.Z.AGGREGATED_COMMENT_REPLIES,":").concat(t.payload.options.objectId);return h(h({},e),{},g({},tf,[].concat(f(e[tf]||[]),[{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}])))}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){var tp=t.payload.options,ty=tp.reaction_pin_id,tm=tp.reaction_type;if("reaction"===t.payload.options.action_type){var th="reactions:".concat(t.payload.options.pin_id),tg=h({},e),tv={id:"".concat(ty,":").concat(t.payload.options.user_id,":").concat(tm),type:"reaction",trackingParams:void 0};return tg[th]=[tv].concat(e[th]),tg}if("unreaction"===t.payload.options.action_type)return R(e,"reaction","".concat(ty,":").concat(t.payload.options.user_id))}break;case"COMPLETE_STORY":return R(e,"story",t.payload.storyId)}return e}},588836:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(581722),i=n(963489),a=n(20256),o=n(111330),l=n(521009),u=n(346955),s=n(667835),c=n(19585),d=n(506662),f=n(753143),p=n(941404),y=n(572227),m=n(647709),h=n(382718);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n=e.alignIconLeft,v=e.bgColor,b=e.color,S=e.disableRedirect,_=void 0!==S&&S,w=e.fallbackUrl,x=e.icon,k=void 0===x?"arrow-back":x,j=e.onTouch,P=e.padding,O=e.placement,C=e.shouldUseFallbackUrl,R=e.size,I=void 0===R?"lg":R,A=e.viewParameter,E=e.viewType,T=e.isVisualSearch,F=(0,c.ZP)(),M=(0,i.s0)(),D=(0,i.TH)(),L=(0,m.HG)(),Z=(0,r.v9)(function(e){return e.session.isAuthenticated}),K=(0,l.Z)(),z=(0,y.Z)(),B=(0,s.vs)(),N=(0,u.SU)(),U=N.viewType,H=N.viewParameter,W=function(e){if(Array.isArray(e))return e}(t=E?[E,A]:[U,H])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),V=W[0],G=W[1],$=function(){var e,t=(0,f.M0)().getItem(o.pm);D.key||"/ideas"!==w?(0,p.My)("pinner_conversion.back_button.".concat(String(null==t?void 0:t[0].pageType))):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)("web_back_button_click.".concat(String(O),".is_auth_").concat(String(Z))),z({action:"click",item:"back-button"}),V&&K({view_type:V,view_parameter:G,element:34,event_type:102}),j&&j(),_||((!D.key||!D.state||(null==(e=D.state)?void 0:e.referrer)==="redirect"||C)&&w?M(w):D.pathname.includes("/password/reset/")&&D.search&&D.search.includes("?nativeShouldDismiss=true")?M("/login/?dismissWebview=true"):M(-1))},q=B?s.t4:"white",Y=(0,d.am)(D)||T||"white"===b;return(0,h.jsx)(a.xu,{"data-test-id":"back-button",children:n?(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===k?-1:-2,width:48,children:(0,h.jsx)(a.hU,{accessibilityLabel:F._('Back', 'navigation button', 'navigation button'),bgColor:v,icon:k,iconColor:!b&&(!v||["white","lightGray","transparent"].includes(v))?"gray":b,onClick:$,padding:"auto"!==P?P:2,size:I})}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:L||Y||v?"":q,width:B&&!Y?"fit-content":""}},rounding:"circle",children:(0,h.jsx)(a.hU,{accessibilityLabel:F._('Back', 'navigation button', 'navigation button'),bgColor:v||L?v:"transparent",icon:k,iconColor:!b&&(!v||["white","lightGray","transparent"].includes(v))?"gray":b,onClick:$,padding:"auto"!==P?P:2,size:I})})})}},339618:function(e,t,n){"use strict";function r(e){var t=e.appliedFilters,n=e.article,r=e.autoCorrectionDisabled,i=e.filters,a=e.journeyDepth,o=e.query,l=e.scope,u=e.selectedOneBarModules,s=[l,o,i,t,n,e.sourceId,e.sourceModuleId,a,e.topPinIds].map(function(e){return null!=e?e:""}).join(":");return r&&(s+=":auto-correction-disabled"),u&&(s+=":".concat(u)),s}n.d(t,{Z:function(){return r}})},512395:function(e,t,n){"use strict";function r(){return{}}n.d(t,{kr:function(){return r}}),n.g.__AsyncLocalStorage__&&new n.g.__AsyncLocalStorage__},959796:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=[],r=[];e.exports=function(e,i){var a=n.length?n.pop():[],o=r.length?r.pop():[],l=function e(n,r,i,a){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r||"object"!=t(n)||"object"!=t(r))return!1;var o=Object.prototype.toString,l=o.call(n);if(l!=o.call(r))return!1;switch(l){case"[object String]":return n==String(r);case"[object Number]":return!(isNaN(n)||isNaN(r))&&n==Number(r);case"[object Date]":case"[object Boolean]":return+n==+r;case"[object RegExp]":return n.source==r.source&&n.global==r.global&&n.multiline==r.multiline&&n.ignoreCase==r.ignoreCase}for(var u=i.length;u--;)if(i[u]==n)return a[u]==r;i.push(n),a.push(r);var s=0;if("[object Array]"===l){if((s=n.length)!==r.length)return!1;for(;s--;)if(!e(n[s],r[s],i,a))return!1}else{if(n.constructor!==r.constructor)return!1;if(n.hasOwnProperty("valueOf")&&r.hasOwnProperty("valueOf"))return n.valueOf()==r.valueOf();var c=Object.keys(n);if(c.length!=Object.keys(r).length)return!1;for(var d=0;d<c.length;d++)if(!e(n[c[d]],r[c[d]],i,a))return!1}return i.pop(),a.pop(),!0}(e,i,a,o);return a.length=0,o.length=0,n.push(a),r.push(o),l}},715739:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},243218:function(e,t,n){"use strict";e.exports=n(715739)},418672:function(e,t,n){"use strict";var r=n(72010),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return r.isMemo(e)?o:l[e.$$typeof]||i}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=o;var s=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(y){var i=p(n);i&&i!==y&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var l=u(t),m=u(n),h=0;h<o.length;++h){var g=o[h];if(!a[g]&&!(r&&r[g])&&!(m&&m[g])&&!(l&&l[g])){var v=f(n,g);try{s(t,g,v)}catch(e){}}}}return t}},357291:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116;function g(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case o:case u:case l:case y:return e;default:switch(e=e&&e.$$typeof){case c:case p:case s:return e;default:return t}}case h:case m:case a:return t}}}function v(e){return g(e)===f}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=h,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=l,t.Suspense=y,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===u||e===l||e===y||"object"===n(e)&&null!==e&&(e.$$typeof===h||e.$$typeof===m||e.$$typeof===s||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||g(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===s},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===o},t.isLazy=function(e){return g(e)===h},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===a},t.isProfiler=function(e){return g(e)===u},t.isStrictMode=function(e){return g(e)===l},t.isSuspense=function(e){return g(e)===y}},72010:function(e,t,n){"use strict";e.exports=n(357291)},981315:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,l){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,i,a,o,l],c=0;(u=Error(t.replace(/%s/g,function(){return s[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},60101:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function u(e){return!!(e&&"function"==typeof e.hasOwnProperty&&(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function s(e,t,n){return Object.keys(e).reduce(function(t,r){var i=""+r;return t.has(i)?t.set(i,n(t.get(i),e[i])):t},t)}n.d(t,{Fv:function(){return S},fK:function(){return b}});var c=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw Error("Expected a string key for Entity, but found "+e+".");var r=n,i=r.idAttribute,a=void 0===i?"id":i,l=r.mergeStrategy,s=void 0===l?function(e,t){return o({},e,t)}:l,c=r.processStrategy,d=void 0===c?function(e){return o({},e)}:c,f=r.fallbackStrategy;this._key=e,this._getId="function"==typeof a?a:function(e){return u(e)?e.get(a):e[a]},this._idAttribute=a,this._mergeStrategy=s,this._processStrategy=d,this._fallbackStrategy=void 0===f?function(e,t){}:f,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var r,i=e[n];return o({},t,((r={})[n]=i,r))},this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,i,a,o){var l=this,u=this.getId(e,t,n),s=this.key;if(s in o||(o[s]={}),u in o[s]||(o[s][u]=[]),o[s][u].some(function(t){return t===e}))return u;o[s][u].push(e);var c=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach(function(t){if(c.hasOwnProperty(t)&&"object"===r(c[t])){var n=l.schema[t],u="function"==typeof n?n(e):n;c[t]=i(c[t],c,t,u,a,o)}}),a(this,c,e,t,n),u},t.denormalize=function(e,t){var n=this;return u(e)?s(this.schema,e,t):(Object.keys(this.schema).forEach(function(r){if(e.hasOwnProperty(r)){var i=n.schema[r];e[r]=t(e[r],i)}}),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var r=this.getSchemaAttribute(e,t,n);return this.schema[r]},t.normalizeValue=function(e,t,n,r,i,a){var o=this.inferSchema(e,t,n);if(!o)return e;var l=r(e,t,n,o,i,a);return this.isSingleSchema||null==l?l:{id:l,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=u(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:u(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),f=function(e){function t(t,n){if(!n)throw Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}l(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,i,a){return this.normalizeValue(e,t,n,r,i,a)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),p=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,i,a){var l=this;return Object.keys(e).reduce(function(t,n,u){var s,c=e[n];return null!=c?o({},t,((s={})[n]=l.normalizeValue(c,e,n,r,i,a),s)):t},{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce(function(r,i){var a,l=e[i];return o({},r,((a={})[i]=n.denormalizeValue(l,t),a))},{})},t}(d),y=function(e){if(Array.isArray(e)&&e.length>1)throw Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},m=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t]})},h=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,i,a){var o=this;return m(e).map(function(e,l){return o.normalizeValue(e,t,n,r,i,a)}).filter(function(e){return null!=e})},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map(function(e){return n.denormalizeValue(e,t)}):e},t}(d),g=function(e,t,n,r,i,a,l){var u=o({},t);return Object.keys(e).forEach(function(n){var r=e[n],o="function"==typeof r?r(t):r,s=i(t[n],t,n,o,a,l);null==s?delete u[n]:u[n]=s}),u},v=function(e,t,n){if(u(t))return s(e,t,n);var r=o({},t);return Object.keys(e).forEach(function(t){null!=r[t]&&(r[t]=n(r[t],e[t]))}),r},b={Array:h,Entity:c,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var r,i=e[n];return o({},t,((r={})[n]=i,r))},this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.apply(void 0,[this.schema].concat(t))},e}(),Union:f,Values:p},S=function(e,t){if(!e||"object"!==r(e))throw Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":r(e))+'".');var n={};return{entities:n,result:function e(t,n,i,a,o,l){return"object"===r(t)&&t?"object"!==r(a)||a.normalize&&"function"==typeof a.normalize?a.normalize(t,n,i,e,o,l):(Array.isArray(a)?function(e,t,n,r,i,a,o){return e=y(e),m(t).map(function(t,l){return i(t,n,r,e,a,o)})}:g)(a,t,n,i,e,o,l):t}(e,e,null,t,function(e,t,r,i,a){var o=e.key,l=e.getId(r,i,a);o in n||(n[o]={});var u=n[o][l];u?n[o][l]=e.merge(u,t):n[o][l]=t},{})}}},625733:function(e,t,n){"use strict";var r=n(368245);function i(){}e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},64654:function(e,t,n){e.exports=n(625733)()},368245:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},807462:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,S=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case o:case u:case l:case y:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case h:case s:return e;default:return t}}case a:return t}}}function x(e){return w(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=u,t.StrictMode=l,t.Suspense=y,t.isAsyncMode=function(e){return x(e)||w(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===l},t.isSuspense=function(e){return w(e)===y},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===u||e===l||e===y||e===m||"object"===n(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===s||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===S||e.$$typeof===_||e.$$typeof===v)},t.typeOf=w},637520:function(e,t,n){"use strict";e.exports=n(807462)},956998:function(e,t){"use strict";function n(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}t.Z=function(e,t){void 0===t&&(t="");var i,a=e&&e.split("/")||[],o=t&&t.split("/")||[],l=e&&n(e),u=t&&n(t),s=l||u;if(e&&n(e)?o=a:a.length&&(o.pop(),o=o.concat(a)),!o.length)return"/";if(o.length){var c=o[o.length-1];i="."===c||".."===c||""===c}else i=!1;for(var d=0,f=o.length;f>=0;f--){var p=o[f];"."===p?r(o,f):".."===p?(r(o,f),d++):d&&(r(o,f),d--)}if(!s)for(;d--;)o.unshift("..");!s||""===o[0]||o[0]&&n(o[0])||o.unshift("");var y=o.join("/");return i&&"/"!==y.substr(-1)&&(y+="/"),y}},914609:function(e,t,n){"use strict";var r=n(586659),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useSyncExternalStore,o=r.useRef,l=r.useEffect,u=r.useMemo,s=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var d=o(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var p=a(e,(d=u(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var n=r(e);return void 0!==c&&c(t,n)?(a=e,t):(a=e,o=n)}var a,o,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,c]))[0],d[1]);return l(function(){f.hasValue=!0,f.value=p},[p]),s(p),p}},159264:function(e,t,n){"use strict";e.exports=n(914609)},573313:function(e,t,n){"use strict";var r,i,a=n(23185),o=n(122426),l=0,u=0;t.Z=function(e,t,n){var s=t&&n||0,c=t||Array(16),d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=e.random||(e.rng||a.Z)();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=(p[6]<<8|p[7])&16383)}var y=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:u+1,h=y-l+(m-u)/1e4;if(h<0&&void 0===e.clockseq&&(f=f+1&16383),(h<0||y>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=y,u=m,i=f;var g=((0xfffffff&(y+=122192928e5))*1e4+m)%0x100000000;c[s++]=g>>>24&255,c[s++]=g>>>16&255,c[s++]=g>>>8&255,c[s++]=255&g;var v=y/0x100000000*1e4&0xfffffff;c[s++]=v>>>8&255,c[s++]=255&v,c[s++]=v>>>24&15|16,c[s++]=v>>>16&255,c[s++]=f>>>8|128,c[s++]=255&f;for(var b=0;b<6;++b)c[s+b]=d[b];return t||(0,o.Z)(c)}},959211:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},301815:function(e,t,n){var r=n(959211);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},621576:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},660034:function(e){function t(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise(function(i,a){var o=e.apply(n,r);function l(e){t(o,i,a,l,u,"next",e)}function u(e){t(o,i,a,l,u,"throw",e)}l(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},675255:function(e,t,n){var r=n(224409);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},918090:function(e,t,n){var r=n(979118);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},448006:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},350402:function(e,t,n){var r=n(399368);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},621771:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},277349:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},272939:function(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},810740:function(e,t,n){var r=n(918090);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},86752:function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},399368:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},223660:function(e,t,n){var r=n(301815),i=n(277349),a=n(224409),o=n(272939);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},223365:function(e,t,n){var r=n(759179).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},979118:function(e,t,n){var r=n(759179).default,i=n(223365);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},759179:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},224409:function(e,t,n){var r=n(959211);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},325275:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(949621);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},846616:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{Z:function(){return r}})},90102:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(342075);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},655347:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(325275);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},336834:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{Z:function(){return r}})},342075:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},949621:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(115670);function i(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},115670:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},325786:function(e,t,n){"use strict";function r(e,t){if(!e)throw Error("Invariant failed")}n.d(t,{Z:function(){return r}})}}]);