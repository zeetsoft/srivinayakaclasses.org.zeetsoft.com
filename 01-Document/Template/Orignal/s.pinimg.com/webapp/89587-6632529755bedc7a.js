"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["89587"],{936306:function(e,t,n){var o=n(586659),r=n(20256),i=n(382718);t.Z=(0,o.forwardRef)(function(e,t){var n=e.heading,o=e.iconAccessibilityLabel,a=e.headingAccessibilityLevel,s=e.description,l=e.onTap,c=e.primarySettingsMenu;return(0,i.jsx)(r.iP,{onTap:void 0===l?function(){}:l,tapStyle:"none",children:(0,i.jsx)(r.xu,{padding:2*!!c,children:(0,i.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,i.jsxs)(r.xu,{ref:t,children:[(0,i.jsx)(r.X6,{accessibilityLevel:void 0===a?3:a,size:"400",children:n}),s&&(0,i.jsx)(r.xu,{marginTop:2,children:(0,i.jsx)(r.xv,{color:"subtle",children:s})})]}),(0,i.jsx)(r.xu,{paddingY:1,children:(0,i.jsx)(r.JO,{accessibilityLabel:o,color:c?"subtle":"default",icon:"arrow-forward"})})]})})})})},140725:function(e,t,n){n.d(t,{Q:function(){return d},Z:function(){return _}});var o=n(586659),r=n(521009),i=n(346955),a=n(991384),s=n(15667);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=l(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,i.A$)().setViewContextData,l=(0,s.B)().requestIdentifier,c=(0,r.Z)(),d=(0,i.SU)().viewData;(0,o.useEffect)(function(){if(e){var t;n({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(u(u({},e),{},{event_type:13,request_identifier:l}))}},[t])}function _(e){var t=e.children;return d(e.log),t||null}},722194:function(e,t,n){n.d(t,{Z:function(){return h}});var o=n(586659),r=n(413145),i=n(603316);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var h=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");h.prototype=Object.create(e&&e.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),e&&s(h,e);var t,n,o=(t=c(),function(){var e,n=u(h);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function h(){var e;if(!(this instanceof h))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(l(e=o.call.apply(o,[this].concat(n))),"state",{error:null,info:null}),d(l(e),"resetError",function(){e.setState({error:null,info:null})}),e}return n=[{key:"componentDidCatch",value:function(e,t){try{var n,o=this.props.name,a=this.props.type||"secondary";(0,r.T)({extraData:null!=(n=e.extraData)?n:{},errorBoundary:o,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,o=t.info;return n&&o?e?e({error:n,info:o,resetError:this.resetError}):null:this.props.children}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_(o.key),o)}}(h.prototype,n),Object.defineProperty(h,"prototype",{writable:!1}),h}(o.Component)},355940:function(e,t,n){t.Z=n(722194).Z},744862:function(e,t,n){n.d(t,{u_:function(){return s.ZP},qE:function(){return a},FN:function(){return l.Z}});var o=n(20256),r=n(382718);function i(e){var t=e.accessibilityLabel,n=e.color,i=e.name,a=e.outline,s=e.size,l=e.src,c=e.verified;return(0,r.jsx)(o.qE,{accessibilityLabel:t,color:n,name:i,outline:a,size:s,src:(null==l?void 0:l.includes("images/user/default"))&&i?void 0:l,verified:c})}i.displayName="Avatar";var a=i,s=n(982166),l=n(475498)},482698:function(e,t,n){n.d(t,{Di:function(){return a},E2:function(){return c},Eh:function(){return d},Jl:function(){return o},R:function(){return r},aU:function(){return s},iu:function(){return l},j2:function(){return i},pN:function(){return u}});var o=1e4,r="permanent_account_closure",i="account_deletion_email_sent",a="account_deactivated",s="unlink_successful",l="lba_deprecation_personal_convert_account_message",c="lba_deprecation_business_convert_account_message",u="account_switch_to_settings",d="lba_deprecation_delete_account"},49832:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(552381),r=n(378888);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!(t&&t.search))return"";var i=(0,r.mB)(t.search).message,a=(0,r.mB)(t.search).username||n,s="true"===(0,r.mB)(t.search).multiple_accounts;return(0,o.Z)({i18n:e,message:i,multipleAccounts:s,username:a})}},552381:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(20256),r=n(302148),i=n(482698),a=n(382718);function s(e,t,n){return(0,a.jsx)(o.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,a.jsx)(o.xv,{inline:!0,weight:"bold",children:t})})})}function l(e){var t=e.i18n,n=e.message,o=e.multipleAccounts,r=e.username,a=void 0===r?"":r;switch(n){case i.R:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case i.j2:if(o)return s(t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),a);return s(t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),a);case i.Di:return s(o?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),a);case i.aU:return s(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),a,"start");case i.pN:return s(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),a,"start");case i.iu:return t._('Your account is now a personal account', 'unauthLoginPage.unlinkAccountToast.personal.message', 'Confirmation message after a user has successfully converted the lba to a personal account');case i.E2:return t._('Your account is now a business account', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully converted the lba to a business account');case i.Eh:return t._('Your Linked Business Account was deleted', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully deleted their linked business account');default:return""}}},749872:function(e,t,n){n.d(t,{CV:function(){return s.Z},Mt:function(){return h},RD:function(){return _},iS:function(){return f},z3:function(){return p}});var o=n(785873),r=n(816358),i=n(809295),a=n(93137),s=n(435292),l=n(959989);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=c(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e){var t=d({},(0,l.rl)());delete t[e],(0,l.r8)(t)},h=function(e,t){if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t)return void(0,a.Z)(d(d({},e),{},{email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""}));(0,a.Z)(e)}},f=function(e,t,n){(0,s.Z)("switch_account_success",{destination_user_id:t},n),(0,o.Z)(e)},p=function(e,t){r.Z.resume(i.Z3),(0,s.Z)("switch_account_failure",{destination_user_id:e},t)}},93137:function(e,t,n){var o=n(435292),r=n(959989);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var o;return(o=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=i(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){var t,n={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(n.fullName&&n.imageMediumUrl&&n.imageLargeUrl||(0,o.Z)("utils.incomplete_user_values"),null!=(t=e.partner)&&t.is_create)?s(s({},n),{},{partner:{is_create:!0}}):n};t.Z=function(e,t,n){(0,r.r8)(s(s({},(0,r.rl)()),{},l({},e.id,c(e)))),t&&n&&(0,o.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},435292:function(e,t,n){var o=n(672410),r=n(959989),i=n(941404);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c="web_account_switcher",u=function(){var e=(0,o.Z)();return(0,i.tj)("".concat(c,".utils.group_created"),{group_id:e,group_count:(0,r.lv)()}),e};t.Z=function(e,t,n){var o=(0,r.yW)();o||(o=u(),(0,r.M3)(o));var a={group_count:(0,r.lv)()},s="";n&&(s="account_switcher_modal"===n?"modal.":"flyout."),(0,i.tj)("".concat(c,".").concat(s).concat(e),l(l({},t),a))}},991384:function(e,t,n){function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}n.d(t,{Z:function(){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s=a(t,n);return void 0!==s?s:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,o,r){return t[r]=e(t[r],n[r],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===r(t)&&n&&"object"===r(n)?Object.keys(n).reduce(function(t,o){return t[o]=e(t[o],n[o],a),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var o,i;o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},959989:function(e,t,n){n.d(t,{M3:function(){return u},PE:function(){return s},Q:function(){return d},lv:function(){return l},r8:function(){return a},rl:function(){return i},yW:function(){return c}});var o=n(111330),r=n(753143),i=function(){var e;return null!=(e=(0,r.M0)().getItem(o.uo))?e:Object.freeze({})},a=function(e){return(0,r.M0)().setItem(o.uo,e)},s=function(){return null!==(0,r.M0)().getItem(o.uo)},l=function(){return Object.keys(i()).length},c=function(){return(0,r.M0)().getItem(o.R1)},u=function(e){return(0,r.M0)().setItem(o.R1,e)},d=function(){return{multipleAccountMap:i(),multipleAccountGroupId:c()}}},444185:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(849233),r=n(943257);function i(e){var t=null!=e?e:{name:o.fY,options:null},n=t.enabledRouteRefresh,i=t.headers,a=t.name,s=t.noCache,l=t.options,c=t.schema,u=!e,d=(0,r.Z)({enabledRouteRefresh:n,headers:i,name:a,noCache:s,options:l,schema:c},u,!1),_=d.fetchResource,h=d.ref,f=d.fetchMore,p=d.isFetching,g=d.isLoaded,m=d.isRefreshing,y=d.refresh;return u||_(),{ref:h,fetchMore:f,isFetching:p,isLoaded:g,isRefreshing:m,refresh:y}}},821806:function(e,t,n){t.Z=n(782259).Z},166940:function(e,t,n){n.d(t,{Yl:function(){return o},tb:function(){return r},u0:function(){return i}});var o=["personalize_from_offsite_browsing","ads_customize_from_conversion","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","first_party_ads_personalization_enabled","third_party_ads_off_pinterest_enabled"],r=["US"],i=["CA"]},984126:function(e,t,n){var o=n(20256),r=n(19585),i=n(382718);t.Z=function(e){var t=e.isInModal,n=(0,r.ZP)();return(0,i.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),children:(0,i.jsx)(o.xH,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},793698:function(e,t,n){n.d(t,{LO:function(){return _},cm:function(){return d},dM:function(){return c},kY:function(){return h},mN:function(){return u}});var o=n(581722),r=n(729434),i=n(821342),a=n(382718),s=(0,r.Z)("Users"),l=s.Provider,c=s.get;function u(){var e=c();return function(t){return e[t]}}function d(){var e=c();return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=Object.keys(e).find(function(n){return e[n].username===t});if(o||!n)return e[null!=o?o:""]}}function _(){var e=(0,i.Z)();return c()[e.isAuth?e.id:""]}function h(e){var t=e.children,n=(0,o.v9)(function(e){return e.users},o.wU);return(0,a.jsx)(l,{value:n,children:t})}},40825:function(e,t,n){n.d(t,{C:function(){return eS},Z:function(){return ek}});var o=n(586659),r=n(581722),i=n(963489),a=n(20256),s=n(521009),l=n(667835),c=n(657043),u=n(686319),d=n(744862),_=n(475498),h=n(821342),f=n(19585),p=n(302148),g=n(588367),m=n(914061),y=n(482698),v=n(49832),b=n(593891),P=n(444185),x=n(886981),w=n(936306),A=n(694955),j=n(87853),S=n(378888),z=n(984126),k=n(575108),E=n(980787),O=n(157322),D=n(355940),C=n(951908),T=n(249201),M=n(675973),Z=n(15667),R=n(821806),L=n(600861),B=n(166940),I=n(112864),U=n(80245),N=n(448303),F=n(210397),H=n(115883),q=n(611100),Y=n(603316),G=n(382718);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J(e,t,n){var o;return(o=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=W(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==W(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var K=(0,o.lazy)(function(){return n.e("68336").then(n.bind(n,597772))});function ee(){var e=(0,f.ZP)(),t=(0,h.Z)(),n=(0,M.Z)().checkExperiment,s=(0,h.Z)().isAuth,l=(0,Z.B)(),c=l.country,u=l.regionFromIp,d=l.countryFromIp,y=l.countryFromHostName,v=l.isInternalIP,b=(0,i.TH)(),P=(0,i.s0)(),W=(0,r.I0)(),V=(0,E.u)().logContextEvent,Q=(0,j.dI)().showToast,ee=t.isEmployee,et=(0,T.t)(),en=et.closeModal,eo=et.isModalOpen,er=et.setErrorMessage,ei=et.setModalPropsAndOpen,ea=(0,o.useRef)(!1),es=$((0,o.useState)(!0),2),el=es[0],ec=es[1],eu=t.isAuth?t.id:"",ed=(0,S.mB)(b.search),e_="accept-all-cookies"in ed,eh="manage-cookies"in ed,ef=(0,x.Z)({name:"UserSettingsResource",noCache:!0}),ep=ef.isFetching,eg=ef.data,em=ef.isLoaded,ey=$((0,o.useState)(eh),2),ev=ey[0],eb=ey[1],eP=$((0,o.useState)(!1),2),ex=eP[0],ew=eP[1],eA=$((0,o.useState)({ads_customize_from_conversion:!!(null!=eg&&eg.ads_customize_from_conversion),ccpa_opted_out:!!(null!=eg&&eg.ccpa_opted_out),personalize_from_offsite_browsing:!!(null!=eg&&eg.personalize_from_offsite_browsing),third_party_marketing_tracking_enabled:!!(null!=eg&&eg.third_party_marketing_tracking_enabled),third_party_ads_personalization:!!(null!=eg&&eg.third_party_ads_personalization),first_party_ads_personalization_enabled:!!(null!=eg&&eg.first_party_ads_personalization_enabled),third_party_ads_off_pinterest_enabled:!!(null!=eg&&eg.third_party_ads_off_pinterest_enabled),dsa_opted_out:!!(null!=eg&&eg.dsa_opted_out)}),2),ej=eA[0],eS=eA[1],ez=$((0,o.useState)(ej),2),ek=ez[0],eE=ez[1];(0,o.useEffect)(function(){if(em){var e={personalize_from_offsite_browsing:!!(null!=eg&&eg.personalize_from_offsite_browsing),ads_customize_from_conversion:!!(null!=eg&&eg.ads_customize_from_conversion),third_party_marketing_tracking_enabled:!!(null!=eg&&eg.third_party_marketing_tracking_enabled),ccpa_opted_out:!!(null!=eg&&eg.ccpa_opted_out),third_party_ads_personalization:!!(null!=eg&&eg.third_party_ads_personalization),first_party_ads_personalization_enabled:!!(null!=eg&&eg.first_party_ads_personalization_enabled),third_party_ads_off_pinterest_enabled:!!(null!=eg&&eg.third_party_ads_off_pinterest_enabled),dsa_opted_out:!!(null!=eg&&eg.dsa_opted_out)};eS(e),eE(e)}},[eg,em]),(0,o.useEffect)(function(){!eo&&ea.current&&el&&eS(ek),ea.current=eo},[eo,el,ek]);var eO=n("uup_dsa_launch_mweb").anyEnabled,eD=(B.tb.includes(c)||B.tb.includes(d)||B.tb.includes(y))&&B.u0.includes(u),eC=n("is_ad_sar_enabled").anyEnabled,eT=e._('Privacy and data saved!', 'profileSettings.Edit.Privacy&Data.GenericSaveMessage', 'Toast shown when user settings have been saved'),eM=function e(t,n,o,r){W((0,N._L)({field:t,value:n,passcode:o,passcodeSkipAcknowledged:r,onSettingSavedHn:function(){ec(!1),eE(X(X({},ek),{},J({},t,n))),(o||r)&&en(!0),Q(function(e){var t=e.hideToast;return(0,G.jsx)(_.Z,{onHide:t,text:eT})})},showErrorHn:function(o){(0,C.x)({apiErrorCode:null==o?void 0:o.api_error_code,onShowMessage:function(){er(o.message)},onPassCodeRequired:function(){ei({handlePasscodeSent:function(o){e(t,n,o)}})},onPassCodeSkipConfirmation:function(){ei({handlePasscodeSent:function(){e(t,n,void 0,!0)},requiresUnidirectionalPasscode:!0})}})},surfaceTag:L.i.SETTINGS,userId:eu}))},eZ=function(e,t){ec(!0),eM(e,t),eO&&"dsa_opted_out"===e?V({event_type:t?107:106,component:13764,element:13561}):B.Yl.includes(e)&&V({event_type:t?107:106,component:13764,element:16268,aux_data:{privacy_setting:e,value:t}}),eS(X(X({},ej),{},J({},e,t)))},eR=!!(n("mweb_quebec_ip_targeting").anyEnabled||O.Z.includes(c)||e_||eh),eL=function(){(0,Y.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_mobile_routes_EditPrivacyAndDataPage_handleAcceptAllCookies"}}),k.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:L.i.SETTINGS}).callUpdate().then(function(){W({type:"ALLOW_ALL_COOKIES",payload:{userId:eu}}),Q(function(t){var n=t.hideToast;return(0,G.jsx)(_.Z,{onHide:n,text:e._('Your cookie preferences were saved, you can change them in settings on your profile at anytime', 'profileSettings.Edit.PrivacyAndData.CookieConsent.acceptAllConfirmation', 'Success message after accepting/rejecting all optional cookies')})})})},eB=function(){eb(!ev)};return((0,o.useEffect)(function(){e_&&eL(),V({event_type:13,view_type:7,view_parameter:3707})},[]),s)?!eg||ep?(0,G.jsx)(z.Z,{}):(0,G.jsxs)(m.default,{hasFixedHeader:!0,children:[(0,G.jsxs)(a.xu,{marginBottom:2,children:[(0,G.jsx)(g.default,{zIndexForGestaltBug:2,children:(0,G.jsx)(I.default,{heading:e._('Privacy and data', 'profileSettings.Edit.PrivacyAndData', 'Edit Privacy & Data page Top Navbar'),legoSettingsEnabled:!0,previousUrl:"/settings/"})}),(0,G.jsx)(a.xu,{"data-test-id":"edit-privacy-data-data-page",marginBottom:6,paddingX:3,children:(0,G.jsx)(a.xv,{color:"subtle",children:(0,p.nk)(e._('Manage the data Pinterest shares with advertisers and uses to improve the ads and recommendations we show you. {{ learnMore }}', 'settings.privacyAndData.Explanation.Text', 'Description for Privacy and Data. learnMore: Learn more link'),{learnMore:(0,G.jsx)(a.xv,{color:"subtle",inline:!0,weight:"bold",children:(0,G.jsx)(a.rU,{display:"inlineBlock",href:A.fPu,target:"blank",underline:"hover",children:e._('Learn more', 'settings.privacyAndData.Explanation.LearnMoreLink', 'Text link for learning more about privacy and data')})},"login")})})}),(0,G.jsxs)(a.xu,{paddingX:3,children:[(0,G.jsx)(H.Z,{handleChange:eZ,platform:"mobile",settings:ej}),eR&&(0,G.jsxs)(a.xu,{display:"flex",marginBottom:8,marginTop:8,children:[(0,G.jsxs)(a.xu,{marginEnd:7,children:[(0,G.jsx)(a.xu,{marginBottom:2,children:(0,G.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:e._('Cookie preferences', 'profileSettings.cookiePreferences.title', 'Cookie preferences settings title')})}),(0,G.jsx)(a.xu,{children:(0,G.jsxs)(a.xv,{color:"subtle",size:"300",children:[e._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'profileSettings.cookiePreferences.description', 'Description about why we use cookies')," ",(0,G.jsx)(a.rU,{display:"inlineBlock",href:A._Ib,rel:"nofollow",tapStyle:"none",target:"blank",underline:"hover",children:(0,G.jsx)(a.xv,{color:"subtle",size:"300",weight:"bold",children:e._('Cookie policy', 'profileSettings.cookiePreferences.cookiePolicyLink', 'Cookie policy link')})})]})})]}),(0,G.jsx)(a.xu,{flex:"none",children:(0,G.jsx)(a.zx,{onClick:eB,size:"lg",text:e._('Edit', 'profileSettings.cookiePreferences.editButton', 'Edit cookies preferences button')})})]}),ev&&(0,G.jsx)(D.Z,{name:"SafeSuspense_EditPrivacyAndDataPage_CookieSettingsModal",children:(0,G.jsx)(R.Z,{children:(0,G.jsx)(K,{dismissIcon:"arrow-back",onClose:eB})})}),eO&&(0,G.jsx)(o.Fragment,{children:(0,G.jsx)(q.Z,{heading:e._('Inferred signals about you', 'profileSettings.Edit.Privacy&Data.InferredSignals', 'Label for Inferred signals about you on Edit Privacy & Data page'),href:A.Hlp,id:"InferredSignalsSwitch",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.InferredSignals.LearnMore', 'Learn More on Inferred signals about you on Edit Privacy & Data page'),marginBottom:4,text:e._('Allow Pinterest to use information like your offsite data and inferences about your preferences to further personalize the ideas you see. ', 'profileSettings.Edit.Privacy&Data.InferredSignals.Description', 'Description for Inferred signals about you on Edit Privacy & Data page'),children:(0,G.jsx)(a.rs,{id:"InferredSignalsSwitch",onChange:function(e){eZ("dsa_opted_out",!e.value)},switched:!ej.dsa_opted_out})})}),(0,G.jsx)(a.xu,{marginBottom:8,children:(0,G.jsx)(w.Z,{description:e._('Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount', 'Delete your data and account label on Edit Privacy & Data Page'),heading:e._('Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount', 'Delete your data and account label on Edit Privacy & Data Page'),headingAccessibilityLevel:2,iconAccessibilityLabel:e._('Go to Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount.icon', 'Delete your data and account icon on Edit Privacy & Data Page'),onTap:function(){return P(A.ZQO)}})}),(0,G.jsx)(a.xu,{marginBottom:8,children:(0,G.jsx)(w.Z,{description:(0,p.nk)(e._('Request a copy of the info Pinterest collects about you. {{ learnMore }}', 'Settings.Privacy&Data.RequestData.Description', 'Description for Request Your Data section on Settings page. learnMore: Link to learn more'),{learnMore:(0,G.jsx)(a.xv,{color:"subtle",inline:!0,weight:"bold",children:(0,G.jsx)(a.rU,{display:"inlineBlock",href:A.Hlp,onClick:function(e){e.event.stopPropagation(),V({event_type:102,view_type:7,view_parameter:3707,component:14780,element:12765})},target:"blank",underline:"hover",children:e._('Learn more', 'Settings.Privacy&Data.RequestData.Description.LearnMore', 'Text link for learning more about Request Data Download')})},"login")}),heading:e._('Request your data', 'Settings.Privacy&Data.RequestData.Header', 'Request your data header on Edit Privacy & Data Page'),headingAccessibilityLevel:2,iconAccessibilityLabel:e._('Go to Request your data settings page', 'Settings.Privacy&Data.RequestData.Icon', 'Request your data label on Edit Privacy & Data Page'),onTap:function(){return P(A.qm0)}})}),(eC&&eD||ee||v)&&(0,G.jsx)(a.xu,{marginBottom:8,children:(0,G.jsx)(w.Z,{description:(0,p.nk)(e._('Request a copy of your interactions with ads and advertisers. {{ learnMore }}', 'Settings.Privacy&Data.RequestAdData.Description', 'Description for Request Your Ad Data section on Settings page. learnMore: Link to learn more'),{learnMore:(0,G.jsx)(a.xv,{color:"subtle",inline:!0,weight:"bold",children:(0,G.jsx)(a.rU,{display:"inlineBlock",href:A.Hlp,onClick:function(e){e.event.stopPropagation(),V({event_type:102,view_type:7,view_parameter:3707,component:15470,element:14662})},target:"blank",underline:"hover",children:e._('Learn more', 'Settings.Privacy&Data.RequestData.Description.LearnMore', 'Text link for learning more about Request Data Download')})},"login")}),heading:e._('Request your ad data', 'Settings.Privacy&Data.RequestAdData.Header', 'Request your ad data header on Edit Privacy & Data Page'),headingAccessibilityLevel:2,iconAccessibilityLabel:e._('Go to Request your ad data settings page', 'Settings.Privacy&Data.RequestData.Icon', 'Request your ad data label on Edit Privacy & Data Page'),onTap:function(){return P(A.Ayv)}})}),(0,G.jsxs)(a.xu,{marginBottom:7,children:[(0,G.jsx)(a.xu,{marginBottom:4,children:(0,G.jsx)(a.xv,{size:"200",children:e._('Cached data', 'profileSettings.Edit.Privacy&Data.CachedData.Description', 'Text for describing Cached data')})}),(0,G.jsx)(a.iP,{onTap:function(){W((0,U.lU)(null,function(){return Q(function(t){var n=t.hideToast;return(0,G.jsx)(_.Z,{onHide:n,text:e._('Recent searches cleared', 'profileSettings.Edit.PrivacyAndData.RecentSearchsCleared', 'recent searches successfully cleared')})})},function(){}))},children:(0,G.jsx)(a.xu,{column:11,children:(0,G.jsx)(a.xv,{size:"400",weight:"bold",children:e._('Clear recent searches', 'profileSettings.Edit.Privacy&Data.ClearRecentSearches.Button', 'Button for Clear Recent Search on Edit Privacy & Data page')})})})]})]})]}),ex&&(0,G.jsx)(F.Z,{isOpen:ex,onDismiss:function(){return ew(!1)}})]}):(0,G.jsx)(i.Fg,{replace:!0,to:"/"})}new Set(O.Z).add("GB");var et=n(401450),en=n(793698),eo=n(192113),er=n(211934),ei="IS_LINKED_BUSINESS_ACCOUNT",ea="HAS_BILLING_PROFILE",es="PERSONAL_ACCOUNT_HAS_LBAS",el=function(e){var t,n,o=e.conversionUnavailableReason,r=e.isOpen,i=e.onDismiss,a=(0,f.ZP)();switch(o){case ei:case es:t=a._('Learn More', 'settings.ConversionUnavailableModal.button.learnMore', 'Button text to confirm changes in password settings');break;case ea:t=a._('Contact Support', 'settings.ConversionUnavailableModal.button.learnMore', 'Button text to confirm changes in password settings');break;default:t=""}switch(o){case ei:n=a._('Since you are currently signed into a linked business account, you won\'t be able to convert to a personal account.', 'settings.conversionUnavailableModal.linkedBusinessAccount.explanation', 'Explanation shown in modal dialog why linked business accounts are not allowed to convert');break;case ea:n=a._('Because your account includes sensitive billing information, you\u2019ll need to submit a form to the support team', 'settings.conversionUnavailableModal.billingProfile.explanation', 'Explanation shown in modal dialog why accounts with billing info are not allowed to convert');break;case es:n=a._('You are currently signed into a personal account, but you have linked business accounts. To convert to a business account, you must delete all linked business accounts.', 'settings.conversionUnavailableModal.hasLinkedBusinessAccounts.explanation', 'Explanation shown in modal dialog why account with linked business accounts is not allowed to convert');break;default:n=""}return(0,G.jsx)(er.Z,{description:n,heading:a._('Sorry!', 'settings.ConversionUnavailableModal.heading', 'Conversion unavailable modal heading.'),isOpen:r,onDismiss:i,primaryBtnParams:{text:t,accessibilityLabel:t,color:"red",role:"link",target:"blank",href:A.cPf},secondaryBtnParams:{text:a._('Cancel', 'settings. PasswordChangeSuccessModal.button.okay', 'Button text to confirm changes in password settings'),accessibilityLabel:a._('Cancel', 'settings. PasswordChangeSuccessModal.button.okay', 'Button text to confirm changes in password settings'),color:"gray",onClick:i},type:"conversion_unavailable_modal"})},ec=function(e){var t=e.isOpen,n=e.email,o=e.handleDeactivate,r=e.onDismiss,i=(0,f.ZP)(),a=[(0,p.nk)(i._('If you want to use Pinterest again, just log in with {{email}}.', 'deactivateModal.loginAgainMessage', 'Description to reactivate the account'),{email:n}),i._('In the meantime, no one will see your Pins or your profile. People will still see private messages you sent them.', 'deactivateModal.deactivateMessage', 'Description for deactivate account button')];return(0,G.jsx)(er.Z,{description:a,hasMultiLineDescription:!0,heading:i._('You\'re welcome back anytime!', 'Deactivate account', 'Deactivate account'),isOpen:t,onDismiss:r,primaryBtnParams:{text:i._('Deactivate account', ' - ', ' -- '),color:"gray",onClick:o},secondaryBtnParams:{text:i._('Cancel', ' - ', ' -- '),color:"red",onClick:r},type:"deactivated"})},eu=n(456301),ed=n(982166),e_=function(e){var t=e.isOpen,n=e.onDismiss,o=e.message,r=e.heading,i=(0,f.ZP)();return(0,G.jsx)(ed.ZP,{accessibilityModalLabel:"",isOpen:t,mobileHideCloseIcon:!0,onDismiss:n,type:"settings_confirmation",children:(0,G.jsxs)(a.xu,{padding:5,children:[(0,G.jsx)(a.xu,{marginBottom:3,children:(0,G.jsx)(a.X6,{accessibilityLevel:1,size:"600",children:r})}),(0,G.jsx)(a.xu,{marginBottom:3,children:(0,G.jsx)(a.xv,{children:o})}),(0,G.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,G.jsx)(a.xu,{paddingY:1,children:(0,G.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:n,size:"lg",text:i._('Okay', ' - ', ' -- ')})})})]})})},eh=n(547633),ef=function(e){var t=e.isOpen,n=e.ownerEmail,o=e.onDismiss,r=e.onResendEmail,i=(0,f.ZP)(),l=(0,s.Z)();return(0,G.jsx)(er.Z,{description:(0,p.nk)(i._('We sent an email to {{ emailText }}. Tap the link to finish unlinking your accounts. The link will be valid for 24 hours', 'settings.unlinkAccountModal.text', 'Modal text showing unlink information and owner email'),{emailText:(0,G.jsx)(a.xv,{inline:!0,weight:"bold",children:n})}),heading:i._('Check your inbox!', 'settings.unlinkAccountModal.heading', 'Heading for modal dialog shown when user unlinks their business account'),isOpen:t,onDismiss:o,primaryBtnParams:{text:i._('Resend email', 'settings.unlinkAccountModal.button.resendEmail', 'Label for the button that resends unlink email'),color:"gray",onClick:function(){l({element:12552,event_type:102,view_type:132}),r()}},secondaryBtnParams:{text:i._('Done', 'settings.unlinkAccountModal.button.doneButton', 'Done button label on the modal dialog'),color:"red",onClick:function(){l({element:12553,event_type:102,view_type:132}),o()}},type:"unlink_account_modal"})};function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(t){eA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ey(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function ev(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ej(o.key),o)}}function eb(e,t){return(eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eP(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ex=function(){return!!e})()}function ew(e){return(ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eA(e,t,n){return(t=ej(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ej(e){var t=function(e,t){if("object"!=ep(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=ep(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ep(t)?t:t+""}var eS=RegExp("(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$","i"),ez=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eb(s,e);var t,n,r,i=(t=ex(),function(){var e,n=ew(s);return e=t?Reflect.construct(n,arguments,ew(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ep(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eP(e)}(this,e)});function s(){var e;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var t,n,r=arguments.length,h=Array(r),f=0;f<r;f++)h[f]=arguments[f];return eA(eP(n=i.call.apply(i,[this].concat(h))),"state",{email:n.props.user&&null!=(t=n.props.user.email)?t:"",oldPassword:"",newPassword:"",retypeNewPassword:"",darkModeEnabled:(0,l.Yc)(),savedSettingName:"",toolTipErrorText:"",isDeactivateModalShown:!1,isDeactivateConfirmationShown:!1,isCloseConfirmationShown:!1,isConversionUnavailableModalShown:!1,isUnlinkModalShown:!1,isSpinnerShown:!1,isToastShown:!1,isToolTipShown:!1,resourceFetching:n.props.userSettingsResource.isFetching}),eA(eP(n),"handleManageAccountToast",function(){var e=n.props,t=e.showToast,o=e.i18n,r=e.location,i=e.user,a=(0,v.Z)(o,r,i.username||"");(0,S.mB)(r.search).message===y.pN&&a&&t(function(e){var t=e.hideToast;return(0,G.jsx)(_.Z,{duration:y.Jl,onHide:t,text:a,thumbnail:{avatar:(0,G.jsx)(d.qE,{color:null==i?void 0:i.avatar_color_index,name:i.full_name||"",size:"md",src:i.image_medium_url||""})}})})}),eA(eP(n),"handleBlurPassword",function(){var e=n.state,t=e.oldPassword,o=e.newPassword,r=e.retypeNewPassword,i=n.props,a=i.i18n,s=i.user,l=s.has_password,c=s.username,u=i.savePassword,d={errorMessageNewPassword:"",errorMessageRetypePassword:"",errorMessageOldPassword:""},_=!1;o===c&&(d.errorMessageNewPassword=a._('Oops! Your password shouldn\u2019t match your username.', ' - ', ' -- '),_=!0),o&&r&&o!==r&&(d.errorMessageRetypePassword=a._('Passwords don\u2019t match', ' - ', ' -- '),_=!0),o&&o.length<6&&(d.errorMessageNewPassword=a._('Your password is too short! You need 6+ characters.', ' - ', ' -- '),_=!0),!t&&l&&(d.errorMessageOldPassword=a._('Oops! Password too short.', ' - ', ' -- '),_=!0),n.setState(d),!_&&o&&r&&u(t,o,r,function(){n.setState({isPasswordEditingMode:!1,oldPassword:""}),n.handleShowToast(n.props.i18n._('Password', 'Field label', 'Field label'))},function(e){var t=((e.extraData||{}).objects||{}).field||"old";t=t.charAt(0).toUpperCase()+t.slice(1),n.setState(eA({},"errorMessage".concat(t,"Password"),e.message))})}),eA(eP(n),"handleChangeDarkModeEnabled",function(e){var t=e.value;n.setState({darkModeEnabled:t},function(){(t?l.Hs:l.F6)(),n.props.logContextEvent({view_type:7,element:t?10362:10361,event_type:102})})}),eA(eP(n),"handleHideDeactivateModal",function(){n.setState({isDeactivateModalShown:!1})}),eA(eP(n),"handleDeactivate",function(){n.setState({isSpinnerShown:!0,isDeactivateModalShown:!1}),n.props.deactivateUser(function(){n.setState({isSpinnerShown:!1,isDeactivateConfirmationShown:!0})},function(e){n.toolTipAnchor=n.deactivateAccountBox,n.setState({toolTipErrorText:e.message,isToolTipShown:!0,isSpinnerShown:!1})},n.props.logContextEvent)}),eA(eP(n),"handleShowConversionUnavailableModal",function(){var e,t=n.props,o=t.user,r=t.partnerPermissions.data;o.partner&&o.partner.is_linked_business?e=ei:!o.is_partner&&o.businesses&&o.businesses.length>0?e=es:r&&!r.convert_to_personal_permission&&(e=ea),e&&n.setState({isConversionUnavailableModalShown:!0,conversionUnavailableReason:e})}),eA(eP(n),"unlinkAccount",(e=regeneratorRuntime.mark(function e(){var t,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)({url:"/v3/business/unlink/initiate/",method:"POST"}).then(function(e){var t;return n.setState({ownerEmail:null==(t=e.resource_response.data)?void 0:t.owner_account_email}),e});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),o=(t=n.props).showToast,r=t.i18n,o(function(t){var n=t.hideToast;return(0,G.jsx)(_.Z,{duration:4e3,onHide:n,text:(0,c.Z)(e.t0,"message")||r._('Sorry! Something went wrong on our end. Please try again.', 'settings.lba.unlink.error', 'Something went wrong on our end while trying to unlink')})}),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,6]])}),function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function a(e){ey(i,o,r,a,s,"next",e)}function s(e){ey(i,o,r,a,s,"throw",e)}a(void 0)})})),eA(eP(n),"handleResendUnlinkEmail",function(){n.unlinkAccount().then(function(){n.handleCloseUnlinkModal();var e,t=n.props,o=t.showToast,r=t.user,i=n.state.ownerEmail,s=(0,G.jsx)(a.xv,{children:(0,p.nk)(n.props.i18n._('Email sent to {{ emailText }}! The link will only be valid for 24 hours', 'settings.unlinkResendEmailToast.text', 'Toast text showing unlink information and owner email'),{emailText:(0,G.jsx)(a.xv,{inline:!0,weight:"bold",children:i||(null==(e=r.partner)?void 0:e.biz_ownership_email)})})});o(function(e){var t=e.hideToast;return(0,G.jsx)(_.Z,{duration:4e3,onHide:t,text:s})})})}),eA(eP(n),"handleHideConversionUnavailableModal",function(){n.setState({isConversionUnavailableModalShown:!1,conversionUnavailableReason:null})}),eA(eP(n),"handleDismissDeactivateCloseConfirmation",function(){(0,eo.Z)({userId:n.props.user.id,isPartner:n.props.user.is_partner,logout:n.props.logout})}),eA(eP(n),"handleHideErrorTooltip",function(){n.setState({isToolTipShown:!1})}),eA(eP(n),"handleCloseUnlinkModal",function(){n.setState({isUnlinkModalShown:!1})}),eA(eP(n),"handleShowToast",function(e){n.setState({isToastShown:!0,savedSettingName:e}),clearTimeout(n.toastTimeout),setTimeout(function(){n.setState({isToastShown:!1})},4e3)}),eA(eP(n),"renderAccountConvertionSection",function(){var e,t,r=n.props,i=r.user,s=r.i18n,l=r.logContextEvent,c=r.navigate,u=r.partnerPermissions.data,d=r.userSettingsResource,_=null==(e=d.data)?void 0:e.opt_in_private_account,h=i.is_partner,f=i.partner&&i.partner.is_linked_business,p=!i.is_partner&&!!i.businesses&&0===i.businesses.length;return(null==(t=d.data)?void 0:t.is_sso_user)&&h?null:(0,G.jsxs)(o.Fragment,{children:[f&&(0,G.jsx)(a.xu,{marginBottom:7,marginTop:7,children:(0,G.jsx)(w.Z,{description:s._('Unlink your business account from your personal account', 'settings.lba.unlink.description', 'Description for unlinking a business feature'),heading:s._('Unlink account', 'settings.lba.unlink.title', 'Button text for unlinking a business account from a personal account'),iconAccessibilityLabel:s._('Unlink account', 'settings.lba.unlink.ctaText', 'Button text for unlinking a business account from a personal account'),onTap:function(){l({element:12551,event_type:102,view_type:7}),f&&n.unlinkAccount().then(function(){n.setState({isUnlinkModalShown:!0})})}})}),!_&&!h&&(0,G.jsx)(a.xu,{marginBottom:7,children:(0,G.jsx)(w.Z,{description:s._('With a business account you\u2019ll have access to tools like ads and analytics to grow your business on Pinterest', 'editSettingsPage.settings.convertToBusinessDescV2', 'Description of convert to business account option'),heading:s._('Convert to a business account', 'editSettingsPage.settings.unlockBusinessTools', 'Settings for business account'),iconAccessibilityLabel:s._('Create ads and see how Pins perform with a free upgrade', 'editSettingsPage.convertToBusiness.description', 'Description of convert to business settings option'),onTap:function(){if(l({view_type:7,element:11212,event_type:102}),!p)return void n.handleShowConversionUnavailableModal();c(A.zys)}})}),h&&(0,G.jsx)(a.xu,{marginBottom:7,children:(0,G.jsx)(w.Z,{description:s._('Stop using business features', 'editSettingsPage.accountConversion.revertToPersonal', 'Description of revert to personal settings option'),heading:s._('Convert to a personal account', 'editSettingsPage.settings.convertToPersonal', 'Settings for personal account'),iconAccessibilityLabel:s._('Go to convert to personal settings', 'editSettingsPage.accountConversion.revertToPersonal.accessibility', 'Acessibility label for navigation button'),onTap:function(){var e=null==u?void 0:u.convert_to_personal_permission,t=f||!e;if(l({view_type:7,element:10974,event_type:102}),t)return void n.handleShowConversionUnavailableModal();c(A.npC)}})})]})}),eA(eP(n),"toolTipAnchor",null),eA(eP(n),"oldEmail",""),n}return n=[{key:"componentDidMount",value:function(){this.props.logContextEvent({event_type:13,view_type:7,view_parameter:3669}),this.handleManageAccountToast()}},{key:"render",value:function(){var e,t,n,r=this,i=this.props,s=i.i18n,l=i.user,c=i.isCandidateForParentalControlPasscode,u=i.isParentalControlPasscodeVerificationPending,d=i.logContextEvent,_=i.navigate,h=i.userSettingsResource,f=this.state,y=f.darkModeEnabled,v=f.email,b=f.oldPassword,P=f.newPassword,x=f.retypeNewPassword,j=f.savedSettingName,S=f.errorMessageOldPassword,k=f.errorMessageNewPassword,E=f.errorMessageRetypePassword,O=f.isPasswordEditingMode,D=f.isDeactivateModalShown,C=f.isDeactivateConfirmationShown,T=f.isCloseConfirmationShown,M=f.isConversionUnavailableModalShown,Z=f.isUnlinkModalShown,R=f.isSpinnerShown,L=f.isToastShown,B=f.isToolTipShown,U=f.toolTipErrorText,N=f.conversionUnavailableReason,F=l.partner&&l.partner.is_linked_business,H=this.state.ownerEmail||(null==(e=l.partner)?void 0:e.biz_ownership_email),q=null==(t=l.owners)?void 0:t[0],Y=O||F,W=null==(n=h.data)?void 0:n.is_sso_user;return(0,G.jsxs)(m.default,{hasFixedHeader:!0,children:[(0,G.jsxs)(a.xu,{paddingX:2,children:[(0,G.jsx)(g.default,{zIndexForGestaltBug:2,children:(0,G.jsx)(a.xu,{marginEnd:-2,marginStart:-2,children:(0,G.jsx)(I.default,{heading:s._('Account management', 'profile.AccountManagement.PageTopNav.Header', 'navigation button settings page'),legoSettingsEnabled:!0,previousUrl:A.VSQ,shouldUseFallbackUrl:!0})})}),(0,G.jsx)(a.xu,{"data-test-id":"page-description",marginBottom:8,marginTop:1,children:(0,G.jsx)(a.xv,{align:"start",color:"subtle",size:"300",children:s._('Make changes to your personal information or account type', 'profile.AccountManagement.descriptionV2', 'Description for the Account management page')})}),(0,G.jsxs)(o.Fragment,{children:[(0,G.jsx)(a.xu,{"data-test-id":"your-account-section",marginBottom:4,children:(0,G.jsx)(a.xv,{children:s._('Your account', 'webapp.app.profile.Settings.Edit.YourAccount', 'Your account section heading')})}),(0,G.jsx)(a.xu,{"data-test-id":"personal-information-setting",children:(0,G.jsx)(eh.Z,{heading:s._('Personal information', 'profile.Settings.Edit.PersonalInformation', 'Field label for the Personal information edit page'),iconAccessibilityLabel:s._('Go to Edit Personal information', 'profile.Settings.Edit.PersonalInformation.Icon', 'Edit Personal Information Icon on Edit Settings Page'),to:A.AHp})})]}),F?(0,G.jsx)(a.xu,{marginBottom:4,marginTop:4,children:(0,G.jsx)(w.Z,{description:(0,p.nk)(s._('This linked account is managed by {{ parentName }}. Switch to that account to manage this email and password.', 'settings.lba.changePassword.disabled', 'Tooltip expaining password can be changed in other account'),{parentName:(null==q?void 0:q.full_name)||(null==q?void 0:q.username)}).join(""),heading:s._('Email and password', 'profile.Settings.Edit.EmailAndPasword.LBA', 'Field label for the Email and password of the user'),iconAccessibilityLabel:s._('Go to Switch Account', 'profile.Settings.Edit.EmailAndPassword.LBA.Icon', 'Go to Switch Account Icon on Edit Settings Page for Linked Business Account'),onTap:function(){return _(A.LFB)}})}):(0,G.jsx)(o.Fragment,{children:W?(0,G.jsxs)(a.xu,{alignItems:"center",display:"flex",marginBottom:4,children:[(0,G.jsx)(a.xu,{marginEnd:1,children:(0,G.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:s._('Email:', 'profile.Settings.Edit.Email', 'Field label for the Email of the user')})}),(0,G.jsx)(a.xu,{maxWidth:"85%",children:(0,G.jsx)(a.xv,{color:"subtle",lineClamp:1,children:v})})]}):(0,G.jsx)(eh.Z,{heading:s._('Email', 'profile.Settings.Edit.Email', 'Field label for the Email of the user'),iconAccessibilityLabel:s._('Go to Edit Email', 'profile.Settings.Edit.Email.Icon', 'Edit Email Icon on Edit Settings Page'),text:v,to:"/settings/edit/email"})}),O&&(0,G.jsxs)(a.xu,{marginBottom:6,marginTop:3,children:[(0,G.jsx)(a.xu,{marginBottom:1,children:(0,G.jsx)(a.__,{htmlFor:"oldPassword",children:(0,G.jsx)(a.xv,{size:"200",children:s._('Old password', 'Field label', 'Field label')})})}),(0,G.jsx)(a.nv,{errorMessage:S,id:"oldPassword",onBlur:this.handleBlurPassword,onChange:function(e){var t=e.value;return r.setState({oldPassword:t})},placeholder:s._('Type old password', 'Field label', 'Field label'),size:"lg",type:"password",value:b}),(0,G.jsx)(a.xu,{marginBottom:1,marginTop:2,children:(0,G.jsx)(a.__,{htmlFor:"newPassword",children:(0,G.jsx)(a.xv,{size:"200",children:s._('New password', 'Field label', 'Field label')})})}),(0,G.jsx)(a.nv,{errorMessage:k,id:"oldPassword",onBlur:this.handleBlurPassword,onChange:function(e){var t=e.value;return r.setState({newPassword:t})},placeholder:s._('Add', 'Field label', 'Field label'),size:"lg",type:"password",value:P}),(0,G.jsx)(a.xu,{marginBottom:1,marginTop:2,children:(0,G.jsx)(a.__,{htmlFor:"retypeNewPassword",children:(0,G.jsx)(a.xv,{size:"200",children:s._('Retype password', 'Field label', 'Field label')})})}),(0,G.jsx)(a.nv,{errorMessage:E,id:"retypeNewPassword",onBlur:this.handleBlurPassword,onChange:function(e){var t=e.value;return r.setState({retypeNewPassword:t})},placeholder:s._('Add', 'Field label', 'Field label'),size:"lg",type:"password",value:x})]}),W||Y?null:(0,G.jsx)(eh.Z,{heading:s._('Password', 'profile.Settings.Edit.Password', 'Field label for users Password'),iconAccessibilityLabel:s._('Go to Edit Password', 'profile.Settings.Edit.Password.Icon', 'Edit Password Icon on Edit Settings Page'),text:s._('Change password', 'profile.Settings.Edit.Password.Text', 'Edit Password text on Edit Settings Page'),to:"/settings/edit/password"}),!W&&c&&(0,G.jsx)(a.xu,{marginBottom:7,marginTop:7,children:(0,G.jsx)(w.Z,{description:(0,p.nk)(s._('This code protects some settings from being changed. {{ learnMore }} {{ disableWarning }}', 'accountSettings.parentalPasscode.descriptionV2', 'Description text for parental passcode settings. learnMore: link to learn more. disableWarning: waiting for parent email validation.'),{learnMore:(0,G.jsx)(a.xv,{color:"subtle",inline:!0,weight:"bold",children:(0,G.jsx)(a.rU,{display:"inlineBlock",href:A.a$N,onClick:function(e){e.event.stopPropagation(),d({event_type:102,view_type:7,view_parameter:3669,component:14373,element:12765})},target:"blank",underline:"hover",children:s._('Learn more', 'accountSettings.parentalPasscode.learnMore', 'Text for learn more link')})},"learnMore"),disableWarning:u&&(0,G.jsxs)(a.xu,{alignItems:"start",display:"flex",paddingY:2,children:[(0,G.jsx)(a.xu,{paddingX:2,children:(0,G.jsx)(a.JO,{accessibilityLabel:"Alert icon",color:"warning",icon:"workflow-status-warning",size:15})}),(0,G.jsx)(a.xv,{size:"200",children:s._('Confirm your backup email to continue. Check your inbox for an email from Pinterest', 'accountSettings.parentalPasscode.emailConfirmationWarning', 'Warning message informing the user to confirm the email address')})]},"disableWarning")}),heading:s._('Parental passcode', 'accountSettings.parentalPasscode.title', 'Header text for parental passcode settings'),iconAccessibilityLabel:s._('Parental passcode', 'profile.Settings.Edit.ParentalPasscode.Icon', 'Parental passcode Icon on Edit Settings Page'),onTap:function(){d({event_type:102,view_type:7,view_parameter:3669,element:13648}),_(A.Kty)}})}),this.renderAccountConvertionSection(),(0,G.jsx)(o.Fragment,{children:(0,G.jsxs)(a.xu,{direction:"column",display:"flex",marginBottom:4,marginTop:4,children:[(0,G.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,G.jsx)(a.xu,{flex:"grow",marginEnd:4,children:(0,G.jsx)(a.__,{htmlFor:"darkMode",children:(0,G.jsx)(a.X6,{size:"400",children:s._('Enable night mode', 'Settings toggle for enabling night mode.', 'Settings toggle for enabling night mode.')})})}),(0,G.jsx)(a.rs,{id:"darkMode",onChange:this.handleChangeDarkModeEnabled,switched:y})]}),(0,G.jsx)(a.xu,{flex:"grow",marginTop:2,children:(0,G.jsx)(a.xv,{color:"subtle",size:"300",children:s._('Try this dark theme for improved late-night browsing', 'accountSettings.nightMode.descriptionV2', 'Description for the enable night mode switch')})})]})}),(0,G.jsxs)(o.Fragment,{children:[(0,G.jsx)(a.xu,{"data-test-id":"deactivation-deletion-section",marginBottom:2,marginTop:8,children:(0,G.jsx)(a.xv,{children:s._('Deactivation and deletion', 'webapp.app.profile.Settings.Edit.AccountChanges.headerV2', 'Account changes section heading')})}),!F&&(0,G.jsx)(a.xu,{marginBottom:7,marginTop:7,children:(0,G.jsx)(w.Z,{ref:function(e){r.deactivateAccountBox=e},description:s._('Temporarily hide your profile, Pins and boards', 'profile.Settings.Edit.DeactivateAccount.DescriptionV2', 'Deactivate account description on Edit Settings Page'),heading:s._('Deactivate your account', 'profile.Settings.Edit.DeactivateAccountV2', 'Deactivate account label on Edit Settings Page'),iconAccessibilityLabel:s._('Deactivate account icon', 'profile.Settings.Edit.DeactivateAccount.Icon', 'DeactivateAccount Icon on Edit Settings Page'),onTap:function(){d({view_type:7,view_parameter:3527,element:44,event_type:102}),r.setState({isDeactivateModalShown:!0})}})})]}),(0,G.jsx)(a.xu,{marginBottom:7,marginTop:7,children:(0,G.jsx)(w.Z,{description:s._('Permanently delete your data and everything associated with your account', 'profile.Settings.Edit.DeleteAccountAndData.DescriptionV2', 'Delete account and data description on Edit Settings Page'),heading:s._('Delete your data and account', 'profile.Settings.Edit.DeleteDataAndAccount', 'Delete data and account label on Edit Settings Page'),iconAccessibilityLabel:s._('Delete account icon', 'profile.Settings.Edit.DeleteAccount.Icon', 'Delete Account Icon on Edit Settings Page'),onTap:function(){d({view_type:7,view_parameter:3526,element:44,event_type:102}),_(A.ZQO)}})}),D&&(0,G.jsx)(ec,{email:v,handleDeactivate:this.handleDeactivate,isOpen:D,onDismiss:this.handleHideDeactivateModal}),M&&N&&(0,G.jsx)(el,{conversionUnavailableReason:N,isOpen:M,onDismiss:this.handleHideConversionUnavailableModal}),Z&&H&&(0,G.jsx)(ef,{isOpen:Z,onDismiss:this.handleCloseUnlinkModal,onResendEmail:this.handleResendUnlinkEmail,ownerEmail:H}),(C||T)&&(0,G.jsx)(e_,{heading:C?s._('Sorry to see you go!', ' - ', ' -- '):s._('Check your inbox', ' - ', ' -- '),isOpen:!0,message:C?(0,p.nk)(s._('You\u2019re welcome back any time\u2015just log in with {{ email }} and your password.', 'EditSettingsPage.DeactivateConfirmation', 'Message to user after deactivating, email: the user email'),{email:v}).join(""):s._('To finish deleting your account, check your inbox for the confirmation email we just sent you.', ' - ', ' -- '),onDismiss:this.handleDismissDeactivateCloseConfirmation}),B&&(0,G.jsx)(a.J2,{anchor:this.toolTipAnchor,color:"darkGray",idealDirection:"down",onDismiss:this.handleHideErrorTooltip,shouldFocus:!1,size:"md",children:(0,G.jsx)(a.xu,{column:12,padding:3,children:(0,G.jsx)(a.xv,{color:"inverse",weight:"bold",children:U})})})]}),L&&(0,G.jsx)(eu.Z,{email:"email"===j.toLowerCase()?this.oldEmail:"",savedSettingName:j}),R&&(0,G.jsx)(z.Z,{})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},o=e.user.email,r=e.userSettingsResource;return t.resourceFetching&&!r.isFetching&&(n.email=null!=o?o:"",n.resourceFetching=r.isFetching),t.resourceFetching!==r.isFetching&&(n.resourceFetching=r.isFetching),n}}],n&&ev(s.prototype,n),r&&ev(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(o.PureComponent);function ek(e){var t,n,o=(0,f.ZP)(),a=(0,en.LO)(),l=(0,i.s0)(),c=(0,s.Z)(),u=(0,j.dI)().showToast,d=(0,i.TH)(),_=(0,h.Z)(),p=_.isAuth,g=_.isCandidateForParentalControlPasscode,m=_.isParentalControlPasscodeVerificationPending,y=(0,r.I0)(),v=(0,b.aU)(),w=(0,x.Z)({name:"ApiResource",options:{url:"/v3/partners/me/deactivation/permission/"}}),A=(0,x.Z)({name:"UserSettingsResource",noCache:!0});return((0,P.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:null!=(t=null==(n=A.data)?void 0:n.id)?t:""}}),d.pathname.includes("/settings/privacy"))?(0,G.jsx)(ee,{}):!a||A.isFetching?(0,G.jsx)(z.Z,{}):p?(0,G.jsx)(ez,em(em({},e),{},{clearRecentSearches:function(e,t,n){return y((0,U.lU)(e,t,n))},deactivateUser:function(e,t,n){return y((0,et.b8)(e,t,n))},i18n:o,isCandidateForParentalControlPasscode:!!g,isParentalControlPasscodeVerificationPending:!!m,location:d,logContextEvent:c,logout:v,navigate:l,partnerPermissions:w,savePassword:function(){return y(N.Cp.apply(void 0,arguments))},showToast:u,user:a,userSettingsResource:A})):(0,G.jsx)(i.Fg,{replace:!0,to:"/"})}},80245:function(e,t,n){n.d(t,{By:function(){return u},IT:function(){return c},N6:function(){return r},br:function(){return i},jq:function(){return s},lU:function(){return l},tq:function(){return a}});var o=n(686319),r=function(e,t){return{type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}},i=function(e,t){return{type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}},a=function(e){return{type:"UPDATE_RECENT_SEARCHES_BATCH",payload:{data:e}}},s=function(e,t,n){return{type:"UPDATE_TYPEAHEAD_CACHE",payload:{items:e,term:t,recent_queries_tags:n}}},l=function(e,t,n){return function(r){(0,o.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,n),r("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})}},c=function(e,t,n,r,i){return function(a){n||(0,o.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(r,i),a("PERSONAL"===t?{type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}:{type:"CLEAR_RECENT_SEARCH",payload:{query:e}})}},u=function(e){return function(t){t({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}})}}},401450:function(e,t,n){n.d(t,{Ge:function(){return _},JS:function(){return l},OF:function(){return m},P_:function(){return c},Q_:function(){return p},b8:function(){return g},cg:function(){return u},h2:function(){return h},h6:function(){return f}});var o=n(575108),r=n(686319),i=n(843466);function a(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function s(e){a(i,o,r,s,l,"next",e)}function l(e){a(i,o,r,s,l,"throw",e)}s(void 0)})}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},u=function(e,t){return{type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},_=function(e){var t,n=e.id,r=e.orbacSubjectId,i=e.blockSource,a=e.blockContext,l=e.logContextEvent;return t=s(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(n,!0)),e.next=3,o.Z.create("UserBlockResource",{blocked_user_id:n,orbac_subject_id:r,block_source:i,block_context:a}).callCreate().catch(function(){return t(d(n,!1))});case 3:return s=e.sent,l({event_type:54,object_id_str:n}),e.abrupt("return",s);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},h=function(e,t){var n;return n=s(regeneratorRuntime.mark(function n(r){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(d(e,!1)),n.next=3,o.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return r(d(e,!0))});case 3:return i=n.sent,t({event_type:55,object_id_str:e}),n.abrupt("return",i);case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}};function f(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var p=function(e,t){return function(){return o.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},g=function(e,t,n){return function(o,a){(0,r.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){n({event_type:48,object_id_str:a().session.userId}),e(),(0,i.Z)()},t)}},m=function(e){return(0,r.Z)({url:"/v3/register/exists/",data:{email:e}})}},192113:function(e,t,n){var o=n(749872),r=n(959989),i=n(694955),a=function(e){var t=e.redirectUrl,n=e.userId,i=e.logout,a="user_deactivation_logout";(0,r.lv)()>1?((0,o.RD)(n),i({redirectUrl:t,source:a,localStorageItems:(0,r.Q)()})):((0,o.CV)("utils.group_deleted"),i({redirectUrl:t,source:a}))};t.Z=function(e){var t=e.userId,n=e.isPartner,o=e.logout,s=e.toastParams,l=void 0===s?"":s,c="/login".concat(l);(0,r.lv)()>1&&(c=(n?i.v0M:"")+l),a({redirectUrl:c,userId:t,logout:o})}},304367:function(e,t,n){var o=n(20256),r=n(382718);t.Z=function(e){var t=e.children,n=e.id,i=e.name,a=e.onChange,s=e.switched,l=e.disabled,c=e.marginBottom;return(0,r.jsxs)(o.xu,{alignItems:"center",display:"flex",marginBottom:c||2,marginEnd:-1,marginStart:-1,marginTop:2,children:[(0,r.jsx)(o.xu,{paddingX:1,children:(0,r.jsx)(o.XZ,{checked:s,disabled:l,id:n,name:i,onChange:a})}),(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},paddingX:1,children:(0,r.jsx)(o.__,{htmlFor:n,children:(0,r.jsx)(o.xv,{children:t})})})]})}},115883:function(e,t,n){n.d(t,{Z:function(){return c}});var o=n(20256),r=n(886981),i=n(304367),a=n(217251),s=n(611100),l=n(382718);function c(e){var t=e.handleChange,n=e.settings,c=e.platform,u=(0,r.Z)({name:"ApiResource",noCache:!0,options:{url:"/v3/users/privacy_data_settings/",data:{platform:c}}}),d=u.isLoaded,_=u.data;if(!d)return null;var h=function(e){var t=e.name in n?n[e.name]:e.value;return e.is_inverted_value?!t:t};return _?_.map(function(e){return(0,l.jsxs)(o.xu,{children:["desktop"===c?(0,l.jsx)(o.xu,{marginTop:-2,children:(0,l.jsx)(a.Z,{accessibilityLevel:2,title:e.title})}):(0,l.jsx)(o.xu,{marginBottom:4,children:(0,l.jsx)(o.xv,{children:e.title})}),e.description?e.description.map(function(e,t){return(0,l.jsx)(o.xu,{marginBottom:4,marginTop:2,children:(0,l.jsx)(o.xv,{children:e})},t)}):(0,l.jsx)(o.xu,{marginBottom:4,marginTop:2}),e.settings_field.map(function(e){return"desktop"===c?"checkbox"===e.setting_type?(0,l.jsxs)(i.Z,{id:e.id,marginBottom:4,name:e.name,onChange:function(n){var o=n.checked;t(e.name,e.is_inverted_value?!o:o)},switched:h(e),children:[(0,l.jsx)(o.xv,{inline:!0,children:e.label_desktop?e.label_desktop+" ":""}),(0,l.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(o.rU,{display:"inlineBlock",href:e.link_url,target:"blank",underline:"hover",children:e.link_text})})]},e.id):null:"toggles"===e.setting_type?(0,l.jsx)(s.Z,{heading:e.label_mobile||"",href:e.link_url,id:e.id,linkText:e.link_text,text:e.header_mobile?e.header_mobile+" ":"",children:(0,l.jsx)(o.rs,{id:e.id,name:e.name,onChange:function(n){var o=n.value;t(e.name,e.is_inverted_value?!o:o)},switched:h(e)})},e.id):null})]},e.id)}):null}},217251:function(e,t,n){var o=n(20256),r=n(382718);t.Z=function(e){var t=e.accessibilityLevel,n=e.isFirst,i=e.title;return(0,r.jsx)(o.xu,{marginBottom:2,marginTop:n?8:7,children:(0,r.jsx)(o.X6,{accessibilityLevel:t,size:"400",children:i})})}},611100:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(20256),r=n(382718);function i(e){var t=e.children,n=e.heading,i=e.href,a=e.id,s=e.linkText,l=e.marginBottom,c=e.text,u=e.disabled,d=e.hideLockIcon,_=e.lockIconRefUpdate;return(0,r.jsx)(o.xu,{marginBottom:void 0===l?7:l,children:(0,r.jsxs)(o.kC,{justifyContent:"between",children:[(0,r.jsxs)(o.xu,{flex:"grow",marginEnd:4,children:[(0,r.jsx)(o.__,{htmlFor:a,children:(0,r.jsx)(o.xv,{size:"400",weight:"bold",children:n})}),(0,r.jsx)(o.xu,{marginTop:2,children:(0,r.jsxs)(o.xv,{color:"subtle",size:"300",children:[c,i&&(0,r.jsx)(o.rU,{display:"inlineBlock",href:i,rel:"nofollow",tapStyle:"none",target:"blank",underline:"hover",children:(0,r.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:void 0===s?"":s})})]})})]}),(0,r.jsxs)(o.kC,{children:[u&&!d&&_?(0,r.jsx)(o.xu,{marginEnd:1,children:(0,r.jsx)(o.xu,{ref:_,height:24,width:20,children:(0,r.jsx)(o.JO,{accessibilityLabel:c,color:"subtle",icon:"lock",inline:!0,size:20})})}):null,t]})]})})}},210397:function(e,t,n){n.d(t,{Z:function(){return c}});var o=n(20256),r=n(19585),i=n(302148),a=n(694955),s=n(211934),l=n(382718);function c(e){var t=e.isOpen,n=e.onDismiss,c=(0,r.ZP)();return(0,l.jsx)(s.Z,{description:(0,i.nk)(c._('It\'ll take several weeks for search engines to remove your profile and boards from search results. You can speed up the process with Google using {{ onlineToolLink }}.', 'settings.SearchPrivacyModal.explanation', 'Hide your profile and boards from search engines modal explanation. onlineToolLink: Link to google\'s search engine online tool'),{onlineToolLink:(0,l.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(o.rU,{display:"inlineBlock",href:a.TGt,target:"blank",underline:"hover",children:c._('their online tool', 'settings.SearchPrivacyModal.linkToGoogleTool', 'Link to Google tool for search results removal. A part of full phase: It\'ll take several weeks for search engines to remove your profile from search results. You can speed up the process with Google using {{ onlineToolLink }}. ')})},"google-search-privacy-tool")}),heading:c._('Hide your profile and boards from search engines.', 'settings.SearchPrivacyModal.heading', 'Hide your profile and boards from search engines modal heading.'),isOpen:t,onDismiss:n,primaryBtnParams:{text:c._('I understand', 'settings.SearchPrivacyModal.button.understand', 'I understand Button text on the modal'),accessibilityLabel:c._('I understand', 'settings.SearchPrivacyModal.button.understand', 'I understand Button text on the modal'),color:"red",onClick:n},secondaryBtnParams:{text:c._('Close', 'settings.SearchPrivacyModal.button.close', 'Close Button text on the modal'),accessibilityLabel:c._('Close', 'settings.SearchPrivacyModal.button.close', 'Close Button text on the modal'),color:"gray",onClick:n},type:"search_privacy_modal"})}},547633:function(e,t,n){var o=n(20256),r=n(382718);t.Z=function(e){var t=e.heading,n=e.iconAccessibilityLabel,i=e.text,a=e.to,s=e.dataTestId;return(0,r.jsx)(o.rU,{href:a,tapStyle:"none",underline:"none",children:(0,r.jsx)(o.xu,{"data-test-id":s,marginBottom:4,children:(0,r.jsxs)(o.kC,{alignItems:"center",gap:{row:3,column:3},children:[(0,r.jsx)(o.kC.Item,{flex:"grow",minWidth:"auto",children:(0,r.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:t})}),(0,r.jsx)(o.kC.Item,{children:(0,r.jsxs)(o.kC,{alignItems:"center",gap:{row:4,column:0},children:[i&&(0,r.jsx)(o.xv,{align:"end",color:"subtle",lineClamp:2,overflow:/\s/.test(i)?"breakWord":"breakAll",children:i}),(0,r.jsx)(o.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})]})})]})})})}},947631:function(e,t,n){n.d(t,{Z:function(){return o}});function o(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},537765:function(e,t,n){n.d(t,{Z:function(){return o}});function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},663158:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(947631);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,o.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}}}]);