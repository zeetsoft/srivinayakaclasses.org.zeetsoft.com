const formOrderBy=document.querySelector(".thim-course-order select");let elSkeleton;const urlCourses="undefined"!=typeof lpGlobalSettings?lpGlobalSettings.courses_url||"":lpData.courses_url;let elArchive=null;const formFilter=document.querySelector("form.thim-course-filter");function reloadPageWithParamsFilter(e){let t=new URL(window.location.href);1===e.paged&&(t=new URL(urlCourses));for(let r in e)null!=e[r]&&t.searchParams.set(r,e[r]);t.searchParams.set("isPageLoad",1),window.location.href=t}null!=formFilter&&formFilter.addEventListener("submit",async function(e){e.preventDefault();let t=JSON.parse(window.localStorage.getItem("lp_filter_courses"))||{};const r=formFilter.querySelectorAll(".thim-filter-sidebar-field");let o={paged:1};elArchive.scrollIntoView({behavior:"smooth"}),r.forEach((e,t,r)=>{const s=e.getAttribute("name");switch(e.getAttribute("type")){case"checkbox":void 0===o[s]&&(o[s]=[]),e.checked&&o[s].push(e.value);break;case"radio":case"select":e.checked&&(o[s]=e.value)}});const s={...t,...o};elSkeleton?elSkeleton.style.display="block":(s.paged=1,reloadPageWithParamsFilter(s)),window.lpCourseList&&(window.lpCourseList.updateEventTypeBeforeFetch("filter"),window.lpCourseList.triggerFetchAPI({...s}))}),formOrderBy&&formOrderBy.addEventListener("change",function(){const e=JSON.parse(window.localStorage.getItem("lp_filter_courses"))||{};e.order_by=this.value||"",elSkeleton?elSkeleton.style.display="block":reloadPageWithParamsFilter(e),window.lpCourseList&&(window.lpCourseList.updateEventTypeBeforeFetch("filter"),window.lpCourseList.triggerFetchAPI({...e}))}),wp.hooks.addAction("lp-js-get-courses","lp",function(e){const t=document.querySelector(".course-index"),r=document.querySelector(".sticky-header");if(t){const r=t.querySelector("span");r&&void 0!==e.data.from_to&&(r.innerHTML=e.data.from_to)}r&&r.classList.add("menu-hidden")}),document.addEventListener("DOMContentLoaded",function(){elArchive=document.querySelector(".lp-archive-courses"),elSkeleton=document.querySelector(".lp-archive-course-skeleton")}),document.addEventListener("click",function(e){const t=e.target.closest(".lp-courses-bar .lp-switch-btn");if(t){const e=t.closest(".lp-list-courses-default, #lp-list-courses-default");if(!e)return;const r=e.querySelector("#thim-course-archive");t.classList.contains("grid")?(r.classList.add("thim-course-grid"),r.classList.remove("thim-course-list")):(r.classList.add("thim-course-list"),r.classList.remove("thim-course-grid"))}});