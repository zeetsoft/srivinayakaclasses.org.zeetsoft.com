! function(s) { "use strict";
    s(document).ready(function() { s(document).on("click", ".thim-course-search-overlay .search-toggle", function(e) { e.stopPropagation(); var t = s(this).parent();
            s("body").addClass("thim-search-active"), setTimeout(function() { t.find(".thim-s").focus() }, 500) }), s(document).on("click", ".search-popup-bg", function() { var e = s(this).parent();
            window.clearTimeout(!1), e.find(".courses-list-search").empty(), e.find(".thim-s").val(""), s("body").removeClass("thim-search-active") }), s(document).on("keyup", ".courses-search-input", function(e) { clearTimeout(s.data(this, "search_timer")); var t = s(this).parents(".courses-searching"),
                i = t.find(".courses-list-search"),
                a = i.find(">li"); if (13 == e.which) e.preventDefault(), s(this).stop();
            else if (38 == e.which) { if (-1 != navigator.userAgent.indexOf("Chrome") && parseFloat(navigator.userAgent.substring(navigator.userAgent.indexOf("Chrome") + 7).split(" ")[0]) >= 15) { var r = a.filter(".ob-selected");
                    a.length > 1 && (a.removeClass("ob-selected"), 0 == r.prev().length ? r.siblings().last().addClass("ob-selected") : r.prev().addClass("ob-selected")) } } else if (40 == e.which) { if (-1 != navigator.userAgent.indexOf("Chrome") && parseFloat(navigator.userAgent.substring(navigator.userAgent.indexOf("Chrome") + 7).split(" ")[0]) >= 15) { var r = a.filter(".ob-selected");
                    0 == r.length ? (r = a.first()).addClass("ob-selected") : a.length > 1 && (a.removeClass("ob-selected"), 0 == r.next().length ? r.siblings().first().addClass("ob-selected") : r.next().addClass("ob-selected")) } } else if (27 == e.which) s("body").hasClass("thim-search-active") && s("body").removeClass("thim-search-active"), i.html(""), s(this).val(""), s(this).stop();
            else { var l = setTimeout(function() {! function e(t) { var i = t.find(".courses-search-input"),
                            a = t.find(".courses-list-search"),
                            r = i.val(),
                            l = t.find(".fa-search,.fa-times"); if (r) { if (r.length < 1) return;
                            l.addClass("edu-spinner edu-spin"), s.ajax({ type: "POST", data: "action=courses_searching&keyword=" + r + "&from=search", url: ajaxurl, success: function(e) { var t = "",
                                        i = "",
                                        r = jQuery.parseJSON(e);!r.error && (s.each(r, function(s) { 0 === s ? "#" !== this.guid ? (t += '<li class="search-item ui-menu-item ' + this.id + '"><a class="ui-corner-all" href="' + this.guid + '">', this.thumbnail && (t += '<img src="' + this.thumbnail + '" alt="' + this.title + '" class="thumbnail">'), t += '<div class="item-info"><span class="title">' + this.title + "</span>", this.author && (t += '<span class="author">' + this.author + "</span>"), t += "</div></a></li>") : (t += '<li class="search-item ui-menu-item"><div class="item-info"><span class="title">' + this.title + "</span>", this.author && (t += '<span class="author">' + this.author + "</span>"), t += "</div></li>") : s === r.length - 1 && this.see_more ? i = this.see_more : (t += '<li class="search-item ui-menu-item ' + this.id + '"><a class="ui-corner-all" href="' + this.guid + '">', this.thumbnail && (t += '<img src="' + this.thumbnail + '" alt="' + this.title + '" class="thumbnail">'), t += '<div class="item-info"><span class="title">' + this.title + "</span>", this.author && (t += '<span class="author">' + this.author + "</span>"), t += "</div></a></li>") }), a.addClass("search-visible").html("").append(t), i && a.append('<li class="see-more">' + i + "</li>")), s(".courses-list-search .search-item").on("mouseenter", function() { s(".courses-list-search .search-item").removeClass("ob-selected"), s(this).addClass("ob-selected") }), s(".courses-list-search .search-item").on("mouseleave", function() { s(".courses-list-search .search-item").removeClass("ob-selected") }), s(".search-item").length > 0 && s(".see-more").show(), s(".see-more").on("click", function(e) { s(".courses-searching form").submit() }), l.removeClass("edu-spinner edu-spin") }, error: function(s) {} }) } }(t) }, 500);
                s(this).data("search_timer", l) } }), s(document).on("keypress", ".courses-search-input", function(e) { var t = s(this).parents(".courses-searching").find(".courses-list-search>li"); if (13 == e.keyCode) { var i = t.filter(".ob-selected"); if (i.length > 0) { e.preventDefault(); var a = i.find("a").first().attr("href");
                    window.location.href = a } } if (27 == e.keyCode && (s("body").hasClass("thim-search-active") && s("body").removeClass("thim-search-active"), s(".courses-list-search").html(""), s(this).val(""), s(this).stop()), 38 == e.keyCode) { var i = t.filter(".ob-selected");
                t.length > 1 && (t.removeClass("ob-selected"), 0 == i.prev().length ? i.siblings().last().addClass("ob-selected") : i.prev().addClass("ob-selected")) } if (40 == e.keyCode) { var i = t.filter(".ob-selected");
                0 == i.length ? (i = t.first()).addClass("ob-selected") : t.length > 1 && (t.removeClass("ob-selected"), 0 == i.next().length ? i.siblings().first().addClass("ob-selected") : i.next().addClass("ob-selected")) } }), s(document).on("click", ".courses-list-search, .courses-search-input", function(s) { s.stopPropagation() }), s(document).on("click", "body", function() { s("body").hasClass("course-scroll-remove") || (s("body").addClass("course-scroll-remove"), s(".courses-list-search").html("")) }), s(window).scroll(function() { s("body").hasClass("course-scroll-remove") && s(".courses-list-search li").length > 0 && (s(".courses-searching .courses-list-search").empty(), s(".courses-searching .thim-s").val("")) }), s(document).on("focus", ".courses-search-input", function() { s("body").hasClass("course-scroll-remove") && s("body").removeClass("course-scroll-remove") }), s(document).on("click", "#popup-header .search-visible", function(e) { s(e.target).attr("href") || s("#popup-header .search-visible").removeClass("search-visible") }), s(document).on("click", "#popup-header button", function(e) { s("#popup-header .thim-s").trigger("focus") }), s(document).on("focus", "#popup-header .thim-s", function() { var e = s("#popup-header .courses-list-search a"); "" != s(this).val() && e.length > 0 && s("#popup-header .courses-list-search").addClass("search-visible") }) }) }(jQuery);